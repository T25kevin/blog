[{"title":"dockeråŠ é€Ÿé…ç½®","url":"/2025/07/27/dockeråŠ é€Ÿé…ç½®/","content":"\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong></strong></font>\n\n<!--more-->\n\n```bash\n[root@bogon ~]# cat /etc/docker/daemon.json \n{\n  \"registry-mirrors\": [\n        \"https://docker.m.daocloud.io\"\n    ]\n}\n \n[root@bogon ~]# systemctl daemon-reload\n[root@bogon ~]# systemctl restart docker\n```\n\nå†ç»™å¤§å®¶åˆ†äº«å‡ ä¸ªå¯ä»¥æ›¿æ¢çš„ï¼Œå…·ä½“èƒ½ä¸èƒ½ç”¨è¦åœ¨æµ‹è¯•ä¸€ä¸‹\n\nå‰ç¼€æ›¿æ¢çš„ Registry çš„è§„åˆ™, è¿™æ˜¯äººå·¥é…ç½®çš„, æœ‰éœ€æ±‚æ Issue.\n\n|          æºç«™           |            æ›¿æ¢ä¸º             |\n| :---------------------: | :---------------------------: |\n|        cr.l5d.io        |       l5d.m.daocloud.io       |\n|    docker.elastic.co    |     elastic.m.daocloud.io     |\n|        docker.io        |     docker.m.daocloud.io      |\n|         gcr.io          |       gcr.m.daocloud.io       |\n|         ghcr.io         |      ghcr.m.daocloud.io       |\n|       k8s.gcr.io        |     k8s-gcr.m.daocloud.io     |\n|     registry.k8s.io     |       k8s.m.daocloud.io       |\n|    mcr.microsoft.com    |       mcr.m.daocloud.io       |\n|         nvcr.io         |      nvcr.m.daocloud.io       |\n|         quay.io         |      quay.m.daocloud.io       |\n| registry.jujucharms.com |   jujucharms.m.daocloud.io    |\n|   rocks.canonical.com   | rocks-canonical.m.daocloud.io |\n\n","tags":["docker"],"categories":["main","s"]},{"title":"ç©_OEC-Turbo-åˆ·æœºæ•™ç¨‹","url":"/2025/07/26/ç©-OEC-Turbo-åˆ·æœºæ•™ç¨‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ç©_OEC-Turbo-åˆ·æœºæ•™ç¨‹</strong></font>\n\n<!--more-->\n\n[ä¹Œå®¢çš„è§†é¢‘é™„ä»¶](https://docs.qq.com/doc/DS25QZ3dGV3JGQ0lB)\n\n## ä¸€ã€è®¾å¤‡ä»‹ç»\n\nOEC-Turboå¤„ç†å™¨æ˜¯**RK3566**\n\n- **æ¶æ„**ï¼š4Ã— ARM Cortex-A55 (64ä½)\n- **ä¸»é¢‘**ï¼šæœ€é«˜ **1.8 GHz**\n- **GPU**ï¼šARM Mali-G52 2EE\n- **è§£ç èƒ½åŠ›ï¼š4K@60fps** H.265/H.264/VP9\n- **NPU**ï¼š**0.8 TOPS** (INT8)\n\n![](https://am.zdmimg.com/202503/24/67e159fc5bd3f9240.jpg_e1080.jpg)\n\n## äºŒã€å¼€å§‹æ‹†æœº\n\n### 2.1ã€æ‰“å¼€åº•ç›–\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/24/67e15ea50d4826222.jpg_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_3/)\n\n### 2.2ã€å–å‡ºç¡¬ç›˜ï¼Œå¸ä¸‹4é¢—èºä¸\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/24/67e160369260c6463.jpg_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_4/)\n\n### 2.3ã€å¸ä¾§é¢ç›–æ¿\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/24/67e160d2fc6d2721.jpg_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_5/)\n\n### 2.4ã€å¸ç¡¬ç›˜æ¥å£èºä¸\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/24/67e161a218bb67406.jpg_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_6/)\n\n### 2.5ã€æ‹†ç¡¬ç›˜æ’çº¿\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/24/67e164897ff482243.jpg_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_7/)\n\n### 2.6ã€æ‹†ç¡¬ä¸­é—´æŒ¡æ¿\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/24/67e165d60d02b9025.jpg_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_8/)\n\n### 2.7ã€æ‹†å®Œåçš„æ•ˆæœ\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/24/67e166323eee93208.jpg_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_9/)\n\n## ä¸‰ã€è®¾å¤‡åˆ·æœºå‡†å¤‡+å†™å…¥Armbianå›ºä»¶\n\n### 3.1ã€ä¸‹è½½åˆ·æœºå·¥å…·åŒ…ï¼ˆåŒ…å«å›ºä»¶ï¼‰\n\n### 3.2ã€åˆ·æœºé©±åŠ¨å®‰è£…\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/24/67e16a79d4bd07354.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_10/)[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/24/67e168f778b216708.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_11/)[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/24/67e1693a5ca0d2954.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_12/)\n\n### 3.3ã€å›ºä»¶å†™å…¥å·¥å…·è®¾ç½®\n\nåŒå‡»æ‰“å¼€ â€œ RKDevTool.exe â€ å·¥å…·ã€‚\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/24/67e16afab48835336.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_13/)[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/24/67e16ccf6c6ff2046.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_14/)\n\nç¬¬ä¸€åˆ—ç©ºæ ¼å¤„é€‰æ‹©åˆ·æœºå·¥å…·ï¼šMiniLoaderAll.bin\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/24/67e16fbfbb4922977.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_15/)\n\nç¬¬äºŒåˆ—ç©ºæ ¼å¤„é€‰æ‹©åˆ·æœºå›ºä»¶ï¼šOEC-6.1.75-rk3566.img\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/24/67e1712fa4f944202.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_16/)\n\n### 3.4ã€è¿›å…¥åˆ·æœºæ¨¡å¼\n\nå‡†å¤‡ä¸€æ¡USBè½¬Type-C[æ•°æ®çº¿](https://www.smzdm.com/fenlei/shujuxian/)ï¼ŒUSBç«¯è¿æ¥ç”µè„‘ï¼Œç„¶åæŒ‰ç…§å›¾ä¸‹æ‰€ç¤ºç”¨é•Šå­æˆ–å…¶ä»–é‡‘å±å·¥å…·çŸ­æ¥è¿™ä¸¤ä¸ªè§¦ç‚¹ï¼Œæ¥ç€æŠŠType-Cç«¯æ¥å…¥OEC-Turboè®¾å¤‡ç«¯ï¼Œ**è®¾å¤‡åˆ·æœºæ—¶æ— éœ€å¤–æ¥ç”µæº**ã€‚\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/24/67e1758e95e391200.jpg_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_17/)\n\nå½“ç”µè„‘ç«¯çš„ç‘èŠ¯å¾®å¼€å‘å·¥å…·å¼¹å‡º â€œ å‘ç°ä¸€ä¸ªMASKROMè®¾å¤‡ â€ æ—¶ï¼Œå¯ä»¥æ¾å¼€é•Šå­äº†ï¼Œç„¶åç‚¹å‡» â€œ æ‰§è¡Œ â€ ï¼Œå‰©ä¸‹çš„å°±æ˜¯å®‰å®‰é™é™ç­‰å¾…ç³»ç»Ÿå†™å…¥ã€‚\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/24/67e17dd38fc6c8886.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_18/)[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/24/67e17dd91146b7475.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_19/)[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/24/67e17ea02a1e23814.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_20/)\n\nå½“æ˜¾ç¤º100%æ—¶ï¼Œè¯´æ˜åˆ·æœºå·²ç»æˆåŠŸï¼Œå›ºä»¶å†™å…¥é˜¶æ®µæ­£å¼ç»“æŸã€‚æ­å–œä½ ï¼Œå–œæä¸€ä¸ªArmbianç³»ç»Ÿçš„ç½‘å¿ƒäº‘OEC-Turboè®¾å¤‡ï¼![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://res.smzdm.com/resources/public/img/emoji/small/aru/02-%5B%E9%AB%98%E5%85%B4%5D.png)\n\n## å››ã€Armbianç³»ç»Ÿåˆå§‹è®¾ç½®\n\n### 4.1ã€ç¡®è®¤OEC-Turboè®¾å¤‡IP\n\nå°†OEC-Turboè®¾å¤‡é‡æ–°ç»„è£…å®Œæˆå¹¶è£…å…¥2.5å¯¸ç¡¬ç›˜ï¼Œæ¥ä¸Š[ç½‘çº¿](https://www.smzdm.com/fenlei/wangxian/)+ç”µæºçº¿ï¼Œç„¶åè¿›å…¥[è·¯ç”±å™¨](https://www.smzdm.com/fenlei/luyouqi/)åå°å¯»æ‰¾ä¸€ä¸ªåç§°ä¸º â€œ Armbian â€ çš„è®¾å¤‡ï¼Œç¡®è®¤å…¶å†…ç½‘IPåœ°å€ï¼ˆæˆ‘è¿™é‡Œä»¥ä¸­å…´è·¯ç”±å™¨ä¸ºä¾‹ï¼‰\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/25/67e1855c86c2c8871.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_21/)\n\n### 4.2ã€ä½¿ç”¨PuTTYç™»å…¥OEC-Turboåå°\n\nè¾“å…¥è·¯ç”±å™¨ä¸Šè¯†åˆ«åˆ°çš„è®¾å¤‡IPï¼Œç‚¹å‡» â€œ Open â€ ã€‚\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/25/67e1866b0372e9138.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_22/)[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/25/67e1871e9a6b6692.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_23/)\n\n### 4.3ã€Armbianç³»ç»Ÿè®¾ç½®\n\nè¾“å…¥ç”¨æˆ·åï¼šroot\n\nè¾“å…¥åˆå§‹å¯†ç ï¼š1234**ï¼ˆå¯†ç ä¸æ˜¾ç¤ºï¼‰**\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/25/67e187e3472aa7446.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_24/)\n\nç™»å…¥åä¼šè‡ªåŠ¨è®©ä½ ä¿®æ”¹å¯†ç ï¼Œå¯†ç éœ€è¦è¾“å…¥2æ¬¡**ï¼ˆè¾“å…¥çš„å¯†ç å¿…é¡»ä¸€æ ·ï¼‰**\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/25/67e188490ed7c9377.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_25/)\n\nä¿®æ”¹å¯†ç å®Œæˆåé€‰æ‹©ï¼š1ï¼‰bashï¼ˆç›´æ¥è¾“å…¥1ï¼Œç„¶åæŒ‰å›è½¦é”®å³å¯ï¼‰\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/25/67e188af2c7463257.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_26/)[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/25/67e1892cdde604199.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_27/)\n\næ¥ç€ç³»ç»Ÿä¼šè®©ä½ åˆ›å»ºå¸¸ç”¨è´¦å·ï¼Œçœ‹è‡ªå·±éœ€æ±‚æ˜¯å¦éœ€è¦è®¾ç½®ï¼Œå¦‚æ— éœ€è®¾ç½®ç›´æ¥æŒ‰ â€œ Ctrl+C â€ å¿«æ·é”®å–æ¶ˆå³å¯ã€‚\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/25/67e18959f08023425.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_28/)\n\n### 4.4ã€æ›´æ¢ç³»ç»Ÿè½¯ä»¶æºï¼ˆ![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://res.smzdm.com/resources/public/img/emoji/small/aru/43-%5B%E6%83%B3%E4%B8%80%E6%83%B3%5D.png)éå¸¸é‡è¦ï¼Œä¸ç„¶ä½¿ç”¨Dockerä¼šé‡åˆ°æ— æ³•ä¸‹è½½çš„é—®é¢˜ï¼‰\n\nä»£ç æŒ‡ä»¤ï¼š\n\n> bash <(curl -sSL https://linuxmirrors.cn/main.sh)\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/25/67e18a8cc3f375868.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_29/)\n\né€‰æ‹©è‡ªå·±éœ€è¦çš„è½¯ä»¶æºï¼ˆæˆ‘è¿™é‡Œä»¥é˜¿é‡Œäº‘ä¸ºä¾‹ï¼‰ï¼Œé€‰æ‹© â€œ é˜¿é‡Œäº‘ â€ æŒ‰å›è½¦é”®å³å¯ã€‚\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/25/67e18c0fa904b2481.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_30/)\n\né€‰æ‹©é»˜è®¤ â€œ æ˜¯ â€ æŒ‰å›è½¦é”®ã€‚\n\n[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/25/67e18c61b19d54273.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_31/)[![CasaOSä¿å§†çº§å–‚é¥­æ•™ç¨‹ï¼ç½‘å¿ƒäº‘OEC-Turboå®‰è£…CasaOSç³»ç»Ÿå›ºä»¶ï¼](https://am.zdmimg.com/202503/25/67e18da88ccbb6971.png_e1080.jpg)](https://post.smzdm.com/p/ak34g93r/pic_32/)","tags":["OECåˆ·æœº"],"categories":["_T2-ç©","OECåˆ·æœº"]},{"title":"civitaiä¸Šçš„æ¨¡å‹ä½¿ç”¨æ•™ç¨‹","url":"/2025/07/24/civitaiä¸Šçš„æ¨¡å‹ä½¿ç”¨æ•™ç¨‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>civitaiä¸Šçš„æ¨¡å‹ä½¿ç”¨æ•™ç¨‹</strong></font>\n\n<!--more-->\n\n+ **`Civitai`ä¸Šçš„æ¨¡å‹éå¸¸å¤šï¼Œä½†æ˜¯è¿™äº›æ¨¡å‹éœ€è¦æ€ä¹ˆä½¿ç”¨å‘¢ ï¼Ÿè¯·æ ¹æ®è¯¥æ–‡ç« æŒ‡å¯¼ã€éƒ¨ç½²æ¨¡å‹**\n\n+ **`Civitai` ä¸Šçš„æ¨¡å‹å¤§å¤šæ˜¯ `Stable Diffusion` å…¼å®¹æ¨¡å‹**ï¼Œä¸»è¦åˆ†ä¸º `Checkpoint` `ï¼ˆ.ckpt/.safetensorsï¼‰`ã€`Lora`ã€`VAE`ã€`Embedding` ç­‰ã€‚ç”¨æ³•æ ¸å¿ƒå°±æ˜¯ï¼š\n   **ä¸‹è½½æ¨¡å‹â€”â€”æ”¾è¿›æŒ‡å®šæ–‡ä»¶å¤¹â€”â€”ç”¨å…¼å®¹çš„ `WebUI` æˆ–å·¥å…·åŠ è½½å³å¯ã€‚**\n\nä¸‹é¢è¯¦ç»†è®²ä¸‹**æ–°æ‰‹å®é™…æ€ä¹ˆç”¨**ï¼š\n\n------\n\n## 1. **å‡†å¤‡ç¯å¢ƒ**\n\næœ€å¸¸ç”¨ã€æœ€æ–¹ä¾¿çš„æ–¹å¼å°±æ˜¯ç”¨**`Stable Diffusion WebUIï¼ˆAUTOMATIC1111`ï¼‰**ï¼Œæ”¯æŒ `Windows`ã€`Linux`ã€`Mac`ï¼Œæ”¯æŒ `Docker`ã€‚\n\n- æ¨èæ–°æ‰‹ç›´æ¥ä¸Š `AUTOMATIC1111 WebUI`\n- ä¹Ÿå¯ä»¥ç”¨ `ComfyUI`ã€`Vlad`ã€`InvokeAI` ç­‰ï¼Œä½†ç”¨æ³•ç±»ä¼¼\n\n------\n\n## 2. **ä¸‹è½½å®‰è£… WebUI**\n\n- å®˜æ–¹åœ°å€ï¼šhttps://github.com/AUTOMATIC1111/stable-diffusion-webui\n- æˆ–è€…ç›´æ¥æ‰¾åˆ«äººå°è£…å¥½çš„æ•´åˆåŒ…\n- æ”¯æŒæœ¬åœ°è¿è¡Œã€`Docker`ã€`Colab`\n\n------\n\n## 3. **ä¸‹è½½ Civitai ä¸Šçš„æ¨¡å‹**\n\n- æ‰¾åˆ°ä½ æƒ³ç”¨çš„æ¨¡å‹é¡µé¢ï¼ˆæ¯”å¦‚ `ChilloutMix`ã€`Anything`ã€åŠ¨æ¼«ã€å†™å®ç­‰ï¼‰\n- ç‚¹ `Download`ï¼Œä¸‹è½½ `ckpt` æˆ– `safetensors` æ ¼å¼çš„æ–‡ä»¶ï¼ˆå¤§éƒ¨åˆ†å‡ ç™¾ MB åˆ°å‡  GBï¼‰\n\n------\n\n## 4. **æ”¾åˆ°æ­£ç¡®çš„æ–‡ä»¶å¤¹**\n\nå‡è®¾ä½ ç”¨çš„æ˜¯ `AUTOMATIC1111` `WebUI`ï¼Œå¸¸è§æ–‡ä»¶å¤¹å¦‚ä¸‹ï¼š\n\n| æ¨¡å‹ç±»å‹                    | æ”¾åˆ°å“ªä¸ªç›®å½•               |\n| --------------------------- | -------------------------- |\n| ä¸»æ¨¡å‹ï¼ˆckpt, safetensorsï¼‰ | `models/Stable-diffusion/` |\n| LoRA                        | `models/Lora/`             |\n| VAE                         | `models/VAE/`              |\n| Embedding                   | `embeddings/`              |\n\n\n\n> æ–‡ä»¶å¤¹ä½ç½®å°±æ˜¯ `WebUI` ä¸»ç›®å½•ä¸‹çš„å¯¹åº”æ–‡ä»¶å¤¹ã€‚\n\n------\n\n## 5. **åœ¨ WebUI ä¸­é€‰æ‹©æ¨¡å‹å¹¶ä½¿ç”¨**\n\n1. å¯åŠ¨ WebUIï¼ˆè¿è¡Œ `webui-user.bat` æˆ– `python launch.py`ï¼Œæˆ–è€… docker å¯åŠ¨å‘½ä»¤ï¼‰\n2. æµè§ˆå™¨æ‰“å¼€ `http://127.0.0.1:7860`\n3. åœ¨**å³ä¸Šè§’â€œStable Diffusion checkpointâ€**ä¸‹æ‹‰èœå•é€‰æ‹©ä½ åˆšä¸‹çš„æ¨¡å‹\n4. `LoRA`/`Embedding` ä¹Ÿå¯ä»¥åœ¨ `prompt` é‡Œå¼•ç”¨æˆ–è€…ä¾§è¾¹æ é€‰æ‹©\n5. è¾“å…¥ `prompt`ï¼Œç”Ÿæˆå›¾ç‰‡\n\n------\n\n## 6. **LoRA/VAE/Embedding çš„ç”¨æ³•**\n\n- `LoRA`ï¼š`Prompt` é‡ŒåŠ  `\"<lora:æ¨¡å‹å:æƒé‡>\"`ï¼Œæ¯”å¦‚ `<lora:xxx:0.8>`\n- `VAE`ï¼šä¸»ç•Œé¢ VAE ä¸‹æ‹‰é€‰æ‹©\n- `Embedding`ï¼šç›´æ¥åœ¨ `prompt` ç”¨è®­ç»ƒæ—¶æŒ‡å®šçš„è§¦å‘è¯\n\n------\n\n## 7. **æ³¨æ„äº‹é¡¹**\n\n- éƒ¨åˆ†æ¨¡å‹éœ€è¦ç‰¹å®š `VAE`ï¼Œå¦åˆ™å®¹æ˜“åè‰²\n- è®°å¾—çœ‹æ¨¡å‹é¡µé¢çš„è¯´æ˜å’Œæ¨èå‚æ•°\n- æœ‰äº›æ–°æ¨¡å‹åªæ”¯æŒ `SDXL` æˆ– `SD1.5/2.1`ï¼Œç‰ˆæœ¬ä¸è¦æé”™\n\n------\n\n# **ä¸€å¥è¯æ€»ç»“**\n\n> **`Civitai` ä¸Šä¸‹çš„æ¨¡å‹å°±æ˜¯ç»™ `Stable Diffusion` ç”¨çš„ï¼Œä¸‹è½½åˆ°æŒ‡å®šæ–‡ä»¶å¤¹ï¼Œåœ¨ `WebUI` é‡Œé€‰ä¸­å°±èƒ½ç”¨äº†ã€‚**\n\n------\n\n## å¦‚æœä½ ç”¨ `Docker` æˆ– `Linux`\n\nåªè¦æŠŠæ¨¡å‹æ–‡ä»¶æ”¾åˆ°æŒ‚è½½ç›®å½•é‡Œå°±è¡Œï¼Œè·¯å¾„åŒä¸Šã€‚\n `Docker` ç¤ºä¾‹ï¼ˆå‡è®¾æœ¬åœ°æœ‰ `models` æ–‡ä»¶å¤¹ï¼‰ï¼š\n\n```bash\n-v /ä½ çš„æ¨¡å‹ç›®å½•:/stable-diffusion-webui/models/Stable-diffusion\n```\n\n","tags":["æ•™ç¨‹","æ¨¡å‹"],"categories":["AIä¸æ¨¡å‹","æ¨¡å‹"]},{"title":"Go_æ¨¡å—åŒ–_å‘½ä»¤è¿è¡Œç¨‹åº_ä¼ é€’å‚æ•°","url":"/2025/07/03/Go_æ¨¡å—åŒ–_å‘½ä»¤è¿è¡Œç¨‹åº_ä¼ é€’å‚æ•°/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Go_æ¨¡å—åŒ–_å‘½ä»¤è¿è¡Œç¨‹åº_ä¼ é€’å‚æ•°</strong></font>\n\n<!--more-->\n\n```go\npackage main\n\nimport (\n\t\"flag\"\n)\n\nfunc main() {\n  var filePath,logPath string\n  flag.StringVar(&filePath, \"p\", \"\", \"æŒ‡å®šè¦åˆ¤å®šçš„JSONæ–‡ä»¶è·¯å¾„\")\n  // è§£æå‘½ä»¤è¡Œå‚æ•°\n\tflag.Parse()\n\t\t// æ£€æŸ¥å‚æ•°æ˜¯å¦æä¾›\n\tif filePath == \"\" {\n\t\tfmt.Println(\"è¯·ä½¿ç”¨ -p å‚æ•°æŒ‡å®šJSONæ–‡ä»¶è·¯å¾„\")\n\t\tflag.Usage()   // æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯\n\t\treturn\n\t}\n\tfmt.Println(filePath)\n}\n```\n\n","tags":["Golang","å‘½ä»¤è¡Œä¼ é€’å‚æ•°"],"categories":["Golang","æ¨¡å—","å‘½ä»¤è¡Œä¼ é€’å‚æ•°"]},{"title":"Go_æ¨¡å—åŒ–_æ—¥å¿—ç®¡ç†","url":"/2025/07/03/Go_æ¨¡å—åŒ–_æ—¥å¿—ç®¡ç†/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Go_æ¨¡å—åŒ–_æ—¥å¿—ç®¡ç†</strong></font>\n\n<!--more-->\n\n```go\n// LogSet  æ—¥å¿—è¾“å‡º\ntype LogSet struct {\n\tinfoLogger    *log.Logger\n\twarningLogger *log.Logger\n\terrorLogger   *log.Logger\n\tlogFile       *os.File\n}\n\n\n// åˆ›å»ºå…¨å±€å˜é‡\nvar eLogs *LogSet\n// ä½¿ç”¨initå‡½æ•° åˆå§‹åŒ–log\nfunc init() {\n\teLogs = NewLogger(\"./logs\")\n}\n\n\n\nfunc NewLogger(logDir string) *LogSet {\n\t// åˆ›å»ºæ—¥å¿—ç›®å½•\n\tif err := os.MkdirAll(logDir, 0755); err != nil {\n\t\tlog.Fatal(\"æ— æ³•åˆ›å»ºæ—¥å¿—ç›®å½•:\", err)\n\t}\n\n\t// åˆ›å»ºæ—¥å¿—æ–‡ä»¶ï¼ˆæŒ‰æ—¥æœŸå‘½åï¼‰\n\tlogFileName := filepath.Join(logDir, time.Now().Format(\"2006-01-02\")+\".log\")\n\tfile, err := os.OpenFile(logFileName, os.O_CREATE|os.O_WRONLY|os.O_APPEND, 0666)\n\tif err != nil {\n\t\tlog.Fatal(\"æ— æ³•åˆ›å»ºæ—¥å¿—æ–‡ä»¶:\", err)\n\t}\n\t// åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶\n\tinfoWriter := io.MultiWriter(os.Stdout, file)\n\twarningWriter := io.MultiWriter(os.Stdout, file)\n\terrorWriter := io.MultiWriter(os.Stderr, file)\n\n\treturn &LogSet{\n\t\tinfoLogger:    log.New(infoWriter, \"INFO: \", log.Ldate|log.Ltime|log.Lshortfile),\n\t\twarningLogger: log.New(warningWriter, \"WARNING: \", log.Ldate|log.Ltime|log.Lshortfile),\n\t\terrorLogger:   log.New(errorWriter, \"ERROR: \", log.Ldate|log.Ltime|log.Lshortfile),\n\t\tlogFile:       file,\n\t}\n}\n\n// Close æ·»åŠ å…³é—­æ–¹æ³•\nfunc (l *LogSet) Close() {\n\tif l.logFile != nil {\n\t\terr := l.logFile.Close()\n\t\tif err != nil {\n\t\t\treturn\n\t\t}\n\t}\n}\n\nfunc (l *LogSet) Info(v ...interface{}) {\n\tl.infoLogger.Println(v...)\n}\nfunc (l *LogSet) Infof(format string, v ...interface{}) {\n\tl.infoLogger.Printf(format, v...)\n}\n\nfunc (l *LogSet) Warning(v ...interface{}) {\n\tl.warningLogger.Println(v...)\n}\n\nfunc (l *LogSet) Warningf(format string, v ...interface{}) {\n\tl.warningLogger.Printf(format, v...)\n}\n\nfunc (l *LogSet) Error(v ...interface{}) {\n\tl.errorLogger.Println(v...)\n}\n\nfunc (l *LogSet) Errorf(format string, v ...interface{}) {\n\tl.errorLogger.Printf(format, v...)\n}\n\nfunc main() {\n    // åˆ›å»ºæ—¥å¿—å™¨ï¼ŒæŒ‡å®šæ—¥å¿—ç›®å½•\n  \n  \t// åˆ›å»ºæ—¥å¿—ï¼š\n    // å¦‚æœæ²¡æœ‰åœ¨ init ä¸­åˆå§‹åŒ–ï¼Œå¯ä»¥åœ¨è¿™é‡Œåˆå§‹åŒ–\n    if eLogs == nil {\n    \teLogs = NewLogger(\"./logs\")\n    }\n    defer eLogs.Close() // ç¡®ä¿å…³é—­æ–‡ä»¶\n\n    \n  \t// ä¸‹é¢æ­£å¸¸è°ƒç”¨\n    eLogs.Infof(\"åº”ç”¨å¯åŠ¨æˆåŠŸ\")\n    eLogs.Warning(\"è¿™æ˜¯è­¦å‘Šä¿¡æ¯\")\n    eLogs.Error(\"è¿™æ˜¯é”™è¯¯ä¿¡æ¯\")\n  \n  \t// å…¶ä¸­ï¼šErrorã€Errorf çš„åŒºåˆ«ï¼Œä¸»è¦è¯´æ˜ç¤ºä¾‹\n  \t// ä¾‹å­ï¼š\n    userID := 123\n    action := \"åˆ é™¤\"\n\n    // Error çš„è¾“å‡º\n    eLogs.Error(\"ç”¨æˆ·ID:\", userID, \"æ“ä½œ:\", action)\n    // è¾“å‡º: ERROR: 2024/01/15 10:30:45 ç”¨æˆ·ID: 123 æ“ä½œ: åˆ é™¤\n\n    // Errorf çš„è¾“å‡º  \n    eLogs.Errorf(\"ç”¨æˆ·ID: %d, æ“ä½œ: %s\", userID, action)\n    // è¾“å‡º: ERROR: 2024/01/15 10:30:45 ç”¨æˆ·ID: 123, æ“ä½œ: åˆ é™¤\n\n    // æ›´å¤æ‚çš„ä¾‹å­\n    eLogs.Error(\"è¿æ¥å¤±è´¥\", \"é‡è¯•æ¬¡æ•°\", 3, \"é”™è¯¯\", \"timeout\")\n    // è¾“å‡º: ERROR: 2024/01/15 10:30:45 è¿æ¥å¤±è´¥ é‡è¯•æ¬¡æ•° 3 é”™è¯¯ timeout\n\n    eLogs.Errorf(\"è¿æ¥å¤±è´¥ï¼Œé‡è¯•æ¬¡æ•°: %d, é”™è¯¯: %s\", 3, \"timeout\")\n    // è¾“å‡º: ERROR: 2024/01/15 10:30:45 è¿æ¥å¤±è´¥ï¼Œé‡è¯•æ¬¡æ•°: 3, é”™è¯¯: timeout\n}\n```\n\n","tags":["Golang","æ—¥å¿—ç®¡ç†"],"categories":["Golang","æ¨¡å—","æ—¥å¿—"]},{"title":"Go_æŒ‡çº¹è®¤è¯è¿‡cf","url":"/2025/06/12/Go-æŒ‡çº¹è®¤è¯è¿‡cf/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Go_æŒ‡çº¹è®¤è¯è¿‡cf</strong></font>\n\n<!--more-->\n\n### çµæ„Ÿæ¥è‡ªï¼š[Go çˆ¬è™«ï¼šä¸‰è¡Œä»£ç ä¼ªé€  JA3 ç­‰ TLS æŒ‡çº¹ï¼Œç»•è¿‡ Cloudflare äº”ç§’ç›¾å’Œå„ç§é˜²ç«å¢™ï¼](https://blog.skyju.cc/post/tls-fingerprint-bypass-cloudflare/)\n\n```go\npackage main\n\nimport (\n    \"fmt\"\n    tlsclient \"github.com/bogdanfinn/tls-client\"\n    \"github.com/bogdanfinn/tls-client/profiles\"\n    \"github.com/go-resty/resty/v2\"\n    srt \"github.com/juzeon/spoofed-round-tripper\"\n)\n\nfunc main() {\n    // Create a SpoofedRoundTripper that implements the http.RoundTripper interface\n    tr, err := srt.NewSpoofedRoundTripper(\n       // Reference for more: https://bogdanfinn.gitbook.io/open-source-oasis/tls-client/client-options\n       tlsclient.WithRandomTLSExtensionOrder(), // needed for Chrome 107+\n       tlsclient.WithClientProfile(profiles.Chrome_133_PSK),\n    )\n    if err != nil {\n       panic(err)\n    }\n\n    // Set as transport. Don't forget to set the UA!\n    client := resty.New().SetTransport(tr)\n    client.SetHeader(\"User-Agent\", \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) \"+\"AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36\")\n    // Use\n    resp, err := client.R().Get(\"https://tls.peet.ws/api/all\")\n    if err != nil {\n       panic(err)\n    }\n    fmt.Println(string(resp.Body()))\n}\n```\n\n\n\n## ä¸‹é¢æ˜¯åŸå¸–ï¼š\n\n## [Go çˆ¬è™«ï¼šä¸‰è¡Œä»£ç ä¼ªé€  JA3 ç­‰ TLS æŒ‡çº¹ï¼Œç»•è¿‡ Cloudflare äº”ç§’ç›¾å’Œå„ç§é˜²ç«å¢™ï¼](https://blog.skyju.cc/post/tls-fingerprint-bypass-cloudflare/)\n\n### æ¢ç´¢å¦‚ä½•ä½¿ç”¨ Go è¯­è¨€ä¼ªé€  TLS æŒ‡çº¹ï¼Œç»•è¿‡ Cloudflare äº”ç§’ç›¾å’Œå…¶ä»–é˜²ç«å¢™ã€‚æœ¬æ–‡è¯¦ç»†ä»‹ç»äº† JA3ã€JA4+ ç­‰ TLS æŒ‡çº¹æŠ€æœ¯ï¼Œåˆ†æäº†äº’è”ç½‘ä¸Šå·²æœ‰è§£å†³æ–¹æ¡ˆå®ç°éƒ½å¤ªè¿‡ç¹çã€è€Œä¸”ä¸æ”¯æŒç”¨äºç¬¬ä¸‰æ–¹ HTTP è¯·æ±‚åº“çš„ä¸è¶³ï¼Œå¹¶æä¾›äº†ä¸€ä¸ªç®€å•æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆï¼šå®ç°ä¸€ä¸ªè‡ªå®šä¹‰çš„ http.RoundTripperã€‚ç›¸å…³ä»£ç å·²ç»å¼€æºåœ¨ GitHub ä¸Šã€‚\n\nå…ˆæ‰¿è®¤ï¼Œå†™è¿™ä¸ªæ ‡é¢˜å¤šå°‘æœ‰ç‚¹è¥é”€å·é‚£å‘³ï¼Œå› ä¸ºä»£ç é‡Œå¤šå‡ ä¸ªæ¢è¡Œå°±è¶…è¿‡ä¸‰è¡Œä»£ç äº†ï¼Œè€Œä¸”ä¹Ÿä¸ä¸€å®šèƒ½å®Œç¾ç»•è¿‡æ‰€æœ‰é˜²ç«å¢™åŠå…¶ä»¥åçš„ç§ç§å‡çº§ç‰ˆæœ¬ã€‚ä½†æˆ‘è¿˜æ˜¯æƒ³å°å°çš„éª„å‚²ä¸€ä¸‹ï¼Œæœ¬æ–‡ä»‹ç»çš„æ–¹æ³•åº”è¯¥æ˜¯ç›®å‰å¸‚é¢ä¸Šç”¨èµ·æ¥æœ€ç®€å•çš„ï¼Œå¹¶ä¸”å…¼å®¹æ€§æœ€å¥½çš„ï¼ˆå¤§æ¦‚ï¼‰ã€‚\n\n# è§£å†³ä»€ä¹ˆé—®é¢˜\n\nCloudflare çš„äº”ç§’ç›¾å¤§å®¶åº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰ï¼Œå¯¹äºç½‘ç«™ä¸»æ¥è¯´ï¼Œä½¿ç”¨å®ƒå¯ä»¥æœ‰æ•ˆé˜²æ­¢ CC æ”»å‡»ï¼›å¯¹äºçˆ¬è™«æ¥è¯´ï¼Œè§£å†³å®ƒä¹Ÿç®—æ˜¯ä¸€ä¸ªé‡è¦çš„è¯¾é¢˜ã€‚è€Œå¯¹äºæ—¢å½“ç½‘ç«™ä¸»åˆå½“çˆ¬è™«å¼€å‘è€…çš„æˆ‘æ¥è¯´ï¼Œå°±åªèƒ½å¯¹å…¶åˆçˆ±åˆæ¨äº†â€¦â€¦\n\nè¦è¯´åˆ°çˆ¬è™«ç»•è¿‡é˜²ç«å¢™çš„å…¶ä¸­ä¸€ä¸ªå¸¸è§æ–¹æ³•ï¼Œåº”è¯¥å¾—å±ä¿®æ”¹ User-Agentã€‚ä½ ç”¨ Pythonã€Go ç­‰å†™çš„ç¨‹åºï¼Œå‘èµ· HTTP è¯·æ±‚æ—¶ï¼Œå¦‚æœä¸å»é¢å¤–æŒ‡å®šï¼Œéƒ½æœ‰è‡ªå·±çš„ User-Agentã€‚æ¯”å¦‚åœ¨ Go é‡Œä½¿ç”¨[resty](https://github.com/go-resty/resty)è¿™ä¸ªåº“çš„é»˜è®¤ UA æ˜¯`go-resty/2.10.0 (https://github.com/go-resty/resty)`ï¼Œå·´ä¸å¾—æŠŠä½ åœ¨ç”¨çˆ¬è™«è®¿é—®äººå®¶ç½‘ç«™çš„äº‹å®æ˜­å‘Šå¤©ä¸‹ã€‚å› æ­¤æˆ‘ä»¬ä¸€èˆ¬ä¼šä¿®æ”¹è¿™ä¸ªå€¼ï¼Œå°†å…¶æ”¹æˆå¸¸è§æµè§ˆå™¨çš„ UAï¼Œä¾‹å¦‚ Chrome çš„ï¼š`Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36`ã€‚è¿™åœ¨ä»¥å‰å°±è¶³ä»¥å¯¹ä»˜å¤§éƒ¨åˆ†é˜²ç«å¢™äº†ã€‚\n\nä½†æ˜¯ä»ä»Šå¹´å¼€å§‹ Cloudflare çš„é˜²ç«å¢™å¢åŠ äº†ä¸€ä¸ªè¯†åˆ«é¡¹ï¼Œä¹Ÿå°±æ˜¯ TLS çš„ JA3ã€JA4 ç­‰æŒ‡çº¹ã€‚å¦‚æœä½¿ç”¨ HTTP/2 è®¿é—®ï¼Œè¿˜ä¼šå†å¤šæ£€æµ‹ä¸€ä¸ª Akamai Fingerprintã€‚è¿™äº›æ˜¯å•¥ï¼Ÿæ‹¿ä¸€ä¸ªå…¸å‹çš„ HTTPS Client Hello çš„åŒ…ä¸¾ä¾‹å­ï¼š\n\n![img](https://s2.loli.net/2025/06/12/Bura4gowed3IY8j.png)\n\nçœ‹åˆ°é‡Œé¢çš„ Cipher Suites å’Œ Extensions è¿™å †ä¸œè¥¿äº†å—ï¼Ÿå°¤å…¶æ˜¯ Cipher Suites è¿™ä¸ª Arrayï¼Œä¸åŒæµè§ˆå™¨çš„æ•°é‡ã€ç§ç±»ã€é¡ºåºéƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚äºæ˜¯ç½‘ç»œå®‰å…¨çš„ç ”ç©¶è€…å°±æ ¹æ®è¿™ä¸ªè®¡ç®—äº†ä¸€ä¸ªå“ˆå¸Œï¼ŒæŠŠå®ƒä½œä¸ºä¸€ä¸ª HTTPS å®¢æˆ·ç«¯çš„ TLS æŒ‡çº¹ã€‚\n\nä½ ç”¨ Go å†™çš„çˆ¬è™«ï¼Œå»ºç«‹ TLS æ¡æ‰‹çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯ Go çš„åº“ï¼Œè‡ªç„¶ä¹Ÿæœ‰ Go è‡ªå·±çš„ TLS æŒ‡çº¹ã€‚é‚£ä¹ˆ Cloudflare å¯ä»¥ç›´æ¥æŠŠ Go çš„ TLS æŒ‡çº¹ç»™ ban æ‰ï¼Œåªå…è®¸çœŸå®æµè§ˆå™¨è®¿é—®ã€‚ç”šè‡³æ¥è¯´ï¼Œå®é™…ä¸Š Cloudflare ä¼šæŠŠ TLS æŒ‡çº¹å’Œä½ çš„ User-Agent è¿›è¡Œæ¯”å¯¹ã€‚äººå®¶çœ‹åˆ°ä½  User-Agent å®£ç§°æ˜¯è°·æ­Œæµè§ˆå™¨çš„ï¼Œè€Œ TLS æŒ‡çº¹å´æ˜¯ Go åº“çš„ï¼Œè¿™ä¸èµ¤è£¸è£¸çš„æ¬ºéª—å—ï¼Ÿç»å¯¹è¦æŠŠä½  block ä¹‹é—¨å¤–äº†ã€‚\n\nå…³äº JA3ã€JA4+ å’Œ Akamai Fingerprint å¯ä»¥çœ‹ä¸‹é¢å‡ ä¸ªæ–‡ç« ï¼š\n\nä»‹ç» JA3 çš„ï¼šhttps://engineering.salesforce.com/tls-fingerprinting-with-ja3-and-ja3s-247362855967/\n\nä»‹ç» JA4+ çš„ï¼šhttps://blog.foxio.io/ja4-network-fingerprinting-9376fe9ca637\n\nJA4 ç›¸å½“äºæ˜¯ JA3 çš„å‡çº§ç‰ˆã€‚ä»‹ç» JA4+ çš„è¿™ç¯‡æ–‡ç« å°¤å…¶è®©æˆ‘å¤§å¼€çœ¼ç•Œã€‚ç ”ç©¶è€…ä¸ä»…åªæ˜¯ç®—å‡ºä¸€ä¸ª TLS æŒ‡çº¹è€Œå·²ï¼Œè¿˜æ ¹æ®ä¸åŒçš„å› ç´ åˆ›é€ å‡ºäº†å¤šç§æŒ‡çº¹çš„å˜ç§ï¼ˆå› æ­¤åé¢å¤šäº†ä¸ªåŠ å·ï¼‰ã€‚æ¯”å¦‚ JA4SSHï¼Œå°±æ˜¯é’ˆå¯¹ SSH åè®®çš„ã€‚é€šè¿‡å¯¹æŒ‡çº¹çš„åˆ†æï¼Œå¯ä»¥è¯†åˆ«åŠ å¯†ä¿¡é“ä¸­æ˜¯å¦å­˜åœ¨æ¶æ„æµé‡ï¼Œæœ¬èº«è¿˜æ˜¯å¾ˆä¸é”™çš„ã€‚\n\nè€Œ Akamai Fingerprint å°±æ˜¯é’ˆå¯¹ HTTP/2 çš„ï¼Œå…¶ç®€å•çš„åŸç†ä»‹ç»å¯ä»¥çœ‹è¿™é‡Œï¼šhttps://lwthiker.com/networks/2022/06/17/http2-fingerprinting.html\n\nå¯ä»¥è®¿é—®è¿™ä¸ªç½‘ç«™çœ‹åˆ°ä½ æµè§ˆå™¨çš„ TLS æŒ‡çº¹ï¼šhttps://tls.peet.ws/\n\n![img](https://s2.loli.net/2025/06/12/AgvpKFLQ2sNb9Dc.png)\n\né«˜ç‰ˆæœ¬ Chrome åŠ å…¥äº†ä¸€äº›éšæœºç‰¹æ€§ï¼Œæ¯æ¬¡è®¿é—® JA3 æŒ‡çº¹éƒ½ä¸ä¸€æ ·ã€‚ä½†ä¸ç®¡ä½ æ€ä¹ˆéšæœºï¼Œä¹Ÿå°±é‚£ä¹ˆå‡ ç§ï¼Œéƒ½å¸¦æœ‰ Chrome çš„ç‰¹å¾ã€‚è€Œä¸”ç»è¿‡æµ‹è¯•æˆ‘è¿™è¾¹ Chrome æµè§ˆå™¨çš„ JA4 æŒ‡çº¹æ˜¯ä¸å˜çš„ã€‚\n\n# å·²æœ‰çš„è§£å†³æ–¹æ¡ˆ\n\näº’è”ç½‘ä¸Šèƒ½æ‰¾åˆ°çš„è§£å†³æ–¹æ¡ˆä¹Ÿä¸ç®—å°‘ï¼Œéƒ½ä¸»è¦å›´ç»•[uTLS](https://github.com/refraction-networking/utls)è¿™ä¸ªåº“æ¥ä½¿ç”¨ã€‚uTLS åº“æä¾›å¯¹ Go åŸç”Ÿ tls åº“çš„æ›¿ä»£ï¼Œé‡å†™äº† Client Hello çš„è¿‡ç¨‹ï¼Œèƒ½å¤Ÿè‡ªå®šä¹‰ä¸Šé¢è¯´çš„ Cipher Suites å’Œ Extensions å­—æ®µç­‰ç­‰ã€‚\n\næ¯”å¦‚æˆ‘æ‰¾åˆ°çš„[è¿™ç¯‡åšæ–‡](https://sxyz.blog/bypass-cloudflare-shield/)å’Œ[è¿™ç¯‡åšæ–‡](https://blog.csdn.net/chenzhuyu/article/details/132217262)ï¼Œéƒ½æ˜¯ç›´æ¥è£¸ç”¨ uTLS åº“ã€‚å‰è€…ç”šè‡³ä»åº•å±‚ DialTCP å¼€å§‹æ‰‹æ“ TLS åŠ å¯†ä¿¡é“ï¼ˆè¿™ç¯‡æ–‡ç« è¿˜æ˜¯å¾ˆå€¼å¾—ä¸€çœ‹çš„ï¼Œå¯ä»¥å¸®åŠ©ä½ æŠŠæ•´ä¸ªæ„é€ çš„åº•å±‚åŸç†å¼„æ¸…æ¥šï¼‰ã€‚è¿™ä¹Ÿæ— å¯åšéï¼ŒuTLS åº“çš„ç¼ºç‚¹å°±æ˜¯è¿‡äºåº•å±‚äº†ï¼Œç”¨èµ·æ¥æ¯”è¾ƒéº»çƒ¦ã€‚\n\näºæ˜¯æˆ‘æ‰¾åˆ°äº†[tls-client](https://github.com/bogdanfinn/tls-client)è¿™ä¸ªåº“ï¼Œä»–åœ¨ uTLS ä¸Šé¢å°è£…äº†ä¸€ä¸ª HTTP Clientï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å…¶æä¾›çš„æ–¹æ³•å‘èµ·è¯·æ±‚ï¼Œå¹¶ä¸”å°è£…äº†å¸¸è§ä¸»æµæµè§ˆå™¨çš„ profileï¼š\n\n```go\noptions := []tls_client.HttpClientOption{\n\t\ttls_client.WithTimeoutSeconds(30),\n\t\ttls_client.WithClientProfile(profiles.Chrome_120),// Chrome 120 ç‰ˆæœ¬çš„æŒ‡çº¹\n\t}\n// ...\n// åˆ›å»º Requestï¼Œæ³¨æ„è¿™é‡Œåˆ›å»ºçš„ Request ä¸æ˜¯ Go æ ‡å‡†åº“çš„ http.Requestï¼Œè€Œæ˜¯ fhttp.Requestï¼Œå®ƒè‡ªå·±çš„ä¸€ä¸ªç»“æ„\nreq, err := fhttp.NewRequest(http.MethodGet, \"https://tls.peet.ws/api/all\", nil)\n// ...\nresp, err := client.Do(req)// ä½¿ç”¨ tls-client è¿›è¡Œè¯·æ±‚\n// ...\n\n```\n\nä½†ç¼ºç‚¹ä¹Ÿæ˜¯æœ‰çš„ï¼Œå°±æ˜¯æä¾›çš„æ¥å£è¿‡äºåŸå§‹äº†ï¼Œå¯¹äºæˆ‘è¿™æ ·çš„æ‡’äººï¼Œæ—©å°±ä¹ æƒ¯ç”¨[resty](https://github.com/go-resty/resty)ã€[req](https://github.com/imroc/req)è¿™æ ·å°è£…å®Œå–„çš„ç¬¬ä¸‰æ–¹åº“äº†ã€‚\n\n# è‡ªå®šä¹‰ RoundTripper\n\nå¥½åœ¨ resty æä¾›ä¸€ä¸ª SetTransport çš„æ–¹æ³•ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªå®ç°äº† http.RoundTripper çš„æ¥å£ã€‚ç›¸å…³çš„å‡½æ•°ç­¾åå…¶å®å¾ˆç®€å•ï¼š\n\n```go\ntype http.RoundTripper interface {\n\tRoundTrip(*http.Request) (*http.Response, error)\n}\n```\n\næ— éå°±æ˜¯æ¥æ”¶åˆ°ä¸€ä¸ª http.Request å¯¹è±¡ï¼Œç„¶åè¿›è¡Œç½‘ç»œè¯·æ±‚ï¼Œæœ€åè¿”å›ä¸€ä¸ª `http.Response`ã€‚æ³¨æ„è¿™é‡Œçš„ Request å’Œ Response éƒ½æ˜¯ Go çš„ http æ ‡å‡†åº“ä¸­çš„ï¼Œè€Œ `tls-client` ä½¿ç”¨äº†å¦ä¸€å¥— fhttp.Request å’Œ fhttp.Responseï¼Œæ‰€ä»¥åªè¦è¿›è¡Œä¸€ä¸‹æ¡¥æ¥ï¼Œå®ç°ä¸€ä¸ªè‡ªå®šä¹‰ RoundTripper å°±è¡Œäº†ã€‚\n\nå®Œæ•´ä»£ç å·²ç»å¼€æºï¼šhttps://github.com/juzeon/spoofed-round-tripper\n\nè¿™æ ·å’Œ resty ä¸€èµ·ä½¿ç”¨èµ·æ¥å°±å˜å¾—å¾ˆå®¹æ˜“ï¼š\n\n```go\npackage main\n\nimport (\n\t\"fmt\"\n\ttlsclient \"github.com/bogdanfinn/tls-client\"\n\t\"github.com/bogdanfinn/tls-client/profiles\"\n\t\"github.com/go-resty/resty/v2\"\n\tsrt \"github.com/juzeon/spoofed-round-tripper\"\n)\n\nfunc main() {\n\t// Create a SpoofedRoundTripper that implements the http.RoundTripper interface\n\ttr, err := srt.NewSpoofedRoundTripper(\n        // Reference for more: https://bogdanfinn.gitbook.io/open-source-oasis/tls-client/client-options\n\t\ttlsclient.WithRandomTLSExtensionOrder(),// needed for Chrome 107+\n\t\ttlsclient.WithClientProfile(profiles.Chrome_120),\n\t)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\n\t// Set as transport. Don't forget to set the UA!\n\tclient := resty.New().SetTransport(tr).\n\t\tSetHeader(\"User-Agent\", \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) \"+\n\t\t\t\"AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\")\n\n\t// Use\n\tresp, err := client.R().Get(\"https://tls.peet.ws/api/all\")\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tfmt.Println(string(resp.Body()))\n}\n\n```\n\næ³¨æ„æœ‰ä¸€äº›ç”¨æ³•æ˜¯ä¸è¡Œçš„ï¼Œæ¯•ç«Ÿå’±ä»¬çš„ RoundTripper æ˜¯è‡ªå·±çš„å®ç°çš„ï¼Œä¸æ˜¯ Go è‡ªå·±çš„ http.Transportã€‚æ¯”å¦‚è®¾ç½®ä»£ç†çš„æ—¶å€™ï¼š\n\n```go\n// Don't:\ntr, err := srt.NewSpoofedRoundTripper(\n    tlsclient.WithRandomTLSExtensionOrder(),\n\ttlsclient.WithClientProfile(profiles.Chrome_120),\n)\nif err != nil {\n\tpanic(err)\n}\nclient := resty.New().SetTransport(tr).SetProxy(\"socks5://127.0.0.1:7890\")\n// ERROR RESTY current transport is not an *http.Transport instance\n\n\n// Do:\ntr, err := srt.NewSpoofedRoundTripper(\n    tlsclient.WithRandomTLSExtensionOrder(),\n\ttlsclient.WithClientProfile(profiles.Chrome_120),\n\ttlsclient.WithProxyUrl(\"socks5://127.0.0.1:7890\"),\n)\nif err != nil {\n\tpanic(err)\n}\nclient := resty.New().SetTransport(tr)\n\n```\n\nä¸Šé¢ç¬¬ä¸€ç§å°è¯•ä¼šæŠ¥é”™çš„åŸå› æ˜¯ resty çš„ SetProxy æ–¹æ³•ä¼šåœ¨å†…éƒ¨å°è¯•æŠŠä¼ å…¥çš„ `http.RoundTripper` è½¬æˆæ ‡å‡†åº“çš„ `http.Transport`ï¼Œæ˜¾ç„¶å’±ä»¬ç©¿è¿›å»çš„æ˜¯ä¸ªå‡çš„ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚å¥½åœ¨ tls-client æœ¬èº«æä¾›äº†è®¾ç½®ä»£ç†çš„æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥ç”¨ã€‚\n\n# å¤šè¯´ä¸¤å¥\n\nè¯´å®è¯ï¼Œåƒ Go è¿™æ ·èƒ½ç›´æ¥æ’…èµ·åº•å±‚ï¼Œè‡ªå·±å®ç° TLS æ¡æ‰‹è¿‡ç¨‹çš„èƒ½åŠ›ï¼Œåœ¨å…¶ä»–è¯­è¨€ä¸­æ—¶å¾ˆå°‘è§çš„ã€‚æ¯”å¦‚ Python åŸºæœ¬ä¸Šæ‰€æœ‰çš„ç½‘ç»œè¯·æ±‚åº“åœ¨ TLS æ¡æ‰‹çš„æ—¶å€™éƒ½æ˜¯ç›´æ¥è°ƒç”¨åº•å±‚ C ç¼–å†™çš„ `openssl` å¥—ä»¶ï¼Œå› æ­¤å®Œå…¨å°±ä¸æ”¯æŒè‡ªå®šä¹‰ã€‚æäº†åŠå¤©ï¼ŒPython è¿™ä¸ªè¢«é¼“å¹ä¸ºæœ€é€‚åˆçˆ¬è™«çš„è¯­è¨€åœ¨å†™çˆ¬è™«ä¸Šå±…ç„¶è¿˜ä¸å¦‚ Goï¼Ÿ\n\nå‚è€ƒæ˜é‡‘ä¸Šçš„è¿™ç¯‡æ–‡ç« ï¼šhttps://juejin.cn/post/7197740114252447781\n\nå—¯â€¦å®é™…ä¸Šä¸Šé¢ä»‹ç»çš„ tls-client è¿™ä¸ªåº“è¿˜æä¾›ä¸€äº›å…¶ä»–è¯­è¨€çš„ bindingï¼Œä¸è¿‡è°ƒç”¨èµ·æ¥ç›¸å¯¹éº»çƒ¦ï¼Œæ„Ÿå…´è¶£çš„è¯å¯ä»¥å»çœ‹çœ‹äººå®¶çš„[æ–‡æ¡£](https://bogdanfinn.gitbook.io/open-source-oasis/shared-library)ã€‚","tags":["è¿‡cfå¢™"],"categories":["Golang","çˆ¬è™«"]},{"title":"Go_åç«¯ã€å‰ç«¯åŠ å¯†å¥—è£…","url":"/2025/06/11/Go-åç«¯ã€å‰ç«¯åŠ å¯†å¥—è£…/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Go_åç«¯ã€å‰ç«¯åŠ å¯†å¥—è£…</strong></font>\n\n<!--more-->\n\n### Go åç«¯åŠ å¯†å¢å¼º:\n\n```Go\n\nfunc marshalResponse(response JsonResponse) []byte {\n    jsonData, _ := json.Marshal(response)\n    \n    // ä½¿ç”¨AESåŠ å¯† (éœ€å®‰è£… crypto/aes, crypto/cipher)\n    encrypted := encryptAES(jsonData, \"your-32-byte-secret-key-1234567890abc\")\n    return []byte(base64.StdEncoding.EncodeToString(encrypted))\n}\n\nfunc encryptAES(data []byte, key string) []byte {\n    block, _ := aes.NewCipher([]byte(key))\n    gcm, _ := cipher.NewGCM(block)\n    nonce := make([]byte, gcm.NonceSize())\n    rand.Read(nonce)\n    return gcm.Seal(nonce, nonce, data, nil)\n}\n```\n\n\n\n### Python è§£å¯†å¢å¼º:\n\n```python\nfrom Cryptodome.Cipher import AES\nimport base64\n\ndef decode_encrypted(encrypted_str, key):\n    encrypted_data = base64.b64decode(encrypted_str)\n    nonce = encrypted_data[:12]\n    ciphertext = encrypted_data[12:]\n    cipher = AES.new(key.encode(), AES.MODE_GCM, nonce=nonce)\n    return json.loads(cipher.decrypt(ciphertext).decode('utf-8'))\n```\n\n### JavaScript è§£å¯†å¢å¼ºï¼š\n\n```javascript\nasync function decryptResponse(encryptedStr, key) {\n    const encryptedData = Uint8Array.from(atob(encryptedStr), c => c.charCodeAt(0));\n    const iv = encryptedData.slice(0, 12);\n    const ciphertext = encryptedData.slice(12);\n    \n    const cryptoKey = await crypto.subtle.importKey(\n        \"raw\", \n        new TextEncoder().encode(key),\n        { name: \"AES-GCM\" },\n        false,\n        [\"decrypt\"]\n    );\n    \n    const decrypted = await crypto.subtle.decrypt(\n        { name: \"AES-GCM\", iv },\n        cryptoKey,\n        ciphertext\n    );\n    \n    return JSON.parse(new TextDecoder().decode(decrypted));\n}\n```\n\n1. **å¢å¼ºæ–¹æ¡ˆ**ï¼š\n   - æ·»åŠ  AES-GCM åŠ å¯†\n   - éœ€è¦å‰åç«¯å…±äº«å¯†é’¥\n   - é€‚ç”¨äºéœ€è¦çœŸæ­£åŠ å¯†ä¿æŠ¤çš„åœºæ™¯","tags":["Golang","åŠ å¯†ã€è§£å¯†","Python","JavaScript"],"categories":["Golang","åŠ å¯†ã€è§£å¯†"]},{"title":"Go_å‘èµ·ç½‘ç»œè¯·æ±‚æ¨¡ç‰ˆ(åŸºäºå®˜æ–¹netåº“)","url":"/2025/06/11/Go-å‘èµ·ç½‘ç»œè¯·æ±‚æ¨¡ç‰ˆ(åŸºäºå®˜æ–¹netåº“)/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Go_å‘èµ·ç½‘ç»œè¯·æ±‚æ¨¡ç‰ˆ(åŸºäºå®˜æ–¹netåº“)</strong></font>\n\n<!--more-->\n\n## Go HTTPè¯·æ±‚æ¨¡æ¿å°è£…\n\n### 1ã€å¯¼å…¥åŒ…\n\n```go\npackage main\n\nimport (\n\t\"bytes\"\n\t\"encoding/json\"\n\t\"fmt\"\n\t\"io\"\n\t\"log\"\n\t\"mime/multipart\"\n\t\"net/http\"\n\t\"net/url\"\n\t\"os\"\n\t\"strings\"\n)\n```\n\n### 1.1ã€*GetRequest å‘é€GETè¯·æ±‚*\n\n```go\n// GetRequest å‘é€GETè¯·æ±‚\n// url: è¯·æ±‚åœ°å€\n// params: æŸ¥è¯¢å‚æ•°(mapæ ¼å¼)\n// è¿”å›: å“åº”ä½“å­—èŠ‚æ•°ç»„å’Œé”™è¯¯ä¿¡æ¯\nfunc GetRequest(url string, params map[string]string) ([]byte, error) {\n\t// 1. æ„å»ºå¸¦å‚æ•°çš„URL\n\tquery := url.Values{}\n\tfor k, v := range params {\n\t\tquery.Add(k, v)\n\t}\n\tfullURL := url\n\tif len(params) > 0 {\n\t\tfullURL += \"?\" + query.Encode()\n\t}\n\n\t// 2. å‘é€GETè¯·æ±‚\n\tresp, err := http.Get(fullURL)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\tdefer resp.Body.Close()\n\n\t// 3. è¯»å–å“åº”ä½“\n\treturn io.ReadAll(resp.Body)\n}\n```\n\n**å‚æ•°è¯´æ˜ï¼š**\n\n- `url`: è¯·æ±‚çš„ç›®æ ‡åœ°å€ï¼ˆä¸åŒ…å«æŸ¥è¯¢å‚æ•°ï¼‰ï¼Œä¾‹å¦‚ `\"https://api.example.com/data\"`\n\n- `params: `æŸ¥è¯¢å‚æ•°çš„é”®å€¼å¯¹æ˜ å°„ï¼Œä¾‹å¦‚ï¼š\n\n  ```go\n  map[string]string{\n      \"page\":  \"1\",\n      \"limit\": \"20\",\n  }\n  ```\n\n  å°†ç”Ÿæˆ`?page=1&limit=20`çš„æŸ¥è¯¢å­—ç¬¦ä¸²\n\n### 1.2ã€*PostJsonRequest å‘é€JSONæ ¼å¼çš„POSTè¯·æ±‚*\n\n```go\n// PostJsonRequest å‘é€JSONæ ¼å¼çš„POSTè¯·æ±‚\n// url: è¯·æ±‚åœ°å€\n// data: è¦å‘é€çš„JSONæ•°æ®(ä»»æ„ç»“æ„ä½“)\n// è¿”å›: å“åº”ä½“å­—èŠ‚æ•°ç»„å’Œé”™è¯¯ä¿¡æ¯\nfunc PostJsonRequest(url string, data interface{}) ([]byte, error) {\n\t// 1. åºåˆ—åŒ–JSONæ•°æ®\n\tjsonData, err := json.Marshal(data)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\n\t// 2. åˆ›å»ºè¯·æ±‚\n\treq, err := http.NewRequest(\"POST\", url, bytes.NewBuffer(jsonData))\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\treq.Header.Set(\"Content-Type\", \"application/json\")\n\n\t// 3. å‘é€è¯·æ±‚å¹¶è·å–å“åº”\n\tclient := &http.Client{}\n\tresp, err := client.Do(req)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\tdefer resp.Body.Close()\n\n\t// 4. è¯»å–å“åº”ä½“\n\treturn io.ReadAll(resp.Body)\n}\n```\n\n#### **å‚æ•°è¯´æ˜ï¼š**\n\n- `url`: è¯·æ±‚çš„ç›®æ ‡åœ°å€ï¼Œä¾‹å¦‚ `\"https://api.example.com/users\"`\n\n- `data`ï¼šä»»æ„å¯è¢«JSONåºåˆ—åŒ–çš„Goæ•°æ®ç»“æ„ï¼Œä¾‹å¦‚ï¼š\n\n  ```go\n  // ä½¿ç”¨ç»“æ„ä½“\n  struct {\n      Name  string `json:\"name\"`\n      Email string `json:\"email\"`\n  }{\n      Name:  \"Alice\",\n      Email: \"alice@example.com\",\n  }\n  \n  // æˆ–ä½¿ç”¨map\n  map[string]interface{}{\n      \"name\":  \"Alice\",\n      \"email\": \"alice@example.com\",\n  }\n  ```\n\n### 1.3ã€*PostFormUrlEncodedRequest å‘é€x-www-form-urlencodedæ ¼å¼çš„POSTè¯·æ±‚*\n\n```go\n// PostFormUrlEncodedRequest å‘é€x-www-form-urlencodedæ ¼å¼çš„POSTè¯·æ±‚\n// url: è¯·æ±‚åœ°å€\n// formData: è¡¨å•æ•°æ®(mapæ ¼å¼)\n// è¿”å›: å“åº”ä½“å­—èŠ‚æ•°ç»„å’Œé”™è¯¯ä¿¡æ¯\nfunc PostFormUrlEncodedRequest(url string, formData map[string]string) ([]byte, error) {\n\t// 1. æ„å»ºè¡¨å•æ•°æ®\n\tdata := url.Values{}\n\tfor k, v := range formData {\n\t\tdata.Set(k, v)\n\t}\n\n\t// 2. å‘é€è¯·æ±‚\n\tresp, err := http.Post(\n\t\turl,\n\t\t\"application/x-www-form-urlencoded\",\n\t\tstrings.NewReader(data.Encode()),\n\t)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\tdefer resp.Body.Close()\n\n\t// 3. è¯»å–å“åº”ä½“\n\treturn io.ReadAll(resp.Body)\n}\n\n```\n\n**å‚æ•°è¯´æ˜ï¼š**\n\n- `url`: è¯·æ±‚çš„ç›®æ ‡åœ°å€ï¼Œä¾‹å¦‚ `\"https://api.example.com/login\"`\n\n- `formData`: è¡¨å•æ•°æ®çš„é”®å€¼å¯¹æ˜ å°„ï¼Œä¾‹å¦‚ï¼š\n\n  ```go\n  map[string]string{\n      \"username\": \"admin\",\n      \"password\": \"myp@ssw0rd\",\n  }\n  ```\n\n### 1.4ã€*PostFormDataRequest å‘é€multipart/form-dataæ ¼å¼çš„POSTè¯·æ±‚(æ”¯æŒæ–‡ä»¶å’Œæ–‡æœ¬æ··åˆ)*\n\n```go\n// PostFormDataRequest å‘é€multipart/form-dataæ ¼å¼çš„POSTè¯·æ±‚(æ”¯æŒæ–‡ä»¶å’Œæ–‡æœ¬æ··åˆ)\n// url: è¯·æ±‚åœ°å€\n// formData: æ–‡æœ¬è¡¨å•æ•°æ®(mapæ ¼å¼)\n// fileField: æ–‡ä»¶å­—æ®µå\n// filePath: æ–‡ä»¶è·¯å¾„\n// è¿”å›: å“åº”ä½“å­—èŠ‚æ•°ç»„å’Œé”™è¯¯ä¿¡æ¯\nfunc PostFormDataRequest(url string, formData map[string]string, fileField, filePath string) ([]byte, error) {\n\t// 1. åˆ›å»ºmultipartå†™å…¥å™¨\n\tbody := &bytes.Buffer{}\n\twriter := multipart.NewWriter(body)\n\n\t// 2. æ·»åŠ æ–‡æœ¬å­—æ®µ\n\tfor key, val := range formData {\n\t\t_ = writer.WriteField(key, val)\n\t}\n\n\t// 3. æ·»åŠ æ–‡ä»¶å­—æ®µ(å¦‚æœæä¾›äº†æ–‡ä»¶è·¯å¾„)\n\tif filePath != \"\" {\n\t\tfile, err := os.Open(filePath)\n\t\tif err != nil {\n\t\t\treturn nil, err\n\t\t}\n\t\tdefer file.Close()\n\n\t\tpart, err := writer.CreateFormFile(fileField, file.Name())\n\t\tif err != nil {\n\t\t\treturn nil, err\n\t\t}\n\t\t_, err = io.Copy(part, file)\n\t\tif err != nil {\n\t\t\treturn nil, err\n\t\t}\n\t}\n\n\t// 4. å…³é—­å†™å…¥å™¨(å¿…é¡»)\n\terr := writer.Close()\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\n\t// 5. åˆ›å»ºè¯·æ±‚\n\treq, err := http.NewRequest(\"POST\", url, body)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\treq.Header.Set(\"Content-Type\", writer.FormDataContentType())\n\n\t// 6. å‘é€è¯·æ±‚\n\tclient := &http.Client{}\n\tresp, err := client.Do(req)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\tdefer resp.Body.Close()\n\n\t// 7. è¯»å–å“åº”\n\treturn io.ReadAll(resp.Body)\n}\n\n```\n\n**å‚æ•°è¯´æ˜ï¼š**\n\n- `url`: è¯·æ±‚çš„ç›®æ ‡åœ°å€ï¼Œä¾‹å¦‚ `\"https://api.example.com/upload\"`\n\n- `formData`: æ–‡æœ¬å­—æ®µçš„é”®å€¼å¯¹æ˜ å°„ï¼Œä¾‹å¦‚ï¼š\n\n  ```go\n  map[string]string{\n      \"description\": \"ç”¨æˆ·å¤´åƒ\",\n      \"category\":    \"profile\",\n  }\n  ```\n\n- `fileField`: æœåŠ¡å™¨ç”¨äºæ¥æ”¶æ–‡ä»¶çš„å­—æ®µåç§°ï¼ˆè¡¨å•åŸŸåç§°ï¼‰ï¼Œä¾‹å¦‚ `\"avatar\"`\n\n- `filePath`: è¦ä¸Šä¼ çš„æ–‡ä»¶åœ¨æœ¬åœ°ç³»ç»Ÿçš„å®Œæ•´è·¯å¾„ï¼Œä¾‹å¦‚ `\"/tmp/photo.jpg\"`\n\n> **ç‰¹æ®Šè¯´æ˜**ï¼š`filePath` å‚æ•°ä¸ºç©ºå­—ç¬¦ä¸² `\"\"` æ—¶ï¼Œè¡¨ç¤ºä¸ä¸Šä¼ æ–‡ä»¶ï¼Œåªå‘é€æ–‡æœ¬è¡¨å•æ•°æ®\n\n### 2ã€è¯·æ±‚ç¤ºä¾‹ï¼š\n\n```go\n// ============================\n// ä½¿ç”¨ç¤ºä¾‹\n// ============================\nfunc main() {\n\t// ç¤ºä¾‹1: GETè¯·æ±‚\n\tgetResp, err := GetRequest(\"https://httpbin.org/get\", map[string]string{\n\t\t\"param1\": \"value1\",\n\t\t\"param2\": \"value2\",\n\t})\n\tif err != nil {\n\t\tlog.Fatal(\"GETè¯·æ±‚å¤±è´¥:\", err)\n\t}\n\tfmt.Println(\"GETå“åº”:\\n\", string(getResp))\n\n\t// ç¤ºä¾‹2: POST JSONè¯·æ±‚\n\tjsonResp, err := PostJsonRequest(\"https://httpbin.org/post\", map[string]interface{}{\n\t\t\"name\":  \"Alice\",\n\t\t\"email\": \"alice@example.com\",\n\t})\n\tif err != nil {\n\t\tlog.Fatal(\"JSON POSTå¤±è´¥:\", err)\n\t}\n\tfmt.Println(\"JSON POSTå“åº”:\\n\", string(jsonResp))\n\n\t// ç¤ºä¾‹3: Form-urlencodedè¯·æ±‚\n\tformResp, err := PostFormUrlEncodedRequest(\"https://httpbin.org/post\", map[string]string{\n\t\t\"username\": \"bob\",\n\t\t\"password\": \"secret\",\n\t})\n\tif err != nil {\n\t\tlog.Fatal(\"Form-urlencoded POSTå¤±è´¥:\", err)\n\t}\n\tfmt.Println(\"Form-urlencodedå“åº”:\\n\", string(formResp))\n\n\t// ç¤ºä¾‹4: Form-dataè¯·æ±‚(å«æ–‡ä»¶)\n\t// formDataResp, err := PostFormDataRequest(\n\t// \t\"https://httpbin.org/post\",\n\t// \tmap[string]string{\"textField\": \"textValue\"},\n\t// \t\"fileField\",\n\t// \t\"./test.txt\", // å®é™…æ–‡ä»¶è·¯å¾„\n\t// )\n\t// if err != nil {\n\t// \tlog.Fatal(\"Form-data POSTå¤±è´¥:\", err)\n\t// }\n\t// fmt.Println(\"Form-dataå“åº”:\\n\", string(formDataResp))\n}\n```\n\n#### é€šç”¨è¿”å›è¯´æ˜\n\næ‰€æœ‰å‡½æ•°å‡è¿”å›ä¸¤ä¸ªå€¼ï¼š\n\n1. **`[]byte`**: åŸå§‹å“åº”ä½“å†…å®¹ï¼Œéœ€è¦è°ƒç”¨æ–¹è‡ªè¡Œè§£æï¼ˆå¦‚ä½¿ç”¨ `json.Unmarshal()`ï¼‰\n2. **`error`**: é”™è¯¯å¯¹è±¡ï¼Œè¯·æ±‚æˆåŠŸæ—¶è¿”å› `nil`ï¼Œå¤±è´¥æ—¶åŒ…å«é”™è¯¯è¯¦æƒ…\n\n```go\n// å…¸å‹ä½¿ç”¨ç¤ºä¾‹\nrespBytes, err := GetRequest(\"https://api.example.com/data\", params)\nif err != nil {\n    // å¤„ç†é”™è¯¯\n    log.Fatal(\"è¯·æ±‚å¤±è´¥:\", err)\n}\n\n// è§£æJSONå“åº”\nvar result ResponseStruct\nif err := json.Unmarshal(respBytes, &result); err != nil {\n    // å¤„ç†è§£æé”™è¯¯\n}\n```","tags":["Golang","å®˜æ–¹http","ç½‘ç»œè¯·æ±‚"],"categories":["Golang","ç½‘ç»œè¯·æ±‚"]},{"title":"Go_ä¸­ä¼ é€’å‚æ•°ç±»å‹çš„åˆ¤å®šä¸å…¶ä»–ç”¨æ³•","url":"/2025/06/11/Go-ä¸­ä¼ é€’å‚æ•°ç±»å‹çš„åˆ¤å®šä¸å…¶ä»–ç”¨æ³•/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Go_ä¸­`ä¼ é€’å‚æ•°`ç±»å‹çš„åˆ¤å®šä¸å…¶ä»–ç”¨æ³•</strong></font>\n\n<!--more-->\n\n```go\nfunc SearchDB(DbModel *gorm.DB, Parms map[string]interface{}, SqlKey string, tableOrModel interface{}) interface{} {\n  \t// ç‰¹åˆ«æ³¨æ„ tableOrModel interface{}  è¡¨ç¤ºå¯ä»¥ä¼ é€’ä»»æ„å€¼\n    fmt.Println(tableOrModel)\n    // éªŒè¯è¡¨å\n    TableName := \"\"    // åˆå§‹åŒ–å˜é‡ ä¸ºç©ºå­—ç¬¦ä¸²\n    switch v := tableOrModel.(type) {    //è¿™é‡Œ  ç±»å‹å¼€å…³(type switch)\n    case string:  //å¦‚æœ vçš„ç±»å‹æ˜¯ string  é‚£ä¹ˆ TableName=v\n       TableName = v\n    case *string:                               // å¦‚æœ v çš„ç±»å‹æ˜¯æŒ‡é’ˆ\n       if v == nil {                            // åˆ¤å®š v æ˜¯å¦ä¸ºç©ºå€¼\n          return fmt.Errorf(\"è¡¨åæŒ‡é’ˆä¸èƒ½ä¸ºç©º\")    // å¦‚æœ v çš„å€¼æ˜¯ç©ºçš„ï¼Œè¿”å›é”™è¯¯æç¤º è¡¨åä¸å¾—ä¸ºç©º\n       }\n       TableName = *v                           // å¦åˆ™ TableName = væŒ‡é’ˆæŒ‡å‘çš„å€¼\n    default:             // å¦‚æœä»¥ä¸Šéƒ½ä¸æ˜¯ï¼Œé»˜è®¤èµ°çš„åˆ†æ”¯\n       // å°è¯•ä»æ¨¡å‹è·å–è¡¨å\n       // è¿™é‡Œæ‹†å¼€çœ‹ ä¼šæ¸…æ™°ä¸€ç‚¹\n       // model, ok := v.(interface{ TableName() string })\n       // è¿™é‡Œå®šä¹‰è¿”å›å€¼ï¼šv.(interface{ TableName() string }) å…¶å®å°±æ˜¯ å¯¹ interface{ TableName() string } è¿›è¡Œç±»å‹çš„åˆ¤æ–­\n       // .()ï¼šç±»å‹æ–­è¨€æ“ä½œç¬¦\n       // interface{ TableName() string }ï¼šä¸€ä¸ªæ¥å£ç±»å‹ï¼Œè¦æ±‚å®ç° TableName() string æ–¹æ³•\n      \n      // if ok {TableName = model.TableName()}\n      \n       if model, ok := v.(interface{ TableName() string }); ok { //interface{ TableName() string }ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰ func TableName() string æ–¹æ³•\n          TableName = model.TableName()\n       } else {\n          // ä½¿ç”¨åå°„è·å–ç±»å‹åç§° è¯¦è§£è§ä¸‹æ–¹æ€»ç»“\n          t := reflect.TypeOf(v) // è·å–å¯¹è±¡çš„ç±»å‹\n          if t.Kind() == reflect.Ptr {\n             t = t.Elem()\n          }\n          TableName = t.Name()\n       }\n    }\n\n    if TableName == \"\" {\n       return fmt.Errorf(\"è¡¨åä¸èƒ½ä¸ºç©º\")\n    }\n\n    // æ ¹æ®æ“ä½œç±»å‹æ‰§è¡Œç›¸åº”æ“ä½œ\n    switch strings.ToLower(SqlKey) {\n    case \"insert\":\n       return handleInsert(DbModel, Parms, TableName)\n    case \"find\":\n       return handleFind(DbModel, Parms, TableName)\n    case \"update\":\n       return handleUpdate(DbModel, Parms, TableName)\n    default:\n       return fmt.Errorf(\"æ— æ•ˆçš„æ“ä½œç±»å‹: %s (æ”¯æŒ: insert, find, update)\", SqlKey)\n    }\n}\n```\n\n## æ€»ç»“\n\n1. **è·å–ç±»å‹å¯¹è±¡**ï¼š`reflect.TypeOf(v)` â†’ è·å–ç±»å‹ä¿¡æ¯\n2. **æ£€æŸ¥æŒ‡é’ˆç±»å‹**ï¼š`t.Kind() == reflect.Ptr` â†’ æ˜¯å¦ä¸ºæŒ‡é’ˆ\n3. **è§£å¼•ç”¨æŒ‡é’ˆ**ï¼š`t = t.Elem()` â†’ è·å–æŒ‡é’ˆæŒ‡å‘çš„å®é™…ç±»å‹\n4. **è·å–ç±»å‹åç§°**ï¼š`t.Name()` â†’ ç±»å‹çš„å­—ç¬¦ä¸²åç§°\n\n### å…³é”®ç‚¹ï¼š\n\n- `Elem()` ç”¨äºè§£å¼•ç”¨æŒ‡é’ˆï¼Œè·å–å…¶æŒ‡å‘çš„ç±»å‹\n- `Name()` è¿”å›ç±»å‹çš„åç§°ï¼Œå¯¹äºå‘½åç±»å‹æœ‰æ•ˆ\n- å¯¹äºæŒ‡é’ˆç±»å‹ï¼Œéœ€è¦è§£å¼•ç”¨åæ‰èƒ½è·å–å®é™…ç±»å‹çš„åç§°\n- åŒ¿åç±»å‹å’ŒåŸºæœ¬ç±»å‹å¤„ç†éœ€è¦ç‰¹åˆ«æ³¨æ„","tags":["Golang"],"categories":["Golang","åŸºç¡€"]},{"title":"Go_interfaceæ¥å£å¯å®¹çº³çš„å€¼","url":"/2025/06/11/Go-interfaceæ¥å£å¯å®¹çº³çš„å€¼/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>`Go` `[å¯å®¹çº³çš„å€¼]interface{}`æ¥å£å¯å®¹çº³çš„å€¼</strong></font>\n\n<!--more-->\n\n# `map[string]interface{}` çš„å€¼ç±»å‹è¯¦è§£\n\nåœ¨ Go è¯­è¨€ä¸­ï¼Œ`map[string]interface{}` çš„å€¼ç±»å‹å¯ä»¥æ˜¯**ä»»ä½•ç±»å‹**ï¼Œå› ä¸º `interface{}` æ˜¯ç©ºæ¥å£ï¼Œå¯ä»¥å®¹çº³ä»»ä½•å€¼ã€‚ä¸‹é¢æ˜¯æ‰€æœ‰å¯èƒ½çš„ç±»å‹åˆ†ç±»ï¼š\n\n## ğŸ“Š æ‰€æœ‰å¯ç”¨ç±»å‹ä¸€è§ˆ\n\n### 1. åŸºç¡€ç±»å‹\n\n| ç±»å‹         | ç¤ºä¾‹å€¼                         | è¯´æ˜           |\n| ------------ | ------------------------------ | -------------- |\n| `bool`       | `true`                         | å¸ƒå°”å€¼         |\n| `string`     | `\"hello\"`                      | å­—ç¬¦ä¸²         |\n| `int`        | `42`                           | æ•´æ•°           |\n| `int8`       | `int8(100)`                    | 8ä½æ•´æ•°        |\n| `int16`      | `int16(10000)`                 | 16ä½æ•´æ•°       |\n| `int32`      | `int32(1000000)`               | 32ä½æ•´æ•°       |\n| `int64`      | `int64(10000000000)`           | 64ä½æ•´æ•°       |\n| `uint`       | `uint(42)`                     | æ— ç¬¦å·æ•´æ•°     |\n| `uint8`      | `uint8(200)`                   | 8ä½æ— ç¬¦å·æ•´æ•°  |\n| `uint16`     | `uint16(50000)`                | 16ä½æ— ç¬¦å·æ•´æ•° |\n| `uint32`     | `uint32(4000000000)`           | 32ä½æ— ç¬¦å·æ•´æ•° |\n| `uint64`     | `uint64(10000000000000000000)` | 64ä½æ— ç¬¦å·æ•´æ•° |\n| `byte`       | `byte('A')`                    | `uint8` çš„åˆ«å |\n| `rune`       | `rune('ä¸­')`                   | `int32` çš„åˆ«å |\n| `float32`    | `float32(3.14)`                | 32ä½æµ®ç‚¹æ•°     |\n| `float64`    | `3.1415926535`                 | 64ä½æµ®ç‚¹æ•°     |\n| `complex64`  | `complex64(1+2i)`              | 64ä½å¤æ•°       |\n| `complex128` | `2+3i`                         | 128ä½å¤æ•°      |\n\n### 2. å¤åˆç±»å‹\n\n| ç±»å‹                     | ç¤ºä¾‹å€¼                                   | è¯´æ˜         |\n| ------------------------ | ---------------------------------------- | ------------ |\n| `map[string]interface{}` | `map[string]interface{}{\"key\": \"value\"}` | åµŒå¥—æ˜ å°„     |\n| `[]interface{}`          | `[]interface{}{1, \"two\", true}`          | æ··åˆç±»å‹åˆ‡ç‰‡ |\n| `[]string`               | `[]string{\"a\", \"b\", \"c\"}`                | å­—ç¬¦ä¸²åˆ‡ç‰‡   |\n| `[]int`                  | `[]int{1, 2, 3}`                         | æ•´æ•°åˆ‡ç‰‡     |\n| `[3]int`                 | `[3]int{1, 2, 3}`                        | å›ºå®šé•¿åº¦æ•°ç»„ |\n| `chan int`               | `make(chan int)`                         | æ•´æ•°é€šé“     |\n| `func()`                 | `func() { fmt.Println(\"hello\") }`        | å‡½æ•°ç±»å‹     |\n\n### 3. æŒ‡é’ˆç±»å‹\n\n| ç±»å‹             | ç¤ºä¾‹å€¼                    | è¯´æ˜         |\n| ---------------- | ------------------------- | ------------ |\n| `*int`           | `new(int)`                | æ•´æ•°æŒ‡é’ˆ     |\n| `*string`        | `strPtr := new(string)`   | å­—ç¬¦ä¸²æŒ‡é’ˆ   |\n| `*struct{}`      | `&MyStruct{Field: \"val\"}` | ç»“æ„ä½“æŒ‡é’ˆ   |\n| `unsafe.Pointer` | `unsafe.Pointer(&x)`      | é€šç”¨æŒ‡é’ˆç±»å‹ |\n\n### 4. æ¥å£ç±»å‹\n\n| ç±»å‹        | ç¤ºä¾‹å€¼                | è¯´æ˜         |\n| ----------- | --------------------- | ------------ |\n| `error`     | `errors.New(\"error\")` | é”™è¯¯æ¥å£     |\n| `io.Reader` | `os.Stdin`            | è¯»å–å™¨æ¥å£   |\n| è‡ªå®šä¹‰æ¥å£  | `MyInterfaceImpl{}`   | ä»»ä½•æ¥å£å®ç° |\n\n### 5. ç»“æ„ä½“ç±»å‹\n\n| ç±»å‹         | ç¤ºä¾‹å€¼                     | è¯´æ˜             |\n| ------------ | -------------------------- | ---------------- |\n| `time.Time`  | `time.Now()`               | æ—¶é—´ç»“æ„ä½“       |\n| `sync.Mutex` | `sync.Mutex{}`             | äº’æ–¥é”ç»“æ„ä½“     |\n| è‡ªå®šä¹‰ç»“æ„ä½“ | `MyStruct{Field: \"value\"}` | ä»»ä½•è‡ªå®šä¹‰ç»“æ„ä½“ |\n\n### 6. ç‰¹æ®Šç±»å‹\n\n| ç±»å‹            | ç¤ºä¾‹å€¼                | è¯´æ˜     |\n| --------------- | --------------------- | -------- |\n| `nil`           | `nil`                 | ç©ºå€¼     |\n| `reflect.Value` | `reflect.ValueOf(42)` | åå°„å€¼   |\n| `reflect.Type`  | `reflect.TypeOf(\"\")`  | åå°„ç±»å‹ |\n| `big.Int`       | `big.NewInt(1000)`    | å¤§æ•´æ•°   |\n\n## ğŸ§ª ä½¿ç”¨ç¤ºä¾‹\n\n```go\npackage main\n\nimport (\n\t\"encoding/json\"\n\t\"fmt\"\n\t\"math/big\"\n\t\"reflect\"\n\t\"sync\"\n\t\"time\"\n\t\"unsafe\"\n)\n\ntype CustomStruct struct {\n\tName string\n}\n\ntype MyInterface interface {\n\tMethod()\n}\n\ntype MyInterfaceImpl struct{}\n\nfunc (m MyInterfaceImpl) Method() {}\n\nfunc main() {\n\tdata := map[string]interface{}{\n\t\t// åŸºç¡€ç±»å‹\n\t\t\"bool\":       true,\n\t\t\"string\":     \"hello\",\n\t\t\"int\":        42,\n\t\t\"float32\":    float32(3.14),\n\t\t\"complex128\": complex(3, 4),\n\t\t\n\t\t// å¤åˆç±»å‹\n\t\t\"slice\":      []interface{}{1, \"two\", true},\n\t\t\"map\":        map[string]int{\"one\": 1, \"two\": 2},\n\t\t\"array\":      [3]int{1, 2, 3},\n\t\t\"func\":       func() { fmt.Println(\"I'm a function\") },\n\t\t\"chan\":       make(chan int),\n\t\t\n\t\t// æŒ‡é’ˆç±»å‹\n\t\t\"int_ptr\":    new(int),\n\t\t\"struct_ptr\": &CustomStruct{Name: \"pointer\"},\n\t\t\"unsafe_ptr\": unsafe.Pointer(&data),\n\t\t\n\t\t// æ¥å£ç±»å‹\n\t\t\"error\":      fmt.Errorf(\"example error\"),\n\t\t\"reader\":     os.Stdin, // å‡è®¾ os å·²å¯¼å…¥\n\t\t\"interface\":  MyInterfaceImpl{},\n\t\t\n\t\t// ç»“æ„ä½“ç±»å‹\n\t\t\"time\":       time.Now(),\n\t\t\"mutex\":      sync.Mutex{},\n\t\t\"custom\":     CustomStruct{Name: \"value\"},\n\t\t\n\t\t// ç‰¹æ®Šç±»å‹\n\t\t\"nil\":        nil,\n\t\t\"reflect_value\": reflect.ValueOf(42),\n\t\t\"big_int\":    big.NewInt(1000000000000000000),\n\t}\n\n\t// è®¿é—®ä¸åŒç±»å‹çš„å€¼\n\tif f, ok := data[\"float32\"].(float32); ok {\n\t\tfmt.Printf(\"Float32 value: %.2f\\n\", f)\n\t}\n\n\tif m, ok := data[\"map\"].(map[string]int); ok {\n\t\tfmt.Println(\"Map value:\", m)\n\t}\n\n\t// åŠ¨æ€ç±»å‹å¤„ç†\n\tfor key, value := range data {\n\t\tfmt.Printf(\"\\nKey: %-15s | Type: %-20T | Value: %v\", key, value, value)\n\t}\n\n\t// JSON åºåˆ—åŒ–ï¼ˆæ³¨æ„ï¼šéƒ¨åˆ†ç±»å‹ä¸èƒ½åºåˆ—åŒ–ï¼‰\n\tjsonData, _ := json.MarshalIndent(data, \"\", \"  \")\n\tfmt.Println(\"\\n\\nJSON representation:\")\n\tfmt.Println(string(jsonData))\n}\n```\n\n## âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹\n\n1. **ç±»å‹æ–­è¨€**ï¼šä» `interface{}` è·å–å€¼æ—¶å¿…é¡»è¿›è¡Œç±»å‹æ–­è¨€\n\n   ```go\n   if str, ok := myMap[\"key\"].(string); ok {\n       // æ­£ç¡®ä½¿ç”¨å­—ç¬¦ä¸²å€¼\n   }\n   ```\n\n2. **JSON åºåˆ—åŒ–é™åˆ¶**ï¼š\n\n   - é€šé“ã€å‡½æ•°ã€å¾ªç¯å¼•ç”¨çš„ç»“æ„ä½“ä¸èƒ½åºåˆ—åŒ–ä¸º JSON\n   - æŒ‡é’ˆç±»å‹ä¼šåºåˆ—åŒ–ä¸ºå…¶æŒ‡å‘çš„å€¼\n   - `time.Time` ä¼šåºåˆ—åŒ–ä¸º RFC3339 æ ¼å¼å­—ç¬¦ä¸²\n\n3. **æ€§èƒ½è€ƒè™‘**ï¼š\n\n   - ä½¿ç”¨å…·ä½“ç±»å‹æ¯” `interface{}` æ›´é«˜æ•ˆ\n   - é¢‘ç¹æ“ä½œæ—¶è€ƒè™‘å…·ä½“ç±»å‹æˆ–ä»£ç ç”Ÿæˆæ–¹æ¡ˆ\n\n4. **ç±»å‹å®‰å…¨**ï¼š\n\n   ```go\n   // å±é™©ï¼šè¿è¡Œæ—¶å¯èƒ½ panic\n   str := myMap[\"key\"].(string)\n   \n   // å®‰å…¨ï¼šå¸¦æ£€æŸ¥çš„ç±»å‹æ–­è¨€\n   if str, ok := myMap[\"key\"].(string); ok {\n       // å®‰å…¨ä½¿ç”¨\n   }\n   ```\n\n5. **æ›¿ä»£æ–¹æ¡ˆ**ï¼š\n\n   - é€šç”¨ç»“æ„ä½“æ–¹æ¡ˆï¼š\n\n     ```go\n     type GenericValue struct {\n         Type  string\n         Value interface{}\n     }\n     ```\n\n   - ä»£ç ç”Ÿæˆæ–¹æ¡ˆï¼ˆå¦‚ä½¿ç”¨ `stringer` å·¥å…·ï¼‰\n\n   - Protobuf çš„ `Any` ç±»å‹\n\n## ğŸ’¡ æœ€ä½³å®è·µ\n\n1. **ä¼˜å…ˆä½¿ç”¨å…·ä½“ç±»å‹**ï¼šå°½å¯èƒ½ä½¿ç”¨å…·ä½“ç±»å‹è€Œé `interface{}`\n\n   ```go\n   // ä¼˜äº map[string]interface{}\n   map[string]string\n   map[string]int\n   ```\n\n2. **å®šä¹‰è¾¹ç•Œæ¸…æ™°çš„æ¥å£**ï¼š\n\n   ```go\n   type Storage interface {\n       Get(key string) (interface{}, error)\n       Set(key string, value interface{}) error\n   }\n   ```\n\n3. **ä½¿ç”¨ç±»å‹å¼€å…³å¤„ç†å¤šç§ç±»å‹**ï¼š\n\n   ```go\n   func processValue(v interface{}) {\n       switch val := v.(type) {\n       case string:\n           fmt.Println(\"String:\", val)\n       case int:\n           fmt.Println(\"Int:\", val)\n       case func():\n           val()\n       default:\n           fmt.Printf(\"Unhandled type: %T\\n\", val)\n       }\n   }\n   ```\n\n4. **é™åˆ¶å¯æ¥å—ç±»å‹**ï¼š\n\n   ```go\n   var allowedTypes = map[reflect.Kind]bool{\n       reflect.String:  true,\n       reflect.Int:     true,\n       reflect.Float64: true,\n       reflect.Bool:    true,\n   }\n   \n   func ValidateValue(v interface{}) bool {\n       kind := reflect.TypeOf(v).Kind()\n       return allowedTypes[kind]\n   }\n   ```\n\n5. **æ–‡æ¡£åŒ–é¢„æœŸç±»å‹**ï¼š\n\n   ```go\n   // Config holds application configuration\n   // Possible types per key:\n   //   \"timeout\": int (seconds)\n   //   \"debug\": bool\n   //   \"servers\": []string\n   type Config map[string]interface{}\n   ```\n\n## ğŸŒŸ æ€»ç»“\n\n`map[string]interface{}` çš„å€¼å¯ä»¥æ˜¯ Go è¯­è¨€ä¸­çš„**ä»»ä½•ç±»å‹**ï¼ŒåŒ…æ‹¬ï¼š\n\n1. æ‰€æœ‰åŸºç¡€ç±»å‹ï¼ˆbool, æ•°å€¼, å­—ç¬¦ä¸², å¤æ•°ï¼‰\n2. å¤åˆç±»å‹ï¼ˆåˆ‡ç‰‡ã€æ˜ å°„ã€æ•°ç»„ã€é€šé“ã€å‡½æ•°ï¼‰\n3. æŒ‡é’ˆç±»å‹ï¼ˆåŒ…æ‹¬ unsafe æŒ‡é’ˆï¼‰\n4. æ¥å£ç±»å‹ï¼ˆåŒ…æ‹¬ error ç­‰å†…ç½®æ¥å£ï¼‰\n5. ç»“æ„ä½“ç±»å‹ï¼ˆå†…ç½®å’Œè‡ªå®šä¹‰ï¼‰\n6. ç‰¹æ®Šç±»å‹ï¼ˆnil, åå°„å¯¹è±¡, å¤§æ•´æ•°ç­‰ï¼‰\n\nè¿™ç§çµæ´»æ€§ä½¿å…¶æˆä¸ºå¤„ç†åŠ¨æ€æ•°æ®ã€JSON è§£æã€é…ç½®ç®¡ç†å’Œé€šç”¨å­˜å‚¨çš„ç†æƒ³é€‰æ‹©ã€‚ç„¶è€Œï¼Œä½¿ç”¨æ—¶éœ€è¦è°¨æ…å¤„ç†ç±»å‹å®‰å…¨å’Œæ€§èƒ½é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯å¯¹äºæ€§èƒ½æ•æ„Ÿçš„åº”ç”¨ç¨‹åºã€‚","tags":["Golang","æ¥å£"],"categories":["Golang","æ–‡æ¡£"]},{"title":"Go_ORM_mysqlæ•°æ®åº“æ¨¡ç‰ˆ","url":"/2025/06/10/Go-ORM-mysqlæ•°æ®åº“æ¨¡ç‰ˆ/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Go ORM mysqlæ•°æ®åº“æ¨¡ç‰ˆ</strong></font>\n\n<!--more-->\n\n```go\npackage mysql\n\n// go get -u gorm.io/driver/mysql  // å®‰è£…mysql é©±åŠ¨\n// go get -u gorm.io/gorm\nimport (\n    \"fmt\"\n    \"gorm.io/driver/mysql\"\n    \"gorm.io/gorm\"\n    \"gorm.io/gorm/logger\"\n    \"sync\"\n    \"testing\"\n    \"time\"\n)\n\ntype v1Table struct { // éœ€è¦ä¿®æ”¹çš„å­—æ®µæ˜ å°„\n    Id           uint32 `gorm:\"column:id;AUTO_INCREMENT\"`\n    Md5Id        string `gorm:\"column:Md5Id\"`\n    Title        string `gorm:\"column:title\"`\n  \t// åˆ›å»ºæ—¶é—´ - åªåœ¨ç¬¬ä¸€æ¬¡æ’å…¥æ—¶è®¾ç½®\n    InsertTime time.Time `gorm:\"column:InsertTime;autoCreateTime\"`\n    // æ›´æ–°æ—¶é—´ - æ¯æ¬¡æ›´æ–°æ—¶è‡ªåŠ¨æ›´æ–°\n    UpTime       time.Time `gorm:\"column:UpTime;autoUpdateTime\"`\n}\ntype v2Table struct { // éœ€è¦ä¿®æ”¹çš„å­—æ®µæ˜ å°„\n    Id    uint32 `gorm:\"column:id;AUTO_INCREMENT\"`\n    Md5Id string `gorm:\"column:Md5Id\"`\n    Title        string `gorm:\"column:Title\"`        // å…¨åç§°\n    // åˆ›å»ºæ—¶é—´ - åªåœ¨ç¬¬ä¸€æ¬¡æ’å…¥æ—¶è®¾ç½®\n    InsertTime time.Time `gorm:\"column:InsertTime;autoCreateTime\"`\n    // æ›´æ–°æ—¶é—´ - æ¯æ¬¡æ›´æ–°æ—¶è‡ªåŠ¨æ›´æ–°\n    UpTime       time.Time `gorm:\"column:UpTime;autoUpdateTime\"`\n}\n\nfunc (v1Table) TableName() string {\n    return \"v1Table\" // æ•°æ®åº“è¡¨çš„åç§°\n}\n\nfunc (v2Table) TableName() string {\n    return \"v2Table\" // æ•°æ®åº“è¡¨çš„åç§°\n}\n\n// é…ç½®æ•°æ®åº“ å‚æ•°\ntype config struct {\n    user   string\n    pass   string\n    adrr   string\n    port   string\n    dbname string\n}\n\nvar (\n    db     *gorm.DB\n    dbOnce sync.Once // ç¡®ä¿è¿æ¥åªåˆå§‹åŒ–ä¸€æ¬¡\n)\n\n// GetDB è·å–æ•°æ®åº“è¿æ¥å®ä¾‹ (çº¿ç¨‹å®‰å…¨)\nfunc GetDB() *gorm.DB {\n    if db == nil {\n       dbOnce.Do(func() {\n          initDB()\n       })\n    }\n    return db\n}\n\n// initDB åˆå§‹åŒ–æ•°æ®åº“è¿æ¥ (åªæ‰§è¡Œä¸€æ¬¡)\nfunc initDB() {\n    conf := &config{\n       user:   \"TestDBSql\",        // ç”¨æˆ·å\n       pass:   \"msEs3IlksfJi\", // å¯†ç \n       adrr:   \"127.0.0.1\",        // åœ°å€\n       port:   \"3306\",             // ç«¯å£\n       dbname: \"TestDBSql\",        // æ•°æ®åº“åç§°\n    }\n\n    dsn := fmt.Sprintf(\"%s:%s@tcp(%s:%s)/%s?charset=utf8&parseTime=True&loc=Local\",\n       conf.user, conf.pass, conf.adrr, conf.port, conf.dbname)\n\n    var err error\n    db, err = gorm.Open(mysql.Open(dsn), &gorm.Config{\n       Logger: logger.Default.LogMode(logger.Info),\n    })\n\n    if err != nil {\n       panic(\"failed to connect database: \" + err.Error())\n    }\n\n    // ================= æ–°å¢è‡ªåŠ¨è¿ç§»é€»è¾‘ =================\n    // è‡ªåŠ¨åˆ›å»º/æ›´æ–°è¡¨ç»“æ„ï¼ˆæ³¨æ„ï¼šGORMçš„AutoMigrateåªä¼šæ–°å¢å­—æ®µï¼Œä¸ä¼šåˆ é™¤/ä¿®æ”¹å·²æœ‰å­—æ®µï¼‰\n    err = db.AutoMigrate(\n       &VideoTable{},\n       &MhTable{},\n    )\n    if err != nil {\n       panic(\"auto migrate failed: \" + err.Error())\n    }\n\n    // é…ç½®è¿æ¥æ± \n    sqlDB, err := db.DB()\n    if err != nil {\n       panic(\"failed to get underlying sql.DB: \" + err.Error())\n    }\n\n    // è¿æ¥æ± é…ç½®\n    sqlDB.SetMaxIdleConns(10)                  // ç©ºé—²è¿æ¥æ•°\n    sqlDB.SetMaxOpenConns(100)                 // æœ€å¤§æ‰“å¼€è¿æ¥æ•°\n    sqlDB.SetConnMaxLifetime(30 * time.Minute) // è¿æ¥æœ€å¤§å­˜æ´»æ—¶é—´\n}\n\n// æŸ¥è¯¢å†…å®¹\n\n// æŸ¥è¯¢å†…å®¹\nfunc TestClientDb(t *testing.T) {\n    db := GetDB()\n    var V1 v1Table\n    db.Where(\"id = ?\", 1).First(&video)\n    ub := &V1{}\n    err := db.Where(\"Title = ?\", \"æµ‹è¯•\").Find(&ub).Error\n    if err != nil {\n       panic(err)\n    }\n    fmt.Printf(\"userBase:%+v\", ub)\n}\n```\n\n\n\n### ç‰¹åˆ«è¯´æ˜ï¼š\n\n```go\nInsertTime time.Time `gorm:\"column:InsertTime;autoCreateTime\"` \n// autoCreateTime: åªåœ¨è®°å½•åˆ›å»ºæ—¶è‡ªåŠ¨è®¾ç½®å½“å‰æ—¶é—´\n\nUpTime     time.Time `gorm:\"column:UpTime;autoUpdateTime\"`\n// autoUpdateTime: åœ¨åˆ›å»ºå’Œæ›´æ–°æ—¶éƒ½è‡ªåŠ¨è®¾ç½®å½“å‰æ—¶é—´\n```\n\n","tags":["Golang","ORM","mysql"],"categories":["Golang","æ•°æ®åº“"]},{"title":"Go_Gormæ”¯æŒçš„æ•°æ®ç±»å‹","url":"/2025/06/10/Go-Gormæ”¯æŒçš„æ•°æ®ç±»å‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Go_Gormæ”¯æŒçš„æ•°æ®ç±»å‹</strong></font>\n\n<!--more-->\n\nGORM æ”¯æŒå¹¿æ³›çš„ Go æ•°æ®ç±»å‹ï¼Œå¹¶èƒ½è‡ªåŠ¨å°†å®ƒä»¬æ˜ å°„åˆ°å¯¹åº”çš„æ•°æ®åº“ç±»å‹ã€‚ä»¥ä¸‹æ˜¯ GORM æ”¯æŒçš„ä¸»è¦æ•°æ®ç±»å‹åŠå…¶åœ¨å¸¸è§æ•°æ®åº“ï¼ˆå¦‚ MySQLï¼‰ä¸­çš„æ˜ å°„å…³ç³»ï¼š\n\n------\n\n### **åŸºç¡€æ•°æ®ç±»å‹**\n\n| Go ç±»å‹     | MySQL ç±»å‹             | è¯´æ˜                                      |\n| :---------- | :--------------------- | :---------------------------------------- |\n| `bool`      | `TINYINT(1)`           | å¸ƒå°”å€¼ï¼Œtrue=1, false=0                   |\n| `int`       | `INT`                  | 32ä½æ•´æ•°                                  |\n| `int8`      | `TINYINT`              | 8ä½æ•´æ•°                                   |\n| `int16`     | `SMALLINT`             | 16ä½æ•´æ•°                                  |\n| `int32`     | `INT`                  | 32ä½æ•´æ•°                                  |\n| `int64`     | `BIGINT`               | 64ä½æ•´æ•°                                  |\n| `uint`      | `INT UNSIGNED`         | æ— ç¬¦å·32ä½æ•´æ•°                            |\n| `uint8`     | `TINYINT UNSIGNED`     | æ— ç¬¦å·8ä½æ•´æ•°                             |\n| `uint16`    | `SMALLINT UNSIGNED`    | æ— ç¬¦å·16ä½æ•´æ•°                            |\n| `uint32`    | `INT UNSIGNED`         | æ— ç¬¦å·32ä½æ•´æ•°                            |\n| `uint64`    | `BIGINT UNSIGNED`      | æ— ç¬¦å·64ä½æ•´æ•°                            |\n| `float32`   | `FLOAT`                | å•ç²¾åº¦æµ®ç‚¹æ•°                              |\n| `float64`   | `DOUBLE`               | åŒç²¾åº¦æµ®ç‚¹æ•°                              |\n| `string`    | `VARCHAR(255)`         | å­—ç¬¦ä¸²ï¼ˆé»˜è®¤é•¿åº¦255ï¼‰ï¼Œå¯é€šè¿‡æ ‡ç­¾æŒ‡å®šé•¿åº¦ |\n| `[]byte`    | `BLOB`/`LONGBLOB`      | äºŒè¿›åˆ¶æ•°æ®                                |\n| `time.Time` | `DATETIME`/`TIMESTAMP` | æ—¶é—´ç±»å‹ï¼Œé»˜è®¤ç²¾åº¦åˆ°ç§’                    |\n\n------\n\n### **é«˜çº§/ç‰¹æ®Šç±»å‹**\n\n| Go ç±»å‹/ç”¨æ³•                                      | MySQL ç±»å‹          | è¯´æ˜                        |\n| :------------------------------------------------ | :------------------ | :-------------------------- |\n| `*int` / `sql.NullInt64`                          | `INT NULL`          | å¯ç©ºæ•´æ•°                    |\n| `*bool` / `sql.NullBool`                          | `TINYINT(1) NULL`   | å¯ç©ºå¸ƒå°”å€¼                  |\n| `*string` / `sql.NullString`                      | `VARCHAR(255) NULL` | å¯ç©ºå­—ç¬¦ä¸²                  |\n| `*float64` / `sql.NullFloat64`                    | `DOUBLE NULL`       | å¯ç©ºæµ®ç‚¹æ•°                  |\n| `*time.Time` / `sql.NullTime`                     | `DATETIME NULL`     | å¯ç©ºæ—¶é—´                    |\n| `gorm.DeletedAt`                                  | `DATETIME NULL`     | è½¯åˆ é™¤å­—æ®µ                  |\n| `json.RawMessage`                                 | `JSON` (MySQL 5.7+) | JSON æ•°æ®ï¼ˆéœ€è¦æ•°æ®åº“æ”¯æŒï¼‰ |\n| `map[string]interface{}`                          | `JSON`              | JSON å¯¹è±¡                   |\n| `[]string` / `[]int`                              | `JSON`              | æ•°ç»„ï¼ˆåºåˆ—åŒ–ä¸º JSONï¼‰       |\n| `uuid.UUID` (github.com/google/uuid)              | `CHAR(36)`          | UUID ç±»å‹                   |\n| `decimal.Decimal` (github.com/shopspring/decimal) | `DECIMAL(65,30)`    | é«˜ç²¾åº¦åè¿›åˆ¶æ•°              |\n\n------\n\n### **è‡ªå®šä¹‰ç±»å‹å¤„ç†**\n\nGORM æ”¯æŒé€šè¿‡æ¥å£å®ç°è‡ªå®šä¹‰ç±»å‹ï¼š\n\n```go\ntype MyCustomType string\n\n// å®ç° Valuer æ¥å£ - å®šä¹‰å¦‚ä½•å­˜å‚¨åˆ°æ•°æ®åº“\nfunc (m MyCustomType) Value() (driver.Value, error) {\n    return strings.ToUpper(string(m)), nil\n}\n\n// å®ç° Scanner æ¥å£ - å®šä¹‰å¦‚ä½•ä»æ•°æ®åº“è¯»å–\nfunc (m *MyCustomType) Scan(value interface{}) error {\n    if value == nil {\n        *m = \"\"\n        return nil\n    }\n    if v, ok := value.([]byte); ok {\n        *m = MyCustomType(strings.ToLower(string(v)))\n        return nil\n    }\n    return fmt.Errorf(\"cannot convert %T to MyCustomType\", value)\n}\n\ntype User struct {\n    ID   uint\n    Role MyCustomType `gorm:\"type:VARCHAR(10)\"`\n}\n```\n\n------\n\n### **ç±»å‹æ˜ å°„æ§åˆ¶**\n\nå¯ä»¥é€šè¿‡ GORM æ ‡ç­¾ç²¾ç¡®æ§åˆ¶æ•°æ®åº“ç±»å‹ï¼š\n\n```go\ntype Product struct {\n    ID          uint      `gorm:\"primaryKey\"`\n    Name        string    `gorm:\"type:VARCHAR(100);not null\"`\n    Price       float64   `gorm:\"type:DECIMAL(10,2)\"`\n    Description string    `gorm:\"type:TEXT\"`\n    IsActive    bool      `gorm:\"default:true\"`\n    CreatedAt   time.Time `gorm:\"type:TIMESTAMP;default:CURRENT_TIMESTAMP\"`\n    Metadata    JSON      `gorm:\"type:JSON\"`\n}\n\n// è‡ªå®šä¹‰ JSON ç±»å‹\ntype JSON map[string]interface{}\n\nfunc (j JSON) Value() (driver.Value, error) {\n    return json.Marshal(j)\n}\n\nfunc (j *JSON) Scan(value interface{}) error {\n    if value == nil {\n        return nil\n    }\n    b, ok := value.([]byte)\n    if !ok {\n        return errors.New(\"type assertion to []byte failed\")\n    }\n    return json.Unmarshal(b, &j)\n}\n```\n\n------\n\n### **æšä¸¾ç±»å‹å¤„ç†**\n\nè™½ç„¶ Go æ²¡æœ‰åŸç”Ÿæšä¸¾ï¼Œä½†å¯ä»¥é€šè¿‡å­—ç¬¦ä¸²+æ£€æŸ¥å®ç°ï¼š\n\n```go\ntype User struct {\n    ID     uint\n    Status string `gorm:\"type:ENUM('active', 'inactive', 'pending');default:'pending'\"`\n}\n\n// æ·»åŠ æ£€æŸ¥çº¦æŸ\nfunc (u *User) BeforeSave(tx *gorm.DB) (err error) {\n    validStatus := map[string]bool{\"active\": true, \"inactive\": true, \"pending\": true}\n    if !validStatus[u.Status] {\n        return errors.New(\"invalid status value\")\n    }\n    return nil\n}\n```\n\n------\n\n### **è‡ªåŠ¨ç±»å‹æ¨æ–­**\n\nå½“ä½¿ç”¨ `AutoMigrate` æ—¶ï¼ŒGORM ä¼šæ ¹æ® Go ç±»å‹è‡ªåŠ¨åˆ›å»ºåˆé€‚çš„æ•°æ®åº“åˆ—ï¼š\n\n```go\ndb.AutoMigrate(&Product{})\n// ä¼šè‡ªåŠ¨åˆ›å»ºï¼š\n// - VARCHAR(255) for string\n// - BIGINT for int64\n// - FLOAT for float32\n// - DOUBLE for float64\n// - TINYINT(1) for bool\n// - DATETIME for time.Time\n```\n\n------\n\n### **ç‰¹æ®Šæ³¨æ„äº‹é¡¹**\n\n1. **æ—¶é—´ç±»å‹**ï¼š\n\n   - `time.Time` é»˜è®¤æ˜ å°„ä¸º `DATETIME`\n   - ä½¿ç”¨ `gorm:\"type:TIMESTAMP\"` å¯æŒ‡å®šä¸ºæ—¶é—´æˆ³\n   - ä½¿ç”¨ `gorm:\"autoCreateTime\"` / `gorm:\"autoUpdateTime\"` è‡ªåŠ¨ç®¡ç†æ—¶é—´\n\n2. **JSON æ”¯æŒ**ï¼š\n\n   - MySQL 5.7+ åŸç”Ÿæ”¯æŒ JSON ç±»å‹\n   - æ—§ç‰ˆæœ¬å¯åºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸²å­˜å‚¨\n\n3. **é»˜è®¤å€¼**ï¼š\n\n   ```go\n   Active bool `gorm:\"default:true\"`\n   ```\n\n4. **å¤§å°é™åˆ¶**ï¼š\n\n   ```go\n   Description string `gorm:\"size:5000\"` // TEXT ç±»å‹\n   ```\n\n5. **è‡ªå®šä¹‰ç±»å‹æ˜ å°„**ï¼š\n\n   ```go\n   gorm:\"type:MEDIUMTEXT\" // æŒ‡å®šä¸º MEDIUMTEXT\n   ```\n\n------\n\n### **æ•°æ®åº“å·®å¼‚**\n\n| ç±»å‹   | MySQL          | PostgreSQL | SQLite        |\n| :----- | :------------- | :--------- | :------------ |\n| å¸ƒå°”å€¼ | TINYINT(1)     | BOOLEAN    | BOOLEAN       |\n| å¤§æ–‡æœ¬ | LONGTEXT       | TEXT       | TEXT          |\n| æ•°ç»„   | JSON           | ARRAY      | JSON          |\n| JSON   | JSON (5.7+)    | JSONB      | JSON          |\n| æ—¶é—´   | DATETIME       | TIMESTAMP  | DATETIME      |\n| è‡ªå¢ID | AUTO_INCREMENT | SERIAL     | AUTOINCREMENT |\n\nå»ºè®®åœ¨æ¨¡å‹å®šä¹‰ä¸­æ˜¾å¼æŒ‡å®šç±»å‹ä»¥ç¡®ä¿è·¨æ•°æ®åº“å…¼å®¹æ€§ã€‚","tags":["æ•°æ®åº“","Golang","ORM","mysql"],"categories":["Golang","æ•°æ®åº“"]},{"title":"GoLangçš„websocketç¼–ç¨‹","url":"/2025/06/08/GoLangçš„websocketç¼–ç¨‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>GoLangçš„websocketç¼–ç¨‹</strong></font>\n\n<!--more-->\n\n### åç«¯\n\n```go\npackage main\n\nimport (\n\t\"fmt\"\n\t\"github.com/gorilla/websocket\"\n\t\"log\"\n\t\"net/http\"\n\t\"reflect\"\n)\n\nvar upgrader = websocket.Upgrader{\n\tCheckOrigin: func(r *http.Request) bool { return true }, // è§£å†³è·¨åŸŸ\n}\n\nfunc handleWebSocket(w http.ResponseWriter, r *http.Request) {\n\tconn, err := upgrader.Upgrade(w, r, nil) // HTTP å‡çº§ä¸º WebSocket\n\tif err != nil {\n\t\tlog.Println(\"å‡çº§å¤±è´¥:\", err)\n\t\treturn\n\t}\n\tdefer conn.Close()\n\tfor {\n\t\tmsgType, msg, err := conn.ReadMessage() // è¯»å–æ¶ˆæ¯\n\t\tif err != nil {\n\t\t\tlog.Println(\"è¯»å–é”™è¯¯:\", err)\n\t\t\tbreak\n\t\t}\n\t\tfmt.Println(msg)\n\t\tfmt.Println(reflect.TypeOf(msg))\n\t\tfmt.Println(reflect.TypeOf(msgType))\n\t\tlog.Printf(\"æ”¶åˆ°: %s\", msg)\n\t\t// åŸæ ·è¿”å›æ¶ˆæ¯ï¼ˆå®ç° Echo æœåŠ¡ï¼‰\n\t\tif err := conn.WriteMessage(msgType, msg); err != nil {\n\t\t\tlog.Println(\"å‘é€é”™è¯¯:\", err)\n\t\t\tbreak\n\t\t}\n\t}\n}\nfunc main() {\n\thttp.HandleFunc(\"/ws\", handleWebSocket)\n\tlog.Fatal(http.ListenAndServe(\":8080\", nil))\n}\n\n```\n\n### 1ã€æ ¸å¿ƒä»£ç å®ç°\n\n```go\n// å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—èŠ‚åˆ‡ç‰‡ï¼Œæ˜ç¡®æŒ‡å®šä¸ºæ–‡æœ¬æ¶ˆæ¯ç±»å‹\nif err := conn.WriteMessage(websocket.TextMessage, []byte(msg)); err != nil {\n    log.Printf(\"æ¶ˆæ¯æ¨é€å¤±è´¥: %v\", err)\n    // å¯é€‰ï¼šè¿”å›é”™è¯¯ä¿¡æ¯ç»™è°ƒç”¨æ–¹\n    return fmt.Errorf(\"æ¨é€å¤±è´¥: %w\", err)\n}\n\n// websocket.TextMessageï¼šé€‚ç”¨äº UTF-8 ç¼–ç çš„å­—ç¬¦ä¸²ï¼ˆå¦‚ JSON/XMLï¼‰\n// websocket.BinaryMessageï¼šé€‚ç”¨äºäºŒè¿›åˆ¶æ•°æ®ï¼ˆå¦‚å›¾ç‰‡/éŸ³è§†é¢‘ï¼‰\n// å­—ç¬¦ä¸²æ¶ˆæ¯å¿…é¡»ä½¿ç”¨ TextMessage ç±»å‹\n```\n\n### 2ã€é”™è¯¯å¤„ç†ä¼˜åŒ–ï¼š\n\n```go\nif err := conn.WriteMessage(websocket.TextMessage, []byte(msg)); err != nil {\n    // è¯†åˆ«ç‰¹å®šé”™è¯¯ç±»å‹\n    if websocket.IsCloseError(err, websocket.CloseNormalClosure) {\n        return \"è¿æ¥å·²æ­£å¸¸å…³é—­\"\n    }\n    // è®°å½•åŸå§‹é”™è¯¯æ—¥å¿—\n    log.Printf(\"WS_ERR: %v | æ¶ˆæ¯: %s\", err, msg) \n    return \"æœåŠ¡ç¹å¿™ï¼Œè¯·é‡è¯•\"\n}\n\n// åŒºåˆ†è¿æ¥å…³é—­å’Œå‘é€å¤±è´¥åœºæ™¯\n// ç”Ÿäº§ç¯å¢ƒå»ºè®®ç”¨ç»“æ„åŒ–æ—¥å¿—ï¼ˆå¦‚ JSON æ ¼å¼ï¼‰\n```\n\n\n\n## æ¶ˆæ¯æ¨é€ï¼š\n\n### 1ã€è®¾ç½®å­—ç¬¦ä¸²è¿”å›ç±»å‹\n\n```go\n// å‡è®¾msgæ˜¯å­—ç¬¦ä¸²ç±»å‹\nmessage := \"è¿™æ˜¯è¦è¿”å›çš„å­—ç¬¦ä¸²æ¶ˆæ¯\"\n\n// å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—èŠ‚åˆ‡ç‰‡\nmsgBytes := []byte(message)\n\n// å‘é€æ–‡æœ¬æ¶ˆæ¯\nif err := conn.WriteMessage(websocket.TextMessage, msgBytes); err != nil {\n    // é”™è¯¯å¤„ç†\n    log.Println(\"å‘é€æ¶ˆæ¯å¤±è´¥:\", err)\n    // å¯ä»¥é€‰æ‹©æ–­å¼€è¿æ¥æˆ–è¿›è¡Œå…¶ä»–å¤„ç†\n    return\n}\n```\n\n### 2ã€è®¾ç½®`JSON`è¿”å›ç±»å‹\n\n```go\ntype Response struct {\n    Code int    `json:\"code\"`\n    Data string `json:\"data\"`\n}\n\nfunc sendJSON(conn *websocket.Conn, msg string) error {\n    resp := Response{Code: 200, Data: msg}\n    jsonData, _ := json.Marshal(resp)  // åºåˆ—åŒ–ä¸º JSON\n    return conn.WriteMessage(websocket.TextMessage, jsonData)\n}\n```\n\n### 3ã€ å¹¿æ’­æ¶ˆæ¯å®ç°\n\n```go\nvar clients = make(map[*websocket.Conn]bool) // å…¨å±€è¿æ¥æ± \n\nfunc broadcast(msg string) {\n    for client := range clients {\n        go func(c *websocket.Conn) { // å¹¶å‘å‘é€é¿å…é˜»å¡\n            if err := c.WriteMessage(websocket.TextMessage, []byte(msg)); err != nil {\n                delete(clients, c) // ç§»é™¤å¤±æ•ˆè¿æ¥\n            }\n        }(client)\n    }\n}\n```\n\n### âš ï¸ å…³é”®æ³¨æ„äº‹é¡¹\n\n1. **å¹¶å‘å®‰å…¨**\n\n   - ä½¿ç”¨ `sync.Mutex` ä¿æŠ¤å…±äº«èµ„æºï¼ˆå¦‚ `clients` è¿æ¥æ± ï¼‰\n   - é€šé“ä¼ é€’æ¶ˆæ¯é¿å…ç«æ€æ¡ä»¶ï¼š\n\n   ```go\n   type Message struct {\n       Conn *websocket.Conn\n       Text string\n   }\n   msgChan := make(chan Message, 100) // ç¼“å†²é˜Ÿåˆ—\n   ```\n\n2. **æ€§èƒ½ä¼˜åŒ–**\n\n   - å¤§æ¶ˆæ¯ï¼ˆ> 64KBï¼‰å¯ç”¨åˆ†ç‰‡ä¼ è¾“ï¼š\n\n   ```go\n   conn.SetWriteDeadline(time.Now().Add(10 * time.Second)) // è®¾ç½®è¶…æ—¶\n   writer, _ := conn.NextWriter(websocket.TextMessage)\n   io.Copy(writer, bytes.NewReader(largeData)) // æµå¼å†™å…¥\n   writer.Close()\n   ```\n\n   + å¯ç”¨å‹ç¼©å‡å°‘å¸¦å®½ï¼š\n\n   ```go\n   upgrader := websocket.Upgrader{\n       EnableCompression: true, // å¼€å¯å‹ç¼©\n   }\n   ```\n\n   \n\n3. **è¿æ¥ç”Ÿå‘½å‘¨æœŸ**\n\n   - å¿ƒè·³æœºåˆ¶ç»´æŒé•¿è¿æ¥ï¼š\n\n   ```go\n   go func() {\n       for range time.Tick(30 * time.Second) {\n           if err := conn.WriteMessage(websocket.PingMessage, nil); err != nil {\n               return // å¿ƒè·³å¤±è´¥ç»ˆæ­¢è¿æ¥\n           }\n       }\n   }()\n   ```\n\n   ","tags":["websocket","Go"],"categories":["Golang","websocket"]},{"title":"Ubuntu-aptå®‰è£…ffmpegæœ€æ–°ç‰ˆ-ffmpeg6-or-ffmpeg7","url":"/2025/06/04/Ubuntu-aptå®‰è£…ffmpegæœ€æ–°ç‰ˆ-ffmpeg6-or-ffmpeg7/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Ubuntuä½¿ç”¨`apt`å®‰è£…æœ€æ–°ç‰ˆæœ¬`FFmpeg`</strong></font>\n\n<!--more-->\n\n### ç¬¬ä¸€æ­¥ï¼šæ·»åŠ `ppa`æº\n\n```bash\n# äºŒé€‰ä¸€ï¼Œé‡å¤ä½¿ç”¨ä¼šå‡ºç°è¦†ç›–\nsudo add-apt-repository ppa:ubuntuhandbook1/ffmpeg7   # ffmpeg7ç‰ˆæœ¬æº\n# sudo add-apt-repository ppa:ubuntuhandbook1/ffmpeg6   # ffmpeg6ç‰ˆæœ¬æº\n\n# ç§»é™¤æ— æ•ˆçš„ PPAä»“åº“\nsudo add-apt-repository --remove ppa:ubuntuhandbook1/ffmpeg7\nsudo apt update    # æ›´æ–°è½¯ä»¶æºåˆ—è¡¨\n```\n\n### ç¬¬äºŒæ­¥ï¼šæ›´æ–°`apt`ç¼“å­˜\n\n```\nsudo apt update\n```\n\n### ç¬¬ä¸‰æ­¥ï¼šå®‰è£…`ffmpeg`\n\n```bash\nsudo apt install ffmpeg\n\n# # å¦‚æœä¹‹å‰å®‰è£…è¿‡ ï¼šæ›´æ–°ffmpeg\n# sudo apt upgrade ffmpeg    # æ›´æ–°å‘½ä»¤\n```\n\n![img](https://s2.loli.net/2025/06/04/kLrnaDMZRFsJQ75.jpg)","tags":["docker"],"categories":["_A5-å®‰è£…æ•™ç¨‹","ubuntu"]},{"title":"curl_cffiè¯·æ±‚æŒ‡å—","url":"/2025/05/27/curl-cffiè¯·æ±‚æŒ‡å—/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>curl_cffiè¯·æ±‚æŒ‡å—</strong></font>\n\n<!--more-->\n\n### Postæ–¹å¼ï¼š`multipart/form-data`\n\n`\"Content-Type\":\"multipart/form-data\"`\n\n```python\nfrom curl_cffi import requests, CurlMime\nmp = CurlMime()  # è¯¥ç±»æ˜¯ curl_cffiçš„ä¸Šä¼ æ–‡ä»¶ç±»\n\nurl = \"http://192.168.2.3:8080/upload\"  # è¯·æ±‚åœ°å€\n\n# æ–‡æœ¬å†…å®¹ json\npayload = {\n    'save_path': '/data/mp4_file/test3',\n    'md5': '4b9975069087e0f0f9e13bf4111b7a03',\n}\n\n\nwith open(\"/Users/kama/æ°´3.mp4\", \"rb\") as file:\n    data = file.read()\n\n# æ·»åŠ æ–‡ä»¶åˆ° multiple\nmp.addpart(\n    name=\"file\",\n    content_type=\"application/octet-stream\",\n    filename=\"æ°´3.mp4\",\n    data=data,\n)\n\n# å¼€å§‹å‘é€è¯·æ±‚\nresponse = requests.post(url, data=payload, multipart=mp, impersonate=\"chrome120\")\nprint(response.text)\n```\n\n","tags":["request","è¯·æ±‚ç¤ºä¾‹","æŒ‡å—"],"categories":["Python","çˆ¬è™«","Postè¯·æ±‚"]},{"title":"Ubuntué…ç½®å®‰è£…GPUè½¬ç ","url":"/2025/05/26/Ubuntué…ç½®å®‰è£…GPUè½¬ç /","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Ubuntué…ç½®å®‰è£…GPUè½¬ç </strong></font>\n\n<!--more-->\n\n\n\n## ubuntu æµ‹è¯•ä½¿ç”¨ GPU-ffmpeg è½¬ç è§†é¢‘\n\n### é¢å¤–å‘½ä»¤ï¼š\n\n```bash\nlsb_release -a   # æŸ¥çœ‹å‘è¡Œç‰ˆæœ¬åŠä»£å·\nlspci | grep -i vga   # æŸ¥çœ‹æ˜¯å¦å­˜åœ¨gpu\n```\n\n### ç¬¬ä¸€æ­¥ï¼šå®‰è£…ffmpeg\n\n```\napt install ffmpeg\n```\n\n### ç¬¬äºŒæ­¥ï¼š**1. å®‰è£… NVIDIA é©±åŠ¨**\n\n#### (1) æ·»åŠ å®˜æ–¹é©±åŠ¨ä»“åº“å¹¶æ›´æ–°\n\n```bash\nsudo add-apt-repository ppa:graphics-drivers/ppa\nsudo apt update\n```\n\n#### (2) æŸ¥çœ‹æ¨èé©±åŠ¨ç‰ˆæœ¬\n\n```bash\nubuntu-drivers devices\n```\n\nè¾“å‡ºç¤ºä¾‹ï¼š\n\n```bash\n== /sys/devices/pci0000:00/0000:00:02.0/0000:03:00.0 ==\nmodalias : pci:v000010DEd00001C82sv000010DEsd00001C82bc03sc00i00\nvendor   : NVIDIA Corporation\nmodel    : GP107 [GeForce GTX 1050 Ti]\ndriver   : nvidia-driver-570-server - distro non-free\ndriver   : nvidia-driver-550 - distro non-free\ndriver   : nvidia-driver-418-server - distro non-free\ndriver   : nvidia-driver-570 - distro non-free recommended\ndriver   : nvidia-driver-545 - distro non-free\ndriver   : nvidia-driver-535-server - distro non-free\ndriver   : nvidia-driver-535 - distro non-free\ndriver   : nvidia-driver-450-server - distro non-free\ndriver   : nvidia-driver-390 - distro non-free\ndriver   : nvidia-driver-470 - distro non-free\ndriver   : nvidia-driver-470-server - distro non-free\ndriver   : xserver-xorg-video-nouveau - distro free builtin\n\n```\n\n#### (3) å®‰è£…æ¨èçš„é©±åŠ¨ï¼ˆå¦‚ 570 ç‰ˆæœ¬ï¼‰\n\n```bash\nsudo apt install nvidia-driver-570\n```\n\n#### (4) é‡å¯ç³»ç»Ÿ\n\n```bash\nsudo reboot\n```\n\n#### (5) éªŒè¯é©±åŠ¨\n\n```bash\nnvidia-smi\n```\n\næ­£å¸¸è¾“å‡ºåº”æ˜¾ç¤º GPU çŠ¶æ€ï¼š\n\n```\n+---------------------------------------------------------------------------------------+\n| NVIDIA-SMI 535.161.07   Driver Version: 535.161.07   CUDA Version: 12.2     |\n|-----------------------------------------+----------------------+----------------------+\n| GPU  Name                 Persistence-M | Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp   Perf          Pwr:Usage/Cap |         Memory-Usage | GPU-Util  Compute M. |\n|=========================================+======================+======================|\n|   0  NVIDIA GeForce GTX 1050 Ti    Off  | 00000000:03:00.0 Off |                  N/A |\n| 30%   35C    P8              N/A /  75W |      0MiB /  4096MiB |      0%      Default |\n+-----------------------------------------+----------------------+----------------------+\n```\n\n------\n\n### **ç¬¬ä¸‰æ­¥ï¼š å®‰è£… CUDA å·¥å…·åŒ…ï¼ˆå¯é€‰ï¼‰**\n\nå¦‚æœéœ€å¼€å‘ GPU è®¡ç®—åº”ç”¨ï¼ˆå¦‚ AIã€æ·±åº¦å­¦ä¹ ï¼‰ï¼Œå®‰è£… CUDAï¼š\n\n#### (1) è®¿é—® [CUDA Toolkit Archive](https://developer.nvidia.com/cuda-toolkit-archive) é€‰æ‹©ç‰ˆæœ¬ï¼ˆæ¨è CUDA 11.8 æˆ– 12.xï¼‰\n\n#### (2) é€šè¿‡å‘½ä»¤è¡Œå®‰è£…ï¼ˆä»¥ CUDA 12.2 ä¸ºä¾‹ï¼‰\n\n+ è¯¥å‘½ä»¤éœ€è¦å»è‹±ä¼Ÿè¾¾å®˜ç½‘å®æ—¶ç”Ÿæˆï¼š[CUDA Toolkit 12.9 Downloads | NVIDIA Developer](https://developer.nvidia.com/cuda-downloads?target_os=Linux&target_arch=x86_64&Distribution=Ubuntu&target_version=22.04&target_type=deb_local)\n\n```\nwget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64/cuda-ubuntu2204.pin\nsudo mv cuda-ubuntu2204.pin /etc/apt/preferences.d/cuda-repository-pin-600\nwget https://developer.download.nvidia.com/compute/cuda/12.9.0/local_installers/cuda-repo-ubuntu2204-12-9-local_12.9.0-575.51.03-1_amd64.deb\nsudo dpkg -i cuda-repo-ubuntu2204-12-9-local_12.9.0-575.51.03-1_amd64.deb\nsudo cp /var/cuda-repo-ubuntu2204-12-9-local/cuda-*-keyring.gpg /usr/share/keyrings/\nsudo apt-get update\nsudo apt-get -y install cuda-toolkit-12-9\n```\n\n#### (3) æ·»åŠ å˜é‡\n\nè™½ç„¶ç³»ç»Ÿæ˜¾ç¤º `cuda-toolkit-12-9` å·²å®‰è£…ï¼Œä½† `nvcc` çš„è·¯å¾„æœªæ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­ã€‚æ­¤æ—¶éœ€è¦æ‰‹åŠ¨å°† CUDA çš„äºŒè¿›åˆ¶ç›®å½•åŠ å…¥ `PATH`ï¼š\n\n```bash\nexport PATH=/usr/local/cuda/bin:$PATH\nsource ~/.bashrc\n\n## root ç”¨æˆ·æ·»åŠ ç¯å¢ƒå˜é‡\nvim /etc/environment\næ·»åŠ  PATH=\"/usr/local/cuda/bin\"\n```\n\n#### (4) éªŒè¯ CUDA\n\n```bash\nnvcc --version\n```\n\næ­£å¸¸è¾“å‡ºåº”æ˜¾ç¤º CUDA ç‰ˆæœ¬ã€‚\n\n### **ç¬¬å››æ­¥ï¼š éªŒè¯ GPU åŠ é€Ÿæ˜¯å¦ç”Ÿæ•ˆ**\n\n#### 1ã€æ£€æŸ¥ç¼–ç å™¨\n\n```bash\nffmpeg -encoders | grep nvenc\n# åº”è¾“å‡ºåŒ…å« h264_nvenc çš„è¡Œ\n```\n\næ­£å¸¸è¾“å‡ºï¼š\n\n```bash\nroot@R7-13:~# ffmpeg -encoders | grep nvenc\nffmpeg version 4.4.2-0ubuntu0.22.04.1 Copyright (c) 2000-2021 the FFmpeg developers\n  built with gcc 11 (Ubuntu 11.2.0-19ubuntu1)\n  configuration: --prefix=/usr --extra-version=0ubuntu0.22.04.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libdav1d --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librabbitmq --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libsrt --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzimg --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sdl2 --enable-pocketsphinx --enable-librsvg --enable-libmfx --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libx264 --enable-shared\n  libavutil      56. 70.100 / 56. 70.100\n  libavcodec     58.134.100 / 58.134.100\n  libavformat    58. 76.100 / 58. 76.100\n  libavdevice    58. 13.100 / 58. 13.100\n  libavfilter     7.110.100 /  7.110.100\n  libswscale      5.  9.100 /  5.  9.100\n  libswresample   3.  9.100 /  3.  9.100\n  libpostproc    55.  9.100 / 55.  9.100\n V....D h264_nvenc           NVIDIA NVENC H.264 encoder (codec h264)\n V..... nvenc                NVIDIA NVENC H.264 encoder (codec h264)\n V..... nvenc_h264           NVIDIA NVENC H.264 encoder (codec h264)\n V..... nvenc_hevc           NVIDIA NVENC hevc encoder (codec hevc)\n V....D hevc_nvenc           NVIDIA NVENC hevc encoder (codec hevc)\n```\n\n#### 2ã€ç›‘æ§ GPU ä½¿ç”¨æƒ…å†µ\n\n##### 2.1ã€`nvidia-smi` + `watch` ç»„åˆå‘½ä»¤*\n\n```bash\n# æ¯ç§’åˆ·æ–°ä¸€æ¬¡ GPU çŠ¶æ€ï¼Œé€‚åˆå¿«é€ŸæŸ¥çœ‹æ ¸å¿ƒåˆ©ç”¨ç‡ã€æ˜¾å­˜å ç”¨å’Œæ¸©åº¦\nwatch -n 1 nvidia-smi  # Linux/macOS\n```\n\nwindows æ–¹æ¡ˆï¼š\n\n```bash\nwhile ($true) { nvidia-smi; Start-Sleep -Milliseconds 500 }\n```\n\n##### 2.2ã€**`nvtop`ï¼ˆç±» htop å·¥å…·ï¼‰**\n\n```bash\n# æ”¯æŒäº¤äº’å¼æ“ä½œå’ŒåŠ¨æ€æ’åºï¼Œé€‚åˆå¤š GPU æœåŠ¡å™¨\nsudo apt install nvtop  # Ubuntu/Debian\nnvtop\n```\n\n## ç¬¬å››æ­¥ï¼šä½¿ç”¨GPUè½¬ç \n\n```bash\n# æœ¬åœ°æ–‡ä»¶è½¬ç \nffmpeg -nostats -loglevel warning -hwaccel cuda -i ace.mp4 -vf \"scale=720:1270,setsar=1/1\" -c:v h264_nvenc -preset p3 -rc vbr -b:v 0 -cq 23 -multipass fullres -tune hq -c:a aac -r 30 -y 3.mp4\n\n# å¸¦è¯·æ±‚å¤´\nffmpeg -nostats -loglevel warning -hwaccel cuda -headers \"User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36\\r\\nReferer: https://exx.tv/\\r\\n\" -i \"https://xxx.m3u8\" -vf \"scale=720:1270,setsar=1/1\" -c:v h264_nvenc -preset p3 -rc vbr -b:v 0 -cq 23 -multipass fullres -tune hq -c:a aac -r 30 -y 3.mp4\n```\n\n#### å‘½ä»¤è¯¦è§£ï¼š\n\n##### **åŸºç¡€å‚æ•°**\n\n1. **`-nostats`**\n   - **åŠŸèƒ½**ï¼šç¦ç”¨ç¼–ç ç»Ÿè®¡ä¿¡æ¯çš„è¾“å‡ºã€‚\n   - **è¯´æ˜**ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼ŒFFmpeg ä¼šå®æ—¶æ˜¾ç¤ºæ¯”ç‰¹ç‡ã€å¸§æ•°ç­‰ç»Ÿè®¡ä¿¡æ¯ï¼Œæ­¤å‚æ•°å¯å‡å°‘è¾“å‡ºå¹²æ‰°ã€‚\n2. **`-loglevel warning`**\n   - **åŠŸèƒ½**ï¼šè®¾ç½®æ—¥å¿—çº§åˆ«ä¸º `warning`ã€‚\n   - **è¯´æ˜**ï¼šä»…æ˜¾ç¤ºè­¦å‘Šå’Œé”™è¯¯ä¿¡æ¯ï¼ŒæŠ‘åˆ¶å†—ä½™æ—¥å¿—ï¼Œä½¿è¾“å‡ºæ›´ç®€æ´ã€‚\n3. **`-hwaccel cuda`**\n   - **åŠŸèƒ½**ï¼šå¯ç”¨ NVIDIA CUDA ç¡¬ä»¶åŠ é€Ÿè§£ç ã€‚\n   - **è¯´æ˜**ï¼šåˆ©ç”¨ GPU åŠ é€Ÿè§†é¢‘è§£ç æµç¨‹ï¼Œæå‡å¤„ç†é€Ÿåº¦ã€‚\n4. **`-i ace.mp4`**\n   - **åŠŸèƒ½**ï¼šæŒ‡å®šè¾“å…¥æ–‡ä»¶ä¸º `ace.mp4`ã€‚\n\n------\n\n##### **è§†é¢‘å¤„ç†å‚æ•°**\n\n1. **`-vf \"scale=720:1270,setsar=1/1\"`**\n   - **åŠŸèƒ½**ï¼šåº”ç”¨è§†é¢‘æ»¤é•œé“¾ã€‚\n     - **`scale=720:1270`**ï¼šå°†è§†é¢‘ç¼©æ”¾è‡³ `720x1270` åˆ†è¾¨ç‡ï¼ˆæ³¨æ„å®½é«˜æ¯”å¯èƒ½è¢«æ”¹å˜ï¼‰ã€‚\n     - **`setsar=1/1`**ï¼šè®¾ç½®åƒç´ å®½é«˜æ¯”ï¼ˆSample Aspect Ratioï¼‰ä¸º 1:1ï¼Œç¡®ä¿æ–¹å½¢åƒç´ æ˜¾ç¤ºã€‚\n   - **è¯´æ˜**ï¼šè°ƒæ•´åˆ†è¾¨ç‡åéœ€ä¿®æ­£å®½é«˜æ¯”ï¼Œé¿å…æ’­æ”¾æ—¶å˜å½¢ã€‚\n\n------\n\n##### **è§†é¢‘ç¼–ç å‚æ•°**\n\n1. **`-c:v h264_nvenc`**\n   - **åŠŸèƒ½**ï¼šä½¿ç”¨ NVIDIA NVENC ç¡¬ä»¶ç¼–ç å™¨ç”Ÿæˆ H.264 è§†é¢‘æµã€‚\n   - **è¯´æ˜**ï¼šç›¸æ¯” CPU ç¼–ç ï¼ˆå¦‚ `libx264`ï¼‰ï¼Œç¡¬ä»¶ç¼–ç é€Ÿåº¦æ›´å¿«ï¼Œä½†å‹ç¼©æ•ˆç‡ç•¥ä½ã€‚\n2. **`-preset p3`**\n   - **åŠŸèƒ½**ï¼šè®¾ç½®ç¼–ç å™¨é¢„è®¾ä¸º `p3`ã€‚\n   - **è¯´æ˜**ï¼šNVENC é¢„è®¾èŒƒå›´ `p1`ï¼ˆæœ€å¿«ï¼‰åˆ° `p7`ï¼ˆæœ€æ…¢ä½†è´¨é‡æ›´å¥½ï¼‰ï¼Œ`p3` å¹³è¡¡é€Ÿåº¦ä¸è´¨é‡ã€‚\n3. **`-rc vbr`**\n   - **åŠŸèƒ½**ï¼šä½¿ç”¨å¯å˜æ¯”ç‰¹ç‡ï¼ˆVariable Bitrateï¼‰æ§åˆ¶æ¨¡å¼ã€‚\n   - **è¯´æ˜**ï¼šVBR æ ¹æ®å†…å®¹å¤æ‚åº¦åŠ¨æ€åˆ†é…ç ç‡ï¼Œç›¸æ¯” CBRï¼ˆæ’å®šç ç‡ï¼‰æ›´èŠ‚çœå­˜å‚¨ã€‚\n4. **`-b:v 0`**\n   - **åŠŸèƒ½**ï¼šå°†è§†é¢‘ç›®æ ‡æ¯”ç‰¹ç‡è®¾ä¸º `0`ã€‚\n   - **è¯´æ˜**ï¼šåœ¨ `-rc vbr` + `-cq` æ¨¡å¼ä¸‹ï¼Œæ­¤å‚æ•°è¡¨ç¤ºç”±è´¨é‡å‚æ•°ï¼ˆ`-cq`ï¼‰ä¸»å¯¼ç ç‡åˆ†é…ã€‚\n5. **`-cq 23`**\n   - **åŠŸèƒ½**ï¼šè®¾ç½®æ’å®šè´¨é‡æ¨¡å¼çš„è´¨é‡å€¼ä¸º `23`ã€‚\n   - **è¯´æ˜**ï¼šNVENC çš„ `cq` èŒƒå›´é€šå¸¸ä¸º `0`ï¼ˆæ— æŸï¼‰åˆ° `51`ï¼ˆæœ€å·®ï¼‰ï¼Œ`23` æ˜¯å¸¸è§é«˜è´¨é‡é€‰æ‹©ã€‚\n6. **`-multipass fullres`**\n   - **åŠŸèƒ½**ï¼šå¯ç”¨ä¸¤è¶Ÿç¼–ç ï¼ˆTwo-Pass Encodingï¼‰ï¼Œä½¿ç”¨å…¨åˆ†è¾¨ç‡åˆ†æã€‚\n   - **è¯´æ˜**ï¼šé¦–è¶Ÿåˆ†æè§†é¢‘å†…å®¹ï¼Œæ¬¡è¶Ÿä¼˜åŒ–ç ç‡åˆ†é…ï¼Œæå‡å‹ç¼©æ•ˆç‡ï¼ˆéœ€æ›´é«˜è®¡ç®—èµ„æºï¼‰ã€‚\n7. **`-tune hq`**\n   - **åŠŸèƒ½**ï¼šä¼˜åŒ–ç¼–ç å‚æ•°ä»¥è¿½æ±‚é«˜è´¨é‡ã€‚\n   - **è¯´æ˜**ï¼šé€‚ç”¨äºå¯¹ç”»è´¨è¦æ±‚è¾ƒé«˜çš„åœºæ™¯ï¼Œå¯èƒ½ç‰ºç‰²éƒ¨åˆ†ç¼–ç é€Ÿåº¦ã€‚\n\n------\n\n##### **éŸ³é¢‘ä¸å¸§ç‡å‚æ•°**\n\n1. **`-c:a aac`**\n   - **åŠŸèƒ½**ï¼šä½¿ç”¨ AAC ç¼–ç å™¨å‹ç¼©éŸ³é¢‘æµã€‚\n   - **è¯´æ˜**ï¼šAAC æ˜¯é€šç”¨éŸ³é¢‘æ ¼å¼ï¼Œå¹³è¡¡éŸ³è´¨ä¸æ–‡ä»¶å¤§å°ã€‚\n2. **`-r 30`**\n   - **åŠŸèƒ½**ï¼šå¼ºåˆ¶è¾“å‡ºè§†é¢‘å¸§ç‡ä¸º `30 FPS`ã€‚\n   - **è¯´æ˜**ï¼šè‹¥è¾“å…¥å¸§ç‡ä¸ä¸€è‡´ï¼ŒFFmpeg ä¼šé€šè¿‡ä¸¢å¸§æˆ–æ’å¸§é€‚é…ã€‚\n\n------\n\n##### **å…¶ä»–å‚æ•°**\n\n1. **`-y`**\n   - **åŠŸèƒ½**ï¼šè‡ªåŠ¨è¦†ç›–è¾“å‡ºæ–‡ä»¶ï¼ˆ`3.mp4`ï¼‰ï¼Œæ— éœ€ç”¨æˆ·ç¡®è®¤ã€‚\n","tags":["è½¬ç ","gpu","NVIDIA"],"categories":["_A5-å®‰è£…æ•™ç¨‹","ubuntu"]},{"title":"goäº¤å‰ç¼–è¯‘é”™è¯¯:sqliteæ•°æ®åº“","url":"/2025/05/26/goäº¤å‰ç¼–è¯‘é”™è¯¯-sqliteæ•°æ®åº“/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>goäº¤å‰ç¼–è¯‘é”™è¯¯:sqliteæ•°æ®åº“ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>é”™è¯¯å†…å®¹ï¼š</strong></font>\n\n```\n>>> CGO_ENABLED=1 GOOS=linux GOARCH=amd64 go build -o SaveVideo\n# runtime/cgo\nlinux_syscall.c:67:13: error: call to undeclared function 'setresgid'; ISO C99 and later do not support implicit function declarations [-Wimplicit-function-declaration]\nlinux_syscall.c:67:13: note: did you mean 'setregid'?\n/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/unistd.h:593:6: note: 'setregid' declared here\nlinux_syscall.c:73:13: error: call to undeclared function 'setresuid'; ISO C99 and later do not support implicit function declarations [-Wimplicit-function-declaration]\nlinux_syscall.c:73:13: note: did you mean 'setreuid'?\n/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/unistd.h:595:6: note: 'setreuid' declared here\n```\n\n<font color=#f26522 size=5 face=å®‹ä½“><strong>é”™è¯¯è¯´æ˜ï¼š</strong></font>\n\n```\nå—¯ï¼Œç”¨æˆ·é‡åˆ°äº†åœ¨MacOSä¸Šäº¤å‰ç¼–è¯‘åˆ°Linuxæ—¶å‡ºç°çš„CGOé”™è¯¯ã€‚é”™è¯¯ä¿¡æ¯æŒ‡å‡º`setresgid`å’Œ`setresuid`å‡½æ•°æœªå£°æ˜ï¼Œè€Œç³»ç»Ÿå¤´æ–‡ä»¶é‡Œåªæœ‰`setregid`å’Œ`setreuid`ã€‚æˆ‘éœ€è¦ä»”ç»†åˆ†æè¿™ä¸ªé—®é¢˜ï¼Œæ‰¾åˆ°æ ¹æœ¬åŸå› ï¼Œå¹¶æä¾›æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚\n\né¦–å…ˆï¼Œç”¨æˆ·ä½¿ç”¨çš„å‘½ä»¤æ˜¯`CGO_ENABLED=1 GOOS=linux GOARCH=amd64 go build -o SaveVideo`ã€‚ä»–ä»¬å¯ç”¨äº†CGOï¼Œå¹¶ä¸”å°è¯•äº¤å‰ç¼–è¯‘åˆ°Linuxçš„amd64æ¶æ„ã€‚é”™è¯¯æ¥è‡ªCä»£ç ä¸­çš„å‡½æ•°è°ƒç”¨ï¼Œè¯´æ˜åœ¨äº¤å‰ç¼–è¯‘æ—¶ï¼ŒMacOSçš„æœ¬åœ°Cç¼–è¯‘å™¨ï¼ˆå¯èƒ½æ˜¯clangï¼‰åœ¨å°è¯•ç¼–è¯‘é’ˆå¯¹Linuxçš„Cä»£ç æ—¶æ‰¾ä¸åˆ°è¿™äº›å‡½æ•°ã€‚\n\næ¥ä¸‹æ¥ï¼Œæˆ‘éœ€è¦ç¡®è®¤`setresgid`å’Œ`setresuid`åœ¨Linuxä¸­çš„æƒ…å†µã€‚è¿™ä¸¤ä¸ªå‡½æ•°æ˜¯Linuxç‰¹æœ‰çš„ç³»ç»Ÿè°ƒç”¨ï¼Œç”¨äºè®¾ç½®çœŸå®ã€æœ‰æ•ˆå’Œä¿å­˜çš„ç»„IDå’Œç”¨æˆ·IDã€‚åœ¨MacOSçš„æ ‡å‡†åº“ä¸­ï¼Œå¹¶æ²¡æœ‰è¿™ä¸¤ä¸ªå‡½æ•°ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯`setregid`å’Œ`setreuid`ï¼Œè¿™è§£é‡Šäº†ä¸ºä»€ä¹ˆç¼–è¯‘å™¨ä¼šæç¤ºå‡½æ•°æœªå£°æ˜ã€‚\n\nå¯èƒ½çš„åŸå› æ˜¯ï¼Œäº¤å‰ç¼–è¯‘æ—¶ä½¿ç”¨çš„Cç¼–è¯‘å™¨ï¼ˆæ¯”å¦‚MacOSè‡ªå¸¦çš„clangï¼‰é»˜è®¤é“¾æ¥äº†MacOSçš„ç³»ç»Ÿå¤´æ–‡ä»¶ï¼Œè€Œè¿™äº›å¤´æ–‡ä»¶é‡Œæ²¡æœ‰Linuxç‰¹å®šçš„å‡½æ•°å£°æ˜ã€‚å› æ­¤ï¼Œå½“äº¤å‰ç¼–è¯‘åˆ°Linuxæ—¶ï¼Œéœ€è¦ç¡®ä¿ä½¿ç”¨é€‚åˆç›®æ ‡å¹³å°çš„Cåº“å’Œå¤´æ–‡ä»¶ã€‚\n\nè§£å†³æ–¹æ¡ˆæ–¹é¢ï¼Œç”¨æˆ·éœ€è¦å®‰è£…ä¸€ä¸ªé’ˆå¯¹Linuxçš„Cäº¤å‰ç¼–è¯‘å·¥å…·é“¾ï¼Œæ¯”å¦‚muslå·¥å…·é“¾ï¼Œè¿™æ ·åœ¨ç¼–è¯‘æ—¶å¯ä»¥ä½¿ç”¨Linuxå…¼å®¹çš„å¤´æ–‡ä»¶å’Œåº“ã€‚åŒæ—¶ï¼Œå¯èƒ½éœ€è¦æŒ‡å®šä½¿ç”¨musl-gccä½œä¸ºç¼–è¯‘å™¨ï¼Œä»¥ç¡®ä¿æ­£ç¡®çš„å‡½æ•°å£°æ˜å’Œé“¾æ¥ã€‚\n\nå¦å¤–ï¼Œç”¨æˆ·å¯èƒ½éœ€è¦æ£€æŸ¥ä»£ç ä¸­æ˜¯å¦æœ‰ç›´æ¥æˆ–é—´æ¥ä½¿ç”¨è¿™äº›ç³»ç»Ÿè°ƒç”¨çš„æƒ…å†µã€‚å¦‚æœæ˜¯æŸä¸ªä¾èµ–åº“ï¼ˆå¦‚go-sqlite3ï¼‰ä½¿ç”¨äº†è¿™äº›å‡½æ•°ï¼Œå¯èƒ½éœ€è¦æŸ¥çœ‹è¯¥åº“çš„æ–‡æ¡£æˆ–é—®é¢˜åˆ—è¡¨ï¼Œç¡®è®¤æ˜¯å¦æœ‰å·²çŸ¥çš„è·¨å¹³å°ç¼–è¯‘é—®é¢˜ï¼Œæˆ–è€…æ˜¯å¦éœ€è¦ç‰¹å®šçš„ç¼–è¯‘æ ‡ç­¾ã€‚\n\næ€»ç»“æ­¥éª¤åº”è¯¥æ˜¯ï¼šå®‰è£…musläº¤å‰ç¼–è¯‘å·¥å…·é“¾ï¼Œé…ç½®ç¯å¢ƒå˜é‡ä½¿ç”¨æ­£ç¡®çš„ç¼–è¯‘å™¨ï¼Œç¡®ä¿ä¾èµ–åº“çš„å®‰è£…ï¼Œç„¶åé‡æ–°ç¼–è¯‘ã€‚å¦‚æœé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œå¯èƒ½éœ€è¦è¿›ä¸€æ­¥æ£€æŸ¥ä»£ç æˆ–ä¾èµ–åº“çš„å…¼å®¹æ€§ï¼Œæˆ–è€…è€ƒè™‘åœ¨Linuxç¯å¢ƒä¸­è¿›è¡Œç¼–è¯‘ä»¥é¿å…è·¨å¹³å°é—®é¢˜ã€‚\n```\n\n### è§£å†³æ–¹æ¡ˆ\n\næ­¤é”™è¯¯æ˜¯ç”±äºåœ¨ **MacOS ä¸Šäº¤å‰ç¼–è¯‘ Linux å¯æ‰§è¡Œæ–‡ä»¶**æ—¶ï¼ŒC ç¼–è¯‘å™¨ä½¿ç”¨äº† MacOS çš„ç³»ç»Ÿå¤´æ–‡ä»¶ï¼Œè€Œ Linux ç‰¹æœ‰çš„ç³»ç»Ÿè°ƒç”¨ `setresgid` å’Œ `setresuid` æœªåœ¨ MacOS å¤´æ–‡ä»¶ä¸­å£°æ˜ã€‚ä»¥ä¸‹æ˜¯åˆ†æ­¥ä¿®å¤æ–¹æ³•ï¼š\n\n------\n\n#### 1. **å®‰è£… Linux äº¤å‰ç¼–è¯‘å·¥å…·é“¾**\n\néœ€è¦å®‰è£…é’ˆå¯¹ Linux çš„ C ç¼–è¯‘å™¨ï¼ˆå¦‚ `musl-gcc`ï¼‰ï¼Œä»¥æ­£ç¡®è¯†åˆ« Linux ç³»ç»Ÿè°ƒç”¨ã€‚\n\n```bash\n# å®‰è£… musl äº¤å‰ç¼–è¯‘å·¥å…·é“¾ï¼ˆMacOSï¼‰\nbrew install FiloSottile/musl-cross/musl-cross\n```\n\n------\n\n#### 2. **é…ç½®ç¼–è¯‘å‘½ä»¤**\n\næŒ‡å®šä½¿ç”¨ `musl-gcc` ä½œä¸º C ç¼–è¯‘å™¨ï¼Œå¹¶å¯ç”¨é™æ€é“¾æ¥ï¼š\n\n```bash\nCGO_ENABLED=1 \\\nGOOS=linux \\\nGOARCH=amd64 \\\nCC=x86_64-linux-musl-gcc \\\nCXX=x86_64-linux-musl-g++ \\\ngo build -ldflags '-extldflags \"-static\"' -o SaveVideo\n```\n\n------\n\n#### 3. **éªŒè¯é™æ€ç¼–è¯‘**\n\næ£€æŸ¥ç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶æ˜¯å¦ä¸ºé™æ€é“¾æ¥ï¼š\n\n```bash\n# æ£€æŸ¥æ–‡ä»¶ç±»å‹\nfile SaveVideo\n# æœŸæœ›è¾“å‡ºï¼šELF 64-bit LSB executable, x86-64, version 1 (SYSV), statically linked, ...\n\n# æ£€æŸ¥åŠ¨æ€åº“ä¾èµ–ï¼ˆåº”æ— è¾“å‡ºï¼‰\nldd SaveVideo\n```","tags":["é”™è¯¯","ç¼–è¯‘","äº¤å‰ç¼–è¯‘"],"categories":["_A9-é”™è¯¯è§£å†³","Golang"]},{"title":"Goç‰ˆæœ¬ç®¡ç†å·¥å…·goenv-å®‰è£…æ•™ç¨‹","url":"/2025/05/26/Goç‰ˆæœ¬ç®¡ç†å·¥å…·goenv-å®‰è£…æ•™ç¨‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Goç‰ˆæœ¬ç®¡ç†å·¥å…·goenv-å®‰è£…æ•™ç¨‹</strong></font>\n\n<!--more-->\n\n## **goenv**\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**ç‰¹ç‚¹**: è½»é‡çº§ï¼Œç±»ä¼¼ `pyenv` æˆ– `rbenv`ï¼Œé€šè¿‡ç¯å¢ƒå˜é‡ç®¡ç†ç‰ˆæœ¬ã€‚</strong></font>\n\n### å®‰è£…\n\n```bash\ngit clone https://github.com/syndbg/goenv.git ~/.goenv\n# åœ¨ shell é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ï¼ˆå¦‚ ~/.bashrc/zshrcï¼‰:\nexport GOENV_ROOT=\"$HOME/.goenv\"\nexport PATH=\"$GOENV_ROOT/bin:$PATH\"\neval \"$(goenv init -)\"\n```\n\n\n\n### rootç”¨æˆ·å®‰è£…ç¯å¢ƒ\n\n```bash\ngit clone https://github.com/syndbg/goenv.git ~/.goenv\n# ç¼–è¾‘å…¨å±€ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼ˆå½±å“æ‰€æœ‰ç”¨æˆ·ï¼‰\necho 'export GOENV_ROOT=\"/root/.goenv\"' >> /etc/profile.d/goenv.sh\necho 'export PATH=\"$GOENV_ROOT/bin:$PATH\"' >> /etc/profile.d/goenv.sh\necho -e 'if command -v goenv 1>/dev/null 2>&1; then\\n eval \"$(goenv init -)\"\\nfi' >> /etc/profile.d/goenv.sh\n```\n\n\n\n### **å¸¸ç”¨å‘½ä»¤**:\n\n```bash\ngoenv install 1.21.0     # å®‰è£…1.21.0ç‰ˆæœ¬\ngoenv global 1.21.0      # è®¾ç½®å…¨å±€ç‰ˆæœ¬\ngoenv local 1.20.5       # è®¾ç½®å½“å‰ç›®å½•ç‰ˆæœ¬ï¼ˆç”Ÿæˆ .go-version æ–‡ä»¶ï¼‰\ngoenv install --list     # åˆ—å‡ºæ‰€æœ‰å¯å®‰è£…ç‰ˆæœ¬\ngoenv global 1.21.5      # æ‰€æœ‰é¡¹ç›®é»˜è®¤ä½¿ç”¨æ­¤ç‰ˆæœ¬\ngoenv local 1.21.5       # è®¾ç½®å½“å‰ç›®å½•ç‰ˆæœ¬  ç”Ÿæˆ .go-version æ–‡ä»¶ï¼Œä»…å½“å‰ç›®å½•ç”Ÿæ•ˆ\ngoenv shell 1.21.5       # è®¾ç½® Shell ä¼šè¯ç‰ˆæœ¬\ngoenv versions           # æŸ¥çœ‹å·²å®‰è£…ç‰ˆæœ¬\ngoenv uninstall 1.21.5   # å¸è½½ç‰ˆæœ¬\n\n\n## æŸ¥çœ‹å½“å‰ç”Ÿæ•ˆçš„ Go ç‰ˆæœ¬åŠè·¯å¾„\ngoenv version         # æ˜¾ç¤ºå½“å‰ç‰ˆæœ¬åŠæ¥æºï¼ˆå…¨å±€/æœ¬åœ°/Shellï¼‰\ngoenv which go        # æ˜¾ç¤ºå½“å‰ä½¿ç”¨çš„ Go å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„\ngoenv rehash          # åˆ·æ–° Shims ç¼“å­˜\n```\n\n","tags":["go","goenv","ç‰ˆæœ¬ç®¡ç†å·¥å…·"],"categories":["_A5-å®‰è£…æ•™ç¨‹","Golang"]},{"title":"Djangoé…ç½®-channels-WSçš„ASGIæœåŠ¡å™¨","url":"/2025/05/22/Djangoé…ç½®-channels-WSçš„ASGIæœåŠ¡å™¨/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Djangoé…ç½®-channels-WSçš„ASGIæœåŠ¡å™¨</strong></font>\n\n<!--more-->\n\n# ç¯å¢ƒè¯´æ˜ï¼š\n\nè¯¥ç¯å¢ƒå‡ ä¹ç®—æ˜¯ç›®å‰æœ€æ–°çš„ç‰ˆæœ¬çš„asgiæœåŠ¡å™¨äº†\n\n+ ç³»ç»Ÿç¯å¢ƒï¼šMacOSï¼ˆMç³»åˆ—ï¼‰\n\n+ Pythonç‰ˆæœ¬ï¼š`3.12`\n+ Djangoç‰ˆæœ¬ï¼š`5.1.7`\n+ daphneç‰ˆæœ¬ï¼š`4.2.0`\n+ channelsç‰ˆæœ¬ï¼š`4.2.2`\n+ asgirefç‰ˆæœ¬ï¼š`3.8.1`\n\n![image-20250522090858536](https://s2.loli.net/2025/05/22/IktHlRLTXoCMpZq.png)\n\n## é¡¹ç›®ç»“æ„ï¼š\n\n```bash\nâ”œâ”€â”€ MyPorject\nâ”‚Â Â  â”œâ”€â”€ asgi.py\nâ”‚Â Â  â”œâ”€â”€ routing.py\nâ”‚Â Â  â”œâ”€â”€ settings.py\nâ”‚Â Â  â”œâ”€â”€ urls.py\nâ”‚Â Â  â””â”€â”€ wsgi.py\nâ”œâ”€â”€ apps\nâ”‚Â Â  â”œâ”€â”€ __pycache__\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ consumers.cpython-312.pyc\nâ”‚Â Â  â”œâ”€â”€ consumers.pyï¼ˆä½äºä¸»appä¸‹ï¼‰\nâ”‚Â Â  â””â”€â”€ **å…¶ä»–app**\nâ”œâ”€â”€ manage.py\n```\n\n## ç‰¹åˆ«è¯´æ˜ï¼š\n\n<font color=red size=4 face=å®‹ä½“><strong>`channels` å¤§äºÂ 3.0.5 å¿…é¡»é…ç½®`daphne`æˆ–è€…`uvicorn`ä½¿ç”¨</strong></font>\n\n### ç¬¬ä¸€æ­¥ï¼šå®‰è£…å¸¦`è¾¾èŠ™å¦®`çš„ `channels`ç‰ˆæœ¬ï¼Œä»¥åŠå…¶ä»–ç¯å¢ƒ\n\n```bash\npip install channels[daphne]\n# daphne==4.2.0  channels==4.2.2\n\n# å®‰è£…Django\npip install Django==5.1.7\n\n## å®‰è£… asgiref\npip install asgiref==3.8.1\n```\n\n### ç¬¬äºŒæ­¥ï¼šé…ç½® `MyPorject__settings.py`\n\n```python\nINSTALLED_APPS = [\n    \"daphne\",\n    \"å…¶ä»–app\"\n]\n\n## å¼€å¯ ASGIè®¿é—®\nWSGI_APPLICATION = 'MyPorject.wsgi.application'\n# æ·»åŠ  Channels é…ç½®\nASGI_APPLICATION = 'MyPorject.asgi.application'\n```\n\n### ç¬¬ä¸‰æ­¥ï¼šé…ç½® `MyPorject__asgi.py`\n\n```python\nimport os\nfrom channels.routing import ProtocolTypeRouter, URLRouter\nfrom django.core.asgi import get_asgi_application\nfrom . import routing\n\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'MyPorject.settings')\ndjango_asgi_app = get_asgi_application()\n\napplication = ProtocolTypeRouter({\n    \"http\": django_asgi_app,\n    \"websocket\": URLRouter(routing.websocket_urlpatterns)\n})\n```\n\n### ç¬¬å››æ­¥ï¼šæ–°å»º `MyPorject__routing.py`\n\n```python\n# yourapp/routing.py\nfrom django.urls import path, re_path\nfrom apps import consumers\n\nwebsocket_urlpatterns = [\n    # xxxx/ws/x1\n    path('ws', consumers.ChatConsumer.as_asgi()),\n]\n```\n\n### ç¬¬äº”æ­¥ï¼šæ–°å»º `MyPorject__apps__consumers.py`\n\n```python\nfrom channels.generic.websocket import AsyncWebsocketConsumer\nfrom channels.exceptions import StopConsumer\nimport json\n\n\nclass ChatConsumer(AsyncWebsocketConsumer):\n    def __init__(self, *args, **kwargs):\n        super().__init__(*args, **kwargs)\n        self.clientData = None\n        self.SendDataJsonKeys = None\n        \n    async def connect(self):\n        await self.accept()\n    async def disconnect(self, close_code=None):\n        raise StopConsumer()\n    async def receive(self, text_data=None, bytes_data=None):\n        try:\n            # ä¼ é€’å›æ¥çš„å‚æ•°çš„è½¬æ¢\n            self.clientData = json.loads(text_data)\n            print(\"ä¼ é€’è¿‡æ¥å‚æ•°äº†\", self.clientData)\n            self.SendDataJsonKeys = self.clientData.keys()   # è·å–ä¼ é€’ä¸Šæ¥çš„å‚æ•°\n        except Exception as e:\n            if text_data == \"æ–­å¼€\":\n                await self.send(f\"{e}\")\n                await self.send(\"ç½‘ç»œè¿æ¥æ–­å¼€ï¼\")\n                await self.close()\n                return\n\n\n```\n\n","tags":["python","django","ASGIæœåŠ¡å™¨","å¼‚æ­¥WEB"],"categories":["Python","Django_channels"]},{"title":"pythonå®‰è£…æ–¹å¼é›†åˆ(ubuntu)","url":"/2025/05/21/pythonå®‰è£…æ–¹å¼é›†åˆ(ubuntu)/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>pythonå®‰è£…æ–¹å¼é›†åˆ(ubuntu)</strong></font>\n\n<!--more-->\n\n## æ–¹å¼ä¸€ï¼šaptåŒ…ç®¡ç†å™¨æ–¹å¼å®‰è£…ï¼š\n\n### 1ã€è§£é™¤`ä»“åº“é™åˆ¶`\n\n- å®˜æ–¹ä»“åº“çš„ Python ç‰ˆæœ¬é€šå¸¸è¾ƒä¿å®ˆï¼ˆå¦‚ Ubuntu 22.04 é»˜è®¤ä»…æ”¯æŒåˆ° Python 3.10ï¼‰ã€‚\n- è‹¥éœ€æ›´æ–°ç‰ˆæœ¬ï¼ˆå¦‚ Python 3.11/3.12ï¼‰ï¼Œéœ€æ·»åŠ ç¬¬ä¸‰æ–¹ PPA ä»“åº“ï¼š\n\n```bash\n# æ·»åŠ  deadsnakes PPAï¼ˆUbuntu é€‚ç”¨ï¼‰\nsudo add-apt-repository ppa:deadsnakes/ppa\nsudo apt update\n```\n\n### 2ã€æŸ¥çœ‹å¯å®‰è£…pythonç‰ˆæœ¬\n\n```bash\napt list 'python3.*'\n```\n\n### 3ã€å®‰è£…python3.13\n\n```bash\napt install python3.13\n```\n\n### 4ã€è®¾ç½®ç¯å¢ƒ\n\n```bash\n# éªŒè¯å®‰è£…è·¯å¾„\nwhich python3.13\n# è¾“å‡ºç¤ºä¾‹ï¼š/usr/bin/python3.13\npython3.13 -c \"import sys; print(sys.executable)\"\n\n# è®¾ç½®å…¨å±€pythonç‰ˆæœ¬\nln -s /usr/bin/python3.13 /usr/bin/python3 \n```\n\n### 5ã€å®‰è£…pip\n\n+ æ–¹æ³• 1ï¼šä½¿ç”¨ `ensurepip`ï¼ˆæ¨èï¼‰â€”â€” Python å†…ç½®çš„ `ensurepip` æ¨¡å—å¯ç›´æ¥å®‰è£… `pip`ï¼š\n\n```bash\n# ä¸º Python 3.13 å®‰è£… pip\npython3.13 -m ensurepip --upgrade\n```\n\n+ æ–¹æ³• 2ï¼šé€šè¿‡ `get-pip.py` è„šæœ¬ â€”â€” è‹¥ `ensurepip` ä¸å¯ç”¨ï¼ˆå¦‚ç¼–è¯‘æ—¶è¢«ç¦ç”¨ï¼‰ï¼Œæ‰‹åŠ¨ä¸‹è½½å¹¶å®‰è£…ï¼š\n\n```bash\n# ==================== python3.13 å®‰è£…\ncurl -O https://bootstrap.pypa.io/get-pip.py # ä¸‹è½½å®‰è£…è„šæœ¬\npython3.13 get-pip.py    # ä¸º Python 3.13 å®‰è£… pip\nrm get-pip.py    # åˆ é™¤è„šæœ¬ï¼ˆå¯é€‰ï¼‰\n\n\n# ==================== python3.8 å®‰è£…\nsudo apt install python3.8-distutils python3.8-venv\ncurl -O https://bootstrap.pypa.io/pip/3.8/get-pip.py   # ç‰ˆæœ¬å¤ªå° éœ€è¦ä½¿ç”¨ä¸“ç”¨çš„pipå®‰è£…\npython3.13 get-pip.py    # ä¸º Python 3.8 å®‰è£… pip\nrm get-pip.py    # åˆ é™¤è„šæœ¬ï¼ˆå¯é€‰ï¼‰\n```\n\n+ æ–¹æ³• 3ï¼šé€šè¿‡ APT å®‰è£…ï¼ˆéœ€ä»“åº“æ”¯æŒï¼‰â€”â€” è‹¥ Python 3.13 æ¥è‡ªç¬¬ä¸‰æ–¹ä»“åº“ï¼ˆå¦‚ `deadsnakes`ï¼‰ï¼Œå°è¯•å®‰è£…å¯¹åº” `pip`ï¼š\n\n```bash\nsudo apt install python3.13-pip  # å®é™…åŒ…åå¯èƒ½ä¸åŒï¼ˆå¦‚ python3-pipï¼‰\n```\n\npip  pip3  pip3.13\n\n+ ä¿®å¤è·¯å¾„ä¸æƒé™ â€”â€” å®‰è£…åï¼Œ`pip` çš„å¯æ‰§è¡Œæ–‡ä»¶åº”ä½äºï¼š\n\n```bash\n/usr/local/bin/pip3.13    # æ‰‹åŠ¨æˆ– get-pip.py å®‰è£…çš„è·¯å¾„\n/usr/bin/pip3.13          # APT å®‰è£…çš„è·¯å¾„\n```\n\n+ è®¾ç½®å…¨å±€å˜é‡\n\n```bash\nln -s /usr/local/bin/pip3.13 /usr/bin/pip3\n```\n\n\n\n## æ–¹å¼äºŒï¼šPyenvå¤šç‰ˆæœ¬ç®¡ç†æ–¹å¼ï¼š\n\nPyenvç‰ˆæœ¬ä¼˜å…ˆçº§ï¼šShell > Local > Global\n\n### 1ã€æ›´æ–°ç³»ç»Ÿ\n\né¦–å…ˆï¼Œä½ éœ€è¦ç¡®ä¿ä½ çš„ Ubuntu ç³»ç»Ÿæ˜¯æœ€æ–°çš„ã€‚\n\n```bash\nsudo apt update\nsudo apt upgrade\n```\n\n### 2ã€å®‰è£…pyenv å‰ç½®ä¾èµ–\n\nPyENV éœ€è¦ä¸€äº›ä¾èµ–é¡¹æ‰èƒ½æ­£å¸¸å·¥ä½œï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…å®ƒä»¬ã€‚\n\n```shell\nsudo apt-get install build-essential libbz2-dev libncurses5-dev libncursesw5-dev libffi-dev libreadline-dev libssl-dev libsqlite3-dev liblzma-dev zlib1g-dev wget curl llvm libncurses-dev xz-utils git\n\n```\n\n### 3ã€å®‰è£… PyENV\n\næ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå®‰è£… PyENV\n\n```shell\ncurl https://pyenv.run | bash\n```\n\n![Installing PyENV on Ubuntu](https://s2.loli.net/2025/05/21/ihVmX4TtpKM7Jdg.png)\n\n### 4ã€æ›´æ–°Shellé…ç½®\n\n+ `4.1ï¼šï¼ˆérootç”¨æˆ·ï¼‰`\n\nâ€‹\tå®‰è£… PyENV åï¼Œæ‚¨éœ€è¦å°†å…¶æ·»åŠ åˆ° shell é…ç½®ä¸­ï¼Œç¼–è¾‘ **~/.bashrc** æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹è¡Œï¼Œä»¥ä¾¿æ¯æ¬¡æ‰“å¼€ç»ˆç«¯æ—¶å®ƒéƒ½ä¼šåŠ è½½ã€‚\n\n```bash\nexport PATH=\"$HOME/.pyenv/bin:$PATH\"\neval \"$(pyenv init --path)\"\neval \"$(pyenv init -)\"\neval \"$(pyenv virtualenv-init -)\"\n```\n\nâ€‹\tä½¿ç”¨ source å‘½ä»¤ï¼Œä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚\n\n```bash\nsource ~/.bashrc\n```\n\n+ `4.2ã€rootç”¨æˆ·å®‰è£…æ–¹å¼`\n\nâ€‹\tå®‰è£… PyENV åï¼Œæ‚¨éœ€è¦å°†å…¶æ·»åŠ åˆ° shell é…ç½®ä¸­ï¼Œç¼–è¾‘ **~/.bashrc** æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹è¡Œï¼Œä»¥ä¾¿æ¯æ¬¡æ‰“å¼€ç»ˆç«¯æ—¶å®ƒéƒ½ä¼šåŠ è½½ã€‚\n\n```bash\n# ç¼–è¾‘å…¨å±€ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼ˆå½±å“æ‰€æœ‰ç”¨æˆ·ï¼‰\necho 'export PYENV_ROOT=\"/root/.pyenv\"' >> /etc/profile.d/pyenv.sh\necho 'export PATH=\"$PYENV_ROOT/bin:$PATH\"' >> /etc/profile.d/pyenv.sh\necho -e 'if command -v pyenv 1>/dev/null 2>&1; then\\n eval \"$(pyenv init -)\"\\nfi' >> /etc/profile.d/pyenv.sh\n```\n\nâ€‹\tä½¿ç”¨ source å‘½ä»¤ï¼Œä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚\n\n```bash\n# ä½¿é…ç½®ç«‹å³ç”Ÿæ•ˆ\nsource /etc/profile.d/pyenv.sh\n```\n\n\n\n### 5ã€å®‰è£…ä¸åŒçš„pythonç‰ˆæœ¬\n\nç°åœ¨æ‚¨å¯ä»¥å®‰è£…æ‰€éœ€çš„ä»»ä½•ç‰ˆæœ¬çš„ Pythonã€‚ä¾‹å¦‚ï¼Œè¦å®‰è£… Python 3.12\n\n```shell\npyenv install 3.12\n```\n\næˆ–è€…æ‚¨å¯èƒ½éœ€è¦å®‰è£… Python 2.7 ç­‰æ—§ç‰ˆæœ¬\n\n```shell\npyenv install 2.7\n```\n\nåˆ—å‡ºç³»ç»Ÿä¸Šå®‰è£…çš„æ‰€æœ‰ Python ç‰ˆæœ¬\n\n```shell\npyenv install --list\n```\n\n### 6ã€è®¾ç½®å…¨å±€pythonç‰ˆæœ¬\n\næ‚¨å¯ä»¥è®¾ç½®é»˜è®¤ä½¿ç”¨çš„å…¨å±€ Python ç‰ˆæœ¬ï¼Œæ¯”å¦‚å°† Python 3.12 è®¾ç½®ä¸ºå…¨å±€ç‰ˆæœ¬ã€‚\n\n```shell\npyenv global 3.12\n```\n\næŸ¥çœ‹å½“å‰å…¨å±€ Python ç‰ˆæœ¬\n\n```shell\npyenv version\n```\n\n![PyENV Set Default Python Version](https://s2.loli.net/2025/05/21/9xWJdsCVoDtKe2h.png)\n\n### 7ã€è®¾ç½®å…¶ä»–ç‰ˆæœ¬\n\n```shell\n# è¿›å…¥ä½ çš„é¡¹ç›®ç›®å½•\ncd ~/projects/legacy-project\n\n# è®¾ç½®è¯¥ç›®å½•çš„ Python ç‰ˆæœ¬ä¸º 3.8\npyenv local 3.8.12   # å‡è®¾å·²å®‰è£… 3.8.12\n\n# è¿™ä¼šç”Ÿæˆä¸€ä¸ªéšè—æ–‡ä»¶ `.python-version`ï¼Œè®°å½•ç‰ˆæœ¬å·\n\n## éªŒè¯\npyenv shell 3.8.12   # ä¸´æ—¶è®¾ç½®\npython --version      # åº”æ˜¾ç¤º 3.8.12\n\n# é€€å‡ºä¸´æ—¶æ¨¡å¼ï¼ˆæ¢å¤å…¨å±€æˆ–æœ¬åœ°è®¾ç½®ï¼‰\npyenv shell --unset\n\n# æ¢å¤å…¨å±€ç‰ˆæœ¬\ncd ~/projects/legacy-project\nrm .python-version   # åˆ é™¤ç‰ˆæœ¬æ ‡è®°æ–‡ä»¶\n```\n\n### ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒéš”ç¦»é¡¹ç›®ï¼ˆæ¨èï¼‰\n\n```shell\n# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆåŸºäº Python 3.8ï¼‰\npyenv virtualenv 3.8.12 my-legacy-env\n\n# è¿›å…¥é¡¹ç›®ç›®å½•å¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ\ncd ~/projects/legacy-project\npyenv local my-legacy-env  # è‡ªåŠ¨æ¿€æ´»\n\n# éªŒè¯\npython --version  # æ˜¾ç¤º 3.8.12ï¼Œä¸”ç¯å¢ƒç‹¬ç«‹\npip list          # æ˜¾ç¤ºè¯¥ç¯å¢ƒç‹¬ç«‹çš„åŒ…\n\n# é€€å‡ºè™šæ‹Ÿç¯å¢ƒ\npyenv deactivate\n```\n\n### Step 9: éªŒè¯ç‰ˆæœ¬åˆ‡æ¢\n\n```shell\ncd ~  # é€€å‡ºé¡¹ç›®ç›®å½•\npython --version  # åº”æ˜¾ç¤ºå…¨å±€ç‰ˆæœ¬ 3.13.0\n\ncd ~/projects/legacy-project\npython --version  # åº”æ˜¾ç¤ºæœ¬åœ°ç‰ˆæœ¬ 3.8.12 æˆ–è™šæ‹Ÿç¯å¢ƒ\n```\n\n### 11ã€åˆ é™¤pyenvç¯å¢ƒ\n\n+ 1ã€**åˆ é™¤ `pyenv` æœ¬ä½“åŠæ‰€æœ‰ Python ç‰ˆæœ¬**\n\n```bash\n# åˆ é™¤ pyenv æ ¹ç›®å½•ï¼ˆé»˜è®¤è·¯å¾„ï¼‰\nrm -rf ~/.pyenv\n\n# å¦‚æœè‡ªå®šä¹‰è¿‡å®‰è£…è·¯å¾„ï¼ˆé€šè¿‡ PYENV_ROOT å˜é‡ï¼‰ï¼Œåˆ é™¤å¯¹åº”ç›®å½•\n# rm -rf /path/to/your/custom/pyenv\n```\n\n+ 2ã€æ¸…ç† Shell ç¯å¢ƒé…ç½® -- ç¼–è¾‘ä½ çš„ Shell é…ç½®æ–‡ä»¶ï¼ˆæ ¹æ®å®é™…ä½¿ç”¨çš„ Shellï¼‰ï¼š\n\n  - **Bash**ï¼š`~/.bashrc`, `~/.bash_profile`\n  - **Zsh**ï¼š`~/.zshrc`\n  - **Fish**ï¼š`~/.config/fish/config.fish`\n\n  **åˆ é™¤ä»¥ä¸‹å†…å®¹**ï¼š\n\n```bash\n# æŸ¥æ‰¾å¹¶åˆ é™¤ä¸ pyenv ç›¸å…³çš„ä»£ç å—ï¼Œä¾‹å¦‚ï¼š\nexport PYENV_ROOT=\"$HOME/.pyenv\"\nexport PATH=\"$PYENV_ROOT/bin:$PATH\"\neval \"$(pyenv init -)\"\neval \"$(pyenv virtualenv-init -)\"  # å¦‚æœé…ç½®äº†è™šæ‹Ÿç¯å¢ƒæ’ä»¶\n```\n\n+ **3ã€ ç§»é™¤å·²å®‰è£…çš„ Python ç‰ˆæœ¬ï¼ˆå¯é€‰ï¼‰-- å¦‚æœä¹‹å‰é€šè¿‡ `pyenv` å®‰è£…äº†å¤šä¸ª Python ç‰ˆæœ¬ï¼Œå¯æ‰‹åŠ¨åˆ é™¤ï¼š\n\n```bash\n# åˆ é™¤æ‰€æœ‰ç‰ˆæœ¬ï¼ˆé»˜è®¤å®‰è£…è·¯å¾„ï¼‰\nrm -rf ~/.pyenv/versions/*\n\n# å¦‚æœè‡ªå®šä¹‰è¿‡ç‰ˆæœ¬è·¯å¾„ï¼Œåˆ é™¤å¯¹åº”ç›®å½•\n# rm -rf /path/to/your/python/versions\n```\n\n+ 4ã€æ¸…é™¤ç¼“å­˜å’Œä¸´æ—¶æ–‡ä»¶\n\n```bash\nrm -rf ~/.pyenv/cache     # å®‰è£…æ—¶çš„æºç ç¼“å­˜\nrm -f ~/.pyenv/version    # å½“å‰ä½¿ç”¨çš„ Python ç‰ˆæœ¬è®°å½•\n```\n\n+ 5ã€éªŒè¯å¸è½½ -- é‡æ–°å¯åŠ¨ç»ˆç«¯æˆ–æ‰§è¡Œï¼š\n\n```bash\nexec $SHELL\n\n## ç„¶åæ£€æŸ¥å‘½ä»¤æ˜¯å¦å¤±æ•ˆï¼š\npyenv --version      # åº”æç¤º \"command not found\"\nwhich python         # åº”æŒ‡å‘ç³»ç»Ÿé»˜è®¤ Pythonï¼Œè€Œé pyenv è·¯å¾„\n```\n\n+ 6ã€æ®‹ç•™ç¯å¢ƒå˜é‡\n\n```bash\n# å¤šç”¨æˆ·ç¯å¢ƒï¼š\nsudo rm -rf /usr/local/pyenv\n# æ’ä»¶æ¸…ç†ï¼š\nrm -rf ~/.pyenv/plugins\n```\n\n\n\n## æ–¹å¼ä¸‰ï¼šUVæ–¹å¼ï¼š\n\næœ¬æ–‡å‚è€ƒè‡ªï¼š1ã€[ã€Pythonã€‘ä½¿ç”¨uvç®¡ç†pythonè™šæ‹Ÿç¯å¢ƒ_uvç¯å¢ƒpython-CSDNåšå®¢](https://blog.csdn.net/muxuen/article/details/147544307)\n\næœ¬æ–‡å‚è€ƒè‡ªï¼š2ã€[uv ç®€æ˜“å®‰è£…ä¸æ›´æ¢å›½å†…é•œåƒæº_uv å›½å†…æº-CSDNåšå®¢](https://blog.csdn.net/qq_41472205/article/details/145686414)\n\n### 1ã€å®‰è£…uvç®¡ç†å™¨\n\n+ Mac || Linuxå®‰è£…ï¼š\n\n```bash\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n```\n\n+ Windowså®‰è£…ï¼š\n\n```powershell\n# æ–¹å¼1: åœ¨ Windows ä¸Šï¼šä½¿ç”¨ Astral.sh æä¾›çš„å®‰è£…è„šæœ¬\npowershell -ExecutionPolicy ByPass -c \"irm https://astral.sh/uv/install.ps1 | iex\"\n\n# æ–¹å¼2: åœ¨ Windows ä¸Šï¼šä½¿ç”¨ scoop å®‰è£… uv\nscoop install uv\n```\n\n+ pipå®‰è£…æ–¹å¼ï¼š\n\n```bash\npip install uv\n```\n\n+ éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸï¼š\n\n```bash\n# éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ\nuv --help\n\n# æŸ¥çœ‹uvç‰ˆæœ¬\nuv --version\n```\n\n![img](https://s2.loli.net/2025/05/21/K5D4J9ovWYuiejn.jpg)\n\n\n\n### 2ã€å¸è½½uvï¼š\n\n```bash\nuv cache clean\nrm -r \"$(uv python dir)\"\nrm -r \"$(uv tool dir)\"\n\n# mac/linux\nrm ~/.local/bin/uv ~/.local/bin/uvx\n# windows\nrm $HOME.local\\bin\\uv.exe\nrm $HOME.local\\bin\\uvx.exe\n```\n\n\n\n### 3ã€pythonç®¡ç†ï¼š\n\n+ æŸ¥çœ‹pythonå¯ç”¨ç‰ˆæœ¬\n\n```bash\nuv python list\n```\n\n+ å®‰è£…python3.13\n\n```bash\n# æ ‡å‡†å®‰è£…æ–¹å¼\nuv python install 3.13\n\n# å…¶ä»–å®‰è£…Pythonçš„æ–¹å¼å®ç°ï¼Œæ¯”å¦‚PyPyå®ç°çš„python\nuv python install pypy@3.13\n```\n\n+ æŸ¥æ‰¾æŸä¸ªpythonç‰ˆæœ¬çš„è·¯å¾„\n\n```bash\nuv python find 3.10\n# è¾“å‡ºï¼š\n# /Library/Frameworks/Python.framework/Versions/3.10/bin/python3.10\n```\n\n+ é€‰ç”¨pythonç‰ˆæœ¬ï¼ˆåœ¨å…·ä½“çš„æŸä¸ªé¡¹ç›®ä¸­ï¼Œè¿›å…¥é¡¹ç›®ç›®å½•ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŒ‡å®šé€‰ç”¨çš„pythonç‰ˆæœ¬ï¼‰\n\n```bash\nuv python pin ç‰ˆæœ¬å·\n\n# è¿™ä¸ªå‘½ä»¤ä¼šåœ¨æŒ‡å®šç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `.python-version` æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹\n\nuv python pin 3.10\n# è¾“å‡ºï¼š\n# Pinned `.python-version` to `3.10`\n\ncat .python-version\n# è¾“å‡ºï¼š\n# 3.10\n```\n\n### 4ã€åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆé¡¹ç›®ï¼‰\n\n+ æ–¹å¼1ï¼šåˆ›å»ºé¡¹ç›®æœ‰ä¸¤ç§æ–¹å¼ï¼Œç¬¬ä¸€ç§æ–¹å¼ï¼Œå…ˆåˆ›å»ºå¥½é¡¹ç›®ç›®å½•ï¼Œç„¶åè®¾ç½®pythonç‰ˆæœ¬å¹¶åˆå§‹åŒ–uvè™šæ‹Ÿç¯å¢ƒ\n\n```bash\nuv python pin 3.10\nuv init # åˆå§‹åŒ–\n```\n\n+ æ‰§è¡Œäº†uv initä¹‹åï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºå‡ ä¸ªæ–‡ä»¶ï¼ŒåŒæ—¶ä¹Ÿä¼šåœ¨å½“å‰ç›®å½•ä¸‹æ‰§è¡Œgit initåˆ›å»ºå‡ºä¸€ä¸ªæ–°çš„gitä»“åº“æ¥\n\n```bash\n~/data/code/python/test_code                                                                                                      \nâ¯ uv python pin 3.13\nPinned `.python-version` to `3.13`\n\n~/data/code/python/test_code                                                                                                      \nâ¯ uv init           \nInitialized project `test-code`\n\n~/data/code/python/test_code main ?6                                                                                              \nâ¯ ls\nREADME.md      main.py        pyproject.toml\n```\n\n+ æ–¹å¼2ï¼šå¦å¤–ä¸€ä¸ªæ–¹å¼æ˜¯åœ¨initä¹‹åæ·»åŠ ä¸€ä¸ªé¡¹ç›®åï¼Œä¼šè‡ªåŠ¨åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹\n\n```\nuv init é¡¹ç›®å\n```\n\n### 5ã€æ·»åŠ ä¾èµ–\n\n```bash\nuv add ä¾èµ–é¡¹\n\n# æ¯”å¦‚æ·»åŠ requestsåº“\nuv add requests\n\n# è¿˜å¯ä»¥æŒ‡å®šå…·ä½“ç‰ˆæœ¬\nuv add requests==ç‰ˆæœ¬å·\n```\n\næ‰§è¡Œäº†è¿™ä¸ªå‘½ä»¤åï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»º.venvè™šæ‹Ÿç¯å¢ƒç›®å½•ï¼ˆåœ¨vscodeé‡Œé¢å¯ä»¥é€‰æ‹©è¿™ä¸ªç›®å½•ä½œä¸ºè™šæ‹Ÿç¯å¢ƒï¼Œå¦åˆ™ä»£ç è§£æä¼šæœ‰é—®é¢˜ï¼‰ï¼Œå¹¶æ·»åŠ æˆ‘ä»¬è¦çš„ä¾èµ–é¡¹ï¼ŒåŒæ—¶ä¼šæ–°å¢ä¸€ä¸ªuv.lockæ–‡ä»¶ï¼Œç”¨äºå­˜æ”¾ä¾èµ–é¡¹ç‰ˆæœ¬ç›¸å…³çš„ä¿¡æ¯ã€‚pyproject.tomlæ–‡ä»¶ä¸­çš„dependencieså­—æ®µä¹Ÿä¼šåŒ…å«éœ€è¦çš„ä¾èµ–é¡¹ã€‚\n\n```bash\n~/data/code/python/test_code main ?6                                                                                              \nâ¯ uv add requests\nUsing CPython 3.13.1 interpreter at: /opt/homebrew/opt/python@3.13/bin/python3.13\nCreating virtual environment at: .venv\nResolved 6 packages in 13.85s\nPrepared 5 packages in 5.55s\nInstalled 5 packages in 13ms\n + certifi==2025.1.31\n + charset-normalizer==3.4.1\n + idna==3.10\n + requests==2.32.3\n + urllib3==2.4.0\n\n```\n\nè€Œä¸”ï¼Œä»è¿™ä¸ªè¾“å‡ºä¸­ä¹Ÿèƒ½çœ‹åˆ°ï¼Œå®ƒè‡ªåŠ¨ä½¿ç”¨äº†`.python-version`æŒ‡å®šçš„3.13ç‰ˆæœ¬çš„pythonï¼Œå’Œå½“å‰æˆ‘ä»¬å…¨å±€ç›®å½•ä¸‹çš„python3æŒ‡å‘ä»€ä¹ˆç‰ˆæœ¬æ²¡æœ‰å…³ç³»ï¼ˆæˆ‘çš„å…¨å±€python3æŒ‡å‘çš„æ˜¯3.10ç‰ˆæœ¬ï¼‰\n\n###  6ã€è¿è¡Œç¨‹åº\n\nä¾èµ–æ·»åŠ å¥½åï¼Œå°±å¯ä»¥ä½¿ç”¨uvæ¥è¿è¡Œpythonç¨‹åºäº†\n\n```bash\nuv run ç¨‹åºæ–‡ä»¶å [å‘½ä»¤è¡Œå‚æ•°]\n```\n\nuvä¼šè‡ªåŠ¨æŒ‰ç…§æˆ‘ä»¬çš„é…ç½®æ¥è¿è¡Œç¨‹åºï¼Œæ— åºæˆ‘ä»¬æ‰‹åŠ¨ç»´æŠ¤ä¾èµ–é¡¹ï¼Œä¹Ÿä¸éœ€è¦æ‰‹åŠ¨å»sourceå„å¼å„æ ·çš„è™šæ‹Ÿç¯å¢ƒäº†ã€‚\n\n### 7ã€uvxå‘½ä»¤\n\néšç€uvä¸‹è½½çš„è¿˜æœ‰ä¸€ä¸ªuvxå‘½ä»¤ï¼Œuvxå‘½ä»¤æœ¬è´¨ä¸Šæ˜¯uv tool runå‘½ä»¤çš„åˆ«å\n\n```bash\nuvx python main.py\n# ç­‰ä»·äº\nuv run main.py\n# ç­‰ä»·äº\nuv tool run main.py\n```\n\nå®é™…ä¾‹å­ï¼Œå¦‚ä¸‹è¿™ä¸¤ä¸ªå‘½ä»¤æ˜¯ç­‰ä»·çš„\n\n```bash\nâ¯ uvx --directory ~/data/code/python/test_code python main.py\nHello from test-code!\n    \nâ¯ uv tool run --directory ~/data/code/python/test_code python main.py\nHello from test-code!\n\n```\n\n### 8ã€è®¾ç½®ä¸‹è½½åŒ…çš„é•œåƒæº\n\nuvä¸‹è½½ç¬¬ä¸‰æ–¹åº“æœ¬è´¨ä¸Šä¹Ÿæ˜¯é€šè¿‡pypiæºä¸‹è½½çš„ï¼Œæ‰€ä»¥åœ¨å›½å†…ç½‘ç»œç¯å¢ƒä¸­é»˜è®¤é“¾æ¥é€Ÿåº¦ä¼šå¾ˆæ…¢ï¼Œå¯ä»¥åœ¨é¡¹ç›®ç›®å½•çš„`pyproject.toml`ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹æ¥ä½¿ç”¨æ¸…åæº\n\n```bash\n[[tool.uv.index]]\nurl = \"https://pypi.tuna.tsinghua.edu.cn/simple\"\ndefault = true\n```\n\nè¿è¡Œuv addå‘½ä»¤çš„æ—¶å€™ä¹Ÿå¯ä»¥æŒ‡å®šé•œåƒæº\n\n```bash\nuv add --default-index https://pypi.tuna.tsinghua.edu.cn/simple requests\n```\n\nuvä¹Ÿæä¾›äº†å…¨å±€çš„é…ç½®é¡¹ï¼Œå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡`UV_DEFAULT_INDEX`é…ç½®é•œåƒæº\n\n```bash\nexport UV_DEFAULT_INDEX=https://pypi.tuna.tsinghua.edu.cn/simple\n```\n\nå…¨å±€çš„é…ç½®é¡¹ä¼˜å…ˆçº§ä½äº`pyproject.toml`ä¸­é…ç½®çš„é•œåƒæºã€‚å¦‚æœ`pyproject.toml`é‡Œé¢é…ç½®äº†é•œåƒæºï¼Œåˆ™ä¼šä½¿ç”¨`pyproject.toml`çš„é…ç½®ã€‚\n\n","tags":["pythonç®¡ç†å™¨"],"categories":["_A5-å®‰è£…æ•™ç¨‹","Python"]},{"title":"ubuntu22å®‰è£…uvç®¡ç†python","url":"/2025/05/21/ubuntu22å®‰è£…uvç®¡ç†python/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ubuntu22å®‰è£…uvç®¡ç†å™¨</strong></font>\n\n<!--more-->\n\næœ¬æ–‡å‚è€ƒè‡ªï¼š1ã€[ã€Pythonã€‘ä½¿ç”¨uvç®¡ç†pythonè™šæ‹Ÿç¯å¢ƒ_uvç¯å¢ƒpython-CSDNåšå®¢](https://blog.csdn.net/muxuen/article/details/147544307)\n\næœ¬æ–‡å‚è€ƒè‡ªï¼š2ã€[uv ç®€æ˜“å®‰è£…ä¸æ›´æ¢å›½å†…é•œåƒæº_uv å›½å†…æº-CSDNåšå®¢](https://blog.csdn.net/qq_41472205/article/details/145686414)\n\n### 1ã€å®‰è£…uvç®¡ç†å™¨\n\n+ Mac || Linuxå®‰è£…ï¼š\n\n```bash\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n```\n\n+ Windowså®‰è£…ï¼š\n\n```powershell\n# æ–¹å¼1: åœ¨ Windows ä¸Šï¼šä½¿ç”¨ Astral.sh æä¾›çš„å®‰è£…è„šæœ¬\npowershell -ExecutionPolicy ByPass -c \"irm https://astral.sh/uv/install.ps1 | iex\"\n\n# æ–¹å¼2: åœ¨ Windows ä¸Šï¼šä½¿ç”¨ scoop å®‰è£… uv\nscoop install uv\n```\n\n+ pipå®‰è£…æ–¹å¼ï¼š\n\n```bash\npip install uv\n```\n\n+ éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸï¼š\n\n```bash\n# éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ\nuv --help\n\n# æŸ¥çœ‹uvç‰ˆæœ¬\nuv --version\n```\n\n![img](https://s2.loli.net/2025/05/21/iSowqNnKdsv9CbB.jpg)\n\n\n\n### 2ã€å¸è½½uvï¼š\n\n```bash\nuv cache clean\nrm -r \"$(uv python dir)\"\nrm -r \"$(uv tool dir)\"\n\n# mac/linux\nrm ~/.local/bin/uv ~/.local/bin/uvx\n# windows\nrm $HOME.local\\bin\\uv.exe\nrm $HOME.local\\bin\\uvx.exe\n```\n\n\n\n### 3ã€pythonç®¡ç†ï¼š\n\n+ æŸ¥çœ‹pythonå¯ç”¨ç‰ˆæœ¬\n\n```bash\nuv python list\n```\n\n+ å®‰è£…python3.13\n\n```bash\n# æ ‡å‡†å®‰è£…æ–¹å¼\nuv python install 3.13\n\n# å…¶ä»–å®‰è£…Pythonçš„æ–¹å¼å®ç°ï¼Œæ¯”å¦‚PyPyå®ç°çš„python\nuv python install pypy@3.13\n```\n\n+ æŸ¥æ‰¾æŸä¸ªpythonç‰ˆæœ¬çš„è·¯å¾„\n\n```bash\nuv python find 3.10\n# è¾“å‡ºï¼š\n# /Library/Frameworks/Python.framework/Versions/3.10/bin/python3.10\n```\n\n+ é€‰ç”¨pythonç‰ˆæœ¬ï¼ˆåœ¨å…·ä½“çš„æŸä¸ªé¡¹ç›®ä¸­ï¼Œè¿›å…¥é¡¹ç›®ç›®å½•ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŒ‡å®šé€‰ç”¨çš„pythonç‰ˆæœ¬ï¼‰\n\n```bash\nuv python pin ç‰ˆæœ¬å·\n\n# è¿™ä¸ªå‘½ä»¤ä¼šåœ¨æŒ‡å®šç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `.python-version` æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹\n\nuv python pin 3.10\n# è¾“å‡ºï¼š\n# Pinned `.python-version` to `3.10`\n\ncat .python-version\n# è¾“å‡ºï¼š\n# 3.10\n```\n\n### 4ã€åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆé¡¹ç›®ï¼‰\n\n+ æ–¹å¼1ï¼šåˆ›å»ºé¡¹ç›®æœ‰ä¸¤ç§æ–¹å¼ï¼Œç¬¬ä¸€ç§æ–¹å¼ï¼Œå…ˆåˆ›å»ºå¥½é¡¹ç›®ç›®å½•ï¼Œç„¶åè®¾ç½®pythonç‰ˆæœ¬å¹¶åˆå§‹åŒ–uvè™šæ‹Ÿç¯å¢ƒ\n\n```bash\nuv python pin 3.10\nuv init # åˆå§‹åŒ–\n```\n\n+ æ‰§è¡Œäº†uv initä¹‹åï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºå‡ ä¸ªæ–‡ä»¶ï¼ŒåŒæ—¶ä¹Ÿä¼šåœ¨å½“å‰ç›®å½•ä¸‹æ‰§è¡Œgit initåˆ›å»ºå‡ºä¸€ä¸ªæ–°çš„gitä»“åº“æ¥\n\n```bash\n~/data/code/python/test_code                                                                                                      \nâ¯ uv python pin 3.13\nPinned `.python-version` to `3.13`\n\n~/data/code/python/test_code                                                                                                      \nâ¯ uv init           \nInitialized project `test-code`\n\n~/data/code/python/test_code main ?6                                                                                              \nâ¯ ls\nREADME.md      main.py        pyproject.toml\n```\n\n+ æ–¹å¼2ï¼šå¦å¤–ä¸€ä¸ªæ–¹å¼æ˜¯åœ¨initä¹‹åæ·»åŠ ä¸€ä¸ªé¡¹ç›®åï¼Œä¼šè‡ªåŠ¨åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹\n\n```\nuv init é¡¹ç›®å\n```\n\n### 5ã€æ·»åŠ ä¾èµ–\n\n```bash\nuv add ä¾èµ–é¡¹\n\n# æ¯”å¦‚æ·»åŠ requestsåº“\nuv add requests\n\n# è¿˜å¯ä»¥æŒ‡å®šå…·ä½“ç‰ˆæœ¬\nuv add requests==ç‰ˆæœ¬å·\n```\n\næ‰§è¡Œäº†è¿™ä¸ªå‘½ä»¤åï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»º.venvè™šæ‹Ÿç¯å¢ƒç›®å½•ï¼ˆåœ¨vscodeé‡Œé¢å¯ä»¥é€‰æ‹©è¿™ä¸ªç›®å½•ä½œä¸ºè™šæ‹Ÿç¯å¢ƒï¼Œå¦åˆ™ä»£ç è§£æä¼šæœ‰é—®é¢˜ï¼‰ï¼Œå¹¶æ·»åŠ æˆ‘ä»¬è¦çš„ä¾èµ–é¡¹ï¼ŒåŒæ—¶ä¼šæ–°å¢ä¸€ä¸ªuv.lockæ–‡ä»¶ï¼Œç”¨äºå­˜æ”¾ä¾èµ–é¡¹ç‰ˆæœ¬ç›¸å…³çš„ä¿¡æ¯ã€‚pyproject.tomlæ–‡ä»¶ä¸­çš„dependencieså­—æ®µä¹Ÿä¼šåŒ…å«éœ€è¦çš„ä¾èµ–é¡¹ã€‚\n\n```bash\n~/data/code/python/test_code main ?6                                                                                              \nâ¯ uv add requests\nUsing CPython 3.13.1 interpreter at: /opt/homebrew/opt/python@3.13/bin/python3.13\nCreating virtual environment at: .venv\nResolved 6 packages in 13.85s\nPrepared 5 packages in 5.55s\nInstalled 5 packages in 13ms\n + certifi==2025.1.31\n + charset-normalizer==3.4.1\n + idna==3.10\n + requests==2.32.3\n + urllib3==2.4.0\n\n```\n\nè€Œä¸”ï¼Œä»è¿™ä¸ªè¾“å‡ºä¸­ä¹Ÿèƒ½çœ‹åˆ°ï¼Œå®ƒè‡ªåŠ¨ä½¿ç”¨äº†`.python-version`æŒ‡å®šçš„3.13ç‰ˆæœ¬çš„pythonï¼Œå’Œå½“å‰æˆ‘ä»¬å…¨å±€ç›®å½•ä¸‹çš„python3æŒ‡å‘ä»€ä¹ˆç‰ˆæœ¬æ²¡æœ‰å…³ç³»ï¼ˆæˆ‘çš„å…¨å±€python3æŒ‡å‘çš„æ˜¯3.10ç‰ˆæœ¬ï¼‰\n\n###  6ã€è¿è¡Œç¨‹åº\n\nä¾èµ–æ·»åŠ å¥½åï¼Œå°±å¯ä»¥ä½¿ç”¨uvæ¥è¿è¡Œpythonç¨‹åºäº†\n\n```bash\nuv run ç¨‹åºæ–‡ä»¶å [å‘½ä»¤è¡Œå‚æ•°]\n```\n\nuvä¼šè‡ªåŠ¨æŒ‰ç…§æˆ‘ä»¬çš„é…ç½®æ¥è¿è¡Œç¨‹åºï¼Œæ— åºæˆ‘ä»¬æ‰‹åŠ¨ç»´æŠ¤ä¾èµ–é¡¹ï¼Œä¹Ÿä¸éœ€è¦æ‰‹åŠ¨å»sourceå„å¼å„æ ·çš„è™šæ‹Ÿç¯å¢ƒäº†ã€‚\n\n### 7ã€uvxå‘½ä»¤\n\néšç€uvä¸‹è½½çš„è¿˜æœ‰ä¸€ä¸ªuvxå‘½ä»¤ï¼Œuvxå‘½ä»¤æœ¬è´¨ä¸Šæ˜¯uv tool runå‘½ä»¤çš„åˆ«å\n\n```bash\nuvx python main.py\n# ç­‰ä»·äº\nuv run main.py\n# ç­‰ä»·äº\nuv tool run main.py\n```\n\nå®é™…ä¾‹å­ï¼Œå¦‚ä¸‹è¿™ä¸¤ä¸ªå‘½ä»¤æ˜¯ç­‰ä»·çš„\n\n```bash\nâ¯ uvx --directory ~/data/code/python/test_code python main.py\nHello from test-code!\n    \nâ¯ uv tool run --directory ~/data/code/python/test_code python main.py\nHello from test-code!\n\n```\n\n### 8ã€è®¾ç½®ä¸‹è½½åŒ…çš„é•œåƒæº\n\nuvä¸‹è½½ç¬¬ä¸‰æ–¹åº“æœ¬è´¨ä¸Šä¹Ÿæ˜¯é€šè¿‡pypiæºä¸‹è½½çš„ï¼Œæ‰€ä»¥åœ¨å›½å†…ç½‘ç»œç¯å¢ƒä¸­é»˜è®¤é“¾æ¥é€Ÿåº¦ä¼šå¾ˆæ…¢ï¼Œå¯ä»¥åœ¨é¡¹ç›®ç›®å½•çš„`pyproject.toml`ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹æ¥ä½¿ç”¨æ¸…åæº\n\n```bash\n[[tool.uv.index]]\nurl = \"https://pypi.tuna.tsinghua.edu.cn/simple\"\ndefault = true\n```\n\nè¿è¡Œuv addå‘½ä»¤çš„æ—¶å€™ä¹Ÿå¯ä»¥æŒ‡å®šé•œåƒæº\n\n```bash\nuv add --default-index https://pypi.tuna.tsinghua.edu.cn/simple requests\n```\n\nuvä¹Ÿæä¾›äº†å…¨å±€çš„é…ç½®é¡¹ï¼Œå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡`UV_DEFAULT_INDEX`é…ç½®é•œåƒæº\n\n```bash\nexport UV_DEFAULT_INDEX=https://pypi.tuna.tsinghua.edu.cn/simple\n```\n\nå…¨å±€çš„é…ç½®é¡¹ä¼˜å…ˆçº§ä½äº`pyproject.toml`ä¸­é…ç½®çš„é•œåƒæºã€‚å¦‚æœ`pyproject.toml`é‡Œé¢é…ç½®äº†é•œåƒæºï¼Œåˆ™ä¼šä½¿ç”¨`pyproject.toml`çš„é…ç½®ã€‚","tags":["pyenv"],"categories":["_A5-å®‰è£…æ•™ç¨‹","ubuntu"]},{"title":"DrissionPageè¯´æ˜æ–‡æ¡£","url":"/2025/05/06/DrissionPageè¯´æ˜æ–‡æ¡£/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>DrissionPageè¯´æ˜æ–‡æ¡£</strong></font>\n\n<!--more-->\n\n```\nbrowser.new_tab()    # åˆ›å»ºæ–°çš„æ ‡ç­¾é¡µ\nbrowser.tab_ids      # è·å–tabs çš„idå€¼\np = browser.get_tab(\"338350AA707BE2F467619372FD14CF03\")    # èµ‹äºˆp ä¸ºå½“å‰tabidçš„æ ‡ç­¾\nbrowser.new_tab(tab_id=\"E0D226A87D3\")\n_ChromeClient.set.cookies.clear()   # è¯¥æ–¹æ³•ä¸èƒ½ç”¨äºæ ‡ç­¾é¡µ\np.close()   # å…³é—­æ ‡ç­¾é¡µ\n```\n\n","tags":["æµè§ˆå™¨","è¯´æ˜","æ–‡æ¡£"],"categories":["DrissionPage","æ–‡æ¡£"]},{"title":"windowså®‰è£…é…ç½®pyenv","url":"/2025/05/03/windowså®‰è£…é…ç½®pyenv/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>windowså®‰è£…é…ç½®pyenv</strong></font>\n\n<!--more-->\n\næ ¹æ®å®˜æ–¹æ–‡æ¡£çš„å‘½ä»¤ï¼š\n\n##### ç¬¬ä¸€æ­¥ï¼š`Windows PowerShell` æ‰§è¡Œ\n\n```powershell\n# è§£å†³ windows è¿è¡Œç­–ç•¥  ç­–ç•¥ ç¦æ­¢ç¨‹åºè¿è¡Œè„šæœ¬\nset-ExecutionPolicy RemoteSigned\n```\n\n##### ç¬¬äºŒæ­¥ï¼š\n\n```powershell\nInvoke-WebRequest -UseBasicParsing -Uri \"https://raw.githubusercontent.com/pyenv-win/pyenv-win/master/pyenv-win/install-pyenv-win.ps1\" -OutFile \"./install-pyenv-win.ps1\"; &\"./install-pyenv-win.ps1\"\n```\n\nç›´æ¥æ‰§è¡Œè¯¥å‘½ä»¤å¯èƒ½ä¼šå‡ºç°é”™è¯¯ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•ï¼š\n\n- è¿›å…¥[pyenv-winé…ç½®æ–‡ä»¶](https://raw.githubusercontent.com/pyenv-win/pyenv-win/master/pyenv-win/install-pyenv-win.ps1)çš„ä¸‹è½½åœ°å€ ï¼Œå°†è¯¥åä¸º`install-pyenv-win.ps1`çš„é…ç½®æ–‡ä»¶ä¸‹è½½è‡³ç”µè„‘æŸç›®å½•(å¦‚`D:\\pyenv`)\n- å°†è„šæœ¬æ–‡ä»¶ä¸‹è½½å®Œæˆåï¼Œåœ¨ç»ˆç«¯(`PowerShell`) ä¸­ï¼Œä½¿ç”¨cdå‘½ä»¤åˆ‡æ¢åˆ°ä¿å­˜è¯¥è„šæœ¬æ–‡ä»¶çš„ç›®å½•ï¼Œç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ‰§è¡Œè„šæœ¬\n\n```bash\n./install-pyenv-win.ps1\n```\n\n- æ‰§è¡Œå®Œæˆåï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ç¡®è®¤æ˜¯å¦å®‰è£…æˆåŠŸï¼š\n\n```bash\npyenv --version\n```\n\næ˜¾ç¤ºä»¥ä¸‹ç”»é¢ï¼Œè¯´æ˜å®‰è£…æˆåŠŸï¼š\n\n![img](https://s2.loli.net/2025/05/03/kTM8bmwgpzqLl9Q.webp)\n\n### **åŸºæœ¬ä½¿ç”¨**\n\n#### æŸ¥çœ‹å¯å®‰è£…çš„ Python ç‰ˆæœ¬\n\n```bash\npyenv install --list\n```\n\n#### å®‰è£…æŒ‡å®š Python ç‰ˆæœ¬ï¼ˆå¦‚ 3.11.4ï¼‰\n\n```bash\npyenv install 3.11.4\n```\n\n#### è®¾ç½®å…¨å±€é»˜è®¤ Python\n\n```bash\npyenv global 3.11.4\n```\n\n#### éªŒè¯ Python ç‰ˆæœ¬\n\n```bash\npython --version\n```\n","tags":["docker"],"categories":["_A5-å®‰è£…æ•™ç¨‹","windows"]},{"title":"NVMã€Pyenvå®‰è£…çš„ç¨‹åºï¼Œåœ¨å®å¡”é¢æ¿ä¸­æ— æ³•è¯†åˆ«è§£å†³æ–¹æ¡ˆ","url":"/2025/05/02/NVMã€Pyenvå®‰è£…çš„ç¨‹åºï¼Œåœ¨å®å¡”é¢æ¿ä¸­æ— æ³•è¯†åˆ«è§£å†³æ–¹æ¡ˆ/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>NVMã€Pyenvå®‰è£…çš„ç¨‹åºï¼Œåœ¨å®å¡”é¢æ¿ä¸­æ— æ³•è¯†åˆ«è§£å†³æ–¹æ¡ˆ</strong></font>\n\n<!--more-->\n\nå°† `nvm` å®‰è£…çš„ Node.js è½¯é“¾æ¥åˆ°ç³»ç»Ÿå…¨å±€è·¯å¾„ `/usr/bin`ï¼š\n\n```shell\nsudo ln -s ~/.nvm/versions/node/v18.14.2/bin/node /usr/bin/node\nsudo ln -s ~/.nvm/versions/node/v18.14.2/bin/npm /usr/bin/npm\nsudo ln -s ~/.nvm/versions/node/v18.14.2/bin/npx /usr/bin/npx\n```\n\n**éªŒè¯**ï¼š\n\n```shell\nwhich node  # åº”è¾“å‡º /usr/bin/node\n```\n\n\n\n### Pyenvçš„å¤„ç†ä¸NVMçš„å¤„ç†ç±»ä¼¼","tags":["Pyenv","NVM"],"categories":["_A5-å®‰è£…æ•™ç¨‹","Node"]},{"title":"ubuntu-éƒ¨ç½²Pyenv-å¹¶ä½¿ç”¨ä¸åŒç¯å¢ƒ","url":"/2025/04/28/ubuntu-éƒ¨ç½²Pyenv-å¹¶ä½¿ç”¨ä¸åŒç¯å¢ƒ/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ubuntu éƒ¨ç½²Pyenv å¹¶ä½¿ç”¨ä¸åŒç¯å¢ƒ</strong></font>\n\n<!--more-->\n\n# Pyenvç‰ˆæœ¬ä¼˜å…ˆçº§ï¼šShell > Local > Global\n\n### Step 1: Update Your System\n\né¦–å…ˆï¼Œä½ éœ€è¦ç¡®ä¿ä½ çš„ Ubuntu ç³»ç»Ÿæ˜¯æœ€æ–°çš„ã€‚\n\n```bash\nsudo apt update\nsudo apt upgrade\n```\n\n### Step 2: Install Prerequisites\n\nPyENV éœ€è¦ä¸€äº›ä¾èµ–é¡¹æ‰èƒ½æ­£å¸¸å·¥ä½œï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…å®ƒä»¬ã€‚\n\n```shell\nsudo apt-get install build-essential libbz2-dev libncurses5-dev libncursesw5-dev libffi-dev libreadline-dev libssl-dev libsqlite3-dev liblzma-dev zlib1g-dev wget curl llvm libncurses-dev xz-utils git\n\n```\n\n### Step 3: Install PyENV\n\næ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå®‰è£… PyENV\n\n```shell\ncurl https://pyenv.run | bash\n```\n\n![Installing PyENV on Ubuntu](https://s2.loli.net/2025/04/28/A6ftuGO3xJBviVI.png)\n\n### Step 4: Update Your Shell Configuration\n\nå®‰è£… PyENV åï¼Œæ‚¨éœ€è¦å°†å…¶æ·»åŠ åˆ° shell é…ç½®ä¸­ï¼Œç¼–è¾‘ **~/.bashrc** æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹è¡Œï¼Œä»¥ä¾¿æ¯æ¬¡æ‰“å¼€ç»ˆç«¯æ—¶å®ƒéƒ½ä¼šåŠ è½½ã€‚\n\n```bash\nexport PATH=\"$HOME/.pyenv/bin:$PATH\"\neval \"$(pyenv init --path)\"\neval \"$(pyenv init -)\"\neval \"$(pyenv virtualenv-init -)\"\n```\n\nä½¿ç”¨ source å‘½ä»¤ï¼Œä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚\n\n```bash\nsource ~/.bashrc\n```\n\n### Step 4: Update Your Shell Configuration(rootç”¨æˆ·å®‰è£…æ–¹å¼)\n\nå®‰è£… PyENV åï¼Œæ‚¨éœ€è¦å°†å…¶æ·»åŠ åˆ° shell é…ç½®ä¸­ï¼Œç¼–è¾‘ **~/.bashrc** æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹è¡Œï¼Œä»¥ä¾¿æ¯æ¬¡æ‰“å¼€ç»ˆç«¯æ—¶å®ƒéƒ½ä¼šåŠ è½½ã€‚\n\n```bash\n# ç¼–è¾‘å…¨å±€ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼ˆå½±å“æ‰€æœ‰ç”¨æˆ·ï¼‰\necho 'export PYENV_ROOT=\"/root/.pyenv\"' >> /etc/profile.d/pyenv.sh\necho 'export PATH=\"$PYENV_ROOT/bin:$PATH\"' >> /etc/profile.d/pyenv.sh\necho -e 'if command -v pyenv 1>/dev/null 2>&1; then\\n eval \"$(pyenv init -)\"\\nfi' >> /etc/profile.d/pyenv.sh\n```\n\nä½¿ç”¨ source å‘½ä»¤ï¼Œä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚\n\n```bash\n# ä½¿é…ç½®ç«‹å³ç”Ÿæ•ˆ\nsource /etc/profile.d/pyenv.sh\n```\n\n\n\n### Step 5: Install Python Versions\n\nç°åœ¨æ‚¨å¯ä»¥å®‰è£…æ‰€éœ€çš„ä»»ä½•ç‰ˆæœ¬çš„ Pythonã€‚ä¾‹å¦‚ï¼Œè¦å®‰è£… Python 3.12\n\n```shell\npyenv install 3.12\n```\n\næˆ–è€…æ‚¨å¯èƒ½éœ€è¦å®‰è£… Python 2.7 ç­‰æ—§ç‰ˆæœ¬\n\n```shell\npyenv install 2.7\n```\n\nåˆ—å‡ºç³»ç»Ÿä¸Šå®‰è£…çš„æ‰€æœ‰ Python ç‰ˆæœ¬\n\n```shell\npyenv install --list\n```\n\n### Step 6: Set a Global Python Version\n\næ‚¨å¯ä»¥è®¾ç½®é»˜è®¤ä½¿ç”¨çš„å…¨å±€ Python ç‰ˆæœ¬ï¼Œæ¯”å¦‚å°† Python 3.12 è®¾ç½®ä¸ºå…¨å±€ç‰ˆæœ¬ã€‚\n\n```shell\npyenv global 3.12\n```\n\næŸ¥çœ‹å½“å‰å…¨å±€ Python ç‰ˆæœ¬\n\n```shell\npyenv version\n```\n\n![PyENV Set Default Python Version](https://s2.loli.net/2025/04/28/aWyE9BJAwHVMdmT.png)\n\n### Step 7: è®¾ç½®å…¶ä»–ç‰ˆæœ¬\n\n```shell\n# è¿›å…¥ä½ çš„é¡¹ç›®ç›®å½•\ncd ~/projects/legacy-project\n\n# è®¾ç½®è¯¥ç›®å½•çš„ Python ç‰ˆæœ¬ä¸º 3.8\npyenv local 3.8.12   # å‡è®¾å·²å®‰è£… 3.8.12\n\n# è¿™ä¼šç”Ÿæˆä¸€ä¸ªéšè—æ–‡ä»¶ `.python-version`ï¼Œè®°å½•ç‰ˆæœ¬å·\n\n## éªŒè¯\npyenv shell 3.8.12   # ä¸´æ—¶è®¾ç½®\npython --version      # åº”æ˜¾ç¤º 3.8.12\n\n# é€€å‡ºä¸´æ—¶æ¨¡å¼ï¼ˆæ¢å¤å…¨å±€æˆ–æœ¬åœ°è®¾ç½®ï¼‰\npyenv shell --unset\n\n# æ¢å¤å…¨å±€ç‰ˆæœ¬\ncd ~/projects/legacy-project\nrm .python-version   # åˆ é™¤ç‰ˆæœ¬æ ‡è®°æ–‡ä»¶\n```\n\n### Step 8: ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒéš”ç¦»é¡¹ç›®ï¼ˆæ¨èï¼‰\n\n```shell\n# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆåŸºäº Python 3.8ï¼‰\npyenv virtualenv 3.8.12 my-legacy-env\n\n# è¿›å…¥é¡¹ç›®ç›®å½•å¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ\ncd ~/projects/legacy-project\npyenv local my-legacy-env  # è‡ªåŠ¨æ¿€æ´»\n\n# éªŒè¯\npython --version  # æ˜¾ç¤º 3.8.12ï¼Œä¸”ç¯å¢ƒç‹¬ç«‹\npip list          # æ˜¾ç¤ºè¯¥ç¯å¢ƒç‹¬ç«‹çš„åŒ…\n\n# é€€å‡ºè™šæ‹Ÿç¯å¢ƒ\npyenv deactivate\n```\n\n### Step 9: éªŒè¯ç‰ˆæœ¬åˆ‡æ¢\n\n```shell\ncd ~  # é€€å‡ºé¡¹ç›®ç›®å½•\npython --version  # åº”æ˜¾ç¤ºå…¨å±€ç‰ˆæœ¬ 3.13.0\n\ncd ~/projects/legacy-project\npython --version  # åº”æ˜¾ç¤ºæœ¬åœ°ç‰ˆæœ¬ 3.8.12 æˆ–è™šæ‹Ÿç¯å¢ƒ\n```\n\n","tags":["pyenv"],"categories":["_A5-å®‰è£…æ•™ç¨‹","ubuntu"]},{"title":"ESXi-8.0-VMFSLæ— æ³•ä½¿ç”¨å­˜å‚¨çš„é—®é¢˜","url":"/2025/03/19/ESXi-8-0-VMFSLæ— æ³•ä½¿ç”¨å­˜å‚¨çš„é—®é¢˜/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ESXi-8.0-VMFSLæ— æ³•ä½¿ç”¨å­˜å‚¨çš„é—®é¢˜</strong></font>\n\n<!--more-->\n\nä»Šå¤©é€™ä¸€ç¯‡ç®—æ˜¯ç•ªå¤–ç¯‡ï¼Œè—‰ç”±`VMFSL`ä¾†èªªæ˜`Shift+O`èƒ½åšä»€éº¼è¨­å®šã€‚\næˆ‘æƒ³èªªé€™å€‹å•é¡Œåœ¨`ESXi 7.0`ç‰ˆæœ¬ä¹‹å¾Œéƒ½æœƒé‡åˆ°ï¼Œä¾†åˆ†äº«ä¸€ä¸‹æˆ‘å¦‚ä½•è§£æ±ºé€™å€‹å•é¡Œã€‚\né¦–å…ˆæä¸€ä¸‹ç‚ºä»€éº¼è¦æ`VMFSL`ï¼Œå› ç‚ºåœ¨å®‰è£å®Œ`ESXi`ç³»çµ±ä¹‹å¾Œï¼Œå‰©ä¸‹çš„ç¡¬ç¢Ÿç©ºé–“æœƒè¢«åšæˆä¸€å€‹å„²å­˜ç©ºé–“ ( `Datastore` )ï¼Œä½ å¯ä»¥æƒ³åƒé€™æ˜¯ä¸€å€‹è³‡æºæ± ï¼Œåœ¨æ²’æœ‰å¤–æ¥ä»»ä½•ç¶²è·¯å„²å­˜è£ç½®(`NAS`)ï¼Œè™›æ“¬æ©Ÿæ‰€éœ€çš„è™›æ“¬ç¡¬ç¢Ÿç©ºé–“éƒ½éœ€è¦å¾é€™å€‹`Datastore`åˆ†äº«ã€‚æ‰€ä»¥`Datastore`çš„ç©ºé–“å¤§å°å°±å¾ˆé‡è¦äº†ã€‚å®ƒé—œä¿‚åˆ°ä½ èƒ½é–‹å¤šå°‘è™›æ“¬æ©ŸåŠå¤šå¤§ç¡¬ç¢Ÿè¦æ ¼çš„è™›æ“¬æ©Ÿã€‚\nè¬›äº†é‚£éº¼å¤šï¼Œå»é‚„æ˜¯æ²’æœ‰æåˆ°`VMFSL`ï¼Œä»€éº¼æ˜¯`VMFSL`?ï¼Œåœ¨`ESXi 7.0`ç‰ˆä¹‹å¾Œ`VMFSL`æ˜¯ç‚ºäº†`vSAN`ç‰¹åˆ¥ç•™ä¸‹çš„ç©ºé–“ç”¨æ–¼æå‡`vSAN`çš„è¡¨ç¾ï¼Œé‚£ä»€éº¼æ˜¯`vSAN`å¾Œé¢æœƒè§£é‡‹ã€‚ç¸½ä¹‹å› ç‚ºé€™å€‹ç‚ºäº†`vSAN`è€Œç‰¹åˆ¥ç•™ä¸‹çš„ç©ºé–“ï¼Œæœƒå½±éŸ¿åˆ°æˆ‘å€‘å‰©ä¸‹çš„å„²å­˜ç©ºé–“ã€‚ä¸å›‰å—¦ä¸Šåœ–è§£é‡‹\nåœ–ä¸€:\n![https://ithelp.ithome.com.tw/upload/images/20220916/20152414dYC2eFodK4.png](https://s2.loli.net/2025/03/19/HlN9E7kPD2QVgo8.png)\n\nåœ–äºŒ:\n![https://ithelp.ithome.com.tw/upload/images/20220916/20152414LX8uKPckUb.png](https://s2.loli.net/2025/03/19/nufALHI1z28obRT.png)\nä¸çŸ¥é“ä½ æœ‰æ²’æœ‰æ³¨æ„åˆ°æˆ‘åœ¨å®‰è£`ESXi`çš„æ™‚å€™æˆ‘æ‰€é¸æ“‡å®‰è£ä½œæ¥­ç³»çµ±çš„ç¡¬ç¢Ÿå¤§å°æ˜¯`142G`ã€‚è€Œåœ–äºŒå°±æ˜¯å®‰è£å®Œçš„çµæœã€‚ä½ å¯ä»¥çœ‹åˆ°`VMFSL`çš„é è¨­å¤§å°æ˜¯`120G`\nã€‚è€Œ`Datastore`çš„ç©ºé–“å°±æ˜¯åœ–ä¸­é‚£å¯æ†çš„`VMFS 14G`çš„é‚£å€‹ç©ºé–“ã€‚\n![https://ithelp.ithome.com.tw/upload/images/20220916/20152414Bkx3RazIk0.png](https://s2.loli.net/2025/03/19/joqm2kUnuTf5ChK.png)\né‚£æˆ‘æ²’æœ‰è¦ç©`vSAN`ï¼Œ`VMFSL`å¯ä¸å¯ä»¥ç¸®å°?ç•¶ç„¶å¯ä»¥!æ¨™é¡Œçš„`Shift+O`å¯ä¸æ˜¯å»¢è©±\nåŸºæœ¬ä¸Šåœ¨å®‰è£`ESXi`ä¸Šå°±è¦èª¿æ•´äº†å“¦ï¼Œæ‰€ä»¥ä½ å·²ç¶“å®‰è£å¥½äº†å°±é‡çŒä¸€æ¬¡å§!\n![https://ithelp.ithome.com.tw/upload/images/20220916/20152414aVlkRoDXOz.png](https://s2.loli.net/2025/03/19/jdNGlEvPz8CiJWQ.png)\nè¨˜å¾—åœ¨é€™å€‹ç•«é¢è¶•å¿«æŒ‰`Shift+O`ï¼Œä¸ç„¶ç³»çµ±å°±æœƒè‡ªå‹•é€²å®‰è£ç•«é¢äº†å“¦\n![https://ithelp.ithome.com.tw/upload/images/20220916/20152414qcLPr1TnUD.png](https://s2.loli.net/2025/03/19/cCzjDOx15BfH69N.png)\nè¼¸å…¥å¦‚åœ–ä¸­çš„æŒ‡ä»¤\n**`cdromBoot runweasel autoPartitionOSDataSize=8192`**\næ¥è‘—æŒ‰ä¸‹`Enter`æ¥è‘—å®‰è£çš„æµç¨‹ï¼Œä¿®æ”¹å®Œå®‰è£çš„çµæœå¦‚ä¸‹\n![https://ithelp.ithome.com.tw/upload/images/20220916/20152414QhK9a5nMZg.png](https://s2.loli.net/2025/03/19/5BU6wzWMIbiOdaL.png)\n`VMFSL`å°±åªå‰©æˆ‘å€‘æ‰€è¨­å®šçš„`8192(8G)`ï¼Œè€Œå‰©é¤˜çš„ç©ºé–“å°±æ˜¯`Datastore(VMFS)`ã€‚\nè‡³æ–¼å¯ä¸å¯ä»¥å®Œå…¨ä¸è¦é€™å€‹`VMFSL`ï¼Œåˆæˆ–è€…å¤§å°è¦å¤šå°‘ï¼Œé€™ä¸€é»æˆ‘ä¸æ˜¯å¾ˆèƒ½ç¢ºå®šã€‚å¸Œæœ›èƒ½æœ‰é«˜æ‰‹è£œå……!!\nå†è£œå……ä¸€é»ï¼Œåœ¨ä¸ç‰¹åˆ¥è¨­å®š`VMFSL`å¤§å°çš„æƒ…æ³ä¸‹ï¼Œè€Œä½ çš„ç©ºé–“åˆå°æ–¼`120G`çš„æƒ…æ³ä¸‹\n![https://ithelp.ithome.com.tw/upload/images/20220916/20152414k54lumvXWp.png](https://s2.loli.net/2025/03/19/hEqoJgkeHxuFB9m.png)\nä½ æœƒç™¼ç¾`VMFSL`æŠŠå‰©ä¸‹çš„æ‰€æœ‰ç©ºé–“ä½¿ç”¨å®Œäº†ã€‚\nå‰é¢æœ‰æåˆ°å®‰è£å®Œç³»çµ±åŠé è¨­`VMFSL`çš„ç©ºé–“ï¼Œå‰©ä¸‹çš„ç©ºé–“æœƒè‡ªå‹•åšæˆ`Datastore`\nåœ¨å¤§éƒ¨åˆ†çš„æƒ…æ³ä¸‹æ˜¯é€™æ¨£æ²’éŒ¯ï¼Œä¸éå¦‚æœä½ å°‡ç³»çµ±å®‰è£åœ¨`USB`å…§ï¼Œå°±ä¸æ˜¯å¦‚æ­¤äº†ï¼Œå› ç‚º`VMware`é è¨­ä¸å…è¨±ä½¿ç”¨`USB`ç•¶`Datastore`ã€‚æ‰€ä»¥ä¸‹ä¸€ç¯‡åˆæ˜¯ç•ªå¤–ç¯‡\næˆ‘å°‡æ•™ä½ å¦‚ä½•å°‡`USB`è¨­å®šæˆ`Datastore`ã€‚","tags":["å·¥å…·","è™šæ‹Ÿæœº"],"categories":["_A9-é”™è¯¯è§£å†³","esxi"]},{"title":"Docker-Volume-æ•°æ®æŒä¹…åŒ–æ–¹æ¡ˆ","url":"/2025/03/14/Docker-Volume-æ•°æ®æŒä¹…åŒ–æ–¹æ¡ˆ/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Docker Volume æ•°æ®æŒä¹…åŒ–æ–¹æ¡ˆï¼š</strong></font>\n\n<!--more-->\n\n### ä½¿ç”¨ Docker Volume ä»£æ›¿ç›´æ¥æŒ‚è½½\n\n```bash\n# åˆ›å»º volume\ndocker volume create mongo_data\n\n# åˆ é™¤å·\ndocker volume rm mongo_data\n# è¿è¡Œå®¹å™¨\ndocker run -d --restart=always -p 27017:27017 --name mymongo -v volume:/data/db -e MONGO_LOG_MAX_SIZE=5242880 mongo:latest --wiredTigerCacheSizeGB 1 --auth\n```\n\n### æŸ¥çœ‹ Volume ç‰©ç†è·¯å¾„ï¼ˆMacOSï¼‰\n\n```bash\ndocker volume inspect mongo_data\n```\n\n#### è¾“å‡ºç¤ºä¾‹ï¼š\n\nå®é™…æ•°æ®å­˜å‚¨åœ¨ Docker è™šæ‹Ÿæœºä¸­ï¼Œé¿å…ç›´æ¥æ“ä½œå®¿ä¸»æœºæ–‡ä»¶ç³»ç»Ÿã€‚\n\n```cmd\n[\n    {\n        \"CreatedAt\": \"2025-03-14T05:XX:XXZ\",\n        \"Driver\": \"local\",\n        \"Mountpoint\": \"/var/lib/docker/volumes/mongo_data/_data\",\n        \"Name\": \"mongo_data\",\n        \"Options\": null,\n        \"Scope\": \"local\"\n    }\n]\n```\n\n### è¿›å…¥`mongo`å®¹å™¨\n\n```bash\ndocker exec -it mymongo /bin/bash\n```\n\n![image](https://s2.loli.net/2025/03/14/DZOC8ImKc2T59G3.png)\n\næ³¨æ„ï¼šè¿™é‡Œçš„mymongoæ˜¯å®¹å™¨çš„åå­—ï¼Œä¸æ˜¯é•œåƒçš„åå­—ã€‚ï¼ˆå¿˜è®°å®¹å™¨åå­—ï¼Œå¯ä½¿ç”¨docker ps -a æŸ¥çœ‹å®¹å™¨åï¼‰\n![image](https://s2.loli.net/2025/03/14/V7NiL5AWElx16va.png)\n2.3.2.è¿›å…¥`mongosh`ä¸­\n\n```bash\n# è¿›å…¥mongo shell\nmongosh\n```\n\næ³¨ï¼š`mongosh 6.0`ç‰ˆæœ¬ä¹‹åä½¿ç”¨ï¼Œ`mongo 6.0`ç‰ˆæœ¬ä¹‹å‰ä½¿ç”¨ï¼Œåšä¸»å°±æ˜¯åœ¨è¿™é‡Œå‡ºé—®é¢˜çš„ï¼Œåšä¸»å®‰è£…æœ€æ–°`mongodb`ç‰ˆæœ¬ï¼Œä½†æ˜¯ä½¿ç”¨çš„æ˜¯ `mongo` æ‰€ä»¥ä¸€ç›´å‡ºç°é—®é¢˜ï¼š`bash: mongo: command not found`\n![image](https://s2.loli.net/2025/03/14/9VQ3fFU5I4BJXe8.png)\n\n![image](https://s2.loli.net/2025/03/14/FPByZHwLNp7dRUv.png)\n2.3.3.è¿›å…¥`admin`æ•°æ®åº“\n\n```perl\nuse admin\n```\n\n![image](https://s2.loli.net/2025/03/14/McbuCipRfOx1e3o.png)\n2.3.4 åˆ›å»ºä¸€ä¸ªç”¨æˆ·ï¼Œ`mongodb`é»˜è®¤æ²¡æœ‰ç”¨æˆ·\n\n```bash\n# 1.è¿™é‡Œåˆ›å»ºç”¨æˆ·åä¸ºrootï¼Œå¯†ç ä¸ºmongo2023ï¼Œè§’è‰²ï¼ˆè¯¥ç”¨æˆ·çš„æƒé™ï¼‰ä¸ºrootï¼Œæ•°æ®åº“ä¸ºadminï¼ˆä½ ä»¬æŒ‰ç…§ä½ ä»¬è‡ªå·±çš„è®¾ç½®ï¼‰\n# ç”¨æˆ·åï¼šrootï¼Œå¯†ç ï¼šmongo2023ï¼Œè§’è‰²ï¼šrootï¼Œæ•°æ®åº“ï¼šadmin\n\ndb.createUser({user:'root',pwd:'mongo2023',roles:[{role:'root',db:'admin'}]})\n\n\n# 2.è®¤è¯ç™»å½•db.auth('ç”¨æˆ·å','å¯†ç ')ï¼Œæ‰“å°1åˆ™ä»£è¡¨è®¤è¯é€šè¿‡\ndb.auth('root','mongo2023')\n```\n\n![image](https://s2.loli.net/2025/03/14/KWStwbdhveoZOYU.png)\nåˆ°è¿™é‡Œå°±å®Œæˆäº†åˆ›å»ºç”¨æˆ·å’Œè®¾ç½®å¯†ç ï¼Œå¦‚æœè¦é€€å‡º Ctrl+D æˆ–è€… exit é€€å‡ºmongodb\n","tags":["æ•°æ®åº“","æŒä¹…åŒ–"],"categories":["Docker","æŒä¹…åŒ–"]},{"title":"Dockeréƒ¨ç½²Mongodb_é”™è¯¯æ”¶é›†","url":"/2025/03/14/Dockeréƒ¨ç½²Mongodb_é”™è¯¯æ”¶é›†/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**Dockeréƒ¨ç½²Mongodb_é”™è¯¯æ”¶é›†**</strong></font>\n\n<!--more-->\n\n### **WiredTiger å­˜å‚¨å¼•æ“æ— æ³•æ­£å¸¸è®¿é—®æ•°æ®æ–‡ä»¶**\n\n### **è§£å†³æ–¹æ¡ˆ**\n\n#### 1. å½»åº•æ¸…ç†æ®‹ç•™æ•°æ®æ–‡ä»¶\n\n```bash\n# åœæ­¢å¹¶åˆ é™¤æ—§å®¹å™¨\ndocker stop mongo && docker rm mongo\n\n# åˆ é™¤å®¿ä¸»æœºæ˜ å°„ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆè°¨æ…æ“ä½œï¼å…ˆå¤‡ä»½é‡è¦æ•°æ®ï¼‰\nsudo rm -rf /path/to/your/mongodb_data/*\n\n# é‡å†™åˆ›å»ºæ–‡ä»¶å¤¹\nmkdir /path/to/your/mongodb_data\n```\n\n#### 2. ç¡®ä¿ç›®å½•æƒé™æ­£ç¡®ï¼ˆMacOS ç‰¹æ®Šé…ç½®ï¼‰\n\n```bash\n# æˆäºˆå®¹å™¨ç”¨æˆ·ï¼ˆUID 999ï¼‰å†™æƒé™ï¼ˆMacOSéœ€é€šè¿‡ ACL é…ç½®ï¼‰\nsudo chmod -R 777 /path/to/your/mongodb_data\nsudo chown -R $(whoami) /path/to/your/mongodb_data\n```\n\n#### 3. è°ƒæ•´ Docker è¿è¡Œå‘½ä»¤ï¼ˆå…³é”®å‚æ•°ä¼˜åŒ–ï¼‰\n\n```bash\ndocker run -d \\\n  --name mongo \\\n  -p 27017:27017 \\\n  -v /path/to/your/mongodb_data:/data/db \\\n  -e MONGO_INITDB_ROOT_USERNAME=admin \\\n  -e MONGO_INITDB_ROOT_PASSWORD=admin \\\n  --user 1000:50 \\  # MacOS Docker ç‰¹æ®Š UID é…ç½®\n  --restart unless-stopped \\\n  mongo:latest \\\n  --wiredTigerCacheSizeGB 1  # é™åˆ¶ç¼“å­˜å¤§å°é€‚é…å°å†…å­˜ç¯å¢ƒ\n```\n\n#### 4. éªŒè¯å®¹å™¨æ—¥å¿—\n\n```bash\ndocker logs -f mongo\n```\n\né¢„æœŸçœ‹åˆ°ï¼š\n\n```log\n{\"t\":{\"$date\":\"2025-03-14T05:XX:XX.XXXZ\"},\"s\":\"I\",\"c\":\"STORAGE\",\"id\":22430,\"ctx\":\"initandlisten\",\"msg\":\"WiredTiger message\",\"attr\":{\"message\":\"WT_SESSION.create...\"}}\n```\n\n------\n\n### **å…³é”®é…ç½®è§£æ**\n\n| **å‚æ•°**                    | **ä½œç”¨è¯´æ˜**                                                 |\n| :-------------------------- | :----------------------------------------------------------- |\n| `--user 1000:50`            | å¼ºåˆ¶å®¹å™¨ä»¥ MacOS å½“å‰ç”¨æˆ·ï¼ˆUID 1000ï¼‰å’Œ Docker é»˜è®¤ç»„ï¼ˆGID 50ï¼‰è¿è¡Œ |\n| `--wiredTigerCacheSizeGB 1` | æ˜¾å¼é™åˆ¶ WiredTiger ç¼“å­˜ä¸º 1GBï¼Œé¿å…å†…å­˜ä¸è¶³å¯¼è‡´å´©æºƒ         |\n| `chmod 777`                 | ä¸´æ—¶èµ‹äºˆå®Œå…¨æƒé™ï¼ˆç”Ÿäº§ç¯å¢ƒä¸æ¨èï¼Œå¼€å‘ç¯å¢ƒå¯ç”¨ï¼‰             |\n| `rm -rf`                    | æ¸…é™¤å¯èƒ½å­˜åœ¨çš„æŸåæ–‡ä»¶æˆ–æƒé™å†²çªæ–‡ä»¶                         |\n\n------\n\n### **æ•…éšœæ·±åº¦åˆ†æ**\n\n#### **é”™è¯¯æ—¥å¿—è§£è¯»**\n\n```log\n\"msg\":\"__posix_open_file:924:/data/db/WiredTiger.wt: handle-open: open\",\"error_str\":\"Operation not permitted\"\n```\n\nè¡¨æ˜ MongoDB è¿›ç¨‹å¯¹ `/data/db/WiredTiger.wt` æ–‡ä»¶ **æ²¡æœ‰å†™æƒé™** æˆ– **æ–‡ä»¶å·²è¢«é”å®š**ã€‚\n\n#### **MacOS ç‰¹æ®Šé™åˆ¶**\n\n- Docker Desktop ä½¿ç”¨è™šæ‹ŸæœºæŒ‚è½½æ–‡ä»¶ç³»ç»Ÿï¼ˆgRPC-FUSEï¼‰ï¼Œå­˜åœ¨æƒé™æ˜ å°„é—®é¢˜\n- MacOS åŸç”Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆAPFSï¼‰ä¸ Linux å®¹å™¨æƒé™æ¨¡å‹ä¸å…¼å®¹\n\n------\n\n### **é«˜çº§æ–¹æ¡ˆï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰**\n\n#### ä½¿ç”¨ Docker Volume ä»£æ›¿ç›´æ¥æŒ‚è½½\n\n```bash\n# åˆ›å»º volume\ndocker volume create mongo_data\n\n# è¿è¡Œå®¹å™¨\ndocker run -d \\\n  -v mongo_data:/data/db \\\n  mongo:latest\n```\n\n#### æŸ¥çœ‹ Volume ç‰©ç†è·¯å¾„ï¼ˆMacOSï¼‰\n\n```bash\ndocker volume inspect mongo_data\n```\n\nè¾“å‡ºç¤ºä¾‹ï¼š\n\n```json\n[\n    {\n        \"CreatedAt\": \"2025-03-14T05:XX:XXZ\",\n        \"Driver\": \"local\",\n        \"Mountpoint\": \"/var/lib/docker/volumes/mongo_data/_data\",\n        \"Name\": \"mongo_data\",\n        \"Options\": null,\n        \"Scope\": \"local\"\n    }\n]\n```\n\nå®é™…æ•°æ®å­˜å‚¨åœ¨ Docker è™šæ‹Ÿæœºä¸­ï¼Œé¿å…ç›´æ¥æ“ä½œå®¿ä¸»æœºæ–‡ä»¶ç³»ç»Ÿã€‚\n\n------\n\n### **æ€»ç»“**\n\n1. **å¼€å‘ç¯å¢ƒ**ï¼šä½¿ç”¨ `chmod 777` å¿«é€Ÿä¿®å¤æƒé™ï¼Œæ¸…ç†æ®‹ç•™æ–‡ä»¶\n2. **ç”Ÿäº§ç¯å¢ƒ**ï¼š\n   - ä½¿ç”¨ Docker Volume é¿å…è·¯å¾„æ˜ å°„é—®é¢˜\n   - é€šè¿‡ `docker exec` è¿›å…¥å®¹å™¨æ£€æŸ¥æ–‡ä»¶æƒé™\n   - å®šæœŸå¤‡ä»½ Volume æ•°æ® (`docker cp` æˆ–ä¸“ç”¨å¤‡ä»½å·¥å…·)\n\né€šè¿‡ä»¥ä¸Šæ–¹æ¡ˆï¼Œå¯å½»åº•è§£å†³å› æ–‡ä»¶æƒé™å¯¼è‡´çš„ MongoDB å¯åŠ¨å¤±è´¥é—®é¢˜ã€‚","tags":["docker","mongodb","æ•°æ®åº“"],"categories":["Docker","éƒ¨ç½²"]},{"title":"æ­£åœ¨è¿è¡Œçš„-Docker-å®¹å™¨æ‰“åŒ…é•œåƒæ–¹æ³•","url":"/2025/02/28/æ­£åœ¨è¿è¡Œçš„-Docker-å®¹å™¨æ‰“åŒ…é•œåƒæ–¹æ³•/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>æ­£åœ¨è¿è¡Œçš„-Docker-å®¹å™¨æ‰“åŒ…é•œåƒæ–¹æ³•</strong></font>\n\n<!--more-->\n\n#### â€Œ**1. ä½¿ç”¨ `docker commit` å‘½ä»¤ç›´æ¥æ‰“åŒ…**â€Œ\n\nâ€Œ**é€‚ç”¨åœºæ™¯**â€Œï¼šå¿«é€Ÿä¿å­˜å½“å‰å®¹å™¨çš„è¿è¡ŒçŠ¶æ€ä¸ºé•œåƒï¼Œé€‚åˆä¸´æ—¶è°ƒè¯•æˆ–å¿«é€Ÿè¿ç§»ã€‚\nâ€Œ**æ­¥éª¤**â€Œï¼š\n\n1. â€Œ**è·å–å®¹å™¨ ID**â€Œ\n\n   ```bash\n   docker ps  # æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼Œè®°å½•ç›®æ ‡å®¹å™¨çš„ ID â€Œ:ml-citation{ref=\"1,3\" data=\"citationList\"}  \n   ```\n\n2. â€Œ**æäº¤å®¹å™¨ä¸ºæ–°é•œåƒ**â€Œ\n\n   ```bash\n   docker commit <å®¹å™¨ID> <æ–°é•œåƒå>:<æ ‡ç­¾>  # ä¾‹å¦‚ï¼šdocker commit abc123 my-app:v1 â€Œ:ml-citation{ref=\"1,2\" data=\"citationList\"}  \n   ```\n\n3. â€Œ**éªŒè¯é•œåƒæ˜¯å¦ç”Ÿæˆ**â€Œ\n\n   ```bash\n   docker images  # æ£€æŸ¥åˆ—è¡¨ä¸­æ˜¯å¦åŒ…å«æ–°é•œåƒ :ml-citation{ref=\"2,3\" data=\"citationList\"}  \n   ```\n\n------\n\n#### â€Œ**2. å¯¼å‡ºé•œåƒä¸ºå¯è¿ç§»æ–‡ä»¶**â€Œ\n\nâ€Œ**é€‚ç”¨åœºæ™¯**â€Œï¼šå°†é•œåƒä¿å­˜ä¸º `.tar` æ–‡ä»¶ï¼Œä¾¿äºä¼ è¾“æˆ–å¤‡ä»½ã€‚\nâ€Œ**æ­¥éª¤**â€Œï¼š\n\n1. â€Œ**å¯¼å‡ºé•œåƒä¸º `.tar` æ–‡ä»¶**â€Œ\n\n   ```bash\n   docker save -o <æ–‡ä»¶å>.tar <é•œåƒå>:<æ ‡ç­¾>  # ä¾‹å¦‚ï¼šdocker save -o my-app.tar my-app:v1 â€Œ:ml-citation{ref=\"4,5\" data=\"citationList\"}  \n   ```\n\n2. â€Œ**åœ¨ç›®æ ‡æœåŠ¡å™¨å¯¼å…¥é•œåƒ**â€Œ\n\n   ```bash\n   docker load -i <æ–‡ä»¶å>.tar  # ä» `.tar` æ–‡ä»¶æ¢å¤é•œåƒ :ml-citation{ref=\"4,5\" data=\"citationList\"}  \n   ```\n\n------\n\n#### â€Œ**3. å…¶ä»–æ³¨æ„äº‹é¡¹**â€Œ\n\n- â€Œ**`docker commit` çš„å±€é™æ€§**â€Œ\n\n  - æ­¤æ–¹æ³•ç”Ÿæˆçš„é•œåƒç¼ºä¹æ„å»ºè¿‡ç¨‹çš„é€æ˜æ€§ï¼Œéš¾ä»¥è¿½æº¯ä¿®æ”¹å†å²ï¼Œä¸æ¨èç”¨äºç”Ÿäº§ç¯å¢ƒ â€Œ23ã€‚\n  - æ¨èä½¿ç”¨ `Dockerfile` æ„å»ºæ ‡å‡†åŒ–é•œåƒï¼Œç¡®ä¿å¯é‡å¤æ€§å’Œç‰ˆæœ¬æ§åˆ¶ â€Œ23ã€‚\n\n- â€Œ**å¤šé•œåƒæ‰“åŒ…**â€Œ\n\n  - è‹¥éœ€æ‰“åŒ…å¤šä¸ªé•œåƒåˆ°å•ä¸ªæ–‡ä»¶ï¼Œå¯ä½¿ç”¨ `docker save` åŒæ—¶æŒ‡å®šå¤šä¸ªé•œåƒåï¼š\n\n    ```bash\n    docker save -o all-images.tar image1:v1 image2:v2  # åˆå¹¶å¯¼å‡ºå¤šä¸ªé•œåƒ :ml-citation{ref=\"7\" data=\"citationList\"}  \n    ```\n\n------\n\n### â€Œ**æ“ä½œæµç¨‹ç¤ºæ„å›¾**â€Œ\n\n```bash\nè¿è¡Œä¸­å®¹å™¨ â†’ `docker commit` â†’ æ–°é•œåƒ â†’ `docker save` â†’ .tar æ–‡ä»¶ â†’ ä¼ è¾“ â†’ `docker load` â†’ ç›®æ ‡ç¯å¢ƒ  \n```\n\né€šè¿‡ä¸Šè¿°æ­¥éª¤ï¼Œå¯å¿«é€Ÿå®Œæˆè¿è¡Œä¸­å®¹å™¨çš„é•œåƒæ‰“åŒ…ä¸è¿ç§»ã€‚","tags":["docker","æ‰“åŒ…","é•œåƒ"],"categories":["Docker","æ‰“åŒ…"]},{"title":"dockerå®‰è£…buildxæ’ä»¶","url":"/2025/02/27/dockerå®‰è£…buildxæ’ä»¶/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>dockerå®‰è£…buildxæ’ä»¶ï¼Œäº¤å‰æ‰“åŒ…</strong></font>\n\n<!--more-->\n\né”™è¯¯ï¼š\n\n```bash\n>>> docker buildx build --platform linux/amd64,linux/arm64 -t xxxx/xxxxx:latest --push .\n# é”™è¯¯è¾“å‡ºï¼š\nunknown flag: --platform\nSee 'docker --help'.\n```\n\næç¤ºæ— æ•ˆå‚æ•°ï¼š--platform\n\n#### è§£å†³æ–¹æ¡ˆï¼š\n\n```bash\nbrew install docker-buildx   # å®‰è£… buildx\nmkdir -p ~/.docker/cli-plugins     # åˆ›å»ºæ’ä»¶ç›®å½•\nln -sfn $(which docker-buildx) ~/.docker/cli-plugins/docker-buildx    # åˆ›å»ºè½¯è¿æ¥åˆ°æ’ä»¶ç›®å½•ä¸‹\ndocker buildx install    # å®‰è£…æ’ä»¶\n```\n\n","tags":["docker","æ‰“åŒ…","buildx"],"categories":["Docker","ç¼–è¯‘"]},{"title":"ç ´è§£cloudflareæ‹¦æˆªç¥å™¨_puppeteer","url":"/2025/02/25/ç ´è§£cloudflareæ‹¦æˆªç¥å™¨-puppeteer/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ç ´è§£cloudflareæ‹¦æˆªç¥å™¨_puppeteer</strong></font>\n\n<!--more-->\n\n### å®‰è£…ç•ªå¤–ï¼šå®‰è£…node.jsç¯å¢ƒ\n\n#### å®‰è£…`nvm`ç®¡ç†å™¨\n\n+ ç¬¬1æ­¥ï¼šmac å®‰è£…ï¼š\n\n```bash\nbrew install nvm\n```\n\n+ ç¬¬2_1æ­¥ï¼šå‘½ä»¤å®‰è£…ï¼š\n\n```bash\n$ curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash\næˆ–\n$ wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash\n```\n\n+ ç¬¬2_2æ­¥ï¼šå›½å†…å®‰è£…\n\n```bash\n$ curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash\næˆ–\n$ wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash\n```\n\n+ ç¬¬3æ­¥ï¼šæ·»åŠ ç¯å¢ƒ\n\n```bash\n# 1ã€è¿™æ˜¯æœ¬åœ°ä¸å­˜åœ¨é…ç½®æ–‡ä»¶çš„æ—¶å€™æç¤ºéœ€è¦æ·»åŠ çš„é…ç½®\nexport NVM_DIR=\"$HOME/.nvm\"\n[ -s \"$NVM_DIR/nvm.sh\" ] && \\. \"$NVM_DIR/nvm.sh\"  # This loads nvm\n\n# 2ã€è¿™æ˜¯æœ¬åœ°å­˜åœ¨é…ç½®æ–‡ä»¶çš„æ—¶å€™æç¤ºéœ€è¦æ·»åŠ çš„é…ç½®ï¼ˆæ¨èï¼‰\nexport NVM_DIR=\"$HOME/.nvm\"\n[ -s \"$NVM_DIR/nvm.sh\" ] && \\. \"$NVM_DIR/nvm.sh\"Â  # This loads nvm\n[ -s \"$NVM_DIR/bash_completion\" ] && \\. \"$NVM_DIR/bash_completion\"Â  # This loads nvm bash_completion\n```\n\n+ ç¬¬4æ­¥ï¼šåŠ è½½ç¯å¢ƒï¼š\n\n```bash\nsource ~/.zshrc\n```\n\n+ ç¬¬5æ­¥ï¼šæµ‹è¯•å®‰è£…æ˜¯å¦æˆåŠŸ\n\n```bash\n$ nvm -v\næˆ–\n$ nvm use system\n```\n\n+ ç¬¬6æ­¥ï¼š`nvm`ç›¸å…³å‘½ä»¤\n\n```bash\nnvm install stable\nnvm install <version>     # å®‰è£…æŒ‡å®šç‰ˆæœ¬ node\nnvm uninstall <version>   # åˆ é™¤æŒ‡å®šç‰ˆæœ¬ node\n\nnvm use <version>         # åˆ‡æ¢ä½¿ç”¨æŒ‡å®šçš„ç‰ˆæœ¬ node\nnvm alias default <version>   # æ°¸ä¹…ç‰ˆæœ¬ - æ‰€æœ‰çª—å£ç”Ÿæ•ˆæŒ‡å®šç‰ˆæœ¬\n\nnvm ls    # åˆ—å‡ºæ‰€æœ‰å®‰è£…çš„ç‰ˆæœ¬\nnvm ls-remote   # åˆ—å‡ºæ‰€æœ‰è¿œç¨‹æœåŠ¡å™¨çš„ç‰ˆæœ¬ï¼ˆå®˜æ–¹ node version listï¼‰\nnvm current   # æ˜¾ç¤ºå½“å‰çš„ç‰ˆæœ¬\nnvm alias <name> <version>   # ç»™ä¸åŒçš„ç‰ˆæœ¬å·æ·»åŠ åˆ«å\nnvm unalias <name>   # åˆ é™¤å·²å®šä¹‰çš„åˆ«å\n\nnvm reinstall-packages <version>     # åœ¨å½“å‰ç‰ˆæœ¬ node ç¯å¢ƒä¸‹ï¼Œé‡æ–°å…¨å±€å®‰è£…æŒ‡å®šç‰ˆæœ¬å·çš„ npm åŒ…\n```\n\n\n\n### ç¬¬ä¸€æ­¥ï¼šå®‰è£…puppeteer\n\n```bash\nnpm i puppeteer\n```\n\n### ç¬¬äºŒæ­¥ï¼š å®‰è£…æ’ä»¶ puppeteer-extraã€puppeteer-extra-plugin-stealth\n\n```bash\nnpm install puppeteer-extra puppeteer-extra-plugin-stealth express\n```\n\n### ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨nodejsè·å–æ•°æ®ï¼š\n\n```js\nconst puppeteer = require('puppeteer-extra')\nconst StealthPlugin = require('puppeteer-extra-plugin-stealth')\npuppeteer.use(StealthPlugin())\nconst {executablePath} = require('puppeteer')\n\npuppeteer.launch({ headless: false, executablePath: executablePath() }).then(async browser => {\n    const page = await browser.newPage()\n    await page.goto('https://xxx.com')\n\n    // ä½¿ç”¨ Promise æ¥ç­‰å¾…\n    await new Promise(resolve => setTimeout(resolve, 2000))  // ç­‰å¾… 2 ç§’\n    // è·å–é¡µé¢çš„æ–‡æœ¬å†…å®¹\n    const pageContent = await page.evaluate(() => {\n        return document.body.innerText;  // è·å–é¡µé¢çš„æ‰€æœ‰æ–‡æœ¬\n    });\n\n    // æ‰“å°é¡µé¢æ–‡æœ¬å†…å®¹\n    console.log(pageContent);\n    await page.screenshot({ path: 'cointracker_home.png', fullPage: true })\n    await browser.close()\n})\n```\n\n### ç¬¬å››æ­¥ï¼šå½“ç„¶ä½ ä¹Ÿå¯ä»¥æŠŠä»–å†™æˆæ¥å£\n\n```\n.....\n```\n\n","tags":["é€†å‘","nodejs","åç«¯","puppeteer"],"categories":["_A7-é€†å‘","puppeteer"]},{"title":"mongodbæ•°æ®åº“çš„å¤‡ä»½ä¸æ¢å¤","url":"/2025/02/23/mongodbæ•°æ®åº“çš„å¤‡ä»½ä¸æ¢å¤/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Dockerä¸‹ï¼šmongodbæ•°æ®åº“çš„å¤‡ä»½ä¸æ¢å¤</strong></font>\n\n<!--more-->\n\n## å¤‡ä»½ç¯‡ï¼š\n\n+ å¤‡ä»½æ•°æ®åº“åç§°ï¼š`ttd`\n+ æœ¬åœ°å¤‡ä»½å®¹å™¨ï¼š`126bf65cd37f`\n\n### 1ã€è¿›å…¥å®¹å™¨ï¼š\n\n```bash\ndocker ps   # æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„docker å®¹å™¨\ndocker exec -it 126bf65cd37f /bin/bash   # è¿›å…¥IDï¼š126bf65cd37f çš„å®¹å™¨\nmongodump --uri=\"mongodb://username:password@localhost:27017/ttd\" --out /path/to/backup/    # å°†æ•°æ®åº“å¤‡ä»½åˆ°/path/to/backup/ æ–‡ä»¶å¤¹ä¸‹\n```\n\n### 2ã€æ‰“åŒ…å¤‡ä»½æ–‡ä»¶\n\n```bash\ntar -cvf /path/to/ttd.tar /path/to/backup/      # å°†/path/to/backup/ æ–‡ä»¶å¤¹ä¸‹çš„å¤‡ä»½æ•°æ®åº“  æ‰“åŒ…åˆ° /path/to/ttd.tar\n```\n\n### 3ã€å¤åˆ¶å¤‡ä»½æ‰“åŒ…æ–‡ä»¶åˆ°å®¿ä¸»æœºå™¨\n\n```bash\n# å°†å¤‡ä»½çš„æ–‡ä»¶å¤åˆ¶åˆ°å®¿ä¸»æœº\ndocker cp 126bf65cd37f:/path/to/ttd.tar /home/mycp/DataBases   # å°†æ‰“åŒ…æ–‡ä»¶ å¤åˆ¶åˆ°å®¿ä¸»çš„/home/mycp/DataBasesä¸‹\n```\n\n\n\n## æ¢å¤ç¯‡ï¼š\n\n+ æ¢å¤æ•°æ®åº“åç§°ï¼š`ttd`\n+ æœ¬åœ°å¤‡ä»½å®¹å™¨ï¼š`126bf65cd37f`\n\n### 1ã€ä¸Šä¼ å‹ç¼©åŒ…åˆ°æ¢å¤çš„å®¿ä¸»æœºå™¨\n\n```\nè¿™é‡Œå°±ä¸è®²æ€ä¹ˆæ¢å¤äº†ï¼\n```\n\n### 2ã€ä¼ å…¥docker æœºå™¨(ä¸Šä¼ åçš„è·¯å¾„ï¼š`/home/cdd/DataBases/ttd.tar`)\n\n```bash\nmkdir /DBFiles   # åˆ›å»ºè·¯å¾„ï¼Œä¸ç„¶å¯èƒ½æŠ¥é”™\ndocker cp /home/cdd/DataBases/ttd.tar 8ba9426d45e3:/DBFiles   # å¤åˆ¶åˆ°dockeræœºå™¨\n```\n\n### 3ã€è§£å‹ç¼©\n\n```bash\ntar -xvf ttd.tar    # è§£å‹å®Œæˆä¼šå‡ºç°ä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ï¼šttd\n```\n\n### 4ã€æ¢å¤\n\n+ é¿å‘1ï¼šå¤‡ä»½çš„æ–‡ä»¶å¤¹ä¸­å­˜åœ¨ `.json`æ–‡ä»¶ï¼Œå¦‚æœç›´æ¥ç”¨æ–‡ä»¶å¤¹æ¢å¤å‘½ä»¤æ˜¯ä¼šæŠ¥é”™çš„\n+ é¿å‘2ï¼šå¿…é¡»è¦æŒ‡å®š`--authenticationDatabase admin` å¦åˆ™ä¼šæç¤ºæƒé™\n\n```bash\nmongorestore -h 127.0.0.1:27017 --authenticationDatabase admin -u <username> -p <password> -d <database> /home/cdd/DataBases/ttd/Images.bson\n# å¦‚æœæ²¡æœ‰ .json æ–‡ä»¶ å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤æ¢å¤\nmongorestore --uri=\"mongodb://username:password@localhost:27017\" /home/cdd/DataBases/ttd\n```\n\n","tags":["docker","mongoldb","å¤‡ä»½ä¸æ¢å¤"],"categories":["_9-æ•°æ®åº“","mongodb"]},{"title":"ä¸€å¥—JSå¯é€†åŠ å¯†ç®—æ³•ï¼ŒåŸºäºcrypto-js","url":"/2025/02/21/ä¸€å¥—JSå¯é€†åŠ å¯†ç®—æ³•ï¼ŒåŸºäºcrypto-js/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ä¸€å¥—JSå¯é€†åŠ å¯†ç®—æ³•ï¼ŒåŸºäºcrypto-js</strong></font>\n\n<!--more-->\n\nåœ¨JavaScriptä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨å¤šç§æ–¹æ³•æ¥å®ç°å¯é€†åŠ å¯†ã€‚\nè¿™é‡Œæ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œä½¿ç”¨çš„æ˜¯`crypto-js`åº“çš„`AES`åŠ å¯†æ–¹æ³•ã€‚\n\né¦–å…ˆï¼Œä½ éœ€è¦å®‰è£…`crypto-js`åº“ã€‚ä½ å¯ä»¥é€šè¿‡`npm`æ¥å®‰è£…ï¼š\n\n### å®‰è£…ï¼š\n\n```bash\nnpm install crypto-js\n```\n\nç„¶åï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç æ¥å®ç°AESåŠ å¯†å’Œè§£å¯†ï¼š\n\n```js\nconst CryptoJS = require('crypto-js');  \n  \nfunction encrypt(text, secretKey) {  \n    const key = CryptoJS.enc.Utf8.parse(secretKey);  \n    const iv = CryptoJS.lib.WordArray.create(new ArrayBuffer(16));  \n    const encrypted = CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(text), key, { iv: iv });  \n    return encrypted.toString();  \n}  \n  \nfunction decrypt(ciphertext, secretKey) {  \n    const key = CryptoJS.enc.Utf8.parse(secretKey);  \n    const iv = CryptoJS.lib.WordArray.create(new ArrayBuffer(16));  \n    const decrypted = CryptoJS.AES.decrypt(ciphertext, key, { iv: iv });  \n    return decrypted.toString(CryptoJS.enc.Utf8);  \n}  \n  \n// æµ‹è¯•ä»£ç   \nconst secretKey = 'mySecretKey';  \nconst text = 'Hello, World!';  \nconst encryptedText = encrypt(text, secretKey);  \nconsole.log('Encrypted: ' + encryptedText);  \nconst decryptedText = decrypt(encryptedText, secretKey);  \nconsole.log('Decrypted: ' + decryptedText);\n```\n\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå¯¼å…¥äº†`crypto-js`åº“ã€‚ç„¶åï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªå‡½æ•°ï¼š`encrypt`å’Œ`decrypt`ã€‚\n`encrypt`å‡½æ•°æ¥æ”¶ä¸€ä¸ªæ–‡æœ¬å’Œä¸€ä¸ªå¯†é’¥ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›åŠ å¯†åçš„æ–‡æœ¬ã€‚\n`decrypt`å‡½æ•°æ¥æ”¶ä¸€ä¸ªå¯†æ–‡å’Œä¸€ä¸ªå¯†é’¥ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›è§£å¯†åçš„æ–‡æœ¬ã€‚\n\næ³¨æ„ï¼Œè¿™ä¸ªä¾‹å­ä½¿ç”¨äº†`AES`åŠ å¯†ç®—æ³•ï¼Œå¹¶ä¸”ä½¿ç”¨äº†ç›¸åŒçš„å¯†é’¥è¿›è¡ŒåŠ å¯†å’Œè§£å¯†ã€‚\nåœ¨å®é™…åº”ç”¨ä¸­ï¼Œä½ åº”è¯¥ä½¿ç”¨ä¸€ä¸ªå®‰å…¨çš„å¯†é’¥ç®¡ç†æ–¹æ³•æ¥å­˜å‚¨å’Œä¼ è¾“å¯†é’¥ã€‚","tags":["python","JavaScript","é€†å‘"],"categories":["_A7-é€†å‘","JavaScript"]},{"title":"ubuntu-è®¾ç½®swapäº¤æ¢ç©ºé—´","url":"/2025/02/17/ubuntu-è®¾ç½®swapäº¤æ¢ç©ºé—´/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>`ubuntu` è®¾ç½®`swap`äº¤æ¢ç©ºé—´</strong></font>\n\n<!--more-->\n\nåœ¨ `Ubuntu` ä¸Šè®¾ç½®äº¤æ¢ç©ºé—´ï¼ˆ`Swap Space`ï¼‰å¯ä»¥å¸®åŠ©ç³»ç»Ÿåœ¨ç‰©ç†å†…å­˜ä¸è¶³æ—¶ä½¿ç”¨ç¡¬ç›˜ç©ºé—´æ¥å­˜å‚¨ä¸´æ—¶æ•°æ®ã€‚ä»¥ä¸‹æ˜¯è®¾ç½®äº¤æ¢ç©ºé—´çš„æ­¥éª¤ï¼š\n\n### æ­¥éª¤ 1: æ£€æŸ¥å½“å‰äº¤æ¢ç©ºé—´\n\né¦–å…ˆï¼Œæ£€æŸ¥å½“å‰çš„äº¤æ¢ç©ºé—´æ˜¯å¦å·²å¯ç”¨ï¼š\n\n```\nsudo swapon --show\n```\n\nå¦‚æœæ²¡æœ‰è¾“å‡ºï¼Œè¡¨ç¤ºå½“å‰æ²¡æœ‰å¯ç”¨çš„äº¤æ¢ç©ºé—´ã€‚\n\n### æ­¥éª¤ 2: åˆ›å»ºäº¤æ¢æ–‡ä»¶\n\n1. é€‰æ‹©äº¤æ¢æ–‡ä»¶çš„å¤§å°ï¼šå†³å®šä½ æƒ³è¦åˆ›å»ºçš„äº¤æ¢æ–‡ä»¶çš„å¤§å°ã€‚ä¾‹å¦‚ï¼Œå‡è®¾ä½ æƒ³åˆ›å»ºä¸€ä¸ª `2GB` çš„äº¤æ¢æ–‡ä»¶ã€‚\n2. åˆ›å»ºäº¤æ¢æ–‡ä»¶ï¼šä½¿ç”¨ `fallocate` å‘½ä»¤åˆ›å»ºäº¤æ¢æ–‡ä»¶ï¼š\n\n```\nsudo fallocate -l 2G /swapfile\n```\n\nå¦‚æœ fallocate ä¸å¯ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ `dd` å‘½ä»¤ï¼š\n\n```\nsudo dd if=/dev/zero of=/swapfile bs=1G count=2  \n```\n\n### æ­¥éª¤ 3: è®¾ç½®äº¤æ¢æ–‡ä»¶æƒé™\n\nä¸ºäº†å®‰å…¨èµ·è§ï¼Œè®¾ç½®äº¤æ¢æ–‡ä»¶çš„æƒé™ï¼Œä½¿å…¶åªèƒ½ç”± `root` ç”¨æˆ·è®¿é—®ï¼š\n\n```\nsudo chmod 600 /swapfile\n```\n\n### æ­¥éª¤ 4: å°†æ–‡ä»¶è®¾ç½®ä¸ºäº¤æ¢ç©ºé—´\n\nä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†æ–‡ä»¶è®¾ç½®ä¸ºäº¤æ¢ç©ºé—´ï¼š\n\n```\nsudo mkswap /swapfile\n```\n\n### æ­¥éª¤ 5: å¯ç”¨äº¤æ¢ç©ºé—´\n\nå¯ç”¨äº¤æ¢ç©ºé—´ï¼š\n\n```\nsudo swapon /swapfile\n```\n\n### æ­¥éª¤ 6: éªŒè¯äº¤æ¢ç©ºé—´\n\nå†æ¬¡æ£€æŸ¥äº¤æ¢ç©ºé—´æ˜¯å¦å·²å¯ç”¨ï¼š\n\n```\nsudo swapon --show\n```\n\nä½ åº”è¯¥èƒ½çœ‹åˆ° `/swapfile` åˆ—åœ¨è¾“å‡ºä¸­ã€‚\n\n### æ­¥éª¤ 7: è®¾ç½®å¼€æœºè‡ªåŠ¨æŒ‚è½½\n\nä¸ºäº†åœ¨ç³»ç»Ÿé‡å¯åè‡ªåŠ¨å¯ç”¨äº¤æ¢ç©ºé—´ï¼Œéœ€è¦å°†å…¶æ·»åŠ åˆ° `/etc/fstab` æ–‡ä»¶ä¸­ï¼š\n\n1. æ‰“å¼€ `/etc/fstab` æ–‡ä»¶ï¼š\n\n```\nsudo nano /etc/fstab\n```\n\n2. åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹è¡Œï¼š\n\n```\n/swapfile none swap sw 0 0\n```\n\nä¿å­˜å¹¶é€€å‡ºç¼–è¾‘å™¨ï¼ˆåœ¨ `nano` ä¸­ï¼ŒæŒ‰ `CTRL + X`ï¼Œç„¶åæŒ‰ `Y` ç¡®è®¤ä¿å­˜ï¼‰ã€‚\n\n### æ­¥éª¤ 8: è°ƒæ•´äº¤æ¢ç©ºé—´ä½¿ç”¨ç­–ç•¥ï¼ˆå¯é€‰ï¼‰\n\nä½ å¯ä»¥è°ƒæ•´ç³»ç»Ÿä½¿ç”¨äº¤æ¢ç©ºé—´çš„ç­–ç•¥ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ`Linux` ç³»ç»Ÿä¼šåœ¨ç‰©ç†å†…å­˜ä½¿ç”¨åˆ°ä¸€å®šç¨‹åº¦åæ‰ä¼šä½¿ç”¨äº¤æ¢ç©ºé—´ã€‚ä½ å¯ä»¥é€šè¿‡è°ƒæ•´` vm.swappiness` å‚æ•°æ¥æ”¹å˜è¿™ä¸€è¡Œä¸ºï¼š\n\næŸ¥çœ‹å½“å‰çš„ `swappiness` å€¼ï¼š\n\n```\ncat /proc/sys/vm/swappiness\n```\n\nä¸´æ—¶è®¾ç½® `swappiness` å€¼ï¼ˆèŒƒå›´ `0-100`ï¼Œå€¼è¶Šä½ï¼Œè¶Šä¸å€¾å‘äºä½¿ç”¨äº¤æ¢ç©ºé—´ï¼‰ï¼š\n\n```\nsudo sysctl vm.swappiness=10\n```\n\nè¦æ°¸ä¹…æ›´æ”¹ `swappiness` å€¼ï¼Œå¯ä»¥ç¼–è¾‘ `/etc/sysctl.conf` æ–‡ä»¶ï¼š\n\n```\nsudo nano /etc/sysctl.conf\n```\n\nåœ¨æ–‡ä»¶ä¸­æ·»åŠ æˆ–ä¿®æ”¹ä»¥ä¸‹è¡Œï¼š\n\n```\nvm.swappiness=10\n```\n\nä¿å­˜å¹¶é€€å‡ºç¼–è¾‘å™¨ã€‚\n\n### æ€»ç»“\n\né€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ å¯ä»¥åœ¨ `Ubuntu` ä¸ŠæˆåŠŸè®¾ç½®å’Œå¯ç”¨äº¤æ¢ç©ºé—´ã€‚è¿™å°†æœ‰åŠ©äºåœ¨ç‰©ç†å†…å­˜ä¸è¶³æ—¶æé«˜ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œæ€§èƒ½ã€‚","tags":["ubuntu","swap","äº¤æ¢ç©ºé—´"],"categories":["_A5-å®‰è£…æ•™ç¨‹","ubuntu"]},{"title":"docker-pushåˆ°harboré”™è¯¯è§£å†³æ–¹æ¡ˆ","url":"/2025/02/17/docker-pushåˆ°harboré”™è¯¯è§£å†³æ–¹æ¡ˆ/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>docker pushåˆ°`harbor`é”™è¯¯è§£å†³æ–¹æ¡ˆ</strong></font>\n\n<!--more-->\n\nç³»ç»Ÿä¿¡æ¯ï¼š\n\n```\nCPUä¿¡æ¯: Apple M1\nå†…å­˜ä¿¡æ¯: 8 GB, \nç³»ç»Ÿç‰ˆæœ¬: 14.3.1\n\nDocker version 27.5.1, build 9f9e405801\ncolima version 0.8.1\nruntime: docker\narch: aarch64\nclient: v27.5.1\nserver: v27.4.0\n```\n\n\n\n## é”™è¯¯1ï¼š\n\n```bash\nThe push refers to repository [192.168.31.7:7315/ka/ppds]\nGet \"https://192.168.31.7:7315/ka/ppds/v2/\": http: server gave HTTP response to HTTPS client\n```\n\n#### è§£å†³æ–¹æ¡ˆï¼š\n+ ç¬¬1æ­¥ï¼šè®¾ç½®ä¸å®‰å…¨çš„æ³¨å†Œè¡¨\n\n```bash\n# ç¼–è¾‘colimaé»˜è®¤ä¿¡æ¯\ncolima start --edit\n\n# åœ¨æ‰“å¼€çš„æ ä¸­æ‰¾åˆ° dockeré…ç½®\ndocker:\n  insecure-registries:\n    - harbor.jakehu.me:31104\n  registry-mirrors:\n    - docker.registry.huwenxi.com\n```\n\n+ ç¬¬2æ­¥ï¼šå¼€å§‹é‡å¯ `colima`\n\n```bash\n# Colimaåˆ—è¡¨\ncolima list\n# å¯åŠ¨Colima\ncolima start\n# åœæ­¢Colima\ncolima stop\n# æ˜¾ç¤ºColimaçŠ¶æ€ä¿¡æ¯\ncolima status\n# é€šè¿‡SSHè¿æ¥åˆ°Colima\ncolima ssh\n```\n\n+ ç¬¬3æ­¥ï¼šæŸ¥çœ‹æ˜¯å¦æ·»åŠ æˆåŠŸäº†\n\n```bash\ndocker system info   # ç»ˆç«¯è¾“å‡ºçš„å†…å®¹ä¸­åŒ…å« docker.registry.huwenxi.com é‚£ä¹ˆå°±æ˜¯æˆåŠŸçš„\n```\n\n+ ç¬¬4æ­¥ï¼šéªŒè¯ç™»å½•\n\n```bash\ndocker login docker.registry.huwenxi.com\n\n# # å‡ºç°ä¸‹åˆ—å†…å®¹ åˆ™æ·»åŠ å®Œæˆäº†\n# Username: xxx\n# Password: \n# Login Succeeded\n```\n\n","tags":["docker","é”™è¯¯","ç§æœ‰ä»“åº“"],"categories":["_A9-é”™è¯¯è§£å†³","docker","harbor"]},{"title":"æ‰‹æŠŠæ‰‹æ•™ä½ æ­å»ºDockerç§æœ‰ä»“åº“Harbor","url":"/2025/02/16/æ‰‹æŠŠæ‰‹æ•™ä½ æ­å»ºDockerç§æœ‰ä»“åº“Harbor/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>æ‰‹æŠŠæ‰‹æ•™ä½ æ­å»ºDockerç§æœ‰ä»“åº“Harbor</strong></font>\n\næœ¬æ–‡æ¬è¿è‡ªï¼š[æ‰‹æŠŠæ‰‹æ•™ä½ æ­å»ºDockerç§æœ‰ä»“åº“Harbor - sowler - åšå®¢å›­](https://www.cnblogs.com/sowler/p/18242819)\n\n<!--more-->\n\n#### 1ã€ä»€ä¹ˆæ˜¯Dockerç§æœ‰ä»“åº“\n\nDockerç§æœ‰ä»“åº“æ˜¯ç”¨äºå­˜å‚¨å’Œç®¡ç†Dockeré•œåƒçš„ç§æœ‰å­˜å‚¨åº“ã€‚Dockeré»˜è®¤ä¼šæœ‰ä¸€ä¸ªå…¬å…±çš„ä»“åº“Docker Hubï¼Œè€Œä¸Docker Hubä¸åŒï¼Œç§æœ‰ä»“åº“æ˜¯å—é™è®¿é—®çš„ï¼Œåªæœ‰æˆæƒç”¨æˆ·æ‰èƒ½å¤Ÿä¸Šä¼ ã€ä¸‹è½½å’Œç®¡ç†å…¶ä¸­çš„é•œåƒã€‚è¿™ç§ç§æœ‰ä»“åº“å¯ä»¥éƒ¨ç½²åœ¨æœ¬åœ°äº‘ç¯å¢ƒä¸­ï¼Œç”¨äºç»„ç»‡å†…éƒ¨å¼€å‘ã€æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒä¸­çš„å®¹å™¨é•œåƒç®¡ç†ã€‚ä¿è¯æ•°æ®å®‰å…¨æ€§ã€‚\n\n#### 2ã€Dockeræœ‰å“ªäº›ç§æœ‰ä»“åº“\n\n**ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„Dockerç§æœ‰ä»“åº“ï¼š**\n\n- **Harbor**ï¼šä½œä¸ºä¸€ä¸ªä¼ä¸šçº§çš„Docker RegistryæœåŠ¡ï¼ŒHarboræä¾›äº†å®‰å…¨ã€å¯ä¿¡èµ–çš„é•œåƒå­˜å‚¨å’Œç®¡ç†åŠŸèƒ½ã€‚å®ƒæ”¯æŒRBACæƒé™æ§åˆ¶ã€é•œåƒå¤åˆ¶ã€é•œåƒç­¾åã€æ¼æ´æ‰«æç­‰åŠŸèƒ½ã€‚\n- **Docker Trusted Registry (DTR)**ï¼šç”±Dockerå®˜æ–¹æ¨å‡ºçš„ä¼ä¸šçº§Dockerç§æœ‰ä»“åº“æœåŠ¡ï¼Œä¸Docker Engineç´§å¯†é›†æˆï¼Œæ”¯æŒé«˜åº¦çš„å®‰å…¨æ€§å’Œå¯é æ€§ã€‚\n- **Portus**ï¼šä¸€ä¸ªå¼€æºçš„Dockeré•œåƒç®¡ç†å’Œè®¤è¯æœåŠ¡ï¼Œæä¾›ç”¨æˆ·ç®¡ç†ã€å›¢é˜Ÿç®¡ç†ã€é•œåƒå®¡æ ¸ç­‰åŠŸèƒ½ï¼Œä¸Docker Registryå…¼å®¹ã€‚\n- **Nexus Repository Manager**ï¼šè™½ç„¶ä¸»è¦æ˜¯ç”¨äºæ„å»ºå’Œç®¡ç†Javaç»„ä»¶ï¼Œä½†ä¹Ÿå¯ä»¥ç”¨ä½œDockerç§æœ‰ä»“åº“ã€‚å®ƒå…·æœ‰å¼ºå¤§çš„å­˜å‚¨ç®¡ç†å’Œæƒé™æ§åˆ¶åŠŸèƒ½ã€‚\n- **GitLab Container Registry**ï¼šGitLabé›†æˆäº†å®¹å™¨æ³¨å†Œè¡¨åŠŸèƒ½ï¼Œå…è®¸æ‚¨å­˜å‚¨ã€ç®¡ç†å’Œåˆ†å‘Dockeré•œåƒã€‚è¿™æ˜¯GitLabè‡ªå¸¦çš„åŠŸèƒ½ï¼Œæ— éœ€é¢å¤–éƒ¨ç½²ã€‚\n- **AWS Elastic Container Registry (ECR)**ï¼šå¦‚æœä½¿ç”¨AWSäº‘æœåŠ¡ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨AWS ECRä½œä¸ºç§æœ‰ä»“åº“ã€‚å®ƒä¸AWSçš„å…¶ä»–æœåŠ¡é›†æˆç´§å¯†ï¼Œå¯¹AWSç”¨æˆ·æ¥è¯´æ˜¯ä¸€ä¸ªæ–¹ä¾¿çš„é€‰æ‹©ã€‚\n\næœ¬ç¯‡ä½¿ç”¨Harboræ­å»ºDockerç§æœ‰ä»“åº“ã€‚\n\n#### 3ã€Harborç®€ä»‹\n\nHarboræ˜¯ä¸€ä¸ªå¼€æºçš„ä¼ä¸šçº§Docker RegistryæœåŠ¡ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªå®‰å…¨ã€å¯ä¿¡èµ–çš„ä»“åº“æ¥å­˜å‚¨å’Œç®¡ç†Dockeré•œåƒã€‚Harborç¿»è¯‘ä¸ºä¸­æ–‡åç§°ä¸º\"åº‡æŠ¤ï¼›å±…ä½;\"ã€‚å¯ä»¥ç†è§£ä¸ºæ˜¯Dockeré•œåƒçš„\"å±…ä½ç¯å¢ƒ\"æˆ–è€…æ˜¯é•œåƒçš„\"åº‡æŠ¤æ‰€\"ã€‚Harboræœ€åˆç”±VMwareå…¬å¸å¼€å‘ï¼Œæ—¨åœ¨è§£å†³ä¼ä¸šçº§Dockeré•œåƒç®¡ç†çš„å®‰å…¨å’Œå¯ä¿¡ä»»æ€§é—®é¢˜ã€‚VMwareäº2016å¹´å‘å¸ƒï¼Œåœ¨2017å¹´ï¼ŒVMwareå°†Harborå¼€æºï¼Œè¿™ä½¿å¾—æ›´å¹¿æ³›çš„ç¤¾åŒºå’Œç»„ç»‡å¯ä»¥è‡ªç”±åœ°ä½¿ç”¨å’Œè´¡çŒ®ä»£ç ã€‚Harboræ˜¯ä¸€ä¸ªæˆç†Ÿã€åŠŸèƒ½ä¸°å¯Œä¸”å®‰å…¨å¯é çš„ä¼ä¸šçº§Docker RegistryæœåŠ¡ï¼Œä¸ºä¼ä¸šå®¹å™¨åŒ–åº”ç”¨çš„éƒ¨ç½²å’Œç®¡ç†æä¾›äº†å¼ºå¤§çš„æ”¯æŒã€‚\n\nHarborå®˜ç½‘åœ°å€ï¼š[Harbor (goharbor.io)](https://goharbor.io/)\n\nGithubå¼€æºåœ°å€ï¼šhttps://github.com/goharbor/harbor\n\n#### 4ã€Harborä¸‹è½½\n\n##### 4.1ã€é€šè¿‡Linuxå‘½ä»¤ä¸‹è½½\n\n```sh\nwget https://github.com/goharbor/harbor/releases/download/v2.10.0/harbor-offline-installer-v2.10.0.tgz\n```\n\n##### 4.2ã€GitHubä¸‹è½½\n\nä¸‹è½½åœ°å€ï¼šhttps://github.com/goharbor/harbor/releases ä¸‹è½½ç¦»çº¿ç‰ˆæœ¬\n\n![img](https://s2.loli.net/2025/02/16/meHfNQrXgctVMnx.png)\n\nä¸‹è½½æˆåŠŸåï¼ŒæŠŠåŒ…é€šè¿‡ `xftp` ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚\n\n##### 4.3ã€è§£å‹\n\nè§£å‹æ–‡ä»¶\n\n```sh\ntar -zxvf harbor-offline-installer-v2.10.0.tgz \n```\n\n#### 5ã€å¯åŠ¨Harbor\n\n##### 5.1ã€ä¿®æ”¹é…ç½®æ–‡ä»¶\n\nå¤åˆ¶`harbor.yml.tmpl` æ–‡ä»¶å¹¶é‡å‘½åä¸º`harbor.yml`ä¿®æ”¹æ­¤é…ç½®æ–‡ä»¶ï¼Œéœ€è¦è®¾ç½®hostnameã€ç«¯å£ã€æ•°æ®åº“å¯†ç ç­‰ã€‚\n\n```sh\ncp harbor.yml.tmpl harbor.yml #æ‹·è´\n\nvim harbor.yml\n```\n\nä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š\n\n```yaml\n#ä¿®æ”¹hostnameçš„å€¼ï¼Œå¦‚æœæ²¡æœ‰åŸŸåå°±ä½¿ç”¨æœ¬æœºIPåœ°å€\nhostname: 192.168.42.133\n\n#é…ç½®å¯åŠ¨ç«¯å£å·\n# http related config \nhttp:\n  # port for http, default is 80. If https enabled, this port will redirect to https port\n  port: 5000\n\n# å¦‚æœæ²¡æœ‰ç”³è¯·è¯ä¹¦ï¼Œéœ€è¦éšè—https\n#https:\n  # https port for harbor, default is 443\n#  port: 443\n  # The path of cert and key files for nginx\n#  certificate: /your/certificate/path\n#  private_key: /your/private/key/path\n\n#å¯åŠ¨æˆåŠŸåï¼Œadminç”¨æˆ·ç™»å½•å¯†ç \n# Remember Change the admin password from UI after launching Harbor.\nharbor_admin_password: AdminHarbor12345\n```\n\n![img](https://s2.loli.net/2025/02/16/uflyIABjz3amckh.png)\n\n##### 5.2ã€å¯åŠ¨\n\né…ç½®æ–‡ä»¶ä¿®æ”¹æˆåŠŸåï¼Œæ‰§è¡Œ `install.sh` è„šæœ¬è¿›è¡Œå®‰è£…harbor\n\n```sh\n./install.sh \n```\n\nå¯åŠ¨æŠ¥é”™ï¼š\n\n```ABAP\n[Step 0]: checking if docker is installed ...\n\nNote: docker version: 26.1.3\n\n[Step 1]: checking docker-compose is installed ...\n/opt/harbor/common.sh: line 119: docker-compose: command not found\nâœ– Failed to parse docker-compose version.\n```\n\nå¯ä»¥çœ‹åˆ°ï¼Œè¯¥æœåŠ¡å™¨å®‰è£…çš„ `docker` æ²¡æœ‰å®‰è£… `docker-compose` æ’ä»¶\n\n##### 5.3ã€å®‰è£…docker-compose\n\nè¿›å…¥`docker-compose` å®˜ç½‘ä¸‹è½½æ‰§è¡Œæ–‡ä»¶ï¼Œåœ°å€ï¼š https://github.com/docker/compose ä¸‹è½½æˆåŠŸåï¼ŒæŠŠå¯æ‰§è¡Œæ–‡ä»¶åŠ å…¥`Linux` ç³»ç»Ÿå‘½ä»¤ç›®å½•\n\n```sh\ncp docker-compose-linux-x86_64 /usr/local/bin/\n```\n\né‡å‘½åï¼š\n\n```sh\nmv docker-compose-linux-x86_64 docker-compose\n```\n\næˆæƒï¼š\n\n```sh\nchmod +x /usr/local/bin/docker-compose\n```\n\næ‰§è¡Œå‘½ä»¤æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼š\n\n```sh\ndocker-compose --version\n```\n\nå¦‚æœéœ€è¦å¸è½½ï¼Œç›´æ¥åˆ é™¤å³å¯ï¼š\n\n```sh\nrm -f /usr/bin/docker-compose\n```\n\n##### 5.4ã€å†æ¬¡å¯åŠ¨\n\nå†æ¬¡æ‰§è¡Œ `./install.sh`\n\n![img](https://s2.loli.net/2025/02/16/ilOpYecKCy7wGTZ.png)\n\næç¤ºå®‰è£…æˆåŠŸã€‚æ¥ä¸‹æ¥å°±å¯ä»¥è®¿é—®Harboräº†ã€‚è®¿é—®IP+ç«¯å£ï¼š[http://192.168.42.133:5000](http://192.168.42.133:5000/)\n![img](https://s2.loli.net/2025/02/16/FrRKhnkacDUV8lG.png)\n\nè®¿é—®æˆåŠŸï¼Œç”±äºHarboræ˜¯é€šè¿‡dockerç®¡ç†çš„ï¼Œæ‰€ä»¥å¯åŠ¨éå¸¸æ–¹ä¾¿ã€‚å¦‚æœé¦–é¡µè®¿é—®æˆåŠŸè¯´æ˜Dockerç§æœ‰ä»“åº“å·²ç»éƒ¨ç½²æˆåŠŸäº†ã€‚\n\n#### 6ã€Harbor Webé¡µé¢æ“ä½œè¯´æ˜\n\né»˜è®¤ç”¨æˆ·åæ˜¯adminï¼Œå¯†ç æ˜¯å¯åŠ¨æ—¶è®¾ç½®çš„å¯†ç ï¼š`AdminHarbor12345`\n\n![img](https://s2.loli.net/2025/02/16/9SnuUoJsKBzCFpA.png)\n\nç™»å½•æˆåŠŸè¿›å…¥ä¸»é¡µé¢äº†ã€‚ä»ç³»ç»Ÿé¦–é¡µå¯ä»¥çœ‹åˆ°ç³»ç»Ÿåˆ†ä¸ºä¸‰ä¸ªèœå•ï¼šé¡¹ç›®ã€æ—¥å¿—ã€ç³»ç»Ÿç®¡ç†ã€‚\n\n##### 6.1ã€é¡¹ç›®\n\né¡¹ç›®ç®¡ç†é¡¾åæ€ä¹‰å°±æ˜¯ç”¨æ¥ç®¡ç†é¡¹ç›®çš„ã€‚å¯ä»¥ä¸ºæ¯ä¸€ä¸ªå¼€å‘é¡¹ç›®åˆ›å»ºä¸€ä¸ªç§æœ‰é¡¹ç›®åº“ï¼Œç„¶åæŠŠDockeré•œåƒå­˜å‚¨åˆ°æŒ‡å®šçš„é¡¹ç›®ä¸­ï¼Œä¸ºæ¯ä¸ªé¡¹ç›®å®ç°é¡¹ç›®é•œåƒéš”ç¦»ã€‚åˆ›å»ºé¡¹ç›®çš„æ—¶å€™ï¼ŒHarboræä¾›äº†å…¬å¼€åº“ï¼ˆpublic repositoryï¼‰å’Œç§æœ‰åº“ï¼ˆprivate repositoryï¼‰ä¸¤ç§ç±»å‹çš„é•œåƒå­˜å‚¨ç©ºé—´ã€‚\n\n![img](https://s2.loli.net/2025/02/16/F34W9pclPBSkQHa.png)\n\né€šè¿‡è¯¦æƒ…ä¿¡æ¯å¯ä»¥çœ‹åˆ°ï¼š**å…¬å¼€åº“ä¸­çš„é•œåƒæ˜¯å¯¹æ‰€æœ‰ç”¨æˆ·å¯è§å’Œå¯è®¿é—®çš„ï¼Œä»»ä½•äººéƒ½å¯ä»¥æŸ¥çœ‹å’Œæ‹‰å–å…¶ä¸­çš„é•œåƒã€‚è€Œç§æœ‰åº“ä¸­çš„é•œåƒåˆ™éœ€è¦ç™»å½•æ‰èƒ½è®¿é—®æ§åˆ¶ï¼Œåªæœ‰è¢«æˆæƒçš„ç”¨æˆ·æˆ–å›¢é˜Ÿæ‰èƒ½å¤ŸæŸ¥çœ‹ã€æ‹‰å–å’Œæ¨é€é•œåƒã€‚** å¯ä»¥æ ¹æ®éœ€è¦åˆ›å»ºç›¸å…³çš„é¡¹ç›®ã€‚\n\n![img](https://s2.loli.net/2025/02/16/l1pfKPiZngO9sXW.png)\n\né¡¹ç›®åˆ›å»ºæˆåŠŸåï¼Œå¯ä»¥ç‚¹å‡»è¿›å…¥é¡¹ç›®ã€‚åœ¨é‡Œé¢å¯ä»¥ä¸ºæ¯ä¸ªé¡¹ç›®å•ç‹¬è®¾ç½®ä¸åŒçš„é…ç½®ä¿¡æ¯ã€‚å¯ä»¥ä¸ºæ¯ä¸€ä¸ªé¡¹ç›®æ·»åŠ æˆå‘˜ä¿¡æ¯ã€‚\n\n![img](https://s2.loli.net/2025/02/16/yBMfu4NG6PHYxdX.png)\n\nè§’è‰²æƒé™è¯´æ˜ï¼š\n\n- **é¡¹ç›®ç®¡ç†å‘˜ï¼ˆProject Administratorï¼‰ï¼š**æ‹¥æœ‰é¡¹ç›®çš„æœ€é«˜æƒé™ï¼Œå¯ä»¥å¯¹é¡¹ç›®è¿›è¡Œå…¨é¢ç®¡ç†ï¼ŒåŒ…æ‹¬åˆ›å»ºå’Œåˆ é™¤é¡¹ç›®ã€ç®¡ç†é¡¹ç›®æˆå‘˜å’Œæƒé™ã€é…ç½®é¡¹ç›®å±æ€§ã€æŸ¥çœ‹é¡¹ç›®æ—¥å¿—ç­‰ã€‚\n- **ç»´æŠ¤äººå‘˜ï¼ˆMaintainerï¼‰ï¼š**ç±»ä¼¼äºé¡¹ç›®ç®¡ç†å‘˜ï¼Œä½†æƒé™ç¨ä½ï¼Œé€šå¸¸ç”¨äºååŠ©ç®¡ç†é¡¹ç›®ï¼Œå¯ä»¥è¿›è¡Œé¡¹ç›®çš„éƒ¨åˆ†ç®¡ç†æ“ä½œï¼Œå¦‚æ·»åŠ å’Œåˆ é™¤é•œåƒã€é…ç½®é•œåƒçš„å¤åˆ¶å’ŒåŒæ­¥è§„åˆ™ç­‰ã€‚\n- **å¼€å‘è€…ï¼ˆDeveloperï¼‰ï¼š**å…·æœ‰å¯¹é¡¹ç›®ä¸­é•œåƒä»“åº“çš„è¯»å†™æƒé™ï¼Œå¯ä»¥æ‹‰å–ã€æ¨é€å’Œåˆ é™¤é•œåƒï¼Œä»¥åŠç®¡ç†éƒ¨åˆ†é¡¹ç›®é…ç½®ï¼Œä½†ä¸èƒ½è¿›è¡Œé¡¹ç›®ç®¡ç†æ“ä½œã€‚\n- **è®¿å®¢ï¼ˆGuestï¼‰ï¼š**åªå…·æœ‰å¯¹é¡¹ç›®ä¸­é•œåƒä»“åº“çš„åªè¯»æƒé™ï¼Œå¯ä»¥æŸ¥çœ‹é•œåƒå’Œå…ƒæ•°æ®ï¼Œä½†æ— æ³•å¯¹é•œåƒè¿›è¡Œä¿®æ”¹æˆ–åˆ é™¤æ“ä½œã€‚é€šå¸¸ç”¨äºåˆ†äº«é¡¹ç›®æˆ–é•œåƒç»™å¤–éƒ¨å›¢é˜Ÿæˆ–ç”¨æˆ·ã€‚\n- **å—é™è®¿å®¢ï¼ˆRestricted Guestï¼‰ï¼š**æ˜¯ä¸€ç§æ›´åŠ å—é™çš„è®¿å®¢è§’è‰²ï¼Œé€šå¸¸ç”¨äºæä¾›ç»™å¤–éƒ¨ç”¨æˆ·æˆ–ç³»ç»Ÿï¼Œå…·æœ‰å¯¹é¡¹ç›®ä¸­é•œåƒä»“åº“çš„åªè¯»æƒé™ï¼Œä½†å¯èƒ½ä¼šé™åˆ¶è®¿é—®çš„éƒ¨åˆ†å†…å®¹æˆ–åŠŸèƒ½ã€‚\n\nåœ¨å³ä¸Šè§’æ˜¾ç¤ºæ¨é€å‘½ä»¤ï¼Œå¯ä»¥é€šè¿‡æç¤ºå‘½ä»¤è¿›è¡Œdockeré•œåƒæ¨é€ã€‚\n\n![img](https://s2.loli.net/2025/02/16/RFEucUsbXL2jYyG.png)\n\n##### 6.2ã€æ—¥å¿—\n\næ—¥å¿—èœå•å°±æ˜¯è®°å½•ç”¨æˆ·æ“ä½œæ—¥å¿—ä¿¡æ¯çš„ã€‚\n\n![img](https://s2.loli.net/2025/02/16/B7HKfokDjcG4yNE.png)\n\n##### 6.3ã€ç³»ç»Ÿç®¡ç†\n\nç³»ç»Ÿç®¡ç†ä¸»è¦ç”¨æ¥ç®¡ç†Harborç”¨æˆ·äººå‘˜ä¿¡æ¯ã€é•œåƒä»“åº“çš„å„ç§é…ç½®ã€æƒé™å’Œç³»ç»Ÿè®¾ç½®ã€‚\n\n![img](https://s2.loli.net/2025/02/16/KfL2ViA7z8JyWvT.png)\n\n#### 7ã€Dockerå‘½ä»¤ä½¿ç”¨ç§æœ‰ä»“åº“\n\n##### 7.1ã€ç™»å½•\n\né¦–å…ˆç™»å½•ç§æœ‰ä»“åº“åœ°å€ï¼š\n\n```sh\ndocker login  -u admin -p AdminHarbor12345 http://192.168.42.133:5000\n```\n\nä¼šæŠ¥é”™ï¼š\n\n```sh\nWARNING! Using --password via the CLI is insecure. Use --password-stdin.\nError response from daemon: Get \"https://192.168.42.133:5000/v2/\": proxyconnect tcp: dial tcp 192.168.65.7:3128: connect: connection refused\n```\n\ndockerè®¤ä¸ºè¿™ä¸ªåœ°å€æ˜¯ä¸å®‰å…¨çš„ï¼Œæ‰€ä»¥éœ€è¦åœ¨dockerå®ˆæŠ¤è¿›ç¨‹é…ç½®æ–‡ä»¶ä¸­æŠŠè¯¥åœ°å€åŠ å…¥å®‰å…¨èŒƒå›´ã€‚\n\n```sh\n{\n  \"registry-mirrors\": [\"https://ejes884z.mirror.aliyuncs.com\"],\n  \"log-driver\":\"json-file\",\n  \"log-opts\": {\"max-size\":\"1g\", \"max-file\":\"3\"},\n  \"live-restore\": true,\n  \"insecure-registries\": [\"192.168.42.133:5000\"]\n}\n\n# insecure-registries ä¸å®‰å…¨çš„æ³¨å†Œè¡¨é…ç½®ä¸€äº›ä¸å®‰å…¨çš„åœ°å€ä¿¡æ¯ï¼Œè®©Dockerè®¤ä¸ºæ˜¯å®‰å…¨çš„ã€‚å¤šä¸ªåœ°å€ä½¿ç”¨ \",\" åˆ†å‰²\n```\n\nåŠ å…¥é…ç½®æˆåŠŸåï¼Œå†æ¬¡ç™»å½•ã€‚\n\n```sh\nWARNING! Using --password via the CLI is insecure. Use --password-stdin.\nWARNING! Your password will be stored unencrypted in /root/.docker/config.json.\nConfigure a credential helper to remove this warning. See\nhttps://docs.docker.com/engine/reference/commandline/login/#credentials-store\n\nLogin Succeeded\n```\n\né€šè¿‡è¾“å‡ºå‘ç°ç™»å½•æˆåŠŸã€‚è®¤è¯ä¿¡æ¯å­˜å‚¨åœ¨ `~/.docker/config.json` æ–‡ä»¶ä¸­ï¼Œåªè¦ç™»å½•ä¿¡æ¯å­˜åœ¨ï¼Œç™»å½•ä¼šä¸€ç›´ç”Ÿæ•ˆä¸éœ€è¦æ¯æ¬¡æ¨é€æ‹‰å–ä¹‹å‰éƒ½ç™»å½•ã€‚\n\n##### 7.2ã€æ¨é€\n\né‡æ–°å‘½åé•œåƒåç§°\n\n```sh\ndocker tag 94543a6c1aef 192.168.42.133:5000/blog_project/nginx:1.26.0\n```\n\næ¨é€\n\n```sh\ndocker push 192.168.42.133:5000/blog_project/nginx:1.26.0\n```\n\næŸ¥çœ‹Harborä»“åº“ï¼Œæ¨é€æˆåŠŸã€‚\n\n![img](https://s2.loli.net/2025/02/16/rejyKzPso7aNGOw.png)\n\n##### 7.3ã€æ‹‰å–\n\né€šè¿‡å¦ä¸€å°æœåŠ¡å™¨ï¼Œä½¿ç”¨ `docker pull`æ‹‰å–é•œåƒä»ç§æœ‰ä»“åº“æ‹‰å–é•œåƒï¼š\n\n```sh\ndocker pull 192.168.42.133:5000/blog_project/nginx:1.26.0\n```\n\næ‹‰å–æˆåŠŸ\n\n![img](https://s2.loli.net/2025/02/16/VQRZWvfTwSmdIbj.png)\n\næŸ¥çœ‹ä¸‹è½½æ•°ï¼Œå‘ç°å·²ç»æ›´æ–°äº†ã€‚\n\n![img](https://s2.loli.net/2025/02/16/kmbMnuydhpYTw5a.png)\n\n#### 8ã€æ€»ç»“\n\nå…³äºä½¿ç”¨Harboræ­å»ºDockerç§æœ‰ä»“åº“å°±ä»‹ç»å®Œæ¯•äº†ï¼Œå¦‚æœå¤§å®¶æœ‰å…´è¶£å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹å…¶ä»–æ­å»ºæ–¹å¼ï¼Œç„¶ååœ¨å®ƒä»¬ä¹‹é—´è¿›è¡Œå¯¹æ¯”ä¸€ä¸‹çœ‹çœ‹é‚£ç§æ–¹å¼æ›´é€‚åˆã€‚æœ¬ç¯‡ä¸ºå…¥é—¨çº§Harborçš„åŸºç¡€ä½¿ç”¨ï¼Œå…¶ä»–åŠŸèƒ½å¯ä»¥è‡ªè¡Œç ”ç©¶ã€‚","tags":["docker","Harbor"],"categories":["_A5-å®‰è£…æ•™ç¨‹","Docker"]},{"title":"dockerä½¿ç”¨-docker-compose.ymlåŠ¨æ€ä¼ é€’å˜é‡","url":"/2025/02/15/dockerä½¿ç”¨-docker-compose-ymlåŠ¨æ€ä¼ é€’å˜é‡/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>dockerä½¿ç”¨-docker-compose.ymlåŠ¨æ€ä¼ é€’å˜é‡</strong></font>\n\n<!--more-->\n\n### 1. åœ¨ `docker-compose.yml` ä¸­ä½¿ç”¨ç¯å¢ƒå˜é‡\n\né¦–å…ˆï¼Œåœ¨ `docker-compose.yml` æ–‡ä»¶ä¸­ï¼Œå°† `/Users/c33/app/_static` æ›¿æ¢ä¸ºä¸€ä¸ªç¯å¢ƒå˜é‡ã€‚ä¾‹å¦‚ï¼š\n\nyaml\n\nå¤åˆ¶\n\n```bash\nversion: '3'\nservices:\n  app:\n    image: your-image\n    volumes:\n      - ${STATIC_PATH}:/app/_static  # å®¿ä¸»æœº${STATIC_PATH}  dockeræœºå™¨/app/_static\n    environment:\n      - STATIC_PATH=${STATIC_PATH}  # è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªç¯å¢ƒå˜é‡ STATIC_PATHï¼Œå®ƒçš„å€¼æ˜¯ä»å¤–éƒ¨ï¼ˆå®¿ä¸»æœºæˆ– .env æ–‡ä»¶ï¼‰ä¼ é€’è¿›æ¥çš„ ${STATIC_PATH}ã€‚\n```\n\n### 2. åœ¨ `.env` æ–‡ä»¶ä¸­å®šä¹‰ç¯å¢ƒå˜é‡\n\nåœ¨ `docker-compose.yml` æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ª `.env` æ–‡ä»¶ï¼Œå¹¶åœ¨å…¶ä¸­å®šä¹‰ `STATIC_PATH` å˜é‡ï¼š\n\n```bash\nSTATIC_PATH=/Users/c33/app/_static\n```\n\n### 3. è¿è¡Œ `docker-compose up` æ—¶ä¼ é€’ç¯å¢ƒå˜é‡\n\nå½“ä½ è¿è¡Œ `docker-compose up` æ—¶ï¼ŒDocker Compose ä¼šè‡ªåŠ¨è¯»å– `.env` æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡ã€‚å¦‚æœä½ æƒ³åœ¨è¿è¡Œæ—¶åŠ¨æ€ä¼ é€’ä¸åŒçš„è·¯å¾„ï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­è¦†ç›– `.env` æ–‡ä»¶ä¸­çš„å€¼ï¼š\n\n```bash\nSTATIC_PATH=/path/to/your/static docker-compose up\n\n# å¦‚æœç›´æ¥ä½¿ç”¨docker run\ndocker run \\\n  -e STATIC_PATH=/path/to/your/static \\\n  -v /path/to/your/static:/app/_static \\\n  your-image\n```\n\n### 4. ä½¿ç”¨ `docker-compose.override.yml`ï¼ˆå¯é€‰ï¼‰\n\nå¦‚æœä½ æœ‰å¤šä¸ªç¯å¢ƒæˆ–é…ç½®ï¼Œå¯ä»¥ä½¿ç”¨ `docker-compose.override.yml` æ–‡ä»¶æ¥è¦†ç›–é»˜è®¤çš„ `docker-compose.yml` é…ç½®ã€‚ä¾‹å¦‚ï¼š\n\n```bash\nversion: '3'\nservices:\n  app:\n    volumes:\n      - ${STATIC_PATH}:/app/_static\n```\n\nç„¶ååœ¨è¿è¡Œ `docker-compose up` æ—¶ä¼ é€’ä¸åŒçš„ `STATIC_PATH` å€¼ã€‚\n\n### æ€»ç»“\n\né€šè¿‡ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼Œä½ å¯ä»¥è½»æ¾åœ°åœ¨è¿è¡Œ `docker-compose up` æ—¶åŠ¨æ€ä¼ é€’ `/Users/c33/app/_static` è¿™æ ·çš„è·¯å¾„ã€‚è¿™ç§æ–¹æ³•ä¸ä»…çµæ´»ï¼Œè€Œä¸”ä¾¿äºç®¡ç†ä¸åŒç¯å¢ƒä¸‹çš„é…ç½®ã€‚","tags":["æ•™ç¨‹","docker","å·¥å…·","build"],"categories":["Docker","éƒ¨ç½²"]},{"title":"dockeræ‰“åŒ…Djangoé¡¹ç›®æ•™ç¨‹","url":"/2025/02/15/dockeræ‰“åŒ…Djangoé¡¹ç›®æ•™ç¨‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>dockeræ‰“åŒ…Djangoé¡¹ç›®æ•™ç¨‹</strong></font>\n\n<!--more-->\n\nè¦å°† Django é¡¹ç›®æ‰“åŒ…ä¸º Docker é•œåƒï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ª Dockerfileï¼Œå¹¶é…ç½®ç›¸å…³çš„æ–‡ä»¶å’Œè®¾ç½®ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªåŸºæœ¬çš„æ­¥éª¤æŒ‡å—ï¼Œå¸®åŠ©ä½ å°† Django é¡¹ç›®æ‰“åŒ…ä¸º Docker é•œåƒã€‚\n\n### 1. åˆ›å»º Django é¡¹ç›®\n\nå¦‚æœä½ è¿˜æ²¡æœ‰ Django é¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–°çš„ Django é¡¹ç›®ï¼š\n\n```bash\ndjango-admin startproject myproject\ncd myproject\n```\n\n### 2. åˆ›å»º Dockerfile\n\nåœ¨ Django é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º Dockerfile çš„æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n\n```bash\n# ä½¿ç”¨å®˜æ–¹ Python é•œåƒä½œä¸ºåŸºç¡€é•œåƒ\nFROM python:3.9-slim\n\n# è®¾ç½®å·¥ä½œç›®å½•\nWORKDIR /app\n\n# å¤åˆ¶ requirements.txt æ–‡ä»¶åˆ°å®¹å™¨ä¸­\nCOPY requirements.txt .\n\n# å®‰è£…ä¾èµ–  # è¿™é‡Œçš„ ENVIRONMENT æ˜¯ä¸ªå˜é‡ï¼Œé€šè¿‡å¯åŠ¨å‘½ä»¤ä¼ é€’ï¼Œ å¦‚æœæ˜¯macèµ°ç¬¬ä¸€æ¡\npip install --no-cache-dir -r requirements.txt\n# å¤åˆ¶é¡¹ç›®æ–‡ä»¶åˆ°å®¹å™¨ä¸­\nCOPY . .\n\n# æš´éœ²ç«¯å£\nEXPOSE 8000\n\n# è¿è¡Œ Django å¼€å‘æœåŠ¡å™¨\nCMD [\"python\", \"manage.py\", \"runserver\", \"0.0.0.0:8000\"]\n```\n\n### 3. åˆ›å»º requirements.txt\n\nç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æœ‰ä¸€ä¸ª requirements.txt æ–‡ä»¶ï¼Œåˆ—å‡ºæ‰€æœ‰çš„ä¾èµ–é¡¹ã€‚ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆ requirements.txtï¼š\n\n```bash\npip freeze > requirements.txt\n```\n\n### 4. åˆ›å»º .dockerignore æ–‡ä»¶\n\nä¸ºäº†é¿å…å°†ä¸å¿…è¦çš„æ–‡ä»¶å¤åˆ¶åˆ° Docker é•œåƒä¸­ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ª .dockerignore æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n\n```bash\n__pycache__\n*.pyc\n*.pyo\n*.pyd\n*.db\n*.sqlite3\n*.log\n*.env\n```\n\n### 5. æ„å»º Docker é•œåƒ\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ„å»º Docker é•œåƒï¼š\n\n```bash\ndocker build -t mydjangoapp .\n```\n\n### 6. è¿è¡Œ Docker å®¹å™¨\n\næ„å»ºå®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œ Docker å®¹å™¨ï¼š\n\n```bash\ndocker run -p 8000:8000 mydjangoapp\n```\n\nè¿™å°†æŠŠå®¹å™¨çš„ 8000 ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„ 8000 ç«¯å£ã€‚\n\n### 7. è®¿é—® Django åº”ç”¨\n\nåœ¨æµè§ˆå™¨ä¸­è®¿é—® http://localhost:8000ï¼Œä½ åº”è¯¥èƒ½å¤Ÿçœ‹åˆ° Django çš„æ¬¢è¿é¡µé¢ã€‚\n\n### 8. æ•°æ®åº“é…ç½®ï¼ˆå¯é€‰ï¼‰\n\nå¦‚æœä½ çš„ Django é¡¹ç›®ä½¿ç”¨æ•°æ®åº“ï¼ˆå¦‚ PostgreSQLã€MySQL ç­‰ï¼‰ï¼Œä½ éœ€è¦åœ¨ Dockerfile ä¸­æ·»åŠ æ•°æ®åº“çš„ç›¸å…³é…ç½®ï¼Œå¹¶ç¡®ä¿æ•°æ®åº“æœåŠ¡åœ¨å®¹å™¨ä¸­è¿è¡Œã€‚ä½ å¯ä»¥ä½¿ç”¨ Docker Compose æ¥ç®¡ç†å¤šä¸ªæœåŠ¡ã€‚\n\n### 9. ä½¿ç”¨ Docker Composeï¼ˆå¯é€‰ï¼‰\n\nå¦‚æœä½ å¸Œæœ›ä½¿ç”¨ Docker Compose æ¥ç®¡ç† Django å’Œæ•°æ®åº“æœåŠ¡ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ª docker-compose.yml æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n\n```bash\nversion: '3.8'\n\nservices:\n  web:\n    image: kamali:latest\n    restart: always\n    ports:\n      - \"8000:8000\"\n    volumes:\n      - /Users/c33/app/_static:/app/_static  # æŒ‚è½½è·¯å¾„\n    command: python manage.py runserver 0.0.0.0:8000\n    depends_on:  # åˆ é™¤è¿™ä¸€è¡Œ å¯ä»¥ä¸ç”¨é…ç½®æ•°æ®åº“\n      - mysql\n\n  mysql: # æ•°æ®åº“é…ç½® mysql å¯ä»¥ä¸è¦\n    image: mysql:8.0\n    environment:\n      MYSQL_ROOT_PASSWORD: securepassword\n      MYSQL_DATABASE: myproject\n    volumes:\n      - mysql_data:/var/lib/mysql\n\nvolumes:\n  mysql_data:\n```\n\nç„¶åä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨æœåŠ¡ï¼š\n\n```bash\ndocker-compose up   # æ­¤å‘½ä»¤æ˜¯æ§åˆ¶å°è¿è¡Œ\ndocker-compose up -d   # æ­¤å‘½ä»¤æ˜¯åå°è¿è¡Œ\n```\n\n\n\n### 10. ç›´æ¥ä»¥å‘½ä»¤è¿è¡ŒæŒ‚è½½ç›®å½•æˆ–è€…æ–‡ä»¶\n\n```bash\ndocker build -t mydjangoapp .\ndocker run -p 8000:8000 -v /root/settings.json:/app/settings.json mydjangoapp\n# /root/settings.json å®¿ä¸»æœºçš„æ–‡ä»¶è·¯å¾„\n# /app/settings.json   dockerç¯å¢ƒè·¯å¾„\n```\n\n","tags":["æ•™ç¨‹","docker","å·¥å…·","build"],"categories":["Docker","ç¼–è¯‘"]},{"title":"docker-æ‰“åŒ…pythoné¡¹ç›®æ—¶æ ‡ç­¾è¯´æ˜","url":"/2025/02/15/docker-æ‰“åŒ…pythoné¡¹ç›®æ—¶æ ‡ç­¾è¯´æ˜/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>`docker` æ‰“åŒ…`python`é¡¹ç›®æ—¶æ ‡ç­¾è¯´æ˜</strong></font>\n\n<!--more-->\n\n### åœ¨ Docker ä¸­ä¸€äº›å¸¸è§çš„ Python é•œåƒæ ‡ç­¾åŠå…¶å«ä¹‰ï¼š\n\n> #### 1ã€slim\n>\n> > æè¿°ï¼šç²¾ç®€ç‰ˆé•œåƒï¼Œå»æ‰äº†ä¸€äº›ä¸å¿…è¦çš„æ–‡ä»¶å’Œå·¥å…·ï¼Œä½“ç§¯è¾ƒå°ï¼Œé€‚åˆç”¨äºç”Ÿäº§ç¯å¢ƒã€‚\n> >\n> > ç¤ºä¾‹ï¼špython:3.12-slim\n>\n> #### 2ã€alpine\n>\n> > æè¿°ï¼šåŸºäº Alpine Linux çš„é•œåƒï¼Œä½“ç§¯éå¸¸å°ï¼Œé€‚åˆéœ€è¦æå°é•œåƒçš„åœºæ™¯ã€‚ç”±äº Alpine ä½¿ç”¨ musl libc è€Œä¸æ˜¯ glibcï¼ŒæŸäº› Python åº“å¯èƒ½éœ€è¦é¢å¤–çš„é…ç½®ã€‚\n> >\n> > ç¤ºä¾‹ï¼špython:3.12-alpine\n>\n> #### 3. buster / bullseye\n>\n> > æè¿°ï¼šåŸºäº Debian çš„é•œåƒï¼Œbuster æ˜¯ Debian 10 çš„ä»£å·ï¼Œbullseye æ˜¯ Debian 11 çš„ä»£å·ã€‚è¿™äº›é•œåƒåŒ…å«äº†æ›´å¤šçš„å·¥å…·å’Œåº“ï¼Œé€‚åˆéœ€è¦å®Œæ•´ Debian ç¯å¢ƒçš„åº”ç”¨ã€‚\n> >\n> > ç¤ºä¾‹ï¼špython:3.12-buster æˆ– python:3.12-bullseye\n>\n> #### 4. stretch\n>\n> > æè¿°ï¼šåŸºäº Debian Stretchï¼ˆDebian 9ï¼‰çš„é•œåƒï¼Œé€‚åˆéœ€è¦è¾ƒæ—§ç‰ˆæœ¬åº“çš„åº”ç”¨ã€‚\n> >\n> > ç¤ºä¾‹ï¼špython:3.12-stretch\n>\n> #### 5. windows\n>\n> > æè¿°ï¼šç”¨äº Windows å®¹å™¨çš„ Python é•œåƒï¼Œé€‚åˆåœ¨ Windows Server ä¸Šè¿è¡Œçš„åº”ç”¨ã€‚\n> >\n> > ç¤ºä¾‹ï¼špython:3.12-windows\n>\n> #### 6. latest\n>\n> > æè¿°ï¼šæŒ‡å‘æœ€æ–°ç‰ˆæœ¬çš„ Python é•œåƒï¼Œé€šå¸¸æ˜¯æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬ã€‚ä½¿ç”¨æ—¶è¦æ³¨æ„ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸å…¼å®¹é—®é¢˜ã€‚\n> >\n> > ç¤ºä¾‹ï¼špython:latest\n>\n> #### 7. buster / bullseye å˜ä½“\n>\n> > æè¿°ï¼šé™¤äº† slim å’Œ alpineï¼Œä½ è¿˜å¯ä»¥æ‰¾åˆ°å…¶ä»–å˜ä½“ï¼Œä¾‹å¦‚ python:3.12-buster å’Œ python:3.12-bullseyeï¼Œè¿™äº›é•œåƒåŒ…å«äº†å®Œæ•´çš„ Debian ç³»ç»Ÿï¼Œé€‚åˆéœ€è¦æ›´å¤šä¾èµ–çš„åº”ç”¨ã€‚\n>\n> #### 8. ubuntu\n>\n> > æè¿°ï¼šåŸºäº Ubuntu çš„é•œåƒï¼Œé€šå¸¸æ˜¯æœ€æ–°çš„ LTSï¼ˆé•¿æœŸæ”¯æŒï¼‰ç‰ˆæœ¬ã€‚è¿™ä¸ªé•œåƒåŒ…å«äº†å®Œæ•´çš„ Ubuntu ç¯å¢ƒï¼Œé€‚åˆéœ€è¦ Ubuntu ç‰¹æ€§å’Œåº“çš„åº”ç”¨ã€‚\n> >\n> > ç¤ºä¾‹ï¼špython:3.12-ubuntu\n>\n> #### 9. focal\n>\n> > æè¿°ï¼šåŸºäº Ubuntu 20.04 LTSï¼ˆFocal Fossaï¼‰çš„é•œåƒã€‚é€‚åˆéœ€è¦ Ubuntu 20.04 ç¯å¢ƒçš„åº”ç”¨ã€‚\n> >\n> > ç¤ºä¾‹ï¼špython:3.12-focal\n>\n> #### 10. jammy\n>\n> > æè¿°ï¼šåŸºäº Ubuntu 22.04 LTSï¼ˆJammy Jellyfishï¼‰çš„é•œåƒã€‚é€‚åˆéœ€è¦ Ubuntu 22.04 ç¯å¢ƒçš„åº”ç”¨ã€‚\n> >\n> > ç¤ºä¾‹ï¼špython:3.12-jammy\n>\n> #### 11. bionic\n>\n> > æè¿°ï¼šåŸºäº Ubuntu 18.04 LTSï¼ˆBionic Beaverï¼‰çš„é•œåƒã€‚é€‚åˆéœ€è¦è¾ƒæ—§ç‰ˆæœ¬ Ubuntu çš„åº”ç”¨ã€‚\n> >\n> > ç¤ºä¾‹ï¼špython:3.12-bionic\n>\n> #### 12. å…·ä½“ç‰ˆæœ¬\n>\n> > æè¿°ï¼šä½ å¯ä»¥æŒ‡å®šå…·ä½“çš„ Python ç‰ˆæœ¬ï¼Œä¾‹å¦‚ python:3.12.1ï¼Œè¿™å°†ç¡®ä¿ä½ ä½¿ç”¨çš„æ˜¯ç‰¹å®šçš„ Python ç‰ˆæœ¬ã€‚\n> >\n> > ç¤ºä¾‹ï¼špython:3.12.1\n\n\n\n### æ€»ç»“\n\næ ¹æ®ä½ çš„éœ€æ±‚ï¼Œå¯ä»¥é€‰æ‹©ä¸åŒçš„æ ‡ç­¾æ¥æ„å»º Docker é•œåƒã€‚slim å’Œ alpine é€‚åˆéœ€è¦å°é•œåƒçš„åœºæ™¯ï¼Œè€Œ buster å’Œ bullseye åˆ™é€‚åˆéœ€è¦å®Œæ•´ Debian ç¯å¢ƒçš„åº”ç”¨ã€‚é€‰æ‹©åˆé€‚çš„åŸºç¡€é•œåƒå¯ä»¥å¸®åŠ©ä½ ä¼˜åŒ–åº”ç”¨çš„æ€§èƒ½å’Œä½“ç§¯ã€‚","tags":["docker","è¯´æ˜","æ‰“åŒ…","æ ‡ç­¾"],"categories":["Docker","æ‰“åŒ…"]},{"title":"ubuntu-å¼ºåˆ¶ä¿®æ”¹å¯†ç ä¸ºç®€å•å¯†ç ","url":"/2025/02/15/ubuntu-å¼ºåˆ¶ä¿®æ”¹å¯†ç ä¸ºç®€å•å¯†ç /","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ubuntu å¼ºåˆ¶ä¿®æ”¹å¯†ç ä¸ºç®€å•å¯†ç </strong></font>\n\n<!--more-->\n\nåœ¨ `Ubuntu` ä¸­ï¼Œå‡ºäºå®‰å…¨è€ƒè™‘ï¼Œç³»ç»Ÿé€šå¸¸ä¼šå¼ºåˆ¶è¦æ±‚å¯†ç æ»¡è¶³ä¸€å®šçš„å¤æ‚æ€§å’Œé•¿åº¦è¦æ±‚ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œroot å¯†ç å¿…é¡»è‡³å°‘åŒ…å« 8 ä¸ªå­—ç¬¦ã€‚ä½†æ˜¯æˆ‘ä»¬æœ¬åœ°æµ‹è¯•ç¯å¢ƒï¼Œä¸éœ€è¦é‚£ä¹ˆå¤æ‚çš„å¯†ç ã€‚è¶Šç®€å•çš„å¯†ç è¶Šå®¹æ˜“ä½¿ç”¨ã€‚\n\nè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ ä½¿ç”¨ ä¸´æ—¶ç¦ç”¨å¯†ç å¤æ‚æ€§æ£€æŸ¥æ¥ä¿®æ”¹\n\n### 1. ä¿®æ”¹ PAM é…ç½®\n\n1. æ‰“å¼€ç»ˆç«¯ã€‚\n2. ç¼–è¾‘ PAM å¯†ç ç­–ç•¥é…ç½®ï¼š\n\nä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‰“å¼€ common-password æ–‡ä»¶ï¼š\n\n```bash\nsudo vim /etc/pam.d/common-password\n```\n\n```bash\n# password\trequisite\t\t\tpam_pwquality.so retry=3  æ­¤ä¸ºä¿®æ”¹å‰çš„å†…å®¹\npassword requisite pam_unix.so nullok obscure min=0 max=8  # æ­¤ä¸ºä¿®æ”¹åçš„å†…å®¹\npassword\t[success=2 default=ignore]\tpam_unix.so obscure use_authtok try_first_pass yescrypt\npassword\tsufficient\t\t\tpam_sss.so use_authtok\npassword\trequisite\t\t\tpam_deny.so\npassword\trequired\t\t\tpam_permit.so\npassword\toptional\tpam_gnome_keyring.so \n```\n\n","tags":["root","å¯†ç "],"categories":["_A5-å®‰è£…æ•™ç¨‹","ubuntu"]},{"title":"ubuntuå®‰è£…é…ç½®docker","url":"/2025/02/15/ubuntuå®‰è£…é…ç½®docker/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ubuntuå®‰è£…é…ç½®docker</strong></font>\n\n<!--more-->\n\n### 1. æ›´æ–°ç³»ç»Ÿ\n\nåœ¨ Ubuntu ä¸­æ‰“å¼€ç»ˆç«¯ï¼Œæ›´æ–°ç³»ç»Ÿï¼š\n\n```bash\nsudo apt update\nsudo apt upgrade\n```\n\n\n\n### 2.  å®‰è£… Snap\n\nå¦‚æœä½ çš„ç³»ç»Ÿå°šæœªå®‰è£… Snapï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š\n\n```\nsudo apt install snapd\n```\n\n\n\n### 3. ä½¿ç”¨ Snap å®‰è£… Docker\n\nä½¿ç”¨ä»¥ä¸‹å‘½ä»¤é€šè¿‡ Snap å®‰è£… Dockerï¼š\n\n```bash\nsudo snap install docker\n```\n\n### 4. å¯åŠ¨ Docker æœåŠ¡\n\nå®‰è£…å®Œæˆåï¼ŒDocker æœåŠ¡åº”è¯¥ä¼šè‡ªåŠ¨å¯åŠ¨ã€‚ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ Docker æœåŠ¡çš„çŠ¶æ€ï¼š\n\n```\nsudo systemctl status snap.docker.dockerd\n```\n\nå¦‚æœæœåŠ¡æ²¡æœ‰è¿è¡Œï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨å®ƒï¼š\n\n```\nsudo systemctl start snap.docker.dockerd\n```\n\n\n\n### 4. é…ç½®å›½å†…é•œåƒåŠ é€Ÿå™¨(å›½å¤–æœåŠ¡å™¨å¿½ç•¥)\n\n+ `vim /etc/docker/daemon.json`\n\n```bash\n{\n\t\"registry-mirrors\": [\n\t\t\"https://docker.mirrors.ustc.edu.cn\",\n\t\t\"https://docker.mirrors.tuna.tsinghua.edu.cn\",\n\t\t\"https://www.daocloud.io/mirror\",\n\t\t\"https://mirror.ccs.tencentyun.com\",\n\t\t\"https://hub-mirror.c.163.com\"\n\t]\n}\n```\n\n### 5. é‡å¯ dockeræœåŠ¡\n\n```\nsudo systemctl restart docker\n```\n\n\n\n### 6. éªŒè¯ Docker å®‰è£…\n\nè¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥éªŒè¯ Docker æ˜¯å¦å®‰è£…æˆåŠŸï¼š\n\n```bash\nsudo docker --version\n```\n\n### 7. è¿è¡Œ Docker Hello World ç¤ºä¾‹\n\nä¸ºäº†ç¡®ä¿ Docker æ­£å¸¸å·¥ä½œï¼Œå¯ä»¥è¿è¡Œä¸€ä¸ªç®€å•çš„ Hello World å®¹å™¨ï¼š\n\n```bash\nsudo docker run hello-world\n```\n\nå¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ å°†çœ‹åˆ°ä¸€æ¡æ¶ˆæ¯ï¼Œè¡¨æ˜ Docker å·²æˆåŠŸå®‰è£…å¹¶è¿è¡Œã€‚\n\n### 8. ï¼ˆå¯é€‰ï¼‰å°†ç”¨æˆ·æ·»åŠ åˆ° Docker ç»„\n\nå¦‚æœä½ å¸Œæœ›åœ¨ä¸ä½¿ç”¨ sudo çš„æƒ…å†µä¸‹è¿è¡Œ Docker å‘½ä»¤ï¼Œå¯ä»¥å°†ä½ çš„ç”¨æˆ·æ·»åŠ åˆ° Docker ç»„ï¼š\n\n```bash\nsudo usermod -aG docker $USER\n```\n\næ·»åŠ åï¼Œæ³¨é”€å¹¶é‡æ–°ç™»å½•ï¼Œæˆ–è€…é‡å¯ç³»ç»Ÿä»¥ä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚\n\n### æ€»ç»“\n\né€šè¿‡ Snap å®‰è£… Docker æ˜¯ä¸€ç§ç®€å•çš„æ–¹æ³•ï¼Œé€‚åˆåœ¨ Ubuntu ä¸Šå¿«é€Ÿéƒ¨ç½² Dockerã€‚","tags":["docker","å®‰è£…"],"categories":["_A5-å®‰è£…æ•™ç¨‹","ubuntu"]},{"title":"ubuntu-å…±äº«æ–‡ä»¶å¤¹_samba","url":"/2025/02/15/ubuntu-å…±äº«æ–‡ä»¶å¤¹-samba/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ubuntu å…±äº«æ–‡ä»¶å¤¹ For samba</strong></font>\n\n<!--more-->\n\nåœ¨ Ubuntu ä¸­å…±äº«æ–‡ä»¶å¤¹å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å®ç°ï¼Œæœ€å¸¸è§çš„æ–¹æ³•æ˜¯ä½¿ç”¨ Sambaï¼ˆé€‚ç”¨äº Windows å’Œ Linux ä¹‹é—´çš„å…±äº«ï¼‰æˆ– NFSï¼ˆé€‚ç”¨äº Linux ä¹‹é—´çš„å…±äº«ï¼‰ã€‚ä»¥ä¸‹æ˜¯è¿™ä¸¤ç§æ–¹æ³•çš„è¯¦ç»†æ­¥éª¤ã€‚\n\n### æ–¹æ³• 1ï¼šä½¿ç”¨ Samba å…±äº«æ–‡ä»¶å¤¹\n\n#### 1. å®‰è£… Samba\n\né¦–å…ˆï¼Œç¡®ä¿ä½ çš„ç³»ç»Ÿå·²å®‰è£… Sambaã€‚æ‰“å¼€ç»ˆç«¯å¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\n\n```bash\nsudo apt update\nsudo apt install samba\n```\n\n#### 2. åˆ›å»ºå…±äº«æ–‡ä»¶å¤¹\n\né€‰æ‹©ä¸€ä¸ªç›®å½•ä½œä¸ºå…±äº«æ–‡ä»¶å¤¹ï¼Œæˆ–è€…åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ã€‚ä¾‹å¦‚ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º shared çš„æ–‡ä»¶å¤¹ï¼š\n\n```bash\nmkdir ~/shared\n```\n\n#### 3. é…ç½® Samba\n\nç¼–è¾‘ Samba é…ç½®æ–‡ä»¶ï¼š\n\n```bash\nsudo nano /etc/samba/smb.conf\n```\n\nåœ¨æ–‡ä»¶çš„æœ«å°¾æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n\n```bash\n# åœ¨ [global] éƒ¨åˆ†ä¸­ï¼Œæ·»åŠ æˆ–ä¿®æ”¹ä»¥ä¸‹è®¾ç½®ï¼š  å¼€å¯å…¨é€Ÿ\n [global]\n   max connections = 100  # å¢åŠ å¹¶å‘æ€§èƒ½\n   max open files = 10000  # å¢åŠ å¹¶å‘æ€§èƒ½\n   # æ€§èƒ½ä¼˜åŒ–è®¾ç½®\n   socket options = TCP_NODELAY SO_RCVBUF=8192 SO_SNDBUF=8192\n   max protocol = SMB3\n   min protocol = SMB2\n   \n[MyFiles]\n   path = /home/kate/SambaFiles\n   available = yes\n   valid users = root\n   read only = no\n   browsable = yes\n   public = yes\n   writable = yes\n   create mask = 0755\n   directory mask = 0755\n```\n\nè¯·å°† your_username æ›¿æ¢ä¸ºä½ çš„å®é™…ç”¨æˆ·åã€‚\n\n#### 4. è®¾ç½® Samba ç”¨æˆ·\n\nä¸º Samba è®¾ç½®ç”¨æˆ·å¯†ç ï¼š\n\n```bash\nsudo smbpasswd -a your_username\n```\n\n#### 5. é‡å¯ Samba æœåŠ¡\n\né‡å¯ Samba æœåŠ¡ä»¥ä½¿æ›´æ”¹ç”Ÿæ•ˆï¼š\n\n```bash\nsudo systemctl restart smbd\n```\n\n#### 6. è®¿é—®å…±äº«æ–‡ä»¶å¤¹\n\nåœ¨ Windows ç³»ç»Ÿä¸­ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¿é—®å…±äº«æ–‡ä»¶å¤¹ï¼š\n\n1. æ‰“å¼€æ–‡ä»¶èµ„æºç®¡ç†å™¨ã€‚\n\nåœ¨åœ°å€æ ä¸­è¾“å…¥ \\\\your_ubuntu_ip\\SharedFolderï¼Œå°† your_ubuntu_ip æ›¿æ¢ä¸º Ubuntu æœºå™¨çš„ IP åœ°å€ã€‚\n\nè¾“å…¥ Samba ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œè®¿é—®ã€‚\n\n### æ–¹æ³• 2ï¼šä½¿ç”¨ NFS å…±äº«æ–‡ä»¶å¤¹\n\nNFSï¼ˆç½‘ç»œæ–‡ä»¶ç³»ç»Ÿï¼‰é€‚ç”¨äº Linux ä¹‹é—´çš„å…±äº«ã€‚\n\n#### 1. å®‰è£… NFS\n\né¦–å…ˆï¼Œç¡®ä¿ä½ çš„ç³»ç»Ÿå·²å®‰è£… NFSï¼š\n\n```bash\nsudo apt update\nsudo apt install nfs-kernel-server\n```\n\n#### 2. åˆ›å»ºå…±äº«æ–‡ä»¶å¤¹\n\né€‰æ‹©ä¸€ä¸ªç›®å½•ä½œä¸ºå…±äº«æ–‡ä»¶å¤¹ï¼Œæˆ–è€…åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ã€‚ä¾‹å¦‚ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º shared çš„æ–‡ä»¶å¤¹ï¼š\n\n```bash\nmkdir ~/shared\n```\n\n#### 3. é…ç½® NFS\n\nç¼–è¾‘ NFS é…ç½®æ–‡ä»¶ï¼š\n\n```bash\nsudo nano /etc/exports\n```\n\nåœ¨æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹è¡Œï¼š\n\n```bash\n/home/your_username/shared *(rw,sync,no_subtree_check)\n```\n\nè¯·å°† your_username æ›¿æ¢ä¸ºä½ çš„å®é™…ç”¨æˆ·åã€‚\n\n#### 4. é‡å¯ NFS æœåŠ¡\n\né‡å¯ NFS æœåŠ¡ä»¥ä½¿æ›´æ”¹ç”Ÿæ•ˆï¼š\n\n```bash\nsudo exportfs -a\nsudo systemctl restart nfs-kernel-server\n```\n\n#### 5. è®¿é—®å…±äº«æ–‡ä»¶å¤¹\n\nåœ¨å¦ä¸€å° Linux æœºå™¨ä¸Šï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŒ‚è½½ NFS å…±äº«ï¼š\n\n```bash\nsudo mount your_ubuntu_ip:/home/your_username/shared /mnt\n```\n\nå°† your_ubuntu_ip æ›¿æ¢ä¸º Ubuntu æœºå™¨çš„ IP åœ°å€ï¼Œ/mnt æ˜¯ä½ å¸Œæœ›æŒ‚è½½çš„æœ¬åœ°ç›®å½•ã€‚\n\n### æ€»ç»“\n\né€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ å¯ä»¥åœ¨ Ubuntu ä¸­å…±äº«æ–‡ä»¶å¤¹ã€‚é€‰æ‹© Samba æˆ– NFS å–å†³äºä½ çš„éœ€æ±‚å’Œç½‘ç»œç¯å¢ƒã€‚å¦‚æœåœ¨é…ç½®æˆ–ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¯·æä¾›å…·ä½“çš„é”™è¯¯ä¿¡æ¯ï¼Œä»¥ä¾¿è¿›ä¸€æ­¥æ’æŸ¥ã€‚","tags":["docker","æŒ‚è½½","æ–‡ä»¶å¤¹å…±äº«"],"categories":["_A5-å®‰è£…æ•™ç¨‹","ubuntu"]},{"title":"docker-composeéƒ¨ç½²Mysqlç¨‹åº","url":"/2025/02/07/docker-composeéƒ¨ç½²Mysqlç¨‹åº/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>`docker-compose` éƒ¨ç½² `dockerc`ç¨‹åº</strong></font>\n\nè¦åœ¨ Docker ä¸­å®‰è£… MySQLï¼Œå¹¶é…ç½®ä¸ºå¼€æœºè‡ªåŠ¨å¯åŠ¨ã€æ–­çº¿è‡ªåŠ¨é‡å¯ï¼Œå¹¶è®¾ç½®æ—¥å¿—å¤§å°é™åˆ¶ä¸º 5MBï¼Œä½ å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œæ“ä½œï¼š\n\n<!--more-->\n\n### 1ã€åˆ›å»ºdockerè™šæ‹Ÿç£ç›˜\n\n```bash\ndocker volume create TestData   # åˆ›å»ºè™šæ‹Ÿç£ç›˜ TestData\n# docker volume inspect TestData   # æŸ¥çœ‹ Volume ç‰©ç†è·¯å¾„\n# docker volume rm TestData   # # åˆ é™¤å·\n# docker exec -it mysql /bin/bash  # è¿›å…¥ mysql å®¹å™¨\n\n```\n\n\n\n### 2ã€ åˆ›å»º Docker Compose æ–‡ä»¶\n\nä½¿ç”¨ `Docker Compose` å¯ä»¥æ›´æ–¹ä¾¿åœ°ç®¡ç†å®¹å™¨çš„é…ç½®ã€‚é¦–å…ˆï¼Œç¡®ä¿ä½ å·²ç»å®‰è£…äº† `Docker` å’Œ `Docker Compose`ã€‚\n\nåˆ›å»ºä¸€ä¸ªåä¸º` docker-compose.yml `çš„æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n\n```yaml\nservices:\n  mysql:\n    image: mysql:latest\n    restart: always  # è®¾ç½®å®¹å™¨åœ¨é€€å‡ºæ—¶è‡ªåŠ¨é‡å¯\n    environment:\n      MYSQL_ROOT_PASSWORD: your_root_password  # è®¾ç½® MySQL root ç”¨æˆ·çš„å¯†ç \n      MYSQL_DATABASE: your_database_name        # åˆ›å»ºä¸€ä¸ªé»˜è®¤æ•°æ®åº“\n      MYSQL_USER: your_username                  # åˆ›å»ºä¸€ä¸ªç”¨æˆ·\n      MYSQL_PASSWORD: your_user_password         # è®¾ç½®ç”¨æˆ·å¯†ç \n    ports:\n      - \"3306:3306\"  # æ˜ å°„ MySQL ç«¯å£\n    volumes:\n      - TestData:/var/lib/mysql  # æŒä¹…åŒ–æ•°æ®   // è¿™é‡Œæ˜¯ä¸Šé¢ docker volume create TestData åˆ›å»ºçš„ TestData\n      - ./mysql_logs:/var/log/mysql  # æŒä¹…åŒ–æ—¥å¿—\n\nvolumes:\n  TestData:    # æŒä¹…åŒ–æ•°æ®   // è¿™é‡Œæ˜¯ä¸Šé¢ docker volume create TestData åˆ›å»ºçš„ TestData\n```\n\n\n\n### 3ã€ é…ç½®æ—¥å¿—å¤§å°\n\nè¦é™åˆ¶ `MySQL` æ—¥å¿—çš„å¤§å°ä¸º `5MB`ï¼Œä½ å¯ä»¥åœ¨ `MySQL` é…ç½®ä¸­æ·»åŠ ç›¸å…³è®¾ç½®ã€‚åˆ›å»ºä¸€ä¸ªåä¸º `my.cnf` çš„é…ç½®æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n\n```bash\n[mysqld]\n\n*# è®¾ç½®æ—¥å¿—æ–‡ä»¶å¤§å°é™åˆ¶*\n\nmax_binlog_size = 5M\n```\n\n\n\n### 4ã€æ›´æ–° `Docker Compose` æ–‡ä»¶ä»¥ä½¿ç”¨è‡ªå®šä¹‰é…ç½®\n\næ›´æ–° `docker-compose.yml` æ–‡ä»¶ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„ `MySQL` é…ç½®æ–‡ä»¶ï¼š\n\n```yaml\nservices:\n  mysql:\n    image: mysql:latest\n    restart: always  # è®¾ç½®å®¹å™¨åœ¨é€€å‡ºæ—¶è‡ªåŠ¨é‡å¯\n    environment:\n      MYSQL_ROOT_PASSWORD: your_root_password  # è®¾ç½® MySQL root ç”¨æˆ·çš„å¯†ç \n      MYSQL_DATABASE: your_database_name        # åˆ›å»ºä¸€ä¸ªé»˜è®¤æ•°æ®åº“\n      MYSQL_USER: your_username                  # åˆ›å»ºä¸€ä¸ªç”¨æˆ·\n      MYSQL_PASSWORD: your_user_password         # è®¾ç½®ç”¨æˆ·å¯†ç \n    ports:\n      - \"3306:3306\"  # æ˜ å°„ MySQL ç«¯å£\n    volumes:\n      - mysql_data:/var/lib/mysql  # æŒä¹…åŒ–æ•°æ®\n      - ./mysql_logs:/var/log/mysql  # æŒä¹…åŒ–æ—¥å¿—\n      - ./my.cnf:/etc/mysql/conf.d/my.cnf  # ä½¿ç”¨è‡ªå®šä¹‰é…ç½®æ–‡ä»¶\n\nvolumes:\n  mysql_data:\n```\n\n\n\n### 5ã€å¯åŠ¨ `MySQL` å®¹å™¨\n\nåœ¨åŒ…å« `docker-compose.yml` å’Œ `my.cnf` æ–‡ä»¶çš„ç›®å½•ä¸­ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥å¯åŠ¨ `MySQL` å®¹å™¨ï¼š\n\n```bash\ndocker-compose up -d\n\n# åœæ­¢å¹¶åˆ é™¤æ—§å®¹å™¨å’Œå·\ndocker-compose down -v\n\n# é‡æ–°åˆ›å»ºå®¹å™¨\ndocker-compose up -d\n\n```\n\n\n\n### 6ã€éªŒè¯ MySQL å®¹å™¨çŠ¶æ€\n\nä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ `MySQL` å®¹å™¨çš„çŠ¶æ€ï¼š\n\n```bash\ndocker ps\n```\n\n\n\n### 7ã€æŸ¥çœ‹æ—¥å¿—\n\nè¦æŸ¥çœ‹ `MySQL` å®¹å™¨çš„æ—¥å¿—ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n\n```bash\ndocker logs <container_id_or_name>\n```\n\n\n\n### æ€»ç»“\n\né€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ åº”è¯¥èƒ½å¤ŸæˆåŠŸåœ¨ `Docker` ä¸­å®‰è£… `MySQL`ï¼Œå¹¶é…ç½®ä¸ºå¼€æœºè‡ªåŠ¨å¯åŠ¨ã€æ–­çº¿è‡ªåŠ¨é‡å¯ï¼Œå¹¶è®¾ç½®æ—¥å¿—å¤§å°é™åˆ¶ä¸º `5MB`ã€‚å¦‚æœä½ æœ‰å…¶ä»–é—®é¢˜æˆ–éœ€è¦è¿›ä¸€æ­¥çš„å¸®åŠ©ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼","tags":["docker","å·¥å…·","æ•°æ®åº“"],"categories":["Docker","éƒ¨ç½²"]},{"title":"åœ¨è‹¹æœSiliconèŠ¯ç‰‡ï¼ˆM1/M2/M3ï¼‰Macç”µè„‘ä¸Šä½¿ç”¨Docker","url":"/2025/02/06/åœ¨è‹¹æœSiliconèŠ¯ç‰‡ï¼ˆM1-M2-M3ï¼‰Macç”µè„‘ä¸Šä½¿ç”¨Docker/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>åœ¨è‹¹æœSiliconèŠ¯ç‰‡ï¼ˆM1/M2/M3ï¼‰Macç”µè„‘ä¸Šä½¿ç”¨Docker</strong></font>\n\n###### æœ¬æ–‡æ¬è¿è‡ª[åœ¨è‹¹æœSiliconèŠ¯ç‰‡ï¼ˆM1/M2/M3ï¼‰Macç”µè„‘ä¸Šä½¿ç”¨Docker | æ•™ç¨‹ | Tinkink](https://tutorials.tinkink.net/zh-hans/mac/how-to-use-docker-on-m1-mac.html)\n\n<!--more-->\n\n## èƒŒæ™¯å’Œå›°éš¾\n\nè‹¹æœäº 2020 å¹´æ­£å¼å‘å¸ƒäº†æ­è½½è‡ªç ”èŠ¯ç‰‡ Apple Silicon çš„ç”µè„‘ï¼Œéšç”µè„‘å‘å¸ƒçš„ç¬¬ä¸€æ¬¾èŠ¯ç‰‡å‹å·ä¸º M1 ã€‚è¿™æ¬¾èŠ¯ç‰‡çš„æ¶æ„ç”±ç»å…¸çš„ x86 æ”¹ä¸ºäº† ARM æ¶æ„ã€‚\n\nä¸ºäº†è§£å†³ CPU æ¶æ„å˜æ›´å¸¦æ¥çš„è½¯ä»¶ä¸å…¼å®¹é—®é¢˜ï¼Œè‹¹æœåœ¨ MacOS ä¸­é™„å¸¦äº†ç”¨äº†è½¬è¯‘ APP ä»£ç çš„ Rosetta 2 ã€‚è¿™ä¸ªè½¯ä»¶å¯ä»¥åœ¨è¿è¡Œæ—¶å°† x86 æ¶æ„çš„ä»£ç è½¬è¯‘ä¸º ARM æ¶æ„çš„ä»£ç ï¼Œä»è€Œä½¿å¾—å¤§éƒ¨åˆ†è½¯ä»¶æ— ç¼åœ°è¿è¡Œåœ¨æ­è½½æ–°èŠ¯ç‰‡çš„ MacOS ä¸Šã€‚\n\nå°½ç®¡å¤§éƒ¨åˆ†çš„è½¯ä»¶å·²ç»å¯ä»¥åœ¨ Apple Silicon ï¼ˆM1/M2/M3ï¼‰èŠ¯ç‰‡ä¸Šæ­£å¸¸è¿è¡Œï¼Œä½†æœ‰ä¸€ç±»ç‰¹æ®Šçš„è½¯ä»¶å´ä¸€ç›´æ— æ³•å¾ˆé¡ºåˆ©åœ°è¿è¡Œâ€”â€”è™šæ‹ŸåŒ–è½¯ä»¶ã€‚è¿™åŒ…æ‹¬è™šæ‹Ÿæœºå’Œ Docker ä¹‹ç±»çš„è½¯ä»¶ã€‚\n\nç»å…¸çš„è™šæ‹Ÿæœºè½¯ä»¶å¦‚ VirtualBox æ˜ç¡®è¡¨ç¤ºæ²¡æœ‰æ”¯æŒè®¡åˆ’ã€‚è€Œ Parallels Desktop è™½ç„¶æ”¯æŒï¼Œä½†ä»·æ ¼è®©äººæœ›è€Œç”Ÿç•ã€‚\n\nå› ä¸º Docker åœ¨é Linux ç³»ç»Ÿä¸­å®é™…ä¸Šä¹Ÿä¾èµ–äºä¸€ä¸ªè™šæ‹ŸåŒ–çš„ Linux ä½œä¸º Hostï¼Œå› æ­¤åœ¨è™šæ‹Ÿæœºæ²¡æœ‰å®Œå–„çš„è§£å†³æ–¹æ³•æ—¶ï¼ŒDocker ä¹Ÿæ˜¯æ²¡æœ‰åŠæ³•é¡ºç•…è¿è¡Œçš„ã€‚\n\n## å®˜æ–¹æ–¹æ¡ˆ\n\nDocker Desktop For Mac æä¾›äº†å¯ä»¥åœ¨ Apple Silicon èŠ¯ç‰‡ä¸Šè¿è¡Œçš„ç‰ˆæœ¬ï¼Œå®ƒä½¿ç”¨äº† QEMU æ¥å¤„ç†ä¸åŒæ¶æ„çš„è™šæ‹ŸåŒ–é—®é¢˜ã€‚ä½†æ˜¯å®ƒå¯¹æœ‰ä¸€å®šè§„æ¨¡çš„å…¬å¸ä¸å†å…è´¹ã€‚å› æ­¤å¦‚æœä½ åœ¨ä¸€ä¸ªç¨å…·è§„æ¨¡çš„å…¬å¸ï¼Œå¯èƒ½ä¸ä¼šé€‰æ‹©ä½¿ç”¨ Docker Desktop For Macã€‚å¦‚æœä½ æ˜¯ä¸ªäººä½¿ç”¨ï¼Œé‚£ä¹ˆ Docker Desktop For Mac ä»ç„¶æ˜¯ä¸€ä¸ªéå¸¸ä¸é”™çš„è§£å†³æ–¹æ¡ˆã€‚\n\n## Lima\n\n[Lima](https://github.com/lima-vm/lima) æ˜¯ä¸€ä¸ªå…è´¹çš„å¼€æºè½¯ä»¶ï¼ŒåŒæ ·ä½¿ç”¨ QEMU æ¥å¤„ç†ä¸åŒæ¶æ„çš„è™šæ‹ŸåŒ–é—®é¢˜ã€‚å’Œ Docker Desktop For Mac ä¸åŒçš„æ˜¯ï¼Œå®ƒçš„å®¹å™¨è½¯ä»¶ä½¿ç”¨çš„æ˜¯ Containerd è€Œä¸æ˜¯ Dockerã€‚\n\n> åœ¨å®¹å™¨çš„å‘å±•å†å²ä¸­ï¼Œä¸€å¼€å§‹åªæœ‰ Docker ï¼Œä½†éšåç¤¾åŒºå¸Œæœ›å®¹å™¨å¯ä»¥æ ‡å‡†åŒ–ï¼Œå› æ­¤è¯ç”Ÿäº† CRI æ ‡å‡†ã€‚Containerd æ˜¯ä¸€ä¸ªè¿™ä¸ªæ ‡å‡†çš„ä¸€ç§å®ç°ï¼ŒDocker ä¹ŸåŒæ ·éµå®ˆè¿™ä¸ªæ ‡å‡†ã€‚å› æ­¤ Containerd ä¸ Docker åœ¨ä½¿ç”¨æ—¶å‡ ä¹å¯ä»¥å…¼å®¹ã€‚\n\næŒ‰ç…§å®˜æ–¹æ•™ç¨‹ï¼Œä½¿ç”¨ Homebrew å®‰è£… lima ä¹‹åå°±å¯ä»¥ä½¿ç”¨äº†ï¼š\n\n```bash\n# å®‰è£…\nbrew install lima\n\n# å¯åŠ¨\nlimactl start\n```\n\næ­¤æ—¶å°±å¯ä»¥ä½¿ç”¨`nerdctl`æ¥è¿›è¡Œ Containerd çš„å„ç§æ“ä½œã€‚\n\n```bash\nlima nerdctl run -d --name nginx -p 80:80 nginx:alpine\n```\n\nå¯ä»¥çœ‹åˆ°ï¼Œ`lima nerdctl`çš„ä½¿ç”¨ä¸`docker`å‡ ä¹ä¸€æ¨¡ä¸€æ ·ã€‚ä½¿ç”¨å®Œæˆåé™¤äº†å°†å®¹å™¨å…³æ‰å¤–ï¼Œè¿˜å¯ä»¥å°†è™šæ‹ŸåŒ–ç¯å¢ƒä¹Ÿå…³é—­ï¼Œä»¥èŠ‚çº¦å†…å­˜ï¼š\n\n```bash\nlimactl stop\n```\n\nlima è¿˜å¯ä»¥è®¾ç½®éå¸¸å¤šè™šæ‹ŸåŒ–çš„ç»†èŠ‚ï¼Œä¹Ÿå¯ä»¥è®¾ç½®å¤šä¸ªè™šæ‹Ÿç¯å¢ƒã€‚æ›´å¤šä½¿ç”¨ç»†èŠ‚å¯æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼š<(https://github.com/lima-vm/lima>\n\n## Colima\n\n[Colima](https://github.com/abiosoft/colima) æ˜¯ä¸€ä¸ªåŸºäº Lima çš„å°è£…ï¼ŒåŒæ ·æ˜¯å…è´¹çš„å¼€æºè½¯ä»¶ï¼Œä½†æ˜¯å®ƒçš„å®¹å™¨è½¯ä»¶ä½¿ç”¨çš„æ˜¯ Dockerã€‚\n\nColima çš„å®‰è£…ä½¿ç”¨ä¹Ÿéå¸¸ç®€å•ï¼š\n\n```bash\n# å¦‚æœä½ æ²¡æœ‰å®‰è£…è¿‡ docker å®¢æˆ·ç«¯ï¼Œéœ€è¦å…ˆå®‰è£…\nbrew install docker\n# å®‰è£… colima\nbrew install colima\n```\n\nä½¿ç”¨æ—¶ï¼Œåªéœ€è¦ä½¿ç”¨ `colima` å‘½ä»¤å³å¯ï¼š\n\n```bash\ncolima start\n```\n\nå¾…å¯åŠ¨å®Œæˆåï¼Œå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨`docker`å‘½ä»¤äº†ï¼Œä¸éœ€è¦é¢å¤–è¿›è¡Œå…¶å®ƒçš„è®¾ç½®ã€‚\n\nä½¿ç”¨å®ŒæˆååŒæ ·å¯ä»¥å°†è™šæ‹ŸåŒ–ç¯å¢ƒå…³é—­ï¼š\n\n```bash\ncolima stop\n```\n\n## OrbStack\n\n\"OrbStack æ˜¯åœ¨ macOS ä¸Šè¿è¡Œ Docker å®¹å™¨å’Œ Linux æœºå™¨çš„å¿«é€Ÿã€è½»é‡ã€ç®€å•çš„æ–¹å¼ã€‚æ‚¨å¯ä»¥å°†å…¶è§†ä¸ºè¶…çº§ WSL å’Œ Docker Desktop çš„ macOS ç‰ˆæœ¬ï¼Œæ‰€æœ‰è¿™äº›éƒ½åœ¨ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„åº”ç”¨ç¨‹åºä¸­ã€‚\"ï¼ˆæ¥è‡ªå®˜æ–¹ç½‘ç«™ã€‚ï¼‰\n\nOrbStack æä¾›äº†ä¸€ä¸ª GUI ç•Œé¢æ¥ç®¡ç† macOS ä¸Šçš„ Docker å®¹å™¨å’Œ Linux æœºå™¨ã€‚ä»¥åŠä¸€ä¸ªå‘½ä»¤è¡Œç•Œé¢ã€‚\n\næ‚¨å¯ä»¥ä»å®˜æ–¹ç½‘ç«™ä¸‹è½½ï¼šhttps://orbstack.dev/ï¼Œæˆ–ä½¿ç”¨ Homebrew å®‰è£…ï¼š\n\n```bash\nbrew install --cask orbstack\n```\n\n```bash\nRunning `brew update --auto-update`...\n\n...\n\n...\n\n==> Caveats\nOpen the OrbStack app to finish setup.\n\n==> Downloading https://cdn-updates.orbstack.dev/arm64/OrbStack_v0.5.1_985_arm64.dmg\n######################################################################## 100.0%\n==> Installing Cask orbstack\n==> Moving App 'OrbStack.app' to '/Applications/OrbStack.app'\nğŸº  orbstack was successfully installed!\n```\n\nåªéœ€å¯åŠ¨ OrbStackï¼Œæ‚¨ç°åœ¨å°±å¯ä»¥ä½¿ç”¨ Docker äº†ã€‚\n\n![OrbStack çš„æˆªå›¾](https://tutorials.tinkink.net/assets/01.screenshot-orbstack.a5020e54.png)\n\n## å°ç»“\n\n- Apple Silicon èŠ¯ç‰‡çš„ Mac è®¾å¤‡ä½¿ç”¨ Docker ä¸æ˜¯å¾ˆå®¹æ˜“\n- Docker Desktop For Mac å¯ç”¨ï¼Œä½†æ˜¯å¯¹å¤§ä¸­å‹å…¬å¸æ”¶è´¹\n- Lima & Colima æ˜¯å…è´¹å¼€æºçš„è§£å†³æ–¹æ¡ˆ\n- OrbStack æ˜¯ä¸€ä¸ª GUI è§£å†³æ–¹æ¡ˆ","tags":["python","mongodb","django","Centos7","æ•°æ®åº“"],"categories":["_9-æ•°æ®åº“","mongodb"]},{"title":"nodejséƒ¨ç½²åç«¯é¡¹ç›®æ•™ç¨‹","url":"/2024/12/13/nodejséƒ¨ç½²åç«¯é¡¹ç›®æ•™ç¨‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>nodejséƒ¨ç½²åç«¯é¡¹ç›®æ•™ç¨‹(ä»¥éƒ¨ç½²å›¾ç‰‡å‹ç¼©æ¥å£ä¸ºä¾‹)</strong></font>\n\n<!--more-->\n\nè¿™é‡Œæˆ‘ä»¬å°†ä½¿ç”¨ Node.js å’Œ Express æ¡†æ¶æ¥æ„å»ºåç«¯ï¼Œå¹¶ä½¿ç”¨ `sharp` åº“æ¥è¿›è¡Œå›¾ç‰‡å‹ç¼©ã€‚\n\né¦–å…ˆï¼Œç¡®ä¿ä½ å·²ç»å®‰è£…äº† Node.js å’Œ npmã€‚ç„¶åï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ç›®å½•ï¼Œå¹¶åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ Node.js é¡¹ç›®ï¼š\n\n```bash\nmkdir image-compressor-backend\ncd image-compressor-backend\nnpm init -y\n```\n\næ¥ä¸‹æ¥ï¼Œå®‰è£…æ‰€éœ€çš„ä¾èµ–é¡¹ï¼š\n\n```bash\nnpm install express sharp multer\n```\n\nç„¶åï¼Œåˆ›å»ºä¸€ä¸ª `server.js` æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹ä»£ç æ¥æ„å»ºåç«¯æœåŠ¡ï¼š\n\n```js\nconst express = require('express');\nconst sharp = require('sharp');\nconst multer = require('multer');\nconst path = require('path');\nconst fs = require('fs');\n \nconst app = express();\nconst port = 3001; // ç¡®ä¿ä¸å‰ç«¯é€šä¿¡çš„ç«¯å£ä¸åŒ\n \n// è®¾ç½® multer å­˜å‚¨é…ç½®\nconst storage = multer.memoryStorage();\nconst upload = multer({ storage: storage });\n \n// å¤„ç†å›¾ç‰‡å‹ç¼©è¯·æ±‚\napp.post('/compress', upload.single('image'), async (req, res) => {\n  const file = req.file;\n  if (!file) {\n    return res.status(400).send('No file uploaded.');\n  }\n \n  const quality = parseInt(req.body.quality, 10) || 80; // é»˜è®¤è´¨é‡ä¸º80%\n  const maxWidth = parseInt(req.body.maxWidth, 10) || 2000;\n  const maxHeight = parseInt(req.body.maxHeight, 10) || 2000;\n \n  try {\n    // ä½¿ç”¨ sharp è¿›è¡Œå›¾ç‰‡å‹ç¼©\n    const compressedBuffer = await sharp(file.buffer)\n      .resize({ width: maxWidth, height: maxHeight, fit: 'inside', withoutEnlargement: true })\n      .jpeg({ quality: quality })\n      .toBuffer();\n \n    // è®¾ç½®å“åº”å¤´å¹¶å‘é€å‹ç¼©åçš„å›¾ç‰‡\n    res.set({\n      'Content-Type': 'image/jpeg',\n      'Content-Length': compressedBuffer.length,\n    });\n    res.send(compressedBuffer);\n  } catch (error) {\n    console.error('Error compressing image:', error);\n    res.status(500).send('Error compressing image.');\n  }\n});\n \n// å¯åŠ¨æœåŠ¡å™¨\napp.listen(port, () => {\n  console.log(`Server is running at http://localhost:${port}`);\n});\n```\n\nè¿™ä¸ªåç«¯æœåŠ¡ç›‘å¬åœ¨ç«¯å£ 3001 ä¸Šï¼Œå¹¶æä¾›äº†ä¸€ä¸ª `/compress` è·¯ç”±æ¥å¤„ç†å›¾ç‰‡å‹ç¼©è¯·æ±‚ã€‚å®ƒä½¿ç”¨ `multer` ä¸­é—´ä»¶æ¥å¤„ç†æ–‡ä»¶ä¸Šä¼ ï¼Œå¹¶ä½¿ç”¨ `sharp` åº“æ¥è¿›è¡Œå›¾ç‰‡å‹ç¼©ã€‚\n\nå‰ç«¯ä»£ç éœ€è¦ç¨ä½œä¿®æ”¹ä»¥ä¸è¿™ä¸ªåç«¯æœåŠ¡é…åˆã€‚ç‰¹åˆ«æ˜¯ï¼Œ`compressFile` å‡½æ•°éœ€è¦å‘é€ä¸€ä¸ªè¯·æ±‚åˆ°åç«¯æ¥å‹ç¼©å›¾ç‰‡ã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªä¿®æ”¹åçš„ `compressFile` å‡½æ•°ç¤ºä¾‹ï¼š\n\n```python\nimport requests\nfrom PIL import Image\nimport io\n\n# å‡è®¾ä½ æœ‰ä¸€ä¸ªå­—å…¸æ¥å­˜å‚¨æ–‡ä»¶åå’Œå¯¹åº”çš„æ–‡ä»¶å¯¹è±¡\nfiles = {\n    'example.jpg': open('path/to/example.jpg', 'rb')\n}\n\ndef compress_file(file_name):\n    file_data = files.get(file_name)\n    if not file_data:\n        return\n    \n    # è·å–è´¨é‡å€¼ï¼ˆè¿™é‡Œå‡è®¾æ˜¯ä»æŸä¸ªåœ°æ–¹è·å–çš„ï¼Œæ¯”å¦‚ç”¨æˆ·è¾“å…¥ï¼‰\n    quality = 80  # ç¤ºä¾‹å€¼ï¼Œä½ å¯ä»¥ä»UIæˆ–å…¶ä»–åœ°æ–¹è·å–è¿™ä¸ªå€¼\n    \n    # è®¾ç½®æœ€å¤§å®½åº¦å’Œé«˜åº¦\n    max_width = 2000\n    max_height = 2000\n    \n    # åˆ›å»ºè¡¨å•æ•°æ®\n    form_data = {\n        'image': file_data,\n        'quality': quality,\n        'maxWidth': max_width,\n        'maxHeight': max_height\n    }\n    \n    try:\n        # å‘é€POSTè¯·æ±‚\n        response = requests.post('http://localhost:3001/compress', files=form_data)\n        \n        # æ£€æŸ¥å“åº”çŠ¶æ€ç \n        if response.status_code != 200:\n            response.raise_for_status()\n        \n        # è·å–å‹ç¼©åçš„å›¾åƒæ•°æ®\n        compressed_image_data = response.content\n        \n        # å°†å›¾åƒæ•°æ®ä¿å­˜ä¸ºæ–‡ä»¶\n        compressed_file_name = 'compressed-' + file_name\n        with open(compressed_file_name, 'wb') as compressed_file:\n            compressed_file.write(compressed_image_data)\n        \n        # æ›´æ–°æ–‡ä»¶å­—å…¸ï¼ˆå¦‚æœéœ€è¦ï¼‰\n        files[file_name] = {\n            'original': file_data,\n            'compressed': open(compressed_file_name, 'rb')\n        }\n        \n        # æ›´æ–°æ–‡ä»¶åˆ—è¡¨ï¼ˆè¿™ä¸ªå‡½æ•°éœ€è¦ä½ æ ¹æ®å®é™…éœ€æ±‚å®ç°ï¼‰\n        update_file_list()\n        \n    except requests.RequestException as e:\n        print(f\"å‹ç¼© {file_name} å¤±è´¥: {e}\")\n\n# ç¤ºä¾‹è°ƒç”¨\ncompress_file('example.jpg')\n\n# æ³¨æ„ï¼šè¿™ä¸ªå‡½æ•°éœ€è¦åœ¨é€‚å½“çš„åœ°æ–¹è¢«è°ƒç”¨ï¼Œå¹¶ä¸”éœ€è¦ç¡®ä¿æ–‡ä»¶è·¯å¾„å’ŒæœåŠ¡å™¨åœ°å€æ˜¯æ­£ç¡®çš„ã€‚\n```\n\nè¯·æ³¨æ„ï¼Œè¿™ä¸ªç¤ºä¾‹å‡è®¾å‰ç«¯å’Œåç«¯è¿è¡Œåœ¨åŒä¸€ä¸ªåŸŸä¸‹ï¼Œæˆ–è€…ä½ å·²ç»é…ç½®äº† CORSï¼ˆè·¨æºèµ„æºå…±äº«ï¼‰æ¥å…è®¸å‰ç«¯ä¸åç«¯é€šä¿¡ã€‚å¦‚æœä½ é‡åˆ°è·¨åŸŸé—®é¢˜ï¼Œä½ å¯èƒ½éœ€è¦åœ¨åç«¯æ·»åŠ é€‚å½“çš„ CORS å¤´ã€‚\n\nç°åœ¨ï¼Œå½“ä½ è¿è¡Œåç«¯æœåŠ¡å™¨å¹¶ä½¿ç”¨å‰ç«¯é¡µé¢ä¸Šä¼ å’Œå‹ç¼©å›¾ç‰‡æ—¶ï¼Œå‰ç«¯ä¼šå°†å›¾ç‰‡å‘é€åˆ°åç«¯çš„ `/compress` è·¯ç”±ï¼Œåç«¯ä¼šä½¿ç”¨ `sharp` åº“è¿›è¡Œå‹ç¼©ï¼Œå¹¶å°†å‹ç¼©åçš„å›¾ç‰‡å‘é€å›å‰ç«¯ã€‚å‰ç«¯ç„¶åä¼šæ˜¾ç¤ºå‹ç¼©åçš„å›¾ç‰‡ï¼Œå¹¶æä¾›ä¸‹è½½é€‰é¡¹ã€‚","tags":["æ•™ç¨‹","æœåŠ¡å™¨","nodejs","åç«¯"],"categories":["_A2-å‰ç«¯","Nodejs"]},{"title":"alibaba3 ä½¿ç”¨Pythonç®¡ç†å™¨pyenvå®‰è£…python3.13","url":"/2024/12/09/alibaba3å®‰è£…python3-13/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>alibaba3 ä½¿ç”¨Pythonç®¡ç†å™¨pyenvå®‰è£…python3.13</strong></font>\n\n<!--more-->\n\n- ä½¿ç”¨ `pyenv` å®‰è£… Python 3.12 æ˜¯ä¸€ä¸ªçµæ´»ä¸”æ–¹ä¾¿çš„æ–¹æ³•ï¼Œå®ƒå…è®¸ä½ åœ¨åŒä¸€ä¸ªç³»ç»Ÿä¸Šç®¡ç†å¤šä¸ª Python ç‰ˆæœ¬ã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨ `pyenv` å®‰è£… Python 3.12 çš„è¯¦ç»†æ­¥éª¤ï¼š\n\n  ### 1. å®‰è£…ä¾èµ–\n\n  é¦–å…ˆï¼Œä½ éœ€è¦å®‰è£…ä¸€äº›ä¾èµ–é¡¹ï¼Œè¿™äº›ä¾èµ–é¡¹åœ¨ç¼–è¯‘ Python æºä»£ç æ—¶æ˜¯å¿…éœ€çš„ã€‚åœ¨ CentOS 7 ä¸Šï¼Œä½ å¯ä»¥ä½¿ç”¨ `yum` æ¥å®‰è£…è¿™äº›ä¾èµ–é¡¹ï¼š\n\n  ```bash\n  sudo yum install -y gcc zlib-devel bzip2-devel libffi-devel readline-devel sqlite-devel openssl-devel tk-devel xz-devel libffi-devel\n  ```\n\n  ### 2. å®‰è£… pyenv\n\n  æ¥ä¸‹æ¥ï¼Œä½ éœ€è¦å®‰è£… `pyenv`ã€‚`pyenv` æ˜¯ä¸€ä¸ªç”¨ Bash ç¼–å†™çš„è„šæœ¬ï¼Œå®ƒå…è®¸ä½ è½»æ¾åˆ‡æ¢å’Œç®¡ç†å¤šä¸ª Python ç‰ˆæœ¬ã€‚ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤å®‰è£… `pyenv`ï¼š\n\n  - ä½¿ç”¨ `git` å…‹éš† `pyenv` çš„ä»“åº“åˆ°ä½ çš„ä¸»ç›®å½•ä¸‹ï¼ˆæˆ–ä»»ä½•ä½ åå¥½çš„ä½ç½®ï¼‰ï¼š\n\n  ```bash\n  cd ~\n  git clone https://github.com/pyenv/pyenv.git ~/.pyenv\n  ```\n\n  - å°† `pyenv` åˆå§‹åŒ–è„šæœ¬æ·»åŠ åˆ°ä½ çš„ shell é…ç½®æ–‡ä»¶ä¸­ï¼ˆå¦‚ `~/.bashrc` æˆ– `~/.bash_profile`ï¼‰ã€‚è¿™å°†å…è®¸ä½ åœ¨æ¯ä¸ªæ–°çš„ shell ä¼šè¯ä¸­è‡ªåŠ¨åŠ è½½ `pyenv`ï¼š\n\n  ```bash\n  echo 'export PATH=\"$HOME/.pyenv/bin:$PATH\"' >> ~/.bashrc\n  echo 'eval \"$(pyenv init --path)\"' >> ~/.bashrc\n  echo 'eval \"$(pyenv init -)\"' >> ~/.bashrc\n  source ~/.bashrc\n  ```\n\n  ### 3. å®‰è£… Python 3.13\n\n  ç°åœ¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ `pyenv` æ¥å®‰è£… Python 3.13 äº†ï¼š\n\n  ```bash\n  pyenv install 3.13.x  # x è¡¨ç¤ºå°ç‰ˆæœ¬å·ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦å®‰è£…å…·ä½“çš„ç‰ˆæœ¬ï¼Œå¦‚ 3.13.0\n  ```\n\n  è¿™ä¸ªå‘½ä»¤ä¼šä»äº’è”ç½‘ä¸Šä¸‹è½½ Python 3.13 çš„æºä»£ç ï¼Œå¹¶åœ¨ä½ çš„ç³»ç»Ÿä¸Šç¼–è¯‘å’Œå®‰è£…å®ƒã€‚è¿™å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´ï¼Œå…·ä½“å–å†³äºä½ çš„ç½‘ç»œè¿æ¥å’Œè®¡ç®—æœºæ€§èƒ½ã€‚\n\n  ### 4. è®¾ç½®å…¨å±€æˆ–æœ¬åœ° Python ç‰ˆæœ¬\n\n  å®‰è£…å®Œæˆåï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¹‹ä¸€æ¥è®¾ç½®å…¨å±€æˆ–æœ¬åœ° Python ç‰ˆæœ¬ï¼š\n\n  - è®¾ç½®å…¨å±€ Python ç‰ˆæœ¬ï¼š\n\n  ```bash\n  pyenv global 3.13.x\n  ```\n\n  è¿™å°†ä½¿ Python 3.12 æˆä¸ºä½ ç³»ç»Ÿä¸Šçš„é»˜è®¤ Python ç‰ˆæœ¬ã€‚\n\n  - è®¾ç½®å½“å‰ç›®å½•ä¸‹çš„ Python ç‰ˆæœ¬ï¼ˆæœ¬åœ°ç‰ˆæœ¬ï¼‰ï¼š\n\n  ```bash\n  pyenv local 3.13.x\n  ```\n\n  è¿™å°†åœ¨å½“å‰ç›®å½•åŠå…¶å­ç›®å½•ä¸­è®¾ç½® Python 3.13 ä¸ºé»˜è®¤ç‰ˆæœ¬ã€‚å½“ä½ è¿›å…¥è¿™äº›ç›®å½•æ—¶ï¼Œ`pyenv` ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°æŒ‡å®šçš„ Python ç‰ˆæœ¬ã€‚\n\n  ### 5. éªŒè¯å®‰è£…\n\n  æœ€åï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥éªŒè¯ Python 3.13 æ˜¯å¦å·²æˆåŠŸå®‰è£…ï¼š\n\n  ```bash\n  python --version\n  ```\n\n  æˆ–è€…ï¼Œå¦‚æœä½ æƒ³è¦ç¡®ä¿ä½ æ­£åœ¨ä½¿ç”¨çš„æ˜¯é€šè¿‡ `pyenv` å®‰è£…çš„ Python 3.13ï¼Œä½ å¯ä»¥ä½¿ç”¨ `pyenv` çš„ `which` å‘½ä»¤æ¥æ‰¾åˆ° Python è§£é‡Šå™¨çš„è·¯å¾„ï¼š\n\n  ```bash\n  pyenv which python\n  ```\n\n  å¦‚æœä¸€åˆ‡è®¾ç½®æ­£ç¡®ï¼Œè¿™äº›å‘½ä»¤åº”è¯¥ä¼šæ˜¾ç¤º Python 3.13 çš„ç‰ˆæœ¬å·æˆ–è§£é‡Šå™¨çš„è·¯å¾„ã€‚\n\n  ### æ³¨æ„äº‹é¡¹\n\n  - åœ¨ä½¿ç”¨ `pyenv` å®‰è£… Python ç‰ˆæœ¬æ—¶ï¼Œç¡®ä¿ä½ çš„ç³»ç»Ÿå·²ç»å®‰è£…äº†ç¼–è¯‘è¯¥ç‰ˆæœ¬æ‰€éœ€çš„ä¾èµ–é¡¹ã€‚\n  - `pyenv` ä¼šåœ¨ä½ çš„ä¸»ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `.pyenv` ç›®å½•æ¥å­˜å‚¨ä¸åŒç‰ˆæœ¬çš„ Pythonã€‚è¿™ä¸ä¼šå¹²æ‰°ç³»ç»Ÿé»˜è®¤çš„ Python ç‰ˆæœ¬ã€‚\n  - å¦‚æœä½ åœ¨ä½¿ç”¨ `pyenv` æ—¶é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥æŸ¥é˜… `pyenv` çš„å®˜æ–¹æ–‡æ¡£æˆ–åœ¨äº’è”ç½‘ä¸Šæœç´¢ç›¸å…³çš„è§£å†³æ–¹æ¡ˆã€‚","tags":["Python","pyenv","python3.13"],"categories":["_A5-å®‰è£…æ•™ç¨‹","Python"]},{"title":"djangoé…ç½®ASGIæœåŠ¡å™¨æ•™ç¨‹","url":"/2024/12/09/djangoé…ç½®ASGIæœåŠ¡å™¨æ•™ç¨‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>djangoé…ç½®ASGIæœåŠ¡å™¨æ•™ç¨‹</strong></font>\n\n<!--more-->\n\n# ç¯å¢ƒè¯´æ˜ï¼š\n\n+ ç³»ç»Ÿç¯å¢ƒï¼šAlibaba3\n\n+ Pythonç‰ˆæœ¬ï¼š`3.13`\n+ Djangoç‰ˆæœ¬ï¼š`5.1.4`\n+ uvicornç‰ˆæœ¬ï¼š`0.32.1`\n\n## 1ã€å®‰è£… **uvicorn** æœåŠ¡å™¨\n\n```python\npip install django uvicorn\n```\n\n### 2ã€åˆ›å»ºASGIåº”ç”¨ç¨‹åº\n\nåœ¨Django 3.0åŠæ›´é«˜ç‰ˆæœ¬ä¸­ï¼ŒDjangoé»˜è®¤æä¾›äº†ä¸€ä¸ª`asgi.py`æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ä½äºä¸`wsgi.py`ç›¸åŒçš„ä½ç½®ï¼ˆé€šå¸¸æ˜¯é¡¹ç›®çš„ä¸»ç›®å½•ä¸‹ï¼‰ã€‚è¿™ä¸ªæ–‡ä»¶åŒ…å«äº†ä¸€ä¸ªASGIåº”ç”¨ç¨‹åºçš„å®ä¾‹ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒã€‚\n\n```python\nimport os\nfrom django.core.asgi import get_asgi_application\n\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', '<your_project_name>.settings')  # <your_project_name> æ›¿æ¢æˆä½ çš„é¡¹ç›®\napplication = get_asgi_application()\n```\n\n## 3ã€è®¾ç½®settings.py\n\n```python\n# WSGI_APPLICATION = '<your_project_name>.wsgi.application'   # åŒæ­¥è¯·æ±‚ ç›´æ¥æ³¨é”€æ‰ æˆ‘ä»¬ä¸éœ€è¦\nASGI_APPLICATION = '<your_project_name>.asgi.application'   # å¼‚æ­¥é¡¹ç›®  å°† <your_project_name> æ›¿æ¢æˆä½ çš„é¡¹ç›®\n```\n\n### 4ã€ å®‰è£…å¹¶è¿è¡ŒASGIæœåŠ¡å™¨\n\nè¦è¿è¡ŒASGIåº”ç”¨ï¼Œä½ éœ€è¦å®‰è£…ä¸€ä¸ª`ASGI`æœåŠ¡å™¨ï¼Œå¦‚`Uvicorn`ã€`Daphne`æˆ–`Hypercorn`ã€‚ç„¶åï¼Œä½ å¯ä»¥ä½¿ç”¨è¿™äº›æœåŠ¡å™¨æ¥å¯åŠ¨ä½ çš„`Django`åº”ç”¨ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨`Uvicorn`å¯åŠ¨`Django`åº”ç”¨çš„å‘½ä»¤å¯èƒ½çœ‹èµ·æ¥åƒè¿™æ ·\n\n```python\n# uvicorn your_project_name.asgi:application   # é»˜è®¤å¯åŠ¨  è®¿é—®åœ°å€ä¸º  http://127.0.0.1:8000\n\n# å¯ä»¥è‡ªå·±æŒ‡å®šç«¯å£\nuvicorn your_project_name.asgi:application --host 0.0.0.0 --port 8035    # æŒ‡å®šæ‰€æœ‰ipå¯è®¿é—® é¡¹ç›®è¿è¡Œç«¯å£ä¸º 8035\n```\n\n","tags":["python","django","ASGIæœåŠ¡å™¨","å¼‚æ­¥WEB"],"categories":["Python","Django"]},{"title":"Python-Mysqlå¼‚æ­¥å¹¶å‘å¤„ç†æ•°æ®åº“","url":"/2024/11/30/Python-Mysqlå¼‚æ­¥å¹¶å‘å¤„ç†æ•°æ®åº“/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Python-Mysqlå¼‚æ­¥å¹¶å‘å¤„ç†æ•°æ®åº“ æ¨¡ç‰ˆ</strong></font>\n\n<!--more-->\n\n\n\n## **å®‰è£…åº“ï¼š**\n\n```python\n# aiomysqlåº“ # å¼‚æ­¥mysql æ•°æ®åº“\n\npip3 install aiomysql\n```\n\n\n\n## **ä»£ç ï¼š**\n\n\n\n```python\nimport asyncio\nimport aiomysql\nimport hashlib\n\nclass MySQLDatabase:\n    def __init__(self, host, port, user, password, db_name, loop=None, maxsize=20, minsize=1):\n        self.host = host\n        self.port = port\n        self.user = user\n        self.password = password\n        self.db_name = db_name\n        self.loop = loop or asyncio.get_event_loop()\n        self.maxsize = maxsize\n        self.minsize = minsize\n        self.pool = None\n\n    async def create_pool(self):\n        self.pool = await aiomysql.create_pool(\n            host=self.host,\n            port=self.port,\n            user=self.user,\n            password=self.password,\n            db=self.db_name,\n            loop=self.loop,\n            autocommit=True,\n            charset='utf8',\n            maxsize=self.maxsize,\n            minsize=self.minsize,\n        )\n\n    async def fetch_data(self, query, params=None):\n        async with self.pool.acquire() as conn:\n            async with conn.cursor(aiomysql.DictCursor) as cur:\n                await cur.execute(query, params)\n                result = await cur.fetchall()\n                return result\n\n    async def update_data(self, query, params):\n        print(\"æ­£åœ¨æ‰§è¡Œ>>> \", params)\n        async with self.pool.acquire() as conn:\n            async with conn.cursor() as cur:\n                await cur.execute(query, params)\n                await conn.commit()\n\n    async def close_pool(self):\n        self.pool.close()\n        await self.pool.wait_closed()\n\n\nTable = \"table\"   # æ•°æ®è¡¨\n_localhost = \"127.0.0.1\" # æ•°æ®åº“åœ°å€\nUsername = \"admin\"  # username\nPassword = \"123456\"  # password\nDB_Name = \"test\"    # æ•°æ®åº“å\n# ä½¿ç”¨ç¤ºä¾‹\n\nasync def main():\n    # æ•°æ®åº“é…ç½®\n    db = MySQLDatabase(host=_localhost, port=3306, user=Username, password=Password, db_name=DB_Name)\n    \n    # åˆ›å»ºè¿æ¥æ± \n    await db.create_pool()\n    \n    # ## å¹¶å‘ æŸ¥è¯¢å¤šæ¡å†…å®¹ >>>\n    # # å‡†å¤‡å¤šä¸ªæŸ¥è¯¢ä»»åŠ¡\n    # query_tasks = [db.fetch_data(\"SELECT * FROM your_table WHERE id = %s\", (1,)), db.fetch_data(\"SELECT * FROM your_table WHERE id = %s\", (2,)), # ... å¯ä»¥æ·»åŠ æ›´å¤šæŸ¥è¯¢ä»»åŠ¡\n    # ]\n    # # å¹¶å‘æ‰§è¡ŒæŸ¥è¯¢ä»»åŠ¡\n    # results = await asyncio.gather(*query_tasks)\n    # for result in results:\n    #     print(\"Fetched Data:\", result)\n    \n    # æŸ¥è¯¢æ•°æ®\n    query = f\"SELECT * FROM {Table} WHERE id = %s\"\n    params = (1,)\n    result = await db.fetch_data(query, params)  # paramså¯ä¸ºç©º ä¸ºç©ºé»˜è®¤æŸ¥è¯¢å…¨éƒ¨æ•°æ®\n    # print(\"Fetched Data:\", result)\n    \n    update_tasks = []\n    for item in result:\n      \t# æ·»åŠ ä¸ºåˆ—è¡¨å¼‚æ­¥æ‰§è¡Œ\n        update_tasks.append(db.update_data(f\"UPDATE {Table} SET title = %s WHERE id = %s\", (\"è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•title\", item[\"id\"])),)\n    \n    \n    ## å¼‚æ­¥å…µæ³•ä¿®æ”¹å†…å®¹\n    # # å‡†å¤‡å¤šä¸ªæ›´æ–°ä»»åŠ¡\n    # update_tasks = [\n    #     db.update_data(\"UPDATE your_table SET column_name = %s WHERE id = %s\", ('new_value1', 1)),\n    #     db.update_data(\"UPDATE your_table SET column_name = %s WHERE id = %s\", ('new_value2', 2))\n    # ]\n    #\n    # # å¹¶å‘æ‰§è¡Œæ›´æ–°ä»»åŠ¡\n    await asyncio.gather(*update_tasks)    # ç­‰å¾…æ‰§è¡Œæ‰€æœ‰æ·»åŠ çš„å†…å®¹\n    # print(\"All Data Updated\")\n    \n    # å…³é—­è¿æ¥æ± \n    await db.close_pool()\n\n\n# è¿è¡Œä¸»å‡½æ•°\nasyncio.run(main())\n```","tags":["python","mysql","å¹¶å‘"],"categories":["Python","æ•°æ®åº“"]},{"title":"Centos7-Dockerä¸‹å®‰è£…mongodb","url":"/2024/11/11/Centos7-Dockerä¸‹å®‰è£…mongodb/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Centos7-Dockerä¸‹å®‰è£…mongodbï¼š</strong></font>\n\n<!--more-->\n\n#### Psï¼šæœ¬æ–‡å‚è€ƒè‡ªï¼š[åœ¨centos7ä¸Šä½¿ç”¨ dockerå®‰è£…mongodbæŒ‚è½½å®¿ä¸»æœºä»¥åŠåˆ›å»ºå…¶æ•°æ®åº“çš„ç”¨æˆ·åå’Œå¯†ç ï¼ˆæœ€æ–°ç‰ˆæœ¬ï¼‰ - æµèµ°åœ¨é»‘å¤œæ·±å··çš„çŒ« - åšå®¢å›­](https://www.cnblogs.com/Da-Mao/p/17804525.html)\n\n# åœ¨centos7ä¸Šä½¿ç”¨ dockerå®‰è£…mongodbæŒ‚è½½å®¿ä¸»æœºä»¥åŠåˆ›å»ºå…¶æ•°æ®åº“çš„ç”¨æˆ·åå’Œå¯†ç ï¼ˆæœ€æ–°ç‰ˆæœ¬ï¼‰\n\nå› ä¸ºåšä¸»åœ¨ä½¿ç”¨dockerå®‰è£…mongodbå¹¶æŒ‚è½½æ—¶ï¼Œå‘ç°åœ¨ç½‘ä¸Šæœäº†å¥½å¤šéƒ½æ˜¯ä»¥å‰ç‰ˆæœ¬çš„mongodbï¼Œå¹¶ä¸”æŒ‰ç…§ä»–ä»¬æ“ä½œæ€»æ˜¯åœ¨è¿›å…¥mongodbå‡ºé—®é¢˜ï¼Œåšä¸»æäº†å¥½ä¹…ç»ˆäºå¼„å¥½äº†ï¼Œæ•…å†™ä¸‹åšå®¢ï¼Œä¾›æœ‰éœ€è¦çš„çš„äººå‚è€ƒã€‚åšä¸»å®‰è£…å’Œå®˜ç½‘æœ‰äº›åŒºåˆ«ï¼Œæƒ³çœ‹å®˜ç½‘å¿«é€Ÿæ­å»ºçš„â€”â€”>[Mongodbå®˜ç½‘å¿«é€ŸæŒ‡å—]<â€”â€”(https://www.mongodb.com/docs/manual/tutorial/install-mongodb-community-with-docker/ \"Mongodbå®˜ç½‘å¿«é€ŸæŒ‡å—\")åºŸè¯ä¸å¤šè¯´å¼€æï¼\n\n### ä¸€ã€å®‰è£…mongodb\n\n1.1æŸ¥çœ‹ç‰ˆæœ¬(ä¸æƒ³çœ‹ç‰ˆæœ¬çš„ï¼Œè¿™ä¸€æ­¥å¯ä»¥è·³è¿‡)\n\n```sql\ndocker search mongo\n```\n\n![image](https://s2.loli.net/2024/11/11/n2TSfQMmGd7DAeZ.png)\n1.2æ‹‰å–mongodbé•œåƒ\n\n```shell\n# é»˜è®¤ä¸‹è½½æœ€æ–°ç‰ˆæœ¬ï¼ˆä¹Ÿå°±æ˜¯latestï¼‰\ndocker pull mongo\n# ä¸Šé¢ä¹Ÿå¯ä»¥å†™æˆ\ndocker pull mongo:latest\n\n##ä¸Šé¢ä»£ç ä¸è¡Œï¼Œæç¤ºä½ æ²¡æƒé™ï¼Œä½ å°±æŒ‰ç…§æç¤ºè¿™ä¸Šé¢ä»£ç å‰sudoï¼ˆä½¿ç”¨çš„è´¦æˆ·æ˜¯rootæƒé™ï¼‰\nsudo docker pull mongo\n```\n\n![image](https://s2.loli.net/2024/11/11/UVOw2SyX7qxeRh6.png)\n1.3.æŸ¥çœ‹æœ¬åœ°å·²ä¸‹è½½é•œåƒï¼Œå¹¶æŸ¥çœ‹æ˜¯å¦ä¸‹è½½mongoé•œåƒ\n\n```bash\ndocker image ls -a\n```\n\n![image](https://s2.loli.net/2024/11/11/aW1Iephz8SDJxXM.png)\n1.4.åœ¨å®¿ä¸»æœºä¸ŠæŒ‚è½½å¹¶è¿è¡Œ\n\n```powershell\n# 1.4.1é¦–å…ˆåˆ›å»ºä¸€ä¸ªè¦æŒ‚è½½çš„æ–‡ä»¶ï¼ˆè¿™é‡Œ-påé¢çš„æ–‡ä»¶åœ°å€å°±å†™ä½ è‡ªå·±æƒ³è¦åˆ›å»ºçš„ï¼‰\nmkdir -p /data/docker_volume/mongo/data\n\n# 1.4.2.ç„¶åè¿è¡Œå®¹å™¨å¹¶æŒ‚è½½\n    ## éœ€è¦éªŒè¯\ndocker run -p 27017:27017 --name mymongo -v /data/docker_volume/mongo/data:/data/db -d mongo --auth\n    ##ä¸éœ€è¦éªŒè¯\ndocker run -p 27017:27017 --name mymongo -v /data/docker_volume/mongo/data:/data/db -d mongo\n\n# å¦‚æœä¸é™åˆ¶logè¾“å‡ºå¤§å°ï¼Œ ä¼šä¸€ç›´å†™ä¸‹å»ï¼Œæœ€åç³»ç»Ÿå´©æºƒ.  è¯¥å‘½ä»¤é™åˆ¶logè¾“å‡ºå¤§å°ä¸º 5M\n#  # è®¾ç½®æ—¥å¿—å¤§å°é™åˆ¶ä¸º 5MBï¼ˆ5 * 1024 * 1024 å­—èŠ‚ï¼‰\ndocker run --restart=always -p 27017:27017 --name mymongo -v /data/docker_volume/mongo/data:/data/db -e MONGO_LOG_MAX_SIZE=5242880 -d mongo --auth\n\n# Macä¸‹éƒ¨ç½²éœ€è¦ç‰¹æ®Šçš„æ–‡ä»¶å¤¹æƒé™\ndocker run --restart=always -p 27017:27017 --name mymongo -v /Users/kamala/Docker/MongoDB/s1/data:/data/db -e MONGO_INITDB_ROOT_USERNAME=admin -e MONGO_INITDB_ROOT_PASSWORD=admin -e MONGO_LOG_MAX_SIZE=5242880 --user 1000:50 -d mongo --wiredTigerCacheSizeGB 1 --auth\n#  1.4.3.æŸ¥çœ‹æ˜¯å¦è¿è¡Œ\ndocker ps -a\n```\n\nåœ¨ä¸Šé¢çš„å‘½ä»¤ä¸­ï¼Œå‡ ä¸ªå‘½ä»¤å‚æ•°çš„è¯¦ç»†è§£é‡Šå¦‚ä¸‹ï¼š\n`-p` æ˜ å°„å®¹å™¨æœåŠ¡çš„ `27017` ç«¯å£åˆ°å®¿ä¸»æœºçš„ `27017` ç«¯å£ã€‚å¤–éƒ¨å¯ä»¥ç›´æ¥é€šè¿‡ å®¿ä¸»æœº` ip:27017` è®¿é—®åˆ° `mongo` çš„æœåŠ¡\n`-v `ä¸ºè®¾ç½®å®¹å™¨çš„æŒ‚è½½ç›®å½•ï¼Œè¿™é‡Œæ˜¯å°†æœ¬æœºçš„â€œ`/data/docker_volume/mongo/data`â€ç›®å½•æŒ‚è½½åˆ°å®¹å™¨ä¸­çš„`/data/db`ä¸­ï¼Œä½œä¸º `mongodb` çš„å­˜å‚¨ç›®å½•\n`--name` ä¸ºè®¾ç½®è¯¥å®¹å™¨çš„åç§°\n`-d` è®¾ç½®å®¹å™¨ä»¥å®ˆæŠ¤è¿›ç¨‹æ–¹å¼è¿è¡Œï¼ˆåå°è¿è¡Œï¼‰\n`â€“auth` éœ€è¦éªŒè¯å°±åŠ ï¼Œä¸éœ€è¦éªŒè¯ï¼Œå°±å»æ‰ã€‚é»˜è®¤`mongodb`æ˜¯ä¸ä½¿ç”¨ç”¨æˆ·è®¤è¯\n![image](https://s2.loli.net/2024/11/11/BKb3wsrdzVeNmpf.png)\n1.5.è®¾ç½®`mongodb`éš`docker`è‡ªå¯åŠ¨ï¼ˆè¿™ä¸€æ­¥å¯åŠ å¯ä¸åŠ ï¼Œçœ‹ä½ ä¸ªäºº)\n\n```sql\ndocker update mymongo --restart=always\n```\n\næ³¨æ„ï¼šè¿™é‡Œçš„`mymongo`æ˜¯å®¹å™¨çš„åå­—ï¼ˆä¸Šé¢1.4.2å“ªé‡Œè¿è¡Œå®¹å™¨`--name`åèµ·çš„åå­—ï¼‰ï¼Œä¸æ˜¯é•œåƒçš„åå­—ã€‚\n\n### äºŒã€åˆ›å»ºå…¶æ•°æ®åº“çš„ç”¨æˆ·åå’Œå¯†ç \n\n#### â‘ å¦‚æœä½ ä¸éœ€è¦è®¾ç½®ç”¨æˆ·å’Œå¯†ç ï¼Œä¸‹é¢å°±ä¸ç”¨çœ‹äº†ï¼Œç›´æ¥å¯ä»¥è¿æ¥`mongo`äº†ï¼ˆè¿™ç§å°±åƒæ˜¯è£¸å¥”ä¸å®‰å…¨ï¼‰\n\n#### â‘¡å¦‚æœä½ åœ¨ä¸Šé¢ å®¹å™¨è¿è¡ŒæŒ‚è½½é€‰æ‹©éœ€éªŒè¯æ–¹å¼ï¼ˆåœ¨1.4.2å¤„ï¼‰\n\n2.2.1 é¦–å…ˆ ç™»å½•`mymongo`å®¹å™¨ï¼Œè¿›å…¥`admin`æ•°æ®åº“\n\n```bash\ndocker exec -it mymongo mongosh admin\n```\n\n![image](https://s2.loli.net/2024/11/11/QMvnOdIRasP8ZcC.png)\n2.2.2 ç„¶å æŒ‰ç…§ 2.3.4æ­¥éª¤å¾€ä¸‹èµ°\n\n#### â‘¢å…¶ä½™çš„å°±å¾€ä¸‹çœ‹\n\n2.3.1.è¿›å…¥`mongo`å®¹å™¨\n\n```bash\ndocker exec -it mymongo /bin/bash\n```\n\n![image](https://s2.loli.net/2024/11/11/l7MfPw48DsjXqB5.png)\næ³¨æ„ï¼šè¿™é‡Œçš„mymongoæ˜¯å®¹å™¨çš„åå­—ï¼Œä¸æ˜¯é•œåƒçš„åå­—ã€‚ï¼ˆå¿˜è®°å®¹å™¨åå­—ï¼Œå¯ä½¿ç”¨docker ps -a æŸ¥çœ‹å®¹å™¨åï¼‰\n![image](https://s2.loli.net/2024/11/11/kyrz5UoOGif84u7.png)\n2.3.2.è¿›å…¥`mongosh`ä¸­\n\n```bash\n# è¿›å…¥mongo shell\nmongosh\n```\n\næ³¨ï¼š`mongosh 6.0`ç‰ˆæœ¬ä¹‹åä½¿ç”¨ï¼Œ`mongo 6.0`ç‰ˆæœ¬ä¹‹å‰ä½¿ç”¨ï¼Œåšä¸»å°±æ˜¯åœ¨è¿™é‡Œå‡ºé—®é¢˜çš„ï¼Œåšä¸»å®‰è£…æœ€æ–°`mongodb`ç‰ˆæœ¬ï¼Œä½†æ˜¯ä½¿ç”¨çš„æ˜¯ `mongo` æ‰€ä»¥ä¸€ç›´å‡ºç°é—®é¢˜ï¼š`bash: mongo: command not found`\n![image](https://s2.loli.net/2024/11/11/x7UL5mqQFgT2ICr.png)\n\n![image](https://s2.loli.net/2024/11/11/qYEI7iGAwlKRrBs.png)\n2.3.3.è¿›å…¥`admin`æ•°æ®åº“\n\n```perl\nuse admin\n```\n\n![image](https://s2.loli.net/2024/11/11/PJqHpUT7eV9iX1o.png)\n2.3.4 åˆ›å»ºä¸€ä¸ªç”¨æˆ·ï¼Œ`mongodb`é»˜è®¤æ²¡æœ‰ç”¨æˆ·\n\n```bash\n# 1.è¿™é‡Œåˆ›å»ºç”¨æˆ·åä¸ºrootï¼Œå¯†ç ä¸ºmongo2023ï¼Œè§’è‰²ï¼ˆè¯¥ç”¨æˆ·çš„æƒé™ï¼‰ä¸ºrootï¼Œæ•°æ®åº“ä¸ºadminï¼ˆä½ ä»¬æŒ‰ç…§ä½ ä»¬è‡ªå·±çš„è®¾ç½®ï¼‰\n# ç”¨æˆ·åï¼šrootï¼Œå¯†ç ï¼šmongo2023ï¼Œè§’è‰²ï¼šrootï¼Œæ•°æ®åº“ï¼šadmin\n\ndb.createUser({user:'root',pwd:'mongo2023',roles:[{role:'root',db:'admin'}]})\n\n\n# 2.è®¤è¯ç™»å½•db.auth('ç”¨æˆ·å','å¯†ç ')ï¼Œæ‰“å°1åˆ™ä»£è¡¨è®¤è¯é€šè¿‡\ndb.auth('root','mongo2023')\n```\n\n![image](https://s2.loli.net/2024/11/11/qbLpfzJ9Ue5NWYm.png)\nåˆ°è¿™é‡Œå°±å®Œæˆäº†åˆ›å»ºç”¨æˆ·å’Œè®¾ç½®å¯†ç ï¼Œå¦‚æœè¦é€€å‡º Ctrl+D æˆ–è€… exit é€€å‡ºmongodb\n\n### ä¸‰ã€å®¢æˆ·ç«¯è¿æ¥mongodb\n\nå¦‚æœåˆšæ‰çš„å®‰è£…æ˜¯åœ¨æœåŠ¡å™¨ä¸Šï¼Œæƒ³è¿œç¨‹è¿æ¥mongodbè¿˜è¯·å…ˆæŸ¥çœ‹æœåŠ¡å™¨ç«¯å£27017æ”¾è¡Œï¼ˆå¯¹å¤–å¼€æ”¾è¿™ä¸ªç«¯å£ï¼‰\n![image](https://s2.loli.net/2024/11/11/OgdTXcSE5Ip6YGW.png)\n\n","tags":["python","mongodb","django","Centos7","æ•°æ®åº“"],"categories":["_9-æ•°æ®åº“","mongodb"]},{"title":"http2çš„å®‰è£…ä¸ä½¿ç”¨æ•™ç¨‹","url":"/2024/10/29/http2çš„å®‰è£…ä¸ä½¿ç”¨æ•™ç¨‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>http2çš„å®‰è£…ä¸ä½¿ç”¨æ•™ç¨‹ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong></strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong></strong></font>\n\n### <font color=#f26522 size=5 face=å®‹ä½“><strong>Macä¸‹å®‰è£…httpxï¼š</strong></font>\n\n#### æŠ¥é”™ï¼š\n\nåœºæ™¯ï¼š`pip3 install httpx[http2]` å½“åœ¨Macä¸­æ‰§è¡Œæ­¤å‘½ä»¤æ—¶å‡ºç° `zsh: no matches found: httpx[http2]`\n\næ³¨æ„ï¼šæ­¤é—®é¢˜é€‚ç”¨äºæ‰€æœ‰ç›¸å…³åœºæ™¯ `zsh: no matches found: xxx`\n\n#### è§£å†³åŠæ³•ï¼š\n\n> 1ã€ç¼–è¾‘ zprofile æ–‡ä»¶\n\n> > vim ~/.zprofile\n>\n> 2ã€åœ¨æ–‡ä»¶ä¸­æ·»åŠ  setopt no_nomatchï¼Œç„¶åæŒ‰ESCä¿å­˜æ–‡ä»¶ :wq\n>\n> > setopt no_nomatch\n>\n> 3ã€é‡æ–°æ‰§è¡Œæ–‡ä»¶\n\n> > source ~/.zprofile \n>\n> ä¹‹åå¯ä»¥é‡æ–°å°è¯•æ‰§è¡Œå‘½ä»¤ã€‚\n>\n> #### httpxéœ€è¦Python3.6+ï¼ˆä½¿ç”¨å¼‚æ­¥è¯·æ±‚éœ€è¦Python3.8+ï¼‰\n>\n> ```bash\n> pip3 install httpx\n> æˆ–\n> python3 -m pip install httpx\n> ```\n>\n> å¦‚æœéœ€è¦ä½¿ç”¨HTTP/2ï¼Œåˆ™éœ€è¦å®‰è£…http2çš„ç›¸å…³ä¾èµ–\n>\n> ```bash\n> pip3 install httpx[http2]\n> python3 -m pip install httpx[http2]\n> ```\n\n### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>ä½¿ç”¨æ•™ç¨‹ï¼š</strong></font>\n\nä½¿ç”¨ `httpx` æ¥è·å– HTTP/2 çš„å†…å®¹æ—¶ï¼Œå¯ä»¥é…ç½® HTTP/2 æ”¯æŒå¹¶è®¾ç½®ç›¸å…³å‚æ•°ã€‚`httpx` æ˜¯ä¸€ä¸ªæ”¯æŒå¼‚æ­¥ç¼–ç¨‹å’Œ HTTP/2 åè®®çš„ Python åº“ï¼Œä½¿ç”¨å®ƒå¯ä»¥è½»æ¾å‘å‡º HTTP/2 è¯·æ±‚ã€‚\n\nä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ `httpx` æ¥è·å– HTTP/2 çš„å†…å®¹ï¼š\n\n<font color=red size=3 face=å®‹ä½“><strong>åŒæ­¥ä½¿ç”¨(æµ‹è¯•æ­£å¸¸)ï¼š</strong></font>\n\n```python\nimport httpx\n\n# åˆ›å»ºä¸€ä¸ªæ”¯æŒ HTTP/2 çš„å®¢æˆ·ç«¯\nwith httpx.Client(http2=True) as client:\n    url = \"https://ev-h.phncdn.com/hls/videos/202309/29/440305311/720P_4000K_440305311.mp4/master.m3u8?validfrom=1730126962&validto=1730134162&ipa=35.241.118.11&hdl=-1&hash=e+p6Imk3TAqllNY8Os/rJvoWk+w=\"\n    \n    # å‘é€ GET è¯·æ±‚\n    response = client.get(url)\n\n    # æ£€æŸ¥å“åº”çŠ¶æ€ç \n    if response.status_code == 200:\n        # è¾“å‡ºå†…å®¹æˆ–å°†å…¶ä¿å­˜åˆ°æ–‡ä»¶\n        with open(\"master.m3u8\", \"wb\") as file:\n            file.write(response.content)\n        print(\"m3u8 æ–‡ä»¶ä¸‹è½½æˆåŠŸ\")\n    else:\n        print(f\"è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç ï¼š{response.status_code}\")\n\n```\n\n<font color=red size=3 face=å®‹ä½“><strong>å¼‚æ­¥ä½¿ç”¨(æµ‹è¯•æ­£å¸¸)ï¼š</strong></font>\n\nå¦‚æœæƒ³è¦å¼‚æ­¥æ‰§è¡Œè¯·æ±‚ï¼Œå¯ä»¥ä½¿ç”¨ `httpx.AsyncClient`ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n\n```python\nimport httpx\nimport asyncio\n\nasync def fetch_m3u8():\n    url = \"https://ev-h.phncdn.com/hls/videos/202309/29/440305311/720P_4000K_440305311.mp4/master.m3u8?validfrom=1730126962&validto=1730134162&ipa=35.241.118.11&hdl=-1&hash=e+p6Imk3TAqllNY8Os/rJvoWk+w=\"\n    \n    # ä½¿ç”¨ AsyncClient åˆ›å»ºä¸€ä¸ªæ”¯æŒ HTTP/2 çš„å¼‚æ­¥å®¢æˆ·ç«¯\n    async with httpx.AsyncClient(http2=True) as client:\n        # å¼‚æ­¥å‘é€ GET è¯·æ±‚\n        response = await client.get(url)\n\n        # æ£€æŸ¥å“åº”çŠ¶æ€ç \n        if response.status_code == 200:\n            # è¾“å‡ºå†…å®¹æˆ–å°†å…¶ä¿å­˜åˆ°æ–‡ä»¶\n            with open(\"master.m3u8\", \"wb\") as file:\n                file.write(response.content)\n            print(\"m3u8 æ–‡ä»¶ä¸‹è½½æˆåŠŸ\")\n        else:\n            print(f\"è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç ï¼š{response.status_code}\")\n\n# è¿è¡Œå¼‚æ­¥å‡½æ•°\nasyncio.run(fetch_m3u8())\n\n```\n\nä¸Šè¿°ä»£ç ä½¿ç”¨äº† `httpx` çš„ HTTP/2 æ”¯æŒåŠŸèƒ½ï¼Œé€šè¿‡è®¾ç½® `http2=True` å‚æ•°æ¥å¯ç”¨ã€‚æ ¹æ®éœ€è¦å¯ä»¥è¿›ä¸€æ­¥æ·»åŠ è‡ªå®šä¹‰çš„è¯·æ±‚å¤´ä¿¡æ¯ã€è¶…æ—¶è®¾ç½®ã€ä»£ç†ç­‰å‚æ•°ã€‚\n\n\n\n## ç®€å•ä½¿ç”¨\n\n**httpxä¸requestsåº“çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•å‡ ä¹æ˜¯ä¸€æ¨¡ä¸€æ ·çš„**\n\n```python\nimport httpx\nr = httpx.get('https://httpbin.org/get')\nprint(r)  # <Response [200 OK]>\n```\n\n## ç±»ä¼¼çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨POST, PUT, DELETE, HEADå’ŒOPTIONSç­‰è¯·æ±‚æ–¹æ³•ï¼Œå¦‚ä¸‹\n\n```ini\nr = httpx.post('https://httpbin.org/post', data={'key': 'value'})\nr = httpx.put('https://httpbin.org/put', data={'key': 'value'})\nr = httpx.delete('https://httpbin.org/delete')\nr = httpx.head('https://httpbin.org/get')\nr = httpx.options('https://httpbin.org/get')\n```\n\n## å¸¦æœ‰è¯·æ±‚å¤´å’Œè¯·æ±‚å‚æ•°çš„è¯·æ±‚\n\n```python\nimport httpx\n \nheaders = {'user-agent': 'my-app/1.0.0'}\nparams = {'key1': 'value1', 'key2': 'value2'}\nurl = 'https://httpbin.org/get'\nr = httpx.get(url, headers=headers, params=params)\nprint(r)\nprint(r.status_code)  # çŠ¶æ€ç \nprint(r.encoding)  # æ–‡æœ¬ç¼–ç \nprint(r.text)\nprint(r.json())\n```\n\nç»“æœå¦‚ä¸‹\n\n```python\n<Response [200 OK]>\n200\nascii\n{\n  \"args\": {\n    \"key1\": \"value1\", \n    \"key2\": \"value2\"\n  }, \n  \"headers\": {\n    \"Accept\": \"*/*\", \n    \"Accept-Encoding\": \"gzip, deflate\", \n    \"Host\": \"httpbin.org\", \n    \"User-Agent\": \"my-app/1.0.0\", \n    \"X-Amzn-Trace-Id\": \"Root=1-6139b788-2fd67d5627a5f6de346e154a\"\n  }, \n  \"origin\": \"113.110.227.200\", \n  \"url\": \"https://httpbin.org/get?key1=value1&key2=value2\"\n}\n \n{'args': {'key1': 'value1', 'key2': 'value2'}, 'headers': {'Accept': '*/*', 'Accept-Encoding': 'gzip, deflate', 'Host': 'httpbin.org', 'User-Agent': 'my-app/1.0.0', 'X-Amzn-Trace-Id': 'Root=1-6139b788-2fd67d5627a5f6de346e154a'}, 'origin': '113.110.227.200', 'url': 'https://httpbin.org/get?key1=value1&key2=value2'}\n```\n\n## è¯·æ±‚å¸¦æœ‰cookies\n\n```dart\nimport httpx\n \nurl = 'http://httpbin.org/cookies'\ncookies = {'color': 'green'}\nr = httpx.get(url, cookies=cookies)\nprint(r.json())  # {'cookies': {'color': 'green'}}\n```\n\n## è®¾ç½®è¶…æ—¶æ—¶é—´\n\n```dart\nimport httpx\n \nr = httpx.get('http://httpbin.org', timeout=0.001)\nprint(r)\n```\n\nè¶…è¿‡è®¾ç½®æ—¶é—´åˆ™æŠ¥httpx.ConnectTimeout: timed out\n\n# é«˜çº§ç”¨æ³•\n\næˆ‘ä»¬ä½¿ç”¨ä¸Šé¢çš„è¯·æ±‚æ–¹å¼æ—¶ï¼Œhttpxæ¯æ¬¡å‘é€è¯·æ±‚éƒ½éœ€è¦å»ºç«‹ä¸€ä¸ªæ–°çš„è¿æ¥ï¼Œç„¶è€Œéšç€è¯·æ±‚çš„æ•°é‡å¢åŠ ï¼Œæ•´ä¸ªç¨‹åºçš„è¯·æ±‚æ•ˆç‡å°±ä¼šå˜å¾—å¾ˆä½ã€‚\n\nhttpxæä¾›äº†Clientæ¥è§£å†³ä»¥ä¸Šé—®é¢˜ï¼ŒClientæ˜¯åŸºäºHTTPè¿æ¥æ± å®ç°çš„ï¼Œè¿™æ„å‘³ç€å½“ä½ å¯¹ä¸€ä¸ªç½‘ç«™å‘é€å¤šæ¬¡è¯·æ±‚çš„æ—¶å€™ï¼ŒClientä¼šä¿æŒåŸæœ‰çš„TCPè¿æ¥ï¼Œä»è€Œæå‡ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚\n\nä½¿ç”¨Clientå‘é€è¯·æ±‚\nåˆ›å»ºä¸€ä¸ªclientå¯¹è±¡ï¼Œä½¿ç”¨è¯¥å¯¹è±¡å»åšç›¸åº”çš„è¯·æ±‚\n\n```dart\nimport httpx\n \nwith httpx.Client() as client:\n    headers = {'X-Custom': 'value'}\n    r = client.get('https://example.com', headers=headers)\n    print(r.text)\n```\n\nè·¨è¯·æ±‚å…±äº«é…ç½®\næˆ‘ä»¬å¯ä»¥å°†headersã€cookiesã€paramsç­‰å‚æ•°æ”¾åœ¨http.Client()ä¸­ï¼Œåœ¨Clientä¸‹çš„è¯·æ±‚å…±äº«è¿™äº›é…ç½®å‚æ•°\n\n```dart\nimport httpx\n \nheaders1 = {'x-auth': 'from-client'}\nparams1 = {'client_id': '1234'}\nurl = 'https://example.com'\nwith httpx.Client(headers=headers1, params=params1) as client:\n    headers2 = {'x-custom': 'from-request'}\n    params2 = {'request_id': '4321'}\n    r1 = client.get(url)\n    print(r1.request.headers)\n    r2 = client.get(url, headers=headers2, params=params2)\n    print(r2.request.headers)\n```\n\nç»“æœå¦‚ä¸‹\n\n```lisp\nHeaders({'host': 'example.com', 'accept': '*/*', 'accept-encoding': 'gzip, deflate', 'connection': 'keep-alive', 'user-agent': 'python-httpx/0.19.0', 'x-auth': 'from-client'})\nHeaders({'host': 'example.com', 'accept': '*/*', 'accept-encoding': 'gzip, deflate', 'connection': 'keep-alive', 'user-agent': 'python-httpx/0.19.0', 'x-auth': 'from-client', 'x-custom': 'from-request'})\n```\n\nå¯ä»¥çœ‹å‡ºï¼Œr1çš„è¯·æ±‚å¤´åŒ…å«{'x-auth': 'from-client'}, r2è™½ç„¶é…ç½®äº†headers2ï¼Œä½†ç”±äºé‡Œé¢çš„headers1å’Œheaders2çš„å‚æ•°ä¸åŒï¼ŒClientä¼šåˆå¹¶è¿™ä¸¤ä¸ªheadersçš„å‚æ•°ä½œä¸ºä¸€ä¸ªæ–°çš„headersï¼ˆå¦‚æœå‚æ•°ç›¸åŒï¼Œåˆ™headers2çš„å‚æ•°ä¼šè¦†ç›–headers1çš„å‚æ•°ï¼‰ã€‚\n\n## HTTPä»£ç†\n\nhttpxå¯ä»¥é€šè¿‡è®¾ç½®proxieså‚æ•°æ¥ä½¿ç”¨httpä»£ç†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸åŒçš„ä»£ç†æ¥åˆ†åˆ«å¤„ç†httpå’Œhttpsåè®®çš„è¯·æ±‚ï¼Œå‡è®¾æœ‰å¦‚ä¸‹ä¸¤ä¸ªä»£ç†\n\n```python\nimport httpx\n \nproxies = {\n    'http://': 'http://localhost:8080',  # ä»£ç†1\n    'https://': 'http://localhost:8081',  # ä»£ç†2\n}\nurl = 'https://example.com'\nwith httpx.Client(proxies=proxies) as client:\n    r1 = client.get(url)\n    print(r1)\n```\n\nä¸Šé¢çš„ä»£ç†åªæ˜¯ç¤ºèŒƒï¼Œå®é™…åœºæ™¯ä¸‹è¯·æ›¿æ¢æˆæœ‰æ•ˆçš„ipä»£ç†\n\n**è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œhttpxçš„ä»£ç†å‚æ•°proxiesåªèƒ½åœ¨httpx.Client()ä¸­æ·»åŠ ï¼Œclient.get()æ˜¯æ²¡æœ‰è¿™ä¸ªå‚æ•°çš„ã€‚**\n\n## è¶…æ—¶å¤„ç†\n\né»˜è®¤æƒ…å†µä¸‹ï¼Œhttpxåˆ°å¤„éƒ½åšäº†ä¸¥æ ¼çš„è¶…æ—¶å¤„ç†ï¼Œé»˜è®¤æ—¶é—´ä¸º5ç§’ï¼Œè¶…è¿‡5ç§’æ— å“åº”åˆ™æŠ¥TimeoutException\n\n## æ™®é€šè¯·æ±‚:\n\n```\nhttpx.get('http://example.com/api/v1/example', timeout=10.0)\n```\n\n## clientå®ä¾‹:\n\n```csharp\nwith httpx.Client() as client:\n    client.get(\"http://example.com/api/v1/example\", timeout=10.0)\n```\n\næˆ–è€…å…³é—­è¶…æ—¶å¤„ç†\n\n## æ™®é€šè¯·æ±‚:\n\n```\nhttpx.get('http://example.com/api/v1/example', timeout=None)\n```\n\n## clientå®ä¾‹:\n\n```fsharp\nwith httpx.Client() as client:\n    client.get(\"http://example.com/api/v1/example\", timeout=None)\n```\n\n## SSLéªŒè¯\n\nå½“è¯·æ±‚httpsåè®®çš„é“¾æ¥æ—¶ï¼Œå‘å‡ºçš„è¯·æ±‚éœ€è¦éªŒè¯æ‰€è¯·æ±‚ä¸»æœºçš„èº«ä»½ï¼Œå› æ­¤éœ€è¦SSLè¯ä¹¦æ¥å–å¾—æœåŠ¡å™¨çš„ä¿¡ä»»åã€‚\n\nå¦‚æœè¦ä½¿ç”¨è‡ªå®šä¹‰çš„CAè¯ä¹¦ï¼Œåˆ™å¯ä»¥ä½¿ç”¨verifyå‚æ•°\n\n```java\nimport httpx\n \nr = httpx.get(\"https://example.org\", verify=\"path/to/client.pem\")\n```\n\næˆ–è€…ä½ å¯ä»¥å®Œå…¨ç¦ç”¨SSLéªŒè¯ï¼ˆä¸æ¨èï¼‰ã€‚\n\n```java\nimport httpx\n \nr = httpx.get(\"https://example.org\", verify=False)\n```\n\nå¼‚æ­¥æ”¯æŒ\né»˜è®¤æƒ…å†µä¸‹ï¼Œhttpxä½¿ç”¨æ ‡å‡†çš„åŒæ­¥è¯·æ±‚æ–¹å¼ï¼Œå¦‚æœéœ€è¦çš„è¯ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å®ƒæä¾›çš„å¼‚æ­¥clientæ¥å‘é€ç›¸å…³è¯·æ±‚ã€‚\n\nä½¿ç”¨å¼‚æ­¥clientæ¯”ä½¿ç”¨å¤šçº¿ç¨‹å‘é€è¯·æ±‚æ›´åŠ é«˜æ•ˆï¼Œæ›´èƒ½ä½“ç°æ˜æ˜¾çš„æ€§èƒ½ä¼˜åŠ¿ï¼Œå¹¶ä¸”å®ƒè¿˜æ”¯æŒWebSocketç­‰é•¿ç½‘ç»œè¿æ¥ã€‚\n\nå¼‚æ­¥è¯·æ±‚\nä½¿ç”¨async/awaitè¯­å¥æ¥è¿›è¡Œå¼‚æ­¥æ“ä½œï¼Œåˆ›å»ºä¸€ä¸ªhttpx.AsyncClient()å¯¹è±¡\n\n```python\nimport asyncio\nimport httpx\n \nasync def main():\n    async with httpx.AsyncClient() as client:  # åˆ›å»ºä¸€ä¸ªå¼‚æ­¥client\n        r = await client.get('https://www.example.com/')\n        print(r)\n \n \nif __name__ == '__main__':\n    asyncio.run(main())\n```\n\n## åŒæ­¥è¯·æ±‚ä¸å¼‚æ­¥è¯·æ±‚çš„æ¯”è¾ƒ\n\næˆ‘ä»¬æ¥å°è¯•ä½¿ç”¨åŒæ­¥å’Œå¼‚æ­¥çš„æ–¹æ³•è¿›è¡Œè¯·æ±‚ï¼Œå¯¹æ¯”ä¸¤ç§ä¸åŒçš„æ–¹æ³•çš„æ•ˆç‡æƒ…å†µã€‚\n\n### åŒæ­¥è¯·æ±‚\n\n```python\nimport time\nimport httpx\n \ndef main():\n    with httpx.Client() as client:\n        for i in range(300):\n            res = client.get('https://www.example.com')\n            print(f'ç¬¬{i + 1}æ¬¡è¯·æ±‚ï¼Œstatus_code = {res.status_code}')\n \n \nif __name__ == '__main__':\n    start = time.time()\n    main()\n    end = time.time()\n    print(f'åŒæ­¥å‘é€300æ¬¡è¯·æ±‚ï¼Œè€—æ—¶ï¼š{end - start}')\n```\n\nåŒæ­¥å‘é€300æ¬¡è¯·æ±‚ï¼Œè€—æ—¶ï¼š49.65340781211853\n\n### å¼‚æ­¥è¯·æ±‚\n\n```python\nimport asyncio\nimport time\nimport httpx\n \n \nasync def req(client, i):\n    res = await client.get('https://www.example.com')\n    print(f'ç¬¬{i + 1}æ¬¡è¯·æ±‚ï¼Œstatus_code = {res.status_code}')\n    return res\n \n \nasync def main():\n    async with httpx.AsyncClient() as client:\n        task_list = []  # ä»»åŠ¡åˆ—è¡¨\n        for i in range(300):\n            res = req(client, i)\n            task = asyncio.create_task(res)  # åˆ›å»ºä»»åŠ¡\n            task_list.append(task)\n        await asyncio.gather(*task_list)  # æ”¶é›†ä»»åŠ¡\n \n \nif __name__ == '__main__':\n    start = time.time()\n    asyncio.run(main())\n    end = time.time()\n    print(f'å¼‚æ­¥å‘é€300æ¬¡è¯·æ±‚ï¼Œè€—æ—¶ï¼š{end - start}')\n```\n\nå¼‚æ­¥å‘é€300æ¬¡è¯·æ±‚ï¼Œè€—æ—¶ï¼š2.5227813720703125 ï¼ˆç”±äºæ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œæ‰€ä»¥æ‰“å°çš„iå€¼æ˜¯æ— åºçš„ï¼‰\n\nä»ä¸¤ä¸ªä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œå¼‚æ­¥è¯·æ±‚æ˜æ˜¾æ¯”åŒæ­¥è¯·æ±‚çš„æ•ˆç‡é«˜å¾ˆå¤šã€‚\n\nä»¥ä¸Šå°±æ˜¯httpxåº“çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼Œæƒ³äº†è§£æ›´å¤šå¯ä»¥å» httpxå®˜æ–¹æ–‡æ¡£ä¸­æŸ¥çœ‹ã€‚","tags":["Python","http2"],"categories":["Python","å®‰è£…åº“"]},{"title":"åœ¨Djangoä¸­ä½¿ç”¨MySQL(mysqlclientç‰ˆæœ¬)ä½œä¸ºæ•°æ®åº“","url":"/2024/10/18/åœ¨Djangoä¸­ä½¿ç”¨MySQL(mysqlclientç‰ˆæœ¬)ä½œä¸ºæ•°æ®åº“/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>åœ¨Djangoä¸­ä½¿ç”¨MySQL(mysqlclientç‰ˆæœ¬)ä½œä¸ºæ•°æ®åº“</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>1ã€å®‰è£…åº“</strong></font>\n\n```\npip3 install mysqlclient\n```\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong></strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>2ã€**é…ç½®Djangoçš„`DATABASES`è®¾ç½®**ï¼š</strong></font>\nåœ¨ä½ çš„Djangoé¡¹ç›®çš„`settings.py`æ–‡ä»¶ä¸­ï¼Œæ‰¾åˆ°`DATABASES`è®¾ç½®å¹¶ä¿®æ”¹å®ƒä»¥ä½¿ç”¨MySQLã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹é…ç½®ï¼š\n\n```python\nDATABASES = {  \n    'default': {  \n        'ENGINE': 'django.db.backends.mysql',  \n        'NAME': 'your_database_name',  # æ•°æ®åº“å  \n        'USER': 'your_mysql_username',  # MySQLç”¨æˆ·å  \n        'PASSWORD': 'your_mysql_password',  # MySQLå¯†ç   \n        'HOST': 'localhost',  # æ•°æ®åº“æœåŠ¡å™¨åœ°å€  \n        'PORT': '3306',  # æ•°æ®åº“æœåŠ¡å™¨ç«¯å£ï¼ˆé»˜è®¤æ˜¯3306ï¼‰  \n        'OPTIONS': {  \n            'charset': 'utf8mb4',  \n            'init_command': \"SET sql_mode='STRICT_TRANS_TABLES';\",  \n        }\n    }  \n}\n```\n\n<font color=red size=5 face=å®‹ä½“><strong>Errorï¼šå®‰è£…`mysqlclient`æŠ¥é”™ï¼š</strong></font> \n\nå®˜æ–¹æŒ‡å¼•ï¼šhttps://pypi.org/project/mysqlclient/#:~:text=Building%EE%80%80%20mysqlclient%EE%80%81\n\n```python\n# è¯´æ˜ï¼šç¼ºå°‘å¿…è¦åº“ï¼Œæ‰€ä»¥å®‰è£…å¤±è´¥\n\nbrew install mysql-client pkg-config\nexport PKG_CONFIG_PATH=\"$(brew --prefix)/opt/mysql-client/lib/pkgconfig\"\npip install mysqlclient\n```\n\n![image-20241018010930611](https://s2.loli.net/2024/10/18/9sefPiSWAyQRV8b.png)\n\n#### å®Œæˆå®‰è£…\n\n![image-20241018011119528](https://s2.loli.net/2024/10/18/5c6oeQdgWvDRCXV.png)","tags":["python","django","æ•°æ®åº“"],"categories":["_9-æ•°æ®åº“","mysql"]},{"title":"docker-éƒ¨ç½²-GitLabç§äººGitæ•™ç¨‹","url":"/2024/10/17/docker-éƒ¨ç½²-GitLabç§äººGitæ•™ç¨‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>docker éƒ¨ç½²GitLabç§äººGitæ•™ç¨‹</strong></font>\n\n#### ç¡¬ä»¶æœºå™¨å®‰è£…ï¼šhttps://blog.csdn.net/m0_63230155/article/details/131952266\n\nè¯´æ˜ï¼šce è¡¨ç¤ºç¤¾åŒºå…è´¹ç‰ˆ ï¼Œee è¡¨ç¤ºä¼ä¸šä»˜è´¹ç‰ˆ\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>dockerç›´æ¥è¿è¡Œï¼š</strong></font>\n\n- -d æŒ‡å®šåå°è¿è¡Œ\n- --hostname æŒ‡å®šä¸»æœºå\n- --name æŒ‡å®šå®¹å™¨å\n- -p ç«¯å£æ˜ å°„ 443 httpsç«¯å£ ã€80 httpç«¯å£ 22 sshç«¯å£\n- --restart always  å®¹å™¨åœæ­¢åçš„é‡å¯ç­–ç•¥: å®¹å™¨é€€å‡ºæ—¶æ€»æ˜¯é‡å¯\n- -v æŒ‡å®šæŒ‚è½½å­˜å‚¨å·é¦–å…ˆåœ¨å®¿ä¸»ä¸»æœºåˆ›å»ºå¯¹åº”çš„ç›®å½•\n\n```bash\n# åˆ›å»ºæœ¬åœ°å­˜å‚¨æ–‡ä»¶å¤¹\nmkdir /mnt/DockerFiles/GitUbuntuServer/gitlab/logs\nmkdir /mnt/DockerFiles/GitUbuntuServer/gitlab/config\nmkdir /mnt/DockerFiles/GitUbuntuServer/gitlab/logs\nmkdir /mnt/DockerFiles/GitUbuntuServer/gitlab/data\n# mkdir /etc/localtime\n\n# è¿è¡Œå®¹å™¨ \ndocker run --detach --hostname <æœ¬æœºipåœ°å€> -p 3443:443 -p 3080:80 -p 3022:22 --name GitUbuntuServer --restart always -v /etc/localtime:/etc/localtime:ro -v /mnt/DockerFiles/GitUbuntuServer/gitlab/config:/etc/gitlab -v /mnt/DockerFiles/GitUbuntuServer/gitlab/logs:/var/log/gitlab -v /mnt/DockerFiles/GitUbuntuServer/gitlab/data:/var/opt/gitlab -it --privileged gitlab/gitlab-ce\n```\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>WEBè®¿é—®ï¼š</strong></font>\n\n```python\nhttp://<æœ¬æœºipåœ°å€>:<ç«¯å£>    # ä¸Šé¢éƒ¨ç½²çš„3080è½¬å®¹å™¨æœºçš„80ç«¯å£\nhttp://<æœ¬æœºipåœ°å€>:3080\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>æŸ¥çœ‹è¶…çº§ç”¨æˆ·å¯†ç ï¼š</strong></font>\n\n```bash\ndocker exec -it gitlab cat /etc/gitlab/initial_root_password\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä¿®æ”¹è¶…çº§ç”¨æˆ·è´¦æˆ·å’Œå¯†ç ï¼š</strong></font>\n\n```python\n# è¿›å…¥å®¹å™¨\ndocker exec -it gitlab bash\n# è¿›å…¥å®¹å™¨å†…éƒ¨ï¼š\ngitlab-rails console   # è¿›å…¥gitlabç»ˆç«¯\nuser=User.find_by(username:'root')\nuser.password='xxxxxxx'\nuser.save!\nexit\n```\n\n","tags":["docker","ubuntu","æœåŠ¡å™¨","git"],"categories":["Docker","éƒ¨ç½²"]},{"title":"docker-éƒ¨ç½²ubuntuæ•™ç¨‹","url":"/2024/10/17/docker-éƒ¨ç½²ubuntuæ•™ç¨‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>docker éƒ¨ç½²ubuntuæ•™ç¨‹</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>éœ€æ±‚ï¼š</strong></font>\n\n```bash\nå®¹å™¨åç§°ï¼šGitUbuntuServer\né•œåƒï¼šubuntu:latest\nå¼€æ”¾ç«¯å£ï¼š ç«¯å£ç¼–å†™è§„åˆ™è¯´æ˜:(å®¿ä¸»æœºç«¯å£:å®¹å™¨æœºç«¯å£)    3080:80,3443:443,3022:22,3308:3306,     å¼€æ”¾ç«¯å£ç»„ 3800-4000:3800:4000\né‡å¯è§„åˆ™ï¼š åœæ­¢åé©¬ä¸Šé‡å¯\nç½‘ç»œï¼šbridge\næ˜ å°„ç›®å½•ï¼š /mnt/DockerFiles/GitUbuntuServer(å®¿ä¸»æœºç›®å½•):/(å®¹å™¨ç›®å½•)\næ§åˆ¶å°äº¤äº’ï¼šä¼ªä¸­æ–­ã€æ ‡å‡†è¾“å‡ºã€ç‰¹æƒæ¨¡å¼\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>bashåˆ›å»ºå‘½ä»¤ï¼š</strong></font>\n\n```bash\ndocker run -d --name GitUbuntuServer -p 3080:80 -p 3443:443 -p 3022:22 -p 3308:3306 -p 3800-4000:3800-4000 --restart=unless-stopped --network=bridge -v /mnt/DockerFiles/GitUbuntuServer/opt:/opt -v /mnt/DockerFiles/GitUbuntuServer/root:/root -v /mnt/DockerFiles/GitUbuntuServer/home:/home -v /mnt/DockerFiles/GitUbuntuServer/mnt:/mnt -it --privileged  ubuntu:latest\n```\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å¼€å¯rootè¿œç¨‹ç™»å½•ï¼š</strong></font>\n\n```python\ndocker exec -it <imageID> /bin/bash  # è¿›å…¥å®¹å™¨ä¸­æ–­ç•Œé¢\napt-get update   # æ›´æ–°åŒ…ç®¡ç†å™¨\napt-get install openssh-server openssh-client  # å®‰è£… ssh å¹¶å¯åŠ¨\n/etc/init.d/ssh start   # å¯åŠ¨ssh\nps -e | grep sshd    # æŸ¥çœ‹å¯åŠ¨è¿›ç¨‹\n\n# åˆå§‹åŒ–å¯†ç \napt-get install vim  # å®‰è£…vim\n\nvim /etc/ssh/sshd_config  # ç¼–è¾‘ sshd_configæ–‡ä»¶\n# å¢åŠ  PermitRootLogin yes ï¼Œç„¶å :wq ä¿å­˜å¹¶æ¨å‡º\nservice ssh restart   # é‡å¯ ssh æœåŠ¡\npasswd root   # è®¾ç½®å¯†ç \n```\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://s2.loli.net/2024/10/17/sDTidA5RMCkl1nz.png)\n","tags":["docker","ubuntu","æœåŠ¡å™¨"],"categories":["Docker","éƒ¨ç½²"]},{"title":"Python-webè¿œç¨‹éƒ¨ç½²Gitåˆ°æœåŠ¡å™¨æ•™ç¨‹","url":"/2024/09/20/Python-webè¿œç¨‹éƒ¨ç½²Gitåˆ°æœåŠ¡å™¨æ•™ç¨‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Python webè¿œç¨‹éƒ¨ç½²Gitåˆ°æœåŠ¡å™¨æ•™ç¨‹</strong></font>\n\n<!--more-->\n\n#### ç¼–è¾‘ `gitignore`æ–‡ä»¶ï¼Œæ’é™¤ä¸éœ€è¦gitä¸Šä¼ åˆ° `æ–‡ä»¶` æˆ–è€… `æ–‡ä»¶å¤¹`\n\n```python\n# èŒƒä¾‹å¯ä¸Š githubä¸Šé¢çš„å…è´¹åˆ†äº«\nhttps://github.com/github/gitignore/blob/main/Python.gitignore\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>gitä»“åº“çš„ä½¿ç”¨</strong></font>\n\n```python\n# å½“å‰ä»“åº“ï¼š\n   git config user.name â€œNew Usernameâ€\n   git config user.email â€œnewemail@example.comâ€\n\n# å…¨å±€ä»“åº“\n   git config â€“global user.name â€œNew Global Usernameâ€\n   git config â€“global user.email â€œnewglobal@email.comâ€\n\n# å¼€å§‹åˆå§‹åŒ– gitæ–‡ä»¶å¤¹\ncd day28 # è¿›å…¥é¡¹ç›®æ ¹æ–‡ä»¶å¤¹\ngit init  # åˆå§‹åŒ–gité¡¹ç›®\ngit remote add origin https://gitee.com/wupeiqi/day28.git      # é…ç½®ä»£æŒ‡å‘½ä»¤ï¼Œç›¸å½“å˜é‡ origin å°±ç­‰äºä»“åº“åœ°å€ https://gitee.com/wupeiqi/day28.git\n\n# åæœŸç»å¸¸æ‰§è¡Œçš„ä»£ç ï¼š\ngit add .    # git æ·»åŠ å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶\ngit commit -m 'init'   # è¿™é‡Œæ˜¯è¯´æ˜ å¯ä»¥æ˜¯ä¿®æ”¹äº†ä»€ä¹ˆï¼Œæ›´æ”¹äº†ä»€ä¹ˆ\ngit checkout -b master   # åœ¨æœ¬åœ°åˆ›å»º masteråˆ†æ”¯\ngit push origin master   # æäº¤åˆ°å“ªä¸ªç›®å½•  è¿™é‡Œçš„origin æ˜¯ä¸ªä»£ç§°\n\ngit push MyMusicAPI master   # ä¸Šä¼ åˆ°è¿œç¨‹ä»“åº“\ngit push MyMusicAPI master --force   # è¦†ç›–ä¸Šä¼ åˆ°è¿œç¨‹ä»“åº“\n\ngit status  # æ£€æµ‹ git \ngit log # æ˜¾ç¤ºç‰ˆæœ¬\n\ngit reset --hard e65ec665eb7b93eb157f5e902570b1a83508953a  # å›æ»šåˆ°æŸä¸ªç‰ˆæœ¬ é…åˆ git log ä½¿ç”¨\n# è¿™é‡Œå¦‚æœæ¨é€å¤±è´¥ï¼Œ å¯ä»¥ä½¿ç”¨è¦†ç›–æ¨é€ã€‚ä½†æ˜¯è¯·åšå¥½å¤‡ä»½åœ¨æ¨é€\n\n\n# äºŒæ¬¡ä¼šæ»š ï¼Œå·²ç»ä¼šæ»šæ¶ˆå¤±çš„å†…å®¹ï¼Œå¯ä»¥åœ¨ä¼šæ»šå›å»\n# è¿™é‡Œä¸èƒ½ç”¨ git logäº† \ngit reflog  # è¿™é‡ŒæŸ¥çœ‹å·²ç»ä¼šæ»šè¿‡çš„ç‰ˆæœ¬å¥½(è¿™é‡Œç”¨åˆ é™¤æ›´å¥½ç†è§£ä¸€ç‚¹)\n# è¿™é‡Œåœ¨ä½¿ç”¨ä¼šæ»šå‘½ä»¤\ngit reset --hard c4d3428   # è¿™é‡Œè·Ÿå‰é¢ä¼šæ»šæ˜¯ä¸€æ ·çš„ï¼Œ\n\n\n\n## åˆ†æ”¯çš„æ“ä½œ\ngit branch   # ç›®å‰æ‰€åœ¨åˆ†æ”¯\ngit branch dev  # åˆ›å»º devåˆ†æ”¯ ä½†æ˜¯ç°åœ¨æ‰€åœ¨åˆ†æ”¯ ä¾ç„¶æ˜¯ä¸»åˆ†æ”¯ master\ngit checkout dev  # ä»å½“å‰åˆ†æ”¯ï¼Œè·³è½¬åˆ° dev åˆ†æ”¯\ngit merge bug  # è¿™é‡Œçš„bugæ˜¯åˆ†æ”¯çš„æ„æ€ï¼Œ å¦‚æœè¦å°† bug åˆ†æ”¯åˆå¹¶åˆ° master åˆ†æ”¯ï¼Œé¦–å…ˆéœ€è¦åˆ‡æ¢åˆ° master åˆ†æ”¯ï¼Œç„¶ååœ¨æ‰§è¡Œè¯¥å‘½ä»¤\n\n# å¦‚æœåˆ†æ”¯æ²¡æœ‰å­˜åœ¨çš„æ„ä¹‰ï¼Œå°±åƒbugåˆ†æ”¯ï¼Œä¿®å¤äº†bug å°±æ²¡æœ‰å­˜åœ¨çš„æ„ä¹‰ï¼Œå°±å¯ä»¥åˆ é™¤ä»–\ngit branch -d bug  # git åˆ†æ”¯æ“ä½œï¼Œ -d åˆ é™¤    å…¶æ„æ€ä¸º åˆ é™¤ä¸€ä¸ªåç§°ä¸º bug çš„åˆ†æ”¯\n\n# git clone https://user:ghp_<GithubTokenç”³è¯·>@<ä»“åº“httpåœ°å€>\ngit clone https://user:ghp_<GithubTokenç”³è¯·>@github.com/xxxxx/xxxxx.git \n```\n\n![image-20240920154221489](https://s2.loli.net/2024/09/20/WjGZpiqay6m8lvt.png)\n\n### eeeorè¯´æ˜ï¼š\n\n+ `error: src refspec master does not match any`\n\n  ```python\n  è¿™ä¸ªé”™è¯¯è¡¨æ˜ä½ æœ¬åœ°çš„ Git ä»“åº“ä¸­æ²¡æœ‰æ‰¾åˆ°åä¸º â€œmasterâ€ çš„åˆ†æ”¯ã€‚\n  \n  # åˆ›å»ºæˆ–åˆ‡æ¢åˆ†æ”¯ï¼šå¦‚æœä½ éœ€è¦ â€œmasterâ€ åˆ†æ”¯ï¼Œä½†æœ¬åœ°ä¸å­˜åœ¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ git checkout -b master åˆ›å»ºä¸€ä¸ªæ–°çš„ â€œmasterâ€ åˆ†æ”¯ï¼Œæˆ–è€…å¦‚æœä½ æƒ³è¦çš„æ˜¯ â€œmainâ€ åˆ†æ”¯ï¼Œç¡®ä¿ä½ çš„æœ¬åœ°å’Œè¿œç¨‹ä»“åº“éƒ½ä½¿ç”¨ â€œmainâ€ã€‚\n  \n  git checkout -b master\n  ```\n\n  \n\n##### `git log` åä¼šæ˜¾ç¤ºåˆ†é¡µï¼š\n\n```python\n# è¦é€€å‡º git log çš„åˆ†é¡µå™¨è§†å›¾ï¼Œä½ å¯ä»¥æŒ‰ä¸‹ä»¥ä¸‹é”®ï¼š\n\tæŒ‰ q é”®ï¼šè¿™æ˜¯ less åˆ†é¡µå™¨çš„é»˜è®¤é€€å‡ºé”®ã€‚\n# \tæŒ‰ Ctrl+C æˆ– Ctrl+Dï¼šè¿™äº›æŒ‰é”®åœ¨è®¸å¤šæƒ…å†µä¸‹ä¹Ÿå¯ä»¥ä¸­æ–­å’Œé€€å‡ºå½“å‰çš„åˆ†é¡µå™¨ã€‚\n\n# æˆ–è€…è®¾ç½®å…¨å±€ç¦ç”¨ logåˆ†é¡µ\ngit config --global core.pager cat\n\n```\n\n\n\n#### rebase æäº¤è®°å½•çš„åˆå¹¶\n\n```python\ngit rebase -i HEAD~3   # è¡¨ç¤ºä»å½“å‰åˆ†æ”¯ï¼Œå½“å‰ç‰ˆæœ¬ å‘å‰åˆå¹¶æœ€è¿‘ 3 æ¡è®°å½•\ngit rebase -i <ç‰ˆæœ¬å·>  # è¡¨ç¤ºä»å½“å‰åˆ†æ”¯ï¼Œå½“å‰ç‰ˆæœ¬ å‘å‰åˆå¹¶æœ€è¿‘ åˆ° è¯¥ç‰ˆæœ¬å·çš„æ‰€æœ‰ç‰ˆæœ¬\ngit merge    # åˆå¹¶è¿œç¨‹ä»“åº“çš„æäº¤è®°å½• ä¸æœ¬åœ°åˆå¹¶\n```\n\n","tags":["django","web","æœåŠ¡å™¨","éƒ¨ç½²","git"],"categories":["Git"]},{"title":"è¿œç¨‹ä¿®æ”¹-ESXI-8.0-ç®¡ç†ipåœ°å€","url":"/2024/08/18/è¿œç¨‹ä¿®æ”¹-ESXI-8-0-ç®¡ç†ipåœ°å€/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**è¿œç¨‹ä¿®æ”¹ ESXI 8.0 ç®¡ç†ipåœ°å€**</strong></font>\n\n<!--more-->\n\n###  **åœºæ™¯ï¼š**\n\né€‚ç”¨äºä¸æ–¹ä¾¿åœ¨è®¾å¤‡è¾¹æ“ä½œè€Œåˆéœ€è¦ä¿®æ”¹ç®¡ç†åœ°å€çš„åœºæ™¯ã€‚\n\né€‚ç”¨äºä¸æ–¹ä¾¿å¤–æ¥æ˜¾ç¤ºå™¨çš„åœºæ™¯ã€‚\n\n### **æ³¨æ„ï¼š**\n\nç”Ÿäº§ç¯å¢ƒä¸€å®šç¡®å®šå¥½ç½‘ç»œé…ç½®ä¿¡æ¯å¦åˆ™å¯èƒ½ä¼šå› ä¸ºç½‘ç»œé…ç½®ä¸æ­£ç¡®å¯¼è‡´æ— æ³•æ­£å¸¸è®¿é—®ã€‚\n\n### **æ­¥éª¤ï¼š**\n\n#### 1.å¼€å¯SSHè¿œç¨‹è®¿é—®\n\nå¯ç”¨å®‰å…¨ `Shell`ï¼ˆä¹Ÿå°±æ˜¯ `EXSi` å¯ä»¥è¢« `SSH` è®¿é—®çš„åŠŸèƒ½ï¼‰\n\n![img](https://s2.loli.net/2024/08/18/jXvEum9nVrO1aq8.png)\n\n#### 2.\n\n+ ä½¿ç”¨ `SecureCRT SSH2` è¿æ¥ `ESXi` ä¸»æœºï¼Œç°åœ¨ä½¿ç”¨ `dcui` å¹¶æ²¡æœ‰ä»»ä½•ååº”ï¼Œåœ¨ `Session` æ ‡ç­¾æ å³é”®ç‚¹å‡» `Disconnect` ã€‚\n+ è¿™é‡Œæˆ‘æµ‹è¯•ç”¨ `Finalshell` ä¹Ÿæ˜¯å®Œå…¨æ²¡é—®é¢˜çš„\n\n```bash\nThe time and date of this login have been sent to the system logs.\n\nWARNING:\n   All commands run on the ESXi shell are logged and may be included in\n   support bundles. Do not provide passwords directly on the command line.\n   Most tools can prompt for secrets or accept them from standard input.\n\nVMware offers supported, powerful system administration tools.  Please\nsee www.vmware.com/go/sysadmintools for details.\n\nThe ESXi Shell can be disabled by an administrative user. See the\nvSphere Security documentation for more information.\n[root@localhost:~] \n[root@localhost:~] dcui \n```\n\n#### 3.è¿æ¥åˆ°SSH\n\n+ å¦‚æœæ˜¯ä½¿ç”¨ `Finalshell` åˆ™å¯çœç•¥æ­¤æ­¥éª¤\n+ åœ¨ `Session` æ ‡ç­¾æ å³é”®ç‚¹å‡» `Session Option` ä¿®æ”¹ `Terminal` ç±»å‹ä¸º `Xterm` åé‡æ–° `SSH2` è¿æ¥\n\n![img](https://s2.loli.net/2024/08/18/e7AEdlkaJ4ghpPt.png)\n\n#### **4.ä½¿ç”¨ `dcui` å·¥å…·**\n\n+ å†æ¬¡ä½¿ç”¨ `dcui` å·¥å…·ï¼Œè¿™æ—¶å·²ç»å¯ä»¥è¿›å…¥ `EXSi` çš„ç³»ç»Ÿç®¡ç†ç•Œé¢ã€‚\n\n![img](https://s2.loli.net/2024/08/18/MvdVH8r7BLy1Kfs.png)\n\n#### 5.ç™»å½•åˆ°æ§åˆ¶ä¸­å¿ƒ\n\n+ ç‚¹å‡» `F2` è¿›è¡Œ `Customize System` è¾“å…¥ç”¨æˆ·åã€å¯†ç è¿›å…¥\n\n![img](https://s2.loli.net/2024/08/18/zO1Ehr7yvmHFgcC.png)\n\n#### 6.ä¿®æ”¹ç®¡ç†IPåœ°å€\n\n+ é€‰æ‹© `Configure Management Network`\n\n![img](https://s2.loli.net/2024/08/18/eyDBxsMbLrXRgHI.png)\n\n#### 7.é€‰æ‹© `IPv4 Configuration`\n\n![img](https://s2.loli.net/2024/08/18/Z45nGUCewczAKby.png)\n\n#### 8.é…ç½®é™æ€IPåœ°å€ï¼Œç„¶åç‚¹å‡»å›è½¦\n\n![img](https://s2.loli.net/2024/08/18/2m6uOn3w5T8WjUh.png)\n\n#### 9.ç‚¹å‡» `Esc` é€‰æ‹© `Yes` åº”ç”¨é…ç½®å¹¶ä¸”é‡å¯ç®¡ç†ç½‘ç»œ\n\n![img](https://s2.loli.net/2024/08/18/8M4Ichq1xCzebUs.png)\n\n#### 10.æ­¤æ—¶å·²è¿‘å¯ä»¥ç”¨ä¿®æ”¹åçš„IPåœ°å€ç™»å½•ç®¡ç†ESXiä¸»æœº\n\n![img](https://s2.loli.net/2024/08/18/OrPAf7l54TLonhd.png)","tags":["esxi"],"categories":["_A8-å·¥å…·","esxi"]},{"title":"VMware-ESXI-8.0.2-éƒ¨ç½²æ•™ç¨‹","url":"/2024/08/18/VMware-ESXI-8-0-2-éƒ¨ç½²æ•™ç¨‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹</strong></font>\n\n<!--more-->\n\nä»Šå¤©æˆ‘ä»¬å¼€å§‹è¿›å…¥è½¯è·¯ç”±çš„å®‰è£…ï¼Œæœ¬ç¯‡å…ˆä»‹ç»å¦‚ä½•å®‰è£…ESXi 8.0è™šæ‹Ÿæœºã€‚iKuai å’Œ openWrt çš„å†…å®¹æ”¾åœ¨ä¸‹ä¸€ç¯‡ã€‚å‚è€ƒäº†ä¸å°‘å¤§ä½¬çš„ç»éªŒï¼Œç»¼åˆä¸‹æ¥ï¼Œæ‰“é€ è½¯è·¯ç”±çš„è¯ ESXi å’Œ PVE ç”¨çš„æ¯”è¾ƒå¤šï¼ŒESXi ç¨³å®šæ€§æ›´å¥½ï¼ŒPVE ç¡¬ä»¶å…¼å®¹æ€§å¥½äº›ã€‚\n\n> - è™šæ‹Ÿæœºï¼ˆVirtual Machineï¼‰æŒ‡é€šè¿‡è½¯ä»¶æ¨¡æ‹Ÿçš„å…·æœ‰å®Œæ•´ç¡¬ä»¶ç³»ç»ŸåŠŸèƒ½çš„ã€è¿è¡Œåœ¨ä¸€ä¸ªå®Œå…¨éš”ç¦»ç¯å¢ƒä¸­çš„å®Œæ•´è®¡ç®—æœºç³»ç»Ÿã€‚åœ¨å®ä½“è®¡ç®—æœºä¸­èƒ½å¤Ÿå®Œæˆçš„å·¥ä½œåœ¨è™šæ‹Ÿæœºä¸­éƒ½èƒ½å¤Ÿå®ç°ã€‚é€šè¿‡å°†å¤šå°è™šæ‹Ÿæœºæ”¾ç½®åœ¨ä¸€å°è®¡ç®—æœºä¸Šï¼Œå¯ä»¥ä»…åœ¨ä¸€å°ç‰©ç†`æœåŠ¡å™¨`æˆ– â€œä¸»æœºâ€ ä¸Šè¿è¡Œå¤šä¸ªæ“ä½œç³»ç»Ÿå’Œåº”ç”¨ã€‚\n> - ESXiï¼Œæ˜¯ VMWare vSphere Hypervisor å¥—ä»¶ä¹‹ä¸‹é‡è¦ç»„ä»¶ã€‚æ˜¯ä¸€æ¬¾ä¸€æ¬¾ä¼˜ç§€çš„ `æœåŠ¡å™¨` çº§åˆ«çš„è™šæ‹Ÿæœºã€‚å‰èº«æ˜¯ ESXï¼Œä¾èµ– Linux æºç ï¼Œåæ¥æŠ›å¼ƒ Linux æºç åšæˆäº† ESXiã€‚æ•´ä¸ªäº§å“å•†ç”¨æ°”æ¯æµ“é‡ï¼Œç•Œé¢æ¸…æ™°æ˜“ç”¨ï¼Œä½†ç¡¬ä»¶å…¼å®¹æ€§è¾ƒå·®ï¼ˆä¸»è¦é¢å‘æœåŠ¡å™¨ï¼‰ï¼Œæ²¡ä»€ä¹ˆæ‰©å±•æ€§ï¼ŒESXi ä¸ä¾èµ–äºä»»ä½•æ“ä½œç³»ç»Ÿï¼Œç›´æ¥å®‰è£…åœ¨è£¸æœºä¸Šï¼Œå®ƒæœ¬èº«å°±å¯ä»¥çœ‹ä½œä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼Œç„¶åå¯ä»¥åœ¨å®ƒä¸Šé¢å®‰è£…å…¶ä»–ç³»ç»Ÿã€‚\n> - PVEï¼Œå…¨ç§° Proxmox Virtual Environmentï¼Œæ˜¯åŸºäº Debian çš„ Linux ç³»ç»Ÿï¼Œè™šæ‹Ÿæœºå†…æ ¸ä¸º KVMã€‚ç¡¬ä»¶å…¼å®¹æ€§ä¼˜ç§€ã€‚ç•Œé¢åŠŸèƒ½ä¸å¼ºï¼Œå¾ˆå¤šæ“ä½œè¦é å‘½ä»¤è¡Œï¼Œä½†æ‰©å±•èƒ½åŠ›å‡ ä¹æ˜¯æ— é™çš„ã€‚\n\næ¥¼ä¸»å†³å®šåœ¨å·¥æ§ä¸»æœºå†…å®‰è£…ESXi 8.0è™šæ‹Ÿæœºï¼Œç„¶åå†è™šæ‹Ÿæœºå†…å®‰è£…iKuaiä½œä¸ºä¸»è·¯ç”±ï¼ŒOpenWrt ä½œä¸ºæ—è·¯ç”±ï¼Œè¯´å®è¯ï¼Œæ¥¼ä¸»æ²¡æœ‰å¤šæ‹¨å’Œæµæ§çš„éœ€æ±‚ï¼Œè¿™æ ·åšä¸»è¦æ˜¯ä¸ºäº†å°†ç½‘ç»œéš”ç¦»å¼€ï¼ŒiKuaiåªè´Ÿè´£PPOEæ‹¨å·DHCPåŠŸèƒ½ï¼Œå…¶ä»–çš„éƒ½äº¤ç»™openWrtã€‚å¤§å®¶éƒ½çŸ¥é“openWrtæ’ä»¶ä¸°å¯Œï¼Œå¹³æ—¶æŠ˜è…¾çš„æ¯”è¾ƒå¤šï¼Œç»å¸¸ä¼šå‡ºç°æ–­ç½‘çš„æƒ…å†µï¼Œè¿™æ ·å°±å¯ä»¥æ”¾å¿ƒæŠ˜è…¾äº†ã€‚\n\n### 1.ç½‘ç»œæ‹“æ‰‘\n\né¦–å…ˆå…ˆå¤§è‡´è§„åˆ’ä¸€ä¸‹å®¶é‡Œçš„ç½‘ç»œæ‹“æ‰‘ï¼Œå› ä¸ºå®¶é‡ŒåŸæ¥ç”¨çš„æ˜¯åç¡•çš„AC88Uï¼ŒåƒNASã€æ‰“å°æœºè¿™äº›é™æ€IPåœ°å€çš„é…ç½®éƒ½æ˜¯192.168.50.XXï¼Œè¿™æ¬¡æŠ˜è…¾å°±æ‡’å¾—æ”¹äº†ï¼Œç´¢æ€§ç›´æ¥ä»¥è¿™ä¸ªIPæ®µï¼Œåé¢å°±ä¸ç”¨å†å»é‡æ–°é…ç½®äº†ã€‚å¤§å®¶ä¹Ÿå¯ä»¥å°†50æ¢æˆå…¶ä»–è‡ªå·±å¸¸ç”¨çš„ã€‚\n\n> - iKuai ï¼š192.168.50.1è´¦å·:admin\n> - OpenWrtï¼š192.168.50.2 è´¦å·:root\n> - ESXiï¼š192.168.50.3 è´¦å·:root\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/ezEgCaiTGR9MF7O.jpg)\n\n## ä¸€ã€åˆ¶ä½œventoyé•œåƒå®‰è£…å·¥å…·\n\n### 1.ä¸‹è½½[Ventoy](https://www.ventoy.net/cn/download.html)å¯åŠ¨ç›˜åˆ¶ä½œå·¥å…·\n\né¦–å…ˆå‡†å¤‡ä¸€ä¸ªç©ºé—²çš„Uç›˜ï¼Œç”¨Ventoy ä¸€é”®åˆ¶ä½œUSBå¯åŠ¨ç›˜ã€‚æ‰“å¼€[ventoy](https://www.ventoy.net/cn/download.html)ä¸‹è½½å®‰è£…ï¼Œ Ventoy æ˜¯å¼€æºè½¯ä»¶ï¼Œä¸‹è½½ä½¿ç”¨éƒ½æ˜¯å…è´¹çš„ï¼Œç›´æ¥å»å®˜ç½‘æˆ–è€… GitHub é¡µé¢ä¸‹è½½å³å¯ã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/SDo6ZdRtqrGhsLK.png)\n\nåœ¨PCä¸Šå®‰è£…ï¼Œå¹¶è¿è¡ŒVentoy è½¯ä»¶ï¼Œç¨‹åºä¼šè‡ªåŠ¨æ£€æµ‹å½“å‰ USB è®¾å¤‡ã€‚å¦‚æœæ’å…¥äº†å¤šä¸ªUç›˜æ³¨æ„è¯†åˆ«ï¼Œåˆ«æé”™äº†ï¼Œé€ æˆæ•°æ®ä¸¢å¤±ã€‚ç‚¹å‡»å®‰è£…å¼€å§‹åˆ¶ä½œï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/9ZzPNC3DuoXp1nd.png)\n\nå¯ä»¥çœ‹åˆ° U ç›˜å·²ç»è¢«é‡å‘½åä¸º Ventoyã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/S43jzeL1iwXh2kU.png)\n\næ‰“å¼€ç£ç›˜ç®¡ç†ï¼Œå¯ä»¥çœ‹åˆ° U ç›˜è¢«ç»†åˆ†ä¸º 2 ä¸ªå¤§åˆ†åŒºï¼ŒVentoy åˆ†åŒºä¸ºæ´»åŠ¨åˆ†åŒºï¼ŒexFAT æ–‡ä»¶ç³»ç»Ÿï¼Œç”¨äºå­˜æ”¾ ISO æ–‡ä»¶ï¼ŒexFAT æ–‡ä»¶ç³»ç»Ÿä¹Ÿèƒ½æ›´å¥½çš„è·¨å¹³å°ä½¿ç”¨ã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/rKlfvE2Dz5j8Mkn.png)\n\nVentoy çš„ç³»ç»Ÿåˆ†åŒºé‡Œå…¶å®è¿˜æœ‰ä¸€ä¸ªåªæœ‰ 1MB çš„ç©ºé—´ï¼Œå­˜æœ‰ Legacy BIOS æ¨¡å¼ä¸‹çš„å¯åŠ¨æ–‡ä»¶ï¼Œå¯è§å¯¹äºè€æ—§è®¾å¤‡æ¥è¯´ï¼ŒVentoy ä¸€æ ·å…¼å®¹ã€‚\n\n<img src=\"https://s2.loli.net/2024/08/18/a3bKdMACDoVXlwI.png\" alt=\"ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹\" style=\"zoom:50%;\" />\n\næ ¼å¼åŒ–æœªNTFSï¼Œç”¨äºå­˜æ”¾ ISO æ–‡ä»¶çš„åˆ†åŒº ï¼Œæ”¯æŒ exFATã€FAT32ã€NTFSã€UDFã€XFSã€Ext2ã€Ext3ã€Ext4ã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/VmsEYBK7Or9nqL2.png)\n\nç›´æ¥ä¸‹è½½éœ€è¦å®‰è£…çš„ç³»ç»Ÿé•œåƒæ”¾åˆ° U ç›˜é‡Œå°±å¯ä»¥äº†ã€‚å¦‚æœUç›˜å¤Ÿå¤§çš„è¯ï¼Œä¸€äº›å¸¸ç”¨çš„é•œåƒå’Œå·¥å…·éƒ½å¯ä»¥æ”¾åˆ°é‡Œé¢ï¼Œä»¥åå„ä¸ªç³»ç»Ÿè£…æœºéƒ½å¯ä»¥ä½¿ç”¨ã€‚ä¸ç®¡æ˜¯å„ç‰ˆæœ¬çš„ Windows ç³»ç»Ÿè¿˜æ˜¯ PE ç³»ç»Ÿç”šè‡³æ˜¯ ubuntu ç³»ç»Ÿï¼Œåªè¦æƒ³åŠ è½½å°±ç›´æ¥å°†é•œåƒæ–‡ä»¶æ‹–å…¥åˆ°Ventoyæ–‡ä»¶å¤¹å†…å³å¯ã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/QwWfCriepYRgDhB.png)\n\n## äºŒã€ä¸‹è½½ ESXi 8.0\n\n### 1. ç›´é“¾ä¸‹è½½é•œåƒ\n\n`VMWare` è¢«åšé€šæ”¶è´­åï¼Œç§äººå·²ç»æ— æ³•åƒåŸæ¥ä¸€æ ·è½»æ¾çš„ä¸‹è½½äº†ï¼Œè¿™é‡Œæ˜¯æˆ‘ä¼ åˆ°ç½‘ç›˜çš„é•œåƒï¼Œå¦‚æœè§‰å¾—ä¸å®‰å…¨ï¼Œå¯ä»¥è‡ªå·±å»æ‰¾å…¶ä»–çš„é•œåƒã€‚\n\n`ESXi 8.0`ä¸‹è½½ä¼ é€é—¨ï¼š[ç‚¹å‡»ä¸‹è½½](https://bd.bcebos.com/v1/xly-icafe/vmware-vmvisor-installer-8.0u3-24022510.x86_64-20240818021845-hszvto.iso)  <font color=red size=3 face=å®‹ä½“><strong>ä¸æ”¯æŒèƒèŸ¹ç½‘å¡</strong></font>\n\n`ESXi 6.7`ä¸‹è½½ä¼ é€é—¨ï¼š[ç‚¹å‡»ä¸‹è½½](https://bd.bcebos.com/v1/xly-icafe/vmware-esxi-6.7.0-20191204001-rtl8111-20240824033216-q1ikk9.iso)  <font color=red size=3 face=å®‹ä½“><strong>å·²ç»å°è£…èƒèŸ¹ç½‘å¡`RTL8111`ç³»åˆ—</strong></font>\n\n### 2.ä¸‹è½½é•œåƒ\n\nå»[å®˜ç½‘ä¸‹è½½](https://customerconnect.vmware.com/evalcenter?p=vsphere-eval-8)ï¼Œä¸‹è½½å‰ï¼Œå…ˆæ³¨å†Œä¸€ä¸ª VMWare çš„ customer connect è´¦å·ï¼Œæ³¨å†Œç™»å½•å®Œæ¯•åï¼Œå°±å¯ä»¥ä¸‹è½½ 60 å¤©è¯•ç”¨ç‰ˆçš„ ESXI8.0 äº†ï¼Œåé¢ä½¿ç”¨å¯†é’¥æ¿€æ´»ä¸€ä¸‹å³å¯ï¼Œç½‘ä¸Šç¥ç§˜ä»£ç å¾ˆå¤šï¼Œä¸€æœä¸€å †ï¼Œè¿™ä¸ªå°±ä¸å¤šè¯´äº†ã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/d83LvRzqSxi7FCM.png)\n\nä¸‹è½½é•œåƒæ–‡ä»¶ï¼Œç›®å‰æœ€æ–°çš„ç‰ˆæœ¬æ˜¯8.0-20513097\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/MUbAl4dumzVXH6B.png)\n\n## 2.æŸ¥è¯¢ç½‘å¡é©±åŠ¨\n\nè¶ç€ä¸‹è½½çš„åŠŸå¤«ï¼Œæˆ‘ä»¬ç°åœ¨[vmwareç¡¬ä»¶æ”¯æŒï¼ˆVMware Compatibility Guide)](https://www.vmware.com/resources/compatibility/search.php?deviceCategory=io&details=1&partner=46&releases=589&keyword=226&deviceTypes=6&page=1&display_interval=10&sortColumn=Partner&sortOrder=Asc)ï¼ŒæŸ¥è¯¢ä¸€ä¸‹ç½‘å¡çš„é©±åŠ¨æƒ…å†µï¼ŒIntel Corporation i226/ i225ç½‘å¡éƒ½æ˜¯æ”¯æŒå…é©±çš„ã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/XmJeNf46poAwjbE.png)\n\nå¦‚æœç½‘å¡ä¸æ”¯æŒï¼Œå¯ä»¥å»[ã€ESXi çš„ç¤¾åŒºç½‘ç»œé©±åŠ¨ç¨‹åºã€‘](https://flings.vmware.com/community-networking-driver-for-esxi#requirements)ä¸‹è½½ç½‘å¡é©±åŠ¨ã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/8ks5QmDqduPrSEK.png)\n\nå°†ä¸‹è½½å¥½çš„é•œåƒæ‹·å…¥Ventoyï¼Œventoyé•œåƒå®‰è£…å·¥å…·åˆ¶ä½œå®Œæˆã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/OKziTC38BWLjr2P.png)\n\n## ä¸‰ã€å®‰è£…ESXi8.0\n\nå°†å·¥æ§æœºè¿æ¥å¥½`æ˜¾ç¤ºå™¨`ã€é”®ç›˜ã€é¼ æ ‡ã€‚é¼ æ ‡å’Œé”®ç›˜æœ€å¥½æ˜¯æœ‰çº¿çš„ï¼Œæ’ä¸Š U ç›˜ï¼Œå‡†å¤‡å¼€æœºã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/37IldGvqAFh1VSr.jpg)\n\n### 1.ä¸»æ¿è®¾ç½®\n\nå¼€æœºæŒ‰ del/esc è¿›å…¥BIOSè®¾ç½®ï¼Œè¿›å…¥ BIOS åï¼Œé¦–å…ˆæ‰“å¼€å¤„ç†å™¨çš„è™šæ‹ŸåŒ–ï¼ˆå³ VT-xï¼‰ã€‚\n\nVT-xæ˜¯ intel è¿ç”¨ Virtualization è™šæ‹ŸåŒ–æŠ€æœ¯ä¸­çš„ä¸€ä¸ªæŒ‡ä»¤é›†ã€‚æä¾› X86 å¹³å°çš„ç¡¬ä»¶è¾…åŠ©è™šæ‹ŸåŒ–è§£å†³æ–¹æ¡ˆã€‚èƒ½å¤Ÿå°†å•å°ç”µè„‘è½¯ä»¶ç¯å¢ƒåˆ†å‰²ä¸ºå¤šä¸ªç‹¬ç«‹åˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºå‡å¯ä»¥æŒ‰ç…§éœ€è¦æ¨¡æ‹Ÿç”µè„‘çš„ä¸€é¡¹æŠ€æœ¯ã€‚å°†å¤šç§ç³»ç»Ÿæ•´åˆåˆ°ä¸€å°æœåŠ¡å™¨æˆ–ç”µè„‘ä¸­ï¼Œä½¿åŒä¸€ä¸ªç‰©ç†å¹³å°èƒ½å¤ŸåŒæ—¶è¿è¡Œå¤šä¸ªåŒç±»æˆ–ä¸åŒç±»çš„æ“ä½œç³»ç»Ÿï¼Œä»¥åˆ†åˆ«ä½œä¸ºä¸åŒä¸šåŠ¡å’Œåº”ç”¨çš„æ”¯æ’‘å¹³å°ã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/j94TUgxhfQMA5mD.jpg)\n\n#### â‘ æ‰“å¼€VT-dï¼š\n\nè‹±ç‰¹å°”å®šå‘ I/O è™šæ‹ŸåŒ–æŠ€æœ¯ (VT-d) æ˜¯è‹±ç‰¹å°”è™šæ‹ŸåŒ–æŠ€æœ¯ (VT) çš„æ‰©å±•ï¼Œå®ƒå‘ç¡¬ä»¶æä¾›è™šæ‹ŸåŒ–è§£å†³æ–¹æ¡ˆååŠ©ã€‚è‹±ç‰¹å°” VT-d èƒ½å¸®åŠ©ç”¨æˆ·æé«˜ç³»ç»Ÿçš„å®‰å…¨æ€§å’Œå¯é æ€§ï¼Œå¹¶æ”¹å–„ I/O è®¾å¤‡åœ¨è™šæ‹ŸåŒ–ç¯å¢ƒä¸­çš„æ€§èƒ½ã€‚è¿™äº›éƒ½ä»æœ¬è´¨ä¸Šå¸®åŠ© IT ç®¡ç†äººå‘˜é€šè¿‡å‡å°‘æ½œåœ¨çš„åœæœºæ—¶é—´è€Œé™ä½æ€»æ‹¥æœ‰æˆæœ¬ï¼›å¹¶é€šè¿‡æ›´å……åˆ†åœ°åˆ©ç”¨æ•°æ®ä¸­å¿ƒèµ„æºè€Œå¢å¤§ç”Ÿäº§æ€§ååé‡ã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/rEDcuVwaGo7gLNh.jpg)\n\n#### â‘¡æ‰“å¼€AESï¼š\n\n**AES æŒ‡ä»¤é›†ï¼š**é«˜çº§åŠ å¯†æ ‡å‡†æŒ‡ä»¤é›†ï¼ˆè‹±ç‰¹å°”é«˜çº§åŠ å¯†æ ‡å‡†æ–°æŒ‡ä»¤ï¼Œç®€ç§° AES-NIï¼‰æ˜¯ä¸€ä¸ª x86 æŒ‡ä»¤é›†æ¶æ„çš„æ‰©å±•ï¼Œç”¨äº Intel å’Œ AMD å¾®å¤„ç†å™¨ï¼Œç”± Intel åœ¨ 2008 å¹´ 3 æœˆæå‡ºã€‚è¯¥æŒ‡ä»¤é›†çš„ç›®çš„æ˜¯æ”¹è¿›åº”ç”¨ç¨‹åºä½¿ç”¨ é«˜çº§åŠ å¯†æ ‡å‡†ï¼ˆAESï¼‰æ‰§è¡ŒåŠ å¯†å’Œè§£å¯†çš„é€Ÿåº¦ï¼Œå¯ä»¥æé«˜å‡ºå›½ç•™å­¦çš„é€Ÿåº¦ã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/WnuyfaMBZqvLCH6.jpg)\n\n#### â‘£å¼€å¯ç¿é¢‘åŠ é€ŸæŠ€æœ¯\n\nåœ¨ CPU æŠ€æœ¯è®¾ç½®é€‰é¡¹ä¸­ï¼Œæ‰¾åˆ° â€œIntel Turbo Mode Techâ€ é€‰é¡¹ï¼Œæœ‰çš„ä¸»æ¿å¯èƒ½ä¼šæ˜¾ç¤º â€œIntel Turbo Boost Techâ€ã€‚è‡³äº C-STATEå°±å…ˆä¸å¼€äº†ã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/KoWrmX9pyfSUGik.jpg)\n\nC-STATE æ˜¯ CPU çš„ç”µæºç®¡ç†åŠŸèƒ½ï¼Œå®ƒä¼šæ ¹æ® CPU çš„è´Ÿè½½æ¥ç®¡ç† CPU çš„èƒ½è€—ï¼Œå’Œç¿é¢‘åŠ é€ŸæŠ€æœ¯ç»“åˆï¼Œåœ¨è¿è¡Œå•çº¿ç¨‹åº”ç”¨æ—¶ï¼ŒC-STATE ä¼šå…³é—­æˆ–é™ä½å…¶ä»–æ ¸å¿ƒçš„èƒ½è€—ï¼ŒæŠŠè¿™äº›èƒ½æºåŠ åˆ°æ‰§è¡Œç¨‹åºçš„æ ¸å¿ƒä¸Šæé«˜CPUçš„æ‰§è¡Œæ•ˆç‡ã€‚\n\nC-STATEçš„æ¨¡å¼ä» C0 å¼€å§‹ï¼ŒC0 è¡¨ç¤º â€œæ­£å¸¸â€ çš„ CPU è¿è¡Œæ¨¡å¼ï¼ˆCPU å·² 100% æ¿€æ´»ï¼‰ã€‚C åçš„æ•°å­—è¶Šå¤§ï¼Œè¡¨ç¤º CPU è¿›å…¥ä¼‘çœ æ¨¡å¼çš„ç¨‹åº¦è¶Šæ·±ã€‚æ¢è¨€ä¹‹ï¼Œå…³é—­çš„ç”µè·¯å’Œæ—¶é’Ÿä¿¡å·è¶Šå¤šï¼Œå®Œå…¨å”¤é†’ CPU è¿›å…¥ C0 æ¨¡å¼éœ€è¦çš„æ—¶é—´è¶Šé•¿ã€‚\n\n| Modeï¼ˆæ¨¡å¼ï¼‰ | å§“å               | ä½œç”¨                                                         | CPU                                                          |\n| ------------ | ------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |\n| C0           | æ“ä½œçŠ¶æ€           | CPU å®Œå…¨æ‰“å¼€                                                 | æ‰€æœ‰ CPU                                                     |\n| C1           | åœæ­¢               | é€šè¿‡è½¯ä»¶åœæ­¢ CPU å†…éƒ¨ä¸»æ—¶é’Ÿï¼›æ€»çº¿æ¥å£å•å…ƒå’Œ APIC ä»ç„¶ä¿æŒå…¨é€Ÿè¿è¡Œ | 486DX4 åŠä»¥ä¸Š                                                |\n| C1E          | å¢å¼ºå‹åœæ­¢         | é€šè¿‡è½¯ä»¶åœæ­¢ CPU å†…éƒ¨ä¸»æ—¶é’Ÿå¹¶é™ä½ CPU ç”µå‹ï¼›æ€»çº¿æ¥å£å•å…ƒå’Œ APIC ä»ç„¶ä¿æŒå…¨é€Ÿè¿è¡Œ | æ‰€æœ‰ socket 775 CPU                                          |\n| C1E          | â€”                  | åœæ­¢æ‰€æœ‰ CPU å†…éƒ¨æ—¶é’Ÿ                                        | Turion 64ã€65-nm Athlon X2 å’Œ Phenom CPU                     |\n| C2           | åœæ­¢æˆäºˆ           | é€šè¿‡ç¡¬ä»¶åœæ­¢ CPU å†…éƒ¨ä¸»æ—¶é’Ÿï¼›æ€»çº¿æ¥å£å•å…ƒå’Œ APIC ä»ç„¶ä¿æŒå…¨é€Ÿè¿è¡Œ | 486DX4 åŠä»¥ä¸Š                                                |\n| C2           | åœæ­¢æ—¶é’Ÿ           | é€šè¿‡ç¡¬ä»¶åœæ­¢ CPU å†…éƒ¨å’Œå¤–éƒ¨æ—¶é’Ÿ                              | ä»…é™ 486DX4ã€Pentiumã€Pentium MMXã€K5ã€K6ã€K6-2ã€K6-III      |\n| C2E          | æ‰©å±•çš„åœæ­¢æˆäºˆ     | é€šè¿‡ç¡¬ä»¶åœæ­¢ CPU å†…éƒ¨ä¸»æ—¶é’Ÿå¹¶é™ä½ CPU ç”µå‹ï¼›æ€»çº¿æ¥å£å•å…ƒå’Œ APIC ä»ç„¶ä¿æŒå…¨é€Ÿè¿è¡Œ | Core 2 Duo å’Œæ›´é«˜ç‰ˆæœ¬ï¼ˆä»…é™ Intelï¼‰                          |\n| C3           | ç¡çœ                | åœæ­¢æ‰€æœ‰ CPU å†…éƒ¨æ—¶é’Ÿ                                        | Pentium IIã€Athlon ä»¥ä¸Šæ”¯æŒï¼Œä½† Core 2 Duo E4000 å’Œ E6000 ä¸Šä¸æ”¯æŒ |\n| C3           | æ·±åº¦ç¡çœ            | åœæ­¢æ‰€æœ‰ CPU å†…éƒ¨å’Œå¤–éƒ¨æ—¶é’Ÿ                                  | Pentium II ä»¥ä¸Šæ”¯æŒï¼Œä½† Core 2 Duo E4000ã€E6000 å’Œ Turion 64 ä¸Šä¸æ”¯æŒ |\n| C3           | AltVID             | åœæ­¢æ‰€æœ‰ CPU å†…éƒ¨æ—¶é’Ÿå’Œé™ä½ CPU ç”µå‹                         | AMD Turion 64                                                |\n| C4           | æ›´æ·±å…¥çš„ç¡çœ        | é™ä½ CPU ç”µå‹                                                | Pentium M ä»¥ä¸Šæ”¯æŒï¼Œä½† Core 2 Duo E4000ã€E6000 å’Œ Turion 64 ä¸Šä¸æ”¯æŒ |\n| C4E/C5       | å¢å¼ºçš„æ›´æ·±å…¥çš„ç¡çœ  | å¤§å¹…é™ä½ CPU ç”µå‹å¹¶å…³é—­å†…å­˜é«˜é€Ÿç¼“å­˜                          | Core Soloã€Core Duo å’Œ 45-nm ç§»åŠ¨ç‰ˆ Core 2 Duo æ”¯æŒ          |\n| C6           | æ·±åº¦ç”µæºå…³é—­       | å°† CPU å†…éƒ¨ç”µå‹é™ä½è‡³ä»»ä½•å€¼ï¼ŒåŒ…æ‹¬ 0 V                        | ä»… 45-nm ç§»åŠ¨ç‰ˆ Core 2 Duo æ”¯                                |\n\n### 2.è®¾ç½®USBå¯åŠ¨\n\nåœ¨BOOTé‡ŒæŠŠUç›˜è®¾ç½®ä¸ºç¬¬ä¸€å¯åŠ¨é¡¹ã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/p4xezHrG2oyPTbs.jpg)\n\n### 3.åˆ é™¤ç¡¬ç›˜åˆ†åŒº\n\né‡å¯å¼€æœºåï¼Œå³å¯è¿›å…¥ Ventoy ç•Œé¢ï¼ŒU ç›˜å†…ä¿å­˜çš„ç³»ç»Ÿé•œåƒéƒ½åœ¨åˆ—è¡¨ä¸­ï¼Œé€‰æ‹©è¦å®‰è£…çš„é•œåƒæ–‡ä»¶å³å¯ï¼Œé€‰æ‹©å¯åŠ¨WinPE64ï¼ŒæŒ‰Enteré”®è¿›å…¥PEã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/A1dl3YmgTFMhOcS.jpg)\n\nè¿›åˆ°PEåï¼Œç”¨åˆ†åŒºå·¥å…·æŠŠè½¯è·¯ç”±ç¡¬ç›˜åˆ†åŒºå…¨éƒ¨åˆ é™¤(æ³¨æ„ä¸è¦åˆ é”™)ï¼Œè¿™é‡Œæœ‰ä¸ªå¤§å‘ï¼Œå¦‚æœç¡¬ç›˜å­˜åœ¨åˆ†åŒºçš„è¯ï¼Œå¾ˆå¯èƒ½é€ æˆæ— æ³•å®‰è£…çš„bugï¼Œå°¤å…¶æ˜¯å¯¹äºæ‹†æœºçš„ç¡¬ç›˜æ¥è¯´ï¼Œä¸€å®šè¦å°†ä¸Šé¢çš„åˆ†åŒºåŠéšè—åˆ†åŒºå…¨éƒ¨åˆ æ‰ã€‚\n\n### 4.åŠ è½½ESXi8.0é•œåƒ\n\nåˆ é™¤ä¹‹åï¼Œé‡å¯ç”µè„‘ï¼Œé€‰æ‹©ESXiå¯åŠ¨å®‰è£…ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/3wJcm8RZdFfS42q.jpg)\n\n### 5.ä¿®æ”¹ESXIçš„é»˜è®¤ç©ºé—´\n\nåœ¨è¯»ç§’é˜¶æ®µï¼Œå¿«é€ŸæŒ‰ä¸‹Shift+Oï¼Œè°ƒå‡ºå‘½ä»¤è¡Œï¼Œæ¥ä¿®æ”¹ESXIçš„é»˜è®¤ç©ºé—´å¤§å°ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/4BrZG7qwXT5aMLo.jpg)\n\nåœ¨ä¸‹é¢å‘½ä»¤è¡Œè¾“å…¥ï¼šautoPartotionOSDataSize=20480ã€‚å‘½ä»¤æ³¨æ„åŒºåˆ†å¤§å°å†™ï¼Œæˆ‘è¿™é‡Œå°†é»˜è®¤ç©ºé—´è®¾ç½®ä¸º20GBã€‚ç¡¬ç›˜ç©ºé—´ä¸è¶³çš„è¯æ¨èè®¾ç½®8192(8GB)å³å¯ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„æƒ…å†µè¿›è¡Œè®¾å®šï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/I6PyV7ZKoxeuvtQ.jpg)\n\nå›è½¦ï¼Œå¼€å§‹è·‘ç ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/hJvFHy7wsaBjRN1.jpg)\n\nè¿˜åœ¨è·‘ç ï¼Œç­‰å¾…è·‘ç å®Œæˆ\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/xJyKqmpC4Dk7XbZ.jpg)\n\nç»§ç»­è·‘ç ï¼Œä¸ç”¨ç®¡ï¼Œç­‰ç€å°±è¡Œï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/9yNumCapzt1ciXs.jpg)\n\nè·‘ç ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/JUsjgb92yWV8FaM.jpg)\n\nè·‘ç ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/YmLF7tk5y1qJdv6.jpg)\n\nè¿™ä¸€æ­¥ **Starting service vmtoolsd** çš„åŠ è½½æ—¶é—´ä¼šæ¯”è¾ƒé•¿ï¼Œä¸€å®šè¦è€å¿ƒç­‰å¾…ï¼Œä¸æ˜¯æ­»æœºäº†ã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/V52oXGlrmwFixy4.png)\n\nä¸€ç›´ç­‰å¾…åˆ°å‡ºç°å¦‚ä¸‹ç•Œé¢ï¼Œé€‰æ‹© Continueï¼ŒæŒ‰å›è½¦ï¼Œç»§ç»­ä¸‹ä¸€æ­¥ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/SxNzKIF8BV3Z5yT.jpg)\n\nåŒæ„ VMWARE çš„æ¡æ¬¾ï¼ŒæŒ‰F11ï¼Œç»§ç»­ä¸‹ä¸€æ­¥ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/cr4RNepH83LzEWZ.jpg)\n\n### 6.é€‰æ‹©å®‰è£…ä½ç½®\n\næ¥ä¸‹æ¥ä¼šæ‰«ææ­¤è®¡ç®—æœºä¸Šçš„æ‰€æœ‰å­˜å‚¨å™¨(ç¡¬ç›˜)ï¼Œç­‰å¾…æ‰«æç»“æœï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/JULE2dcfpZFnGPl.png)\n\né€‰æ‹©å®‰è£…ä½ç½®ï¼Œå¯ä»¥çœ‹åˆ°æœ‰ä¸¤ä¸ªç›˜ï¼Œä¸€ä¸ªNVMeçš„`å›ºæ€ç¡¬ç›˜`å’ŒUç›˜ï¼Œç”¨é”®ç›˜ä¸Šä¸‹é”®è°ƒæ•´ï¼Œé€‰æ‹©ç¬¬ä¸€ä¸ªå®‰è£…åœ¨å›ºæ€ç¡¬ç›˜ã€‚ä¸€å®šè¦çœ‹å¥½ï¼Œä¸è¦å®‰è£…é”™ä½ç½®ã€‚é€‰æ‹©å¥½äº†å›è½¦ç»§ç»­ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/gCadXqHT4GwUluJ.jpg)\n\né€‰æ‹©é”®ç›˜å¸ƒå±€ï¼Œå›è½¦ç»§ç»­ä¸‹ä¸€æ­¥ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/LVqEvxXRIjnlT8J.jpg)\n\n### 7.è®¾ç½®ç™»å½•å¯†ç \n\nå¼¹å‡ºå¯†ç è¾“å…¥é¡µï¼Œè¿™é‡Œè¾“å…¥å¯†ç ï¼Œéœ€è¦è¾“å…¥ä¸¤éï¼Œè¾“å…¥ç¬¬ä¸€éä¹‹åï¼ŒæŒ‰tableé”®åˆ‡æ¢åˆ°ç¬¬äºŒè¡Œè¾“å…¥ç¬¬äºŒéç¡®è®¤å¯†ç ï¼Œè¾“å…¥ä¸€å®šè¦æ…¢ä¸€ç‚¹ï¼Œå› ä¸ºä¸æ˜¾ç¤ºè¾“å…¥çš„å¯†ç ï¼Œå¾ˆå®¹æ˜“è¾“é”™ï¼Œå¯†ç éœ€è¦å¤§å°å†™å¸¦æ•°å­—ã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/TE6542fiqQNjcrk.png)\n\nè¾“å…¥å®Œæ¯•åï¼Œå›è½¦è¿›è¡Œä¸‹ä¸€æ­¥ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/gaOhdtKGcBpwMbE.jpg)\n\nå¼¹å‡ºç¡®è®¤å®‰è£…ä½ç½®é€‰é¡¹ï¼Œçœ‹ä¸€ä¸‹å®‰è£…ä½ç½®æœ‰æ²¡æœ‰é—®é¢˜ï¼Œæ²¡é€‰é”™ï¼ŒæŒ‰F11ç»§ç»­å®‰è£…ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/o8Iys9mJt2XFgvV.jpg)\n\nç­‰å¾…åŠ è½½å®Œæˆï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/6RshOaS1TwQzFjE.jpg)\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/3tl6HCDhwVUzNL4.jpg)\n\nåˆ°è¿™é‡Œæ‹”æ‰Uç›˜ï¼Œä¹‹åæŒ‰å›è½¦ï¼Œé‡å¯ã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/mB3Iq62eGbgDnMw.png)\n\nå›è½¦ç»§ç»­ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/e5LXlnhj7Gpa1T8.jpg)\n\né‡å¯åå¼€å§‹è·‘ç ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/hBKytFj1DQ2IvcA.jpg)\n\nç­‰å¾…è·‘ç å®Œæˆï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/XDugv6xW4dtzoeA.jpg)\n\nç»§ç»­ç­‰å¾…ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/2TRGZ7PgKEFL3xV.jpg)\n\nç»§ç»­åŠ è½½ï¼Œä¸‹æ–¹çš„å®‰è£…æŒ‡ç¤ºæ¡å¯ä»¥çœ‹åˆ°å®‰è£…çš„è¿›åº¦ï¼Œå…¨ç¨‹ä¸ç”¨ç®¡ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/D1T6wodjOimGUsa.jpg)\n\næœ‰ä»¥ä¸‹ç”»é¢è¡¨ç¤ºå·²ç»å®‰è£…æˆåŠŸï¼ŒæŒ‰F2å¯è¿›å…¥ç®¡ç†åå°ï¼ŒF12æ˜¯å…³é—­æˆ–è€…é‡å¯ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/43hvyJnjNPUaK7X.jpg)\n\n## å››ã€ESXIè™šæ‹Ÿæœºè®¾ç½®\n\næŒ‰F2ï¼Œå¼¹å‡ºç™»å½•é¡µé¢ï¼Œè¾“å…¥åˆšæ‰è®¾å®šçš„å¯†ç ã€‚å›è½¦ï¼Œè¿›å…¥ESXIç®¡ç†åå°ã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/L2Xxtkfyv1g7SCQ.jpg)\n\nå¯ä»¥çœ‹åˆ°ç¬¬ä¸€é¡¹æ˜¯ä¿®æ”¹å¯†ç ï¼Œç¬¬ä¸‰é¡¹æ˜¯è®¾ç½®ç½‘ç»œã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/sfn38gUa6Oq4kXD.jpg)\n\n### 1.è®¾ç½®ç½‘å£\n\né”®ç›˜ä¸Šä¸‹é”®é€‰æ‹©ç¬¬ä¸‰é¡¹ï¼Œä¿®æ”¹ç½‘ç»œé…ç½®ï¼Œå›è½¦è¿›å…¥ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/OTn5FbpkrslR4XY.jpg)\n\né€‰æ‹©ç¬¬ä¸€é¡¹ï¼Œè®¾ç½®ç½‘å£ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/3xRF8avAcdmTGUq.jpg)\n\nä¸Šä¸‹é”®é€‰æ‹©ä½ è¦ç”¨æ¥ç®¡ç†ESXIçš„ç½‘å£ï¼Œè¿™é‡Œæœ‰äº›å·¥ç¨‹æœºçš„ç½‘å£æ˜¯é”™ä¹±çš„ï¼Œå¯ä»¥é€šè¿‡æ’æ‹”`ç½‘çº¿`æ¥ç¡®å®šæ˜¯ä¸æ˜¯æ­£ç¡®ã€‚å¦‚æœä¸æ­£ç¡®çš„è¯ï¼Œéœ€è¦é€šè¿‡åé¢åœ¨webç«¯è®¾ç½®è¿›è¡Œæ¥å£å¯¹åº”ã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/TfsNH94EU6mRziv.jpg)\n\nç»è¿‡æ’æ‹”ç½‘çº¿ï¼Œå››ä¸ªæ¥å£çš„é¡ºåºå’ŒESXiç³»ç»Ÿæ˜¾ç¤ºçš„ç½‘å£æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚é€‰æ‹©ethoæ¥å£ä½œä¸ºç®¡ç†å£ã€‚é€šè¿‡é”®ç›˜ä¸Šä¸‹é”®ï¼Œç§»åŠ¨é»‘è‰²æ¡æ¡†ï¼ŒæŒ‰ç©ºæ ¼ç¡®å®šé€‰é¡¹ã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/BPsJhVCHWKgqowp.jpg)\n\nå›è½¦ä¿å­˜ï¼Œè‡ªåŠ¨é€€å›åˆ°ã€ç½‘ç»œé…ç½®ã€‘é¡µé¢ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/dqBWaRbfijKk4Vc.png)\n\n### 2.è®¾ç½®IPV4é€‰é¡¹\n\né€‰æ‹©è®¾ç½®IPV4é€‰é¡¹ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/XJzwYv7sU5p8LlP.jpg)\n\né”®ç›˜ä¸Šä¸‹é”®ï¼Œç§»åŠ¨é»‘è‰²æ¡æ¡†åˆ°ç¬¬ä¸‰é¡¹ï¼Œå¯ä»¥çœ‹åˆ°ç¬¬ä¸‰é¡¹å‰é¢çš„æ‹¬å·é‡Œæœ‰ä¸ªåœ†åœˆ(â—‹)ï¼ŒæŒ‰ç©ºæ ¼ç¡®å®šé€‰é¡¹ã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/huUHeZcIk73zEAd.png)\n\nè®¾ç½®ä¸‹é¢ä¸‰ä¸ªé€‰é¡¹ã€IPV4 Address(ESXIç®¡ç†åœ°å€)ã€‘ã€ã€Subnet Mask(å­ç½‘æ©ç )ã€‘ã€ã€Default Gateway(é»˜è®¤ç½‘å…³)ã€‘ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/ieIX7rZVFEgyLYc.jpg)\n\n> - IPV4 Addressã€ESXIç®¡ç†åœ°å€ã€‘ï¼š192.168.50.3\n> - Subnet Maskã€å­ç½‘æ©ç ã€‘ï¼š255.255.255.0\n> - Default Gatewayã€é»˜è®¤ç½‘å…³ã€‘ï¼š192.168.50.1\n\nè¿™ä¸ªç®¡ç†åœ°å€æ˜¯åé¢æˆ‘ä»¬åœ¨webç«¯è¿›è¡Œè®¿é—®çš„åœ°å€ï¼Œåƒä¸‡ä¸è¦å’Œikuaiä»¥åŠopenwrtå†²çªã€‚Default Gatewayã€é»˜è®¤ç½‘å…³ã€‘å°±è®¾ç½®ä¸ºä¸»è·¯ç”±çš„ç½‘ç®¡å³å¯ã€‚æˆ‘ä»¥ikuaiä½œä¸ºä¸»è·¯ç”±ã€‚è¿™é‡Œå°±ç›´æ¥å°†ç½‘å…³è®¾ç½®ä¸ºä¸»è·¯ç”±ikuaiçš„åœ°å€äº†ã€‚æŒ‰å›è½¦ä¿å­˜ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/mi3RnKMa65ozXG1.jpg)\n\né€€å‡ºæ¥ä¹‹åï¼Œåœ¨é¡µé¢å³ä¸Šè§’å°±çœ‹åˆ°æˆ‘ä»¬è®¾ç½®çš„ä¿¡æ¯äº†ï¼ŒæŒ‰ESCï¼Œé€€å‡ºï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/v5gJUxmIz3X8Rsi.jpg)\n\nåœ¨å¼¹å‡ºçš„é¡µé¢ï¼ŒæŒ‰Yï¼Œå¹¶è‡ªåŠ¨é‡å¯ç½‘ç»œï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/JfkPXqziR2hp4EN.png)\n\nç½‘ç»œé‡å¯å®Œåï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå·²ç»è®¾ç½®æˆåŠŸäº†ï¼ŒæŒ‰ESCï¼Œå›åˆ°é¦–é¡µï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/tIjaskAhu1cvb2p.jpg)\n\nè¿”å›é¦–é¡µä¹‹åï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°å·²ç»è®¾ç½®å®Œæˆï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/ejlu21p6PR3JHKc.jpg)\n\n## äº”ã€è¿æ¥ESXi 8.0ç½‘é¡µç«¯è®¾ç½®\n\n### 1.ç»™ç”µè„‘åˆ†é…IP\n\næˆ‘ä»¬å°†ç½‘çº¿ä¸€å¤´æ’åˆ°è½¯è·¯ç”±çš„eth0å£ï¼Œå¦å¤–ä¸€ç«¯æ’åˆ°ç”µè„‘ä¸Šï¼Œå› ä¸ºESXiæ²¡æœ‰DHCP(Dynamic Host Configuration Protocol, åŠ¨æ€ä¸»æœºé…ç½®åè®®) åŠŸèƒ½ï¼Œæ²¡åŠæ³•ç»™ç”µè„‘è‡ªåŠ¨åˆ†é…IPåœ°å€ï¼Œè¿™é‡Œè¦æ‰‹åŠ¨ä¿®æ”¹ä¸€ä¸‹ï¼š\n\næ‰“å¼€æ§åˆ¶é¢æ¿â€”ç½‘ç»œå’Œinternetâ€”â€”æ›´æ”¹é€‚é…å™¨é€‰é¡¹\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/WHpdmoRX8rMLQC7.png)\n\nè¿™æ—¶å€™ç”µè„‘æ˜¾ç¤ºæœªè¯†åˆ«çš„ç½‘ç»œï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/HbPASEBytlfsQkZ.png)\n\nå³å‡»ç½‘ç»œ-ã€å±æ€§ã€‘ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/7RbiLTzWVodX9rw.png)\n\nåŒå‡»IPV4åè®®ï¼Œåœ¨å¼¹å‡ºçš„å±æ€§å†…ï¼Œå¡«å…¥ç›¸åŒçš„IPæ®µï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/39MnYgJUWZLExyj.png)\n\n### 2.è®¿é—®webç«¯\n\næ‰“å¼€æµè§ˆå™¨ï¼Œåœ¨æµè§ˆå™¨å†…è¾“å…¥ï¼š192.168.50.3è®¿é—®ï¼Œç”¨è´¦æˆ·åï¼šrootå’Œå‰é¢å®‰è£…ç³»ç»Ÿæ—¶è®¾ç½®çš„å¯†ç ç™»å½•ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/JKUhf6awWBvYskd.png)\n\nå¼¹å‡ºçš„é¡µé¢é€‰æ‹©ä¸åŠ å…¥æ”¹è¿›è®¡åˆ’ï¼Œç¡®è®¤ä¸‹ä¸€æ­¥ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/yeTHEFB4gYUMLbo.png)\n\n### 3.æ¿€æ´»\n\nåœ¨ã€ç®¡ç†ã€‘â€”â€”ã€è®¸å¯ã€‘çœ‹ä¸‹æ¿€æ´»çŠ¶æ€ï¼Œè¿›æ¥ä¹‹åå¯ä»¥çœ‹åˆ°ç³»ç»Ÿåˆ†é…çš„60å¤©çš„å¯†é’¥ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/7MT1E6nvSDokajf.png)\n\nç„¶åç‚¹åˆ†é…è®¸å¯è¯ï¼Œè¾“å…¥å¯†é’¥æ¿€æ´»å³å¯ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/UEth1AeSxq5BLCc.png)\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/HWM3VgiOlD1rLRw.png)\n\n## å…­ã€å¼€å¯ç›´é€šç½‘å¡\n\né€‰æ‹©ã€ç®¡ç†ã€‘-ã€ç¡¬ä»¶ã€‘-ã€PCIè®¾å¤‡ã€‘ï¼ŒæŸ¥çœ‹å¯ä»¥ç›´é€šçš„ç½‘å¡ï¼Œè¿™é‡Œç½‘å¡çš„é¡ºåºå°±æ˜¯æŒ‰ç…§æˆ‘ä»¬ç‰©ç†æ¥å£çš„ethoã€eth1ã€eth2ã€eth3é¡ºåºæ¥çš„ï¼Œç¬¬ä¸€ä¸ªç½‘å¡åƒä¸‡ä¸è¦ç›´é€šï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å‰é¢è®¾ç½®çš„ESXiç®¡ç†å£ï¼Œä¸è¦è®¾ç½®ç›´é€šã€‚å¦‚æœæŠŠç®¡ç†å£ä¹Ÿåšäº†ç›´é€šï¼ŒESXI é‡å¯å WEB ç®¡ç†ç•Œé¢å°±è¿›å…¥ä¸å»äº†ã€‚\n\n### **ç›´é€šçš„å¥½å¤„ï¼Ÿ**\n\nç›´é€šæ˜¯æŒ‡è™šæ‹ŸåŒ–æ—¶å°†ç¡¬ä»¶ç®¡ç†æƒã€ä½¿ç”¨æƒå®Œå…¨äº¤ç»™ä¸€ä¸ªè™šæ‹Ÿå‡ºçš„ç³»ç»Ÿ(ä½¿ç”¨è¿™ä¸ªç½‘å¡çš„è™šæ‹Ÿæœº)ï¼Œä¸ç»è¿‡è™šæ‹Ÿç³»ç»Ÿçš„è™šæ‹Ÿå°è£…ï¼Œä»¥ç›´æ¥ä»¥åŸç”Ÿæ–¹å¼ä½¿ç”¨ç¡¬ä»¶ï¼Œè¾¾åˆ°æœ€é«˜æ€§èƒ½ã€‚ç›´é€šçš„æ•ˆç‡æ›´å¥½ï¼Œå› ä¸ºç›´æ¥ç›´é€šç»™äº†è™šæ‹Ÿæœºä½¿ç”¨ï¼Œç¡¬ä»¶ä½¿ç”¨ä¸­äº§ç”Ÿçš„æ•°æ®ä¸ä¼šå†ç»è¿‡ESXIè¿›è¡ŒäºŒæ¬¡å¤„ç†ï¼Œå¯ä»¥èŠ‚çº¦ä¸€éƒ¨åˆ†ç³»ç»Ÿæ€§èƒ½ï¼Œä¸ç›´é€šçš„è¯è™šæ‹Ÿæœºåœ¨è¿è¡Œä¸­ä¼šå ç”¨æ›´å¤šçš„cpuã€‚\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/f4c2VZomaDSPnYe.png)\n\né€‰æ‹©è¦ç›´é€šçš„è®¾å¤‡ï¼Œç„¶ç‚¹å‡»åˆ‡æ¢ç›´é€šï¼Œå°†ä¸‰ä¸ªç½‘å¡çš„ç›´é€šå…¨éƒ¨å¼€å¯ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/yQ8SrRYDLqZzPV3.png)\n\nçœ‹åˆ°ç½‘å¡ç›´é€šçŠ¶æ€å˜ä¸ºæ´»åŠ¨åï¼Œå°±æ˜¯ç›´é€šå¼€é€šæˆåŠŸäº†ï¼Œè¿™æ ·åé¢æˆ‘ä»¬å®‰è£…è·¯ç”±è™šæ‹Ÿæœºæ—¶ï¼Œç›´æ¥æ·»åŠ PClè®¾å¤‡å°±å¯ä»¥ç›´é€šäº†ï¼ŒåŒæ—¶æ³¨æ„å†…å­˜è®¾ç½®å…¨éƒ¨ä¿ç•™ã€‚è¿™ä¸ªæ”¾åˆ°å®‰è£…ikuaiå’Œopenwrtæ—¶å…·ä½“å†è®¨è®ºï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/qvpz93PYN8CstSu.png)\n\n## ä¸ƒã€è®¾ç½®ç½‘ç»œ\n\nåœ¨ç½‘ç»œå†…å¯¹è™šæ‹ŸæœºVM Networkè¿›è¡Œè®¾ç½®ï¼Œé€‰æ‹©ã€ç¼–è¾‘è®¾ç½®ã€‘â€”â€”å®‰å…¨å†…çš„æ··æ‚æ¨¡å¼ã€macåœ°å€æ”¹å˜ã€ä¼ªä¼ è¾“éƒ½æ”¹ä¸ºæ¥å—ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/JLYzVI145RaEFMC.png)\n\n## å…«ã€ä¿®æ”¹ç”µæºæ¨¡å¼\n\nä¸€å®šè¦ç”µæºæ¨¡å¼æ”¹ä¸ºé«˜æ€§èƒ½ï¼Œå¦åˆ™ä¼š`è·¯ç”±å™¨`ä¼šè‡ªåŠ¨é™åˆ¶æ€§èƒ½ï¼Œç™¾åº¦ç½‘ç›˜ï¼Œè¿…é›·ç­‰è½¯ä»¶ä¸‹è½½é€Ÿåº¦ä¼šé™åˆ¶åœ¨10MB/Sã€‚\n\né€‰æ‹©ã€ç®¡ç†ã€‘-ã€ç¡¬ä»¶ã€‘-ã€ç”µæºç®¡ç†ã€‘-ã€æ›´æ”¹ç­–ç•¥ã€‘-é«˜æ€§èƒ½ï¼š\n\n![ESXi 8.0è™šæ‹Ÿæœºå¿…å¤‡çŸ¥è¯†ä¸ä¿å§†çº§å®‰è£…è¿‡ç¨‹](https://s2.loli.net/2024/08/18/bEJdFVg6R1vIH4Y.png)\n\n## å°ç»“ï¼š\n\næœ¬æœŸçš„ç»éªŒåˆ†äº«å°±åˆ°è¿™é‡Œç»“æŸäº†ï¼Œæœ¬æœŸä¸»è¦æ˜¯å®‰è£…ESXi8.0è™šæ‹Ÿæœºå’ŒåŸºæœ¬çš„é…ç½®ï¼Œåœ¨å®‰è£…è¿‡ç¨‹ä¸­ç¢°åˆ°çš„ä¸€äº›é—®é¢˜å†™å‡ºæ¥åˆ†äº«ç»™å¤§å®¶ï¼Œä¸‹ä¸€æ­¥å°±å¯ä»¥å®‰è£…è·¯ç”±è™šæ‹Ÿæœºäº†ï¼Œåé¢æˆ‘ä»¬æ¥å®‰è£…ikuaiåŠopenwrtï¼Œç»§ç»­æŠ˜è…¾ã€‚","tags":["è™šæ‹Ÿæœº"],"categories":["_A8-å·¥å…·","è™šæ‹Ÿæœº"]},{"title":"Dockeréƒ¨ç½²ç½‘å¿ƒäº‘èµšé’±","url":"/2024/08/15/Dockeréƒ¨ç½²ç½‘å¿ƒäº‘èµšé’±/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Dockeréƒ¨ç½²ç½‘å¿ƒäº‘èµšé’±ï¼š</strong></font>\n\n<!--more-->\n\n### 1 ã€å®å¡”ä¸­ä¸€é”®å®‰è£… Docker\n\n### 2ã€æ‹‰å–ç½‘å¿ƒäº‘ dockeré•œåƒ\n\n+ ä¼ é€é—¨ï¼š[å®˜æ–¹æ•™ç¨‹åœ°å€](https://help.onethingcloud.com/7cb4/2c7f)\n+ x86é•œåƒç›´é“¾ä¸‹è½½ï¼š[ç‚¹å‡»ä¸‹è½½]()\n\n```bash\ndocker pull  images-cluster.xycloud.com/wxedge/wxedge:latest\n```\n\n### 3ã€ä¸€é”®éƒ¨ç½²è„šæœ¬å‘½ä»¤ï¼š\n\n```bash\n# åˆ›å»ºè·¯å¾„\nmkdir /xunlei\nmkdir /xunlei/storage\n\n# ä¸€é”®è¿è¡Œ\ndocker run  --name wxedge1 --privileged -itd -v /xunlei/storage/storage2:/storage:rw --net=host --hostname xunlei_wxedge --restart unless-stopped images-cluster.xycloud.com/wxedge/wxedge\n\n# docker ç½‘å¿ƒäº‘å¤šå¼€\ndocker run  --name wxedge2 --privileged -itd -v /xunlei/storage/storage2:/storage:rw --net=host -e LISTEN_ADDR=\"0.0.0.0:18887\" --hostname xunlei_wxedge --restart unless-stopped images-cluster.xycloud.com/wxedge/wxedge\n# å¤šå¼€ éœ€è¦æŒ‡å®šè®¿é—®ipï¼š\n-e LISTEN_ADDR=\"0.0.0.0:18887\"\n```\n\n \n\n### 3.1ã€åˆ›å»ºä¸€ä¸ªæ–°ç½‘æ¡¥ï¼š\n\n```bash\ndocker network create --driver bridge --subnet 192.168.1.0/16 --gateway 192.168.1.0 tj_student\n# å‘½ä»¤è§£é‡Šï¼š\n# create ï¼š åˆ›å»º\n# â€“driver bridge ï¼šæŒ‡å®šè¿æ¥æ¨¡å¼ä¸ºæ¡¥æ¥\n# â€“subnetï¼šæŒ‡å®šç½‘æ®µ\n# â€“gatewayï¼šæŒ‡å®šç½‘å…³\n# tj_student ï¼š ç½‘æ¡¥çš„åç§°\n\n# åˆ é™¤æŒ‡å®šçš„ç½‘æ¡¥ï¼š\ndocker network rm ç½‘æ¡¥åç§°\n```\n\nè¿è¡Œå®¹å™¨çš„æ—¶å€™å°±éœ€è¦æŒ‡å®šä½ æ‰€åˆ›å»ºçš„ç½‘æ¡¥å\n\n```bash\ndocker run -d --name=nettest -p 80:80 nginx --net tj_student\n```\n\ndocker åˆ›å»ºè‡ªå®šä¹‰ç½‘æ¡¥ - æœ€å¤§çš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥éš”ç¦»é¡¹ç›®ï¼ŒåŒä¸€ä¸ªé¡¹ç›®çš„åº”ç”¨è®¿é—®å¯ä»¥ç”¨å®¹å™¨åè¿æ¥\n\n### 4ã€å¼€å‘å®å¡”é¢æ¿çš„ `18888` è®¿é—®ç«¯å£\n\n+ æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://IP:18888`\n\n![image-20240815233554731](https://s2.loli.net/2024/08/15/Y3xd14jv28NAqoI.png)","tags":["docker","ç½‘å¿ƒäº‘","èµšé’±"],"categories":["_T1-èµšé’±","ç½‘å¿ƒäº‘"]},{"title":"Armç‰ˆ-ubuntu-å®‰è£…-Dockeræ•™ç¨‹","url":"/2024/08/09/Armç‰ˆ-ubuntu-å®‰è£…-Dockeræ•™ç¨‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Armç‰ˆ ubuntu å®‰è£… Dockeræ•™ç¨‹</strong></font>\n\n<!--more-->\n\nå¦‚æœä½ æƒ³è¦ä½¿ç”¨é˜¿é‡Œäº‘çš„Dockeræºè€Œä¸æ˜¯å®˜æ–¹çš„Dockeræºï¼Œä½ éœ€è¦ä¿®æ”¹`add-apt-repository`å‘½ä»¤ä¸­çš„URLã€‚é˜¿é‡Œäº‘çš„Dockeræºå¯èƒ½ä¼šæä¾›æ›´å¿«çš„ä¸‹è½½é€Ÿåº¦ï¼Œç‰¹åˆ«æ˜¯å¯¹äºä½äºä¸­å›½çš„ç”¨æˆ·ã€‚\n\nä»¥ä¸‹æ˜¯ä½¿ç”¨é˜¿é‡Œäº‘Dockeræºçš„æ­¥éª¤ï¼š\n\n1. **æ·»åŠ é˜¿é‡Œäº‘çš„Docker GPGå¯†é’¥**ï¼š\n\n```bash\ncurl -fsSL http://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg | sudo apt-key add -\n```\n\n1. **è®¾ç½®Dockerå­˜å‚¨åº“**ï¼š\n\nè¿™é‡Œä½ éœ€è¦æ›¿æ¢å®˜æ–¹çš„DockeræºURLä¸ºé˜¿é‡Œäº‘çš„æºURLã€‚æ³¨æ„ï¼Œé˜¿é‡Œäº‘çš„æºå¯èƒ½ä¸åŒ…å«`[arch=arm64]`è¿™æ ·çš„æ¶æ„æ ‡è¯†ï¼Œå› ä¸ºé˜¿é‡Œäº‘ä¼šæ ¹æ®ä½ è®¿é—®çš„æºè‡ªåŠ¨æä¾›é€‚åˆä½ æ¶æ„çš„è½¯ä»¶åŒ…ã€‚\n\n```bash\nsudo add-apt-repository \"deb [arch=arm64] http://mirrors.aliyun.com/docker-ce/linux/ubuntu $(lsb_release -cs) stable\"\n```\n\nä½†æ˜¯ï¼Œé€šå¸¸é˜¿é‡Œäº‘æºä¼šè‡ªåŠ¨å¤„ç†æ¶æ„é—®é¢˜ï¼Œæ‰€ä»¥ä½ å¯èƒ½ä¸éœ€è¦æŒ‡å®š`[arch=arm64]`ã€‚å¦‚æœä¸ç¡®å®šï¼Œå¯ä»¥å…ˆå°è¯•ä¸åŠ æ¶æ„æ ‡è¯†ï¼š\n\n```bash\nsudo add-apt-repository \"deb http://mirrors.aliyun.com/docker-ce/linux/ubuntu $(lsb_release -cs) stable\"\n```\n\n1. **æ›´æ–°è½¯ä»¶åŒ…ç´¢å¼•å¹¶å®‰è£…Docker**ï¼š\n\n```bash\nsudo apt-get update  \nsudo apt-get install -y docker-ce docker-ce-cli containerd.io\n```\n\n1. **å¯åŠ¨DockeræœåŠ¡**ï¼š\n\n```bash\nsudo systemctl start docker  \nsudo systemctl enable docker\n```\n\n1. **æµ‹è¯•Dockerå®‰è£…**ï¼š\n\n```bash\nbashå¤åˆ¶ä»£ç \n\ndocker --version\n```\n\nç¡®ä¿åœ¨è¿è¡Œè¿™äº›å‘½ä»¤ä¹‹å‰ï¼Œä½ çš„ç³»ç»Ÿå·²ç»æ˜¯æœ€æ–°çš„ï¼Œå¹¶ä¸”ä½ å·²ç»å¸è½½äº†ä»»ä½•æ—§ç‰ˆæœ¬çš„Dockerã€‚å¦‚æœä½ é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œæ£€æŸ¥ä½ çš„ç½‘ç»œè¿æ¥ï¼Œä»¥åŠç¡®ä¿ä½ ä½¿ç”¨çš„å‘½ä»¤å’ŒæºURLæ˜¯æœ€æ–°çš„ã€‚","tags":["docker","ubuntu","arm","å·¥å…·"],"categories":["_A5-å®‰è£…æ•™ç¨‹","Docker"]},{"title":"å†…å­˜å°äº-1Gï¼Œå®å¡”é¢æ¿-9.0.0-æ— æ³•å®‰è£…-mysql-è§£å†³æ–¹æ³•","url":"/2024/08/08/å†…å­˜å°äº-1Gï¼Œå®å¡”é¢æ¿-9-0-0-æ— æ³•å®‰è£…-mysql-è§£å†³æ–¹æ³•/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>å†…å­˜å°äº 1Gï¼Œå®å¡”é¢æ¿`9.0.0`æ— æ³•å®‰è£…`mysql`è§£å†³æ–¹æ³•</strong></font>\n\n<!--more-->\n\nå®å¡”å®˜æ–¹é™åˆ¶äº†å†…å­˜å°äº`1G`æ— æ³•å®‰è£…`mysql`\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>è§£å†³æ–¹æ³•ï¼š</strong></font>\n\næ‰¾åˆ°è·¯å¾„ï¼š`/www/server/panel/class` ä¸‹çš„ `panelPlugin.py`\n\n![image-20240808124006141](https://s2.loli.net/2024/08/09/XxNRyJokGCQa6e9.png)\n\nå®šä½åˆ°>>> å…³é”®å­— `limit_list` å°†å¦‚ä¸‹æ³¨é‡Šæ‰å³å¯\n\n![image-20240808123340813](https://s2.loli.net/2024/08/08/WutVP8LYhXv9rxN.png)","tags":["ç³»ç»Ÿ","è¿ç»´","å®å¡”"],"categories":["_A3-linux","å®å¡”é¢æ¿"]},{"title":"NanoPi-R2s-SDå¡ç³»ç»Ÿè®¾ç½®Swapå†…å­˜","url":"/2024/08/07/NanoPi-R2s-SDå¡ç³»ç»Ÿè®¾ç½®Swapå†…å­˜/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>NanoPi R2s SDå¡ç³»ç»Ÿè®¾ç½®Swapå†…å­˜</strong></font>\n\n<!--more-->\n\nä¸€ç›´æŠ¥é”™ï¼š\n\n```tex\nubuntu swapon failed: Invalid argument\n```\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>é—®é¢˜æº¯æºï¼š</strong></font>\n\n```\nè¯¥é—®é¢˜æ˜¯å› ä¸º sdå¡ç³»ç»Ÿä¸­çš„å­˜å‚¨ç©ºé—´åœ¨ æ ¹ç›®å½•ä¸‹ï¼Œå¹¶ä¸”æ²¡æœ‰å•ç‹¬åˆ†åŒºï¼ˆæ˜¯å¦è¿˜æœ‰å…¶ä»–åŸå› ï¼Œæœªæ›¾è¯å®ï¼‰\n```\n\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></font>\n\n### 1ï¼šå‹ç¼© æ ¹ç›®å½• `/` ä¸‹çš„ `2G` ç©ºé—´å‡ºæ¥ï¼Œä¾›è™šæ‹Ÿå†…å­˜ä½¿ç”¨\n\næ­¤å¤„ä½ éœ€è¦å®‰è£… `ubuntu desktop` ç³»ç»Ÿï¼Œä½¿ç”¨ å…¶ä¸­çš„ `ç£ç›˜å·¥å…·` æ¥æ“ä½œ\n\nå‡è®¾ä½ å·²ç»è®¾ç½®åäº†ä¸€ä¸ªå•ç‹¬çš„åˆ†åŒºå‡ºæ¥ï¼Œæ¥ä¸‹æ¥å¯ä»¥æ­£å¼çš„å¼€å§‹è®¾ç½® `swap`\n\n### 2ï¼šæŸ¥çœ‹ç³»ç»Ÿæ˜¯å¦å­˜åœ¨è™šæ‹Ÿå†…å­˜\n\n```bash\nfree -h\n```\n\n![img](https://s2.loli.net/2024/08/07/DytMjlnGBgEAQHS.png)\n\n### **3ï¼šæ£€æŸ¥å¯ç”¨ç©ºé—´**\n\n```bash\ndf -h\n```\n\næŒ‚è½½åœ¨ / ä¸Šçš„ **/dev/sda** æ–‡ä»¶ç³»ç»Ÿå°†æ˜¯ç³»ç»Ÿçš„ç¡¬ç›˜é©±åŠ¨å™¨ã€‚\n\n### 4: **åˆ›å»ºäº¤æ¢æ–‡ä»¶**\n\nåœ¨è¿™é‡Œï¼Œæˆ‘ä½¿ç”¨ **fallocate** å‘½ä»¤ä¸º 1GB RAM æœåŠ¡å™¨åˆ›å»ºä¸€ä¸ª 1GB çš„äº¤æ¢ç©ºé—´ä½œä¸ºç¤ºä¾‹\n\n```bash\nsudo dd if=/dev/mmcblk0p10 of=/swap/swapfile bs=1M count=1024   # è¿™é‡Œå¦‚æœå­˜åœ¨/dev/mmcblk0p10è®¾å¤‡ï¼Œ åˆ™è®¾ç½®/swap/swapfileä¸ºäº¤æ¢ç©ºé—´ å¤§å°ä¸º1G\n```\n\n### 5ï¼š**åœ¨Ubuntuä¸Šå¯ç”¨äº¤æ¢æ–‡ä»¶**\n\n```bash\nsudo chmod 600 /swap/swapfile      # è®¾ç½®æƒé™\nsudo mkswap /swap/swapfile   # æ ‡è®°äº¤æ¢ç©ºé—´\nsudo swapon /swap/swapfile   # ä½¿ç”¨äº¤æ¢ç©ºé—´\n```\n\n### 6ï¼š**åˆ›å»ºæ°¸ä¹…äº¤æ¢ç©ºé—´**\n\nç¼–è¾‘ /etc/rc.local\n\n```bash\n#!/bin/sh -e\n#\n# rc.local\n#\n# This script is executed at the end of each multiuser runlevel.\n# Make sure that the script will \"exit 0\" on success or any other\n# value on error.\n#\n# In order to enable or disable this script just change the execution\n# bits.\n#\n# By default this script does nothing.\n\n# Generate the SSH keys if non-existent\nif [ ! -f /etc/ssh/ssh_host_rsa_key ]\nthen\n        # else ssh service start in dpkg-reconfigure will fail\n        systemctl stop ssh.socket||true\n        dpkg-reconfigure openssh-server\nfi\n\nif [ -f /usr/bin/gpio ]; then\n    setcap cap_sys_rawio+ep /usr/bin/gpio\nfi\n\nif [ -e /dev/mem ]; then\n    chmod g+w /dev/mem\nfi\n\nmount /dev/mmcblk0p10 /swap\nsleep 5\nsudo swapon /swap/swapfile\n\nexit 0\n\n```","tags":["ubuntu","è™šæ‹Ÿå†…å­˜"],"categories":["_S9-æŠ˜è…¾","NanopiR2s"]},{"title":"python-ç¹ä½“è½¬ç®€ä½“æ•™ç¨‹","url":"/2024/07/13/python-ç¹ä½“è½¬ç®€ä½“æ•™ç¨‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>python ç¹ä½“è½¬ç®€ä½“æ•™ç¨‹</strong></font>\n\n<!--more-->\n\nåœ¨Pythonä¸­ï¼Œå°†ç¹ä½“ä¸­æ–‡è½¬æ¢ä¸ºç®€ä½“ä¸­æ–‡å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å®ç°ï¼Œä½†ä¸€ä¸ªå¸¸è§ä¸”æœ‰æ•ˆçš„æ–¹æ³•æ˜¯ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼Œå¦‚`opencc-python-reimplemented`æˆ–`hanlp`ã€‚è¿™é‡Œï¼Œæˆ‘å°†æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨`opencc-python-reimplemented`åº“æ¥å®ç°è¿™ä¸€åŠŸèƒ½ã€‚\n\né¦–å…ˆï¼Œä½ éœ€è¦å®‰è£…`opencc-python-reimplemented`åº“ã€‚ä½ å¯ä»¥é€šè¿‡pipæ¥å®‰è£…å®ƒï¼š\n\n```bash\npip install opencc-python-reimplemented\n```\n\nå®‰è£…å®Œæˆåï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç å°†ç¹ä½“ä¸­æ–‡è½¬æ¢ä¸ºç®€ä½“ä¸­æ–‡ï¼š\n\n```python\nfrom opencc import OpenCC  \n  \n# åˆå§‹åŒ–è½¬æ¢å™¨ï¼Œå°†ç¹ä½“è½¬ä¸ºç®€ä½“  \ncc = OpenCC('t2s')  # ä½¿ç”¨ç¹ä½“åˆ°ç®€ä½“çš„è½¬æ¢é…ç½®æ–‡ä»¶  æ³¨æ„ï¼šè¿™é‡Œæ·»åŠ t2s å³å¯  ä¸æ˜¯t2s.json\n  \n# ç¤ºä¾‹æ–‡æœ¬  \ntraditional_text = 'é€™æ˜¯ç¹é«”ä¸­æ–‡çš„ç¤ºä¾‹æ–‡æœ¬ã€‚'  \n  \n# è½¬æ¢  \nsimplified_text = cc.convert(traditional_text)  \n  \nprint(simplified_text)  # è¾“å‡º: è¿™æ˜¯ç®€ä½“ä¸­æ–‡çš„ç¤ºä¾‹æ–‡æœ¬ã€‚\n```\n\næ³¨æ„ï¼šä¸Šé¢çš„`t2s.json`æ˜¯`opencc`åº“å†…ç½®çš„è½¬æ¢é…ç½®æ–‡ä»¶ä¹‹ä¸€ï¼Œç”¨äºä»ç¹ä½“ä¸­æ–‡è½¬æ¢åˆ°ç®€ä½“ä¸­æ–‡ã€‚`OpenCC`æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„åº“ï¼Œæ”¯æŒå¤šç§è¯­è¨€è½¬æ¢é…ç½®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºç¹ä½“åˆ°ç®€ä½“ã€ç®€ä½“åˆ°ç¹ä½“ã€ä»¥åŠå¤šç§æ–¹è¨€ä¹‹é—´çš„è½¬æ¢ã€‚\n\næ­¤å¤–ï¼Œ`hanlp`ä¹Ÿæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„è‡ªç„¶è¯­è¨€å¤„ç†åº“ï¼Œå®ƒæä¾›äº†æ›´å¹¿æ³›çš„è¯­è¨€å¤„ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬ç¹ç®€è½¬æ¢ã€‚ä½†æ˜¯ï¼Œå¯¹äºç®€å•çš„ç¹ç®€è½¬æ¢ä»»åŠ¡ï¼Œ`opencc-python-reimplemented`å¯èƒ½æ˜¯æ›´è½»é‡çº§å’Œç›´æ¥çš„é€‰æ‹©ã€‚\n\næœ€åï¼Œè¯·æ³¨æ„ï¼Œç”±äºè¯­è¨€çš„å¤æ‚æ€§å’Œå¤šæ ·æ€§ï¼Œè‡ªåŠ¨è½¬æ¢å·¥å…·å¯èƒ½æ— æ³•å®Œç¾å¤„ç†æ‰€æœ‰æƒ…å†µï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†ä¸€äº›ä¸“æœ‰åè¯ã€äººåã€åœ°åæˆ–ç‰¹å®šè¯­å¢ƒä¸‹çš„è¯æ±‡æ—¶ã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨è‡ªåŠ¨è½¬æ¢å·¥å…·æ—¶ï¼Œæœ€å¥½è¿›è¡Œäººå·¥æ ¡å¯¹ä»¥ç¡®ä¿å‡†ç¡®æ€§ã€‚","tags":["ç¹ä½“è½¬ç®€ä½“"],"categories":["Python","åŸºç¡€"]},{"title":"go-å†…å­˜æ³„æ¼å¯¼è‡´TCPè¿æ¥æ•°é‡å·¨å¤§","url":"/2024/07/07/go-å†…å­˜æ³„æ¼å¯¼è‡´TCPè¿æ¥æ•°é‡å·¨å¤§/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>go å†…å­˜æ³„æ¼å¯¼è‡´TCPè¿æ¥æ•°é‡å·¨å¤§</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ç”±ç¬¬ä¸‰æ–¹åº“å¯¼è‡´çš„å†…å­˜æ³„æ¼ï¼š</strong></font>\n\n**åº“ï¼š** github.com/wangluozhe/requests\n\n**ç‰¹ç‚¹ï¼š** è¯¥åº“æ”¯æŒJA3ã€http2 ... å†™æ³•ä¸Pythonçš„requestsç±»ä¼¼ï¼Œæ‰€ä»¥å¾ˆé€‚åˆä»pythonè½¬go\n\n**å¯¼è‡´å†…å®¹æ³„æ¼çš„åŸå› ï¼š**\n\nè¯¥åº“ä¼šåœ¨å¼‚æ­¥è¯·æ±‚ä¸­ï¼Œç‰¹åˆ«æ˜¯çˆ¬å– **`m3u8`** æ–‡ä»¶ä¸‹çš„ **`TS`**æ–‡ä»¶çš„æ—¶å€™ï¼Œä¼šå¯¼è‡´**`TCP`**ä¸å…³é—­ã€‚æœ€ç»ˆå¯¼è‡´ç¨‹åºä¸€ç›´å¥”æºƒ\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>åˆ¤å®š TCP é”™è¯¯ï¼š</strong></font>\n\n```bash\ncat /proc/39114/limits\ncat /proc/39114/net/sockstat      # æŸ¥çœ‹ sockstat è¿æ¥æ•°é‡\n\n\nps -ef|grep M3U8GetTs\n```\n\n","tags":["go","é”™è¯¯å¤„ç†","å†…å­˜æ³„æ¼"],"categories":["_A9-é”™è¯¯è§£å†³","Golang","å†…å­˜æ³„æ¼"]},{"title":"requests-æ”¯æŒJa3æŒ‡çº¹ä¿®æ”¹çš„golangè¯·æ±‚åº“","url":"/2024/07/03/requests-æ”¯æŒJa3æŒ‡çº¹ä¿®æ”¹çš„golangè¯·æ±‚åº“/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>requestsï¼šæ”¯æŒJa3æŒ‡çº¹ä¿®æ”¹çš„golangè¯·æ±‚åº“</strong></font>\n\n<!--more-->\n\néšç€Pythonçš„éªŒè¯é™åˆ¶è¶Šæ¥è¶Šå¤šï¼Œç½‘ç»œè¯·æ±‚è¢«é™åˆ¶å¾—å¾ˆä¸¥é‡ï¼Œæƒ³è¦ä¿®æ”¹æŒ‡çº¹ç­‰ä¿¡æ¯ï¼Œrequestsåº“æ˜¾å¾—åŠ›ä¸ä»å¿ƒ\n\n**äºæ˜¯è½¬æˆ˜Go**\n\n\n\n**requestsæ”¯æŒä»¥ä¸‹æ–°ç‰¹æ€§ï¼š**\n\n- æ”¯æŒhttp2ï¼Œé»˜è®¤ä»¥http2è¿›è¡Œè¿æ¥ï¼Œè¿æ¥å¤±è´¥åä¼šè¿›è¡Œé€€åŒ–è€Œè¿›è¡Œhttp1.1è¿æ¥\n- æ”¯æŒJA3æŒ‡çº¹ä¿®æ”¹\n- æ”¯æŒhttp2+JA3æŒ‡çº¹\n- æ”¯æŒåœ¨ä½¿ç”¨ä»£ç†çš„åŸºç¡€ä¸Šä¿®æ”¹JA3æŒ‡çº¹\n\n**ä¸‹è½½requestsåº“**:\n\n```bash\ngo get github.com/wangluozhe/requests\n```\n\n**é¡¹ç›®åœ°å€ï¼šhttps://github.com/wangluozhe/requests**:\n\n\n\n### **http2ï¼šè¯·æ±‚**\n\n```bash\nfunc request(_url string) (string, map[string]string) {\n\treq := url.NewRequest()\n\theaders := &http.Header{\n\t\t\"User-Agent\":                []string{\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:109.0) Gecko/20100101 Firefox/112.0\"},\n\t\t\"accept\":                    []string{\"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8\"},\n\t\t\"accept-language\":           []string{\"zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2\"},\n\t\t\"accept-encoding\":           []string{\"gzip, deflate, br\"},\n\t\t\"upgrade-insecure-requests\": []string{\"1\"},\n\t\t\"sec-fetch-dest\":            []string{\"document\"},\n\t\t\"sec-fetch-mode\":            []string{\"navigate\"},\n\t\t\"sec-fetch-site\":            []string{\"none\"},\n\t\t\"sec-fetch-user\":            []string{\"?1\"},\n\t\t\"te\":                        []string{\"trailers\"},\n\t\thttp.PHeaderOrderKey: []string{\n\t\t\t\":method\",\n\t\t\t\":path\",\n\t\t\t\":authority\",\n\t\t\t\":scheme\",\n\t\t},\n\t\thttp.HeaderOrderKey: []string{\n\t\t\t\"user-agent\",\n\t\t\t\"accept\",\n\t\t\t\"accept-language\",\n\t\t\t\"accept-encoding\",\n\t\t\t\"upgrade-insecure-requests\",\n\t\t\t\"sec-fetch-dest\",\n\t\t\t\"sec-fetch-mode\",\n\t\t\t\"sec-fetch-site\",\n\t\t\t\"sec-fetch-user\",\n\t\t\t\"te\",\n\t\t},\n\t}\n\treq.Headers = headers\n\treq.Ja3 = \"771,4865-4866-4867-49195-49199-49196-49200-52393-52392-49171-49172-156-157-47-53,0-23-65281-10-11-35-16-5-13-18-51-45-43-27-21,29-23-24,0\"\n\th2s := &transport.H2Settings{\n\t\tSettings: map[string]int{\n\t\t\t\"HEADER_TABLE_SIZE\": 65536,\n\t\t\t//\"ENABLE_PUSH\":            0,\n\t\t\t//\"MAX_HEADER_LIST_SIZE\":   262144,\n\t\t\t//\"MAX_CONCURRENT_STREAMS\": 1000,\n\t\t\t\"INITIAL_WINDOW_SIZE\": 131072,\n\t\t\t\"MAX_FRAME_SIZE\":      16384,\n\t\t},\n\t\tSettingsOrder: []string{\n\t\t\t\"HEADER_TABLE_SIZE\",\n\t\t\t\"INITIAL_WINDOW_SIZE\",\n\t\t\t\"MAX_FRAME_SIZE\",\n\t\t},\n\t\tConnectionFlow: 12517377,\n\t\tHeaderPriority: map[string]interface{}{\n\t\t\t\"weight\":    42,\n\t\t\t\"streamDep\": 13,\n\t\t\t\"exclusive\": false,\n\t\t},\n\t\tPriorityFrames: []map[string]interface{}{\n\t\t\t{\n\t\t\t\t\"streamID\": 3,\n\t\t\t\t\"priorityParam\": map[string]interface{}{\n\t\t\t\t\t\"weight\":    201,\n\t\t\t\t\t\"streamDep\": 0,\n\t\t\t\t\t\"exclusive\": false,\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"streamID\": 5,\n\t\t\t\t\"priorityParam\": map[string]interface{}{\n\t\t\t\t\t\"weight\":    101,\n\t\t\t\t\t\"streamDep\": 0,\n\t\t\t\t\t\"exclusive\": false,\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"streamID\": 7,\n\t\t\t\t\"priorityParam\": map[string]interface{}{\n\t\t\t\t\t\"weight\":    1,\n\t\t\t\t\t\"streamDep\": 0,\n\t\t\t\t\t\"exclusive\": false,\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"streamID\": 9,\n\t\t\t\t\"priorityParam\": map[string]interface{}{\n\t\t\t\t\t\"weight\":    1,\n\t\t\t\t\t\"streamDep\": 7,\n\t\t\t\t\t\"exclusive\": false,\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"streamID\": 11,\n\t\t\t\t\"priorityParam\": map[string]interface{}{\n\t\t\t\t\t\"weight\":    1,\n\t\t\t\t\t\"streamDep\": 3,\n\t\t\t\t\t\"exclusive\": false,\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"streamID\": 13,\n\t\t\t\t\"priorityParam\": map[string]interface{}{\n\t\t\t\t\t\"weight\":    241,\n\t\t\t\t\t\"streamDep\": 0,\n\t\t\t\t\t\"exclusive\": false,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t}\n\th2ss := transport.ToHTTP2Settings(h2s)\n\treq.HTTP2Settings = h2ss\n\tr, err := requests.Get(_url, req)\n\n\terrMessage := map[string]string{}\n\tif err != nil {\n\t\terrMessage = map[string]string{\"status\": \"false\", \"errMessage\": \"è·å–å†…å®¹é”™è¯¯\"}\n\t\t//fmt.Println(err)\n\t}\n\tif r.StatusCode != 200 {\n\t\terrMessage = map[string]string{\"status\": \"false\", \"errMessage\": \"çŠ¶æ€å“åº”é”™è¯¯\"}\n\t} else {\n\t\terrMessage = map[string]string{\"status\": \"true\", \"errMessage\": \"è·å–å†…å®¹æˆåŠŸ\"}\n\t}\n\t//fmt.Println(r.Request.Headers)\n\t//fmt.Println(\"url:\", r.Url)\n\t//fmt.Println(\"headers:\", r.Headers)\n\t//fmt.Println(\"text:\", r.Text)\n\treturn r.Text, errMessage\n}\n```\n\n","tags":["go","è§†é¢‘","çˆ¬è™«"],"categories":["Golang","çˆ¬è™«"]},{"title":"golang-è·å–mp4-è§†é¢‘æ—¶é•¿ä¿¡æ¯","url":"/2024/07/03/golang-è·å–mp4-è§†é¢‘æ—¶é•¿ä¿¡æ¯/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>golang è·å–mp4 è§†é¢‘æ—¶é•¿ä¿¡æ¯ï¼š</strong></font>\n\n<!--more-->\n\næœ¬æ–‡å‚è€ƒè‡ªï¼šhttps://www.cnblogs.com/Akkuman/p/12371838.html\n\nä¸»è¦åŸç†æ˜¯æ ¹æ®MP4æ–‡æ¡£æ ¼å¼å–åˆ°moovç»“æ„ï¼Œç„¶åè·å–æ—¶é•¿\n\n```go\npackage main\n\nimport (\n\t\"bytes\"\n\t\"encoding/binary\"\n\t\"fmt\"\n\t\"io\"\n\t\"os\"\n\t\"path/filepath\"\n)\n\n// BoxHeader ä¿¡æ¯å¤´\ntype BoxHeader struct {\n\tSize       uint32\n\tFourccType [4]byte\n\tSize64     uint64\n}\n\nfunc main() {\n\tfile, err := os.Open(os.Args[1])\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tduration, err := GetMP4Duration(file)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tfmt.Println(filepath.Base(os.Args[1]), duration)\n}\n\n// GetMP4Duration è·å–è§†é¢‘æ—¶é•¿ï¼Œä»¥ç§’è®¡\nfunc GetMP4Duration(reader io.ReaderAt) (lengthOfTime uint32, err error) {\n\tvar info = make([]byte, 0x10)\n\tvar boxHeader BoxHeader\n\tvar offset int64 = 0\n\t// è·å–moovç»“æ„åç§»\n\tfor {\n\t\t_, err = reader.ReadAt(info, offset)\n\t\tif err != nil {\n\t\t\treturn\n\t\t}\n\t\tboxHeader = getHeaderBoxInfo(info)\n\t\tfourccType := getFourccType(boxHeader)\n\t\tif fourccType == \"moov\" {\n\t\t\tbreak\n\t\t}\n\t\t// æœ‰ä¸€éƒ¨åˆ†mp4 mdatå°ºå¯¸è¿‡å¤§éœ€è¦ç‰¹æ®Šå¤„ç†\n\t\tif fourccType == \"mdat\" {\n\t\t\tif boxHeader.Size == 1 {\n\t\t\t\toffset += int64(boxHeader.Size64)\n\t\t\t\tcontinue\n\t\t\t}\n\t\t}\n\t\toffset += int64(boxHeader.Size)\n\t}\n\t// è·å–moovç»“æ„å¼€å¤´ä¸€éƒ¨åˆ†\n\tmoovStartBytes := make([]byte, 0x100)\n\t_, err = reader.ReadAt(moovStartBytes, offset)\n\tif err != nil {\n\t\treturn\n\t}\n\t// å®šä¹‰timeScaleä¸Durationåç§»\n\ttimeScaleOffset := 0x1C\n\tdurationOffest := 0x20\n\ttimeScale := binary.BigEndian.Uint32(moovStartBytes[timeScaleOffset : timeScaleOffset+4])\n\tDuration := binary.BigEndian.Uint32(moovStartBytes[durationOffest : durationOffest+4])\n\tlengthOfTime = Duration / timeScale\n\treturn\n}\n\n// getHeaderBoxInfo è·å–å¤´ä¿¡æ¯\nfunc getHeaderBoxInfo(data []byte) (boxHeader BoxHeader) {\n\tbuf := bytes.NewBuffer(data)\n\tbinary.Read(buf, binary.BigEndian, &boxHeader)\n\treturn\n}\n\n// getFourccType è·å–ä¿¡æ¯å¤´ç±»å‹\nfunc getFourccType(boxHeader BoxHeader) (fourccType string) {\n\tfourccType = string(boxHeader.FourccType[:])\n\treturn\n}\n\n\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>è·å–åˆ°çš„æ—¶é—´ä¸º `ç§’`, å¦‚æœæƒ³è¦æ¢æˆ `h:m:s`ï¼Œæ ¼å¼éœ€è¦è½¬æ¢ä¸€ä¸‹ï¼š</strong></font>\n\n```go\nfunc GetMP4Time(filePath string) string {\n\tfile, err := os.Open(filePath)\n\t//file, err := os.Open(os.Args[1])\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tduration, err := GetMP4Duration(file)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tfmt.Println(filepath.Base(filePath), duration)\n\n\td := time.Duration(duration) * time.Second\n\th := d / time.Hour\n\td -= h * time.Hour\n\tm := d / time.Minute\n\td -= m * time.Minute\n\ts := d / time.Second\n\n\t// ä½¿ç”¨strconv.Itoaæˆ–fmt.Sprintfå°†æ•´æ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸²\n\t// è¿™é‡Œä¸ºäº†ç®€æ´ï¼Œç›´æ¥ä½¿ç”¨fmt.Sprintf\n\treturn fmt.Sprintf(\"%02d:%02d:%02d\", h, m, s)\n}\n```\n\n","tags":["go","è§†é¢‘","çˆ¬è™«"],"categories":["Golang","çˆ¬è™«"]},{"title":"Django-ORM-å­˜å‚¨JSONæ•°æ®","url":"/2024/06/26/Django-ORM-å­˜å‚¨JSONæ•°æ®/","content":"\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>Django ORM å­˜å‚¨JSONæ•°æ®</strong></font>\n\n<!--more-->\n\nåœ¨`Django`æ¨¡å‹ä¸­ï¼Œå¦‚æœä½ æƒ³è¦ä¸€ä¸ªå­—æ®µèƒ½å¤Ÿæ¥å—ä¸€ä¸ªåˆ—è¡¨ï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ªå›¾ç‰‡URLçš„åˆ—è¡¨ï¼‰ï¼Œä½ éœ€è¦è€ƒè™‘æ•°æ®åº“çš„è®¾è®¡å¦‚ä½•èƒ½å¤Ÿæ”¯æŒè¿™ç§ç»“æ„ã€‚æ•°æ®åº“é€šå¸¸ä¸æ”¯æŒç›´æ¥å­˜å‚¨Pythonåˆ—è¡¨è¿™æ ·çš„å¤æ‚æ•°æ®ç±»å‹ï¼Œä½†ä½ å¯ä»¥ä½¿ç”¨å‡ ç§æ–¹æ³•æ¥æ¨¡æ‹Ÿè¿™ç§è¡Œä¸ºã€‚\n\n`ä»¥ä¸‹æ˜¯ä¸€äº›æ–¹æ³•ï¼Œä½ å¯ä»¥æ ¹æ®ä½ çš„éœ€æ±‚æ¥é€‰æ‹©ï¼š`\n\n### **ä½¿ç”¨JSONField**ï¼ˆDjango 3.1+ï¼‰\n\nå¦‚æœä½ çš„Djangoç‰ˆæœ¬æ˜¯3.1æˆ–æ›´é«˜ï¼Œä½ å¯ä»¥ä½¿ç”¨`JSONField`æ¥å­˜å‚¨JSONæ•°æ®ï¼ŒåŒ…æ‹¬åˆ—è¡¨ã€‚\n\n```python\nfrom django.db import models  \nfrom django.contrib.postgres.fields import JSONField  \n  \nclass MyModel(models.Model):  \n    list_image = JSONField(null=True, blank=True)  # å‡è®¾ä½ æƒ³å­˜å‚¨å›¾ç‰‡URLçš„åˆ—è¡¨\n```\n\nç„¶åä½ å¯ä»¥è¿™æ ·ä½¿ç”¨å®ƒï¼š\n\n```python\ninstance = MyModel.objects.create(list_image=['url1.com', 'url2.com'])\n```\n\n### **ä½¿ç”¨CharFieldæˆ–TextFieldå¹¶æ‰‹åŠ¨åºåˆ—åŒ–/ååºåˆ—åŒ–**\n\nå¦‚æœä½ ä¸æƒ³ä½¿ç”¨`JSONField`ï¼Œæˆ–è€…ä½ çš„Djangoç‰ˆæœ¬è¾ƒæ—§ï¼Œä½ å¯ä»¥å°†åˆ—è¡¨è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²ï¼ˆä½¿ç”¨`json.dumps`ï¼‰ï¼Œç„¶åå°†å…¶å­˜å‚¨åœ¨`CharField`æˆ–`TextField`ä¸­ã€‚è¯»å–æ—¶ï¼Œä½ éœ€è¦ä½¿ç”¨`json.loads`å°†å…¶è½¬æ¢å›Pythonåˆ—è¡¨ã€‚\n\n```python\nimport json  \nfrom django.db import models  \n  \nclass MyModel(models.Model):  \n    list_image = models.TextField(null=True, blank=True)  # å‡è®¾ä½ æƒ³å­˜å‚¨å›¾ç‰‡URLçš„åˆ—è¡¨çš„JSONå­—ç¬¦ä¸²  \n  \n    def get_image_list(self):  \n        if self.list_image:  \n            return json.loads(self.list_image)  \n        return []  \n  \n    def set_image_list(self, image_list):  \n        self.list_image = json.dumps(image_list)  \n  \n# ä½¿ç”¨æ—¶  \ninstance = MyModel()  \ninstance.set_image_list(['url1.com', 'url2.com'])  \ninstance.save()  \n  \n# è¯»å–æ—¶  \nimage_list = instance.get_image_list()\n```\n\n### **ä½¿ç”¨å…³è”æ¨¡å‹**\n\nå¦‚æœä½ æƒ³è¦å»ºç«‹æ›´å¤æ‚çš„å…³è”ï¼ˆä¾‹å¦‚ï¼Œæ¯ä¸ªå›¾ç‰‡éƒ½æœ‰è‡ªå·±çš„å…ƒæ•°æ®ï¼‰ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªå…³è”æ¨¡å‹æ¥è¡¨ç¤ºè¿™ç§å…³ç³»ã€‚\n\n```python\nfrom django.db import models  \n  \nclass Image(models.Model):  \n    url = models.URLField()  \n    # å…¶ä»–å­—æ®µï¼Œå¦‚æ ‡é¢˜ã€æè¿°ç­‰  \n  \nclass MyModel(models.Model):  \n    images = models.ManyToManyField(Image)\n```\n\nè¿™æ ·ï¼Œä½ å¯ä»¥å°†å¤šä¸ª`Image`å¯¹è±¡ä¸`MyModel`å¯¹è±¡å…³è”èµ·æ¥ï¼Œå¹¶ä½¿ç”¨Djangoçš„ORMæ¥æŸ¥è¯¢å’Œç®¡ç†è¿™äº›å…³è”ã€‚\n\n\n\n<font color=red size=3 face=å®‹ä½“><strong>æ ¹æ®ä½ çš„å…·ä½“éœ€æ±‚ï¼Œé€‰æ‹©æœ€é€‚åˆä½ çš„æ–¹æ³•ã€‚å¦‚æœä½ åªæ˜¯æƒ³ç®€å•åœ°å­˜å‚¨ä¸€ä¸ªå›¾ç‰‡URLçš„åˆ—è¡¨ï¼Œå¹¶ä¸”ä¸éœ€è¦å¤æ‚çš„æŸ¥è¯¢æˆ–å…³ç³»ï¼Œé‚£ä¹ˆä½¿ç”¨`JSONField`æˆ–æ‰‹åŠ¨åºåˆ—åŒ–/ååºåˆ—åŒ–å¯èƒ½æ˜¯æœ€ç®€å•çš„é€‰æ‹©ã€‚å¦‚æœä½ éœ€è¦æ›´å¤æ‚çš„å…³è”æˆ–æŸ¥è¯¢åŠŸèƒ½ï¼Œé‚£ä¹ˆä½¿ç”¨å…³è”æ¨¡å‹å¯èƒ½æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚</strong></font>\n\n","tags":["python","django","æ•°æ®åº“"],"categories":["Python","Django_ORM"]},{"title":"åœ¨Djangoä¸­ä½¿ç”¨MySQLä½œä¸ºæ•°æ®åº“","url":"/2024/06/26/åœ¨Djangoä¸­ä½¿ç”¨MySQLä½œä¸ºæ•°æ®åº“/","content":"\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>åœ¨Djangoä¸­ä½¿ç”¨MySQLä½œä¸ºæ•°æ®åº“ï¼š</strong></font>\n\n<!--more-->\n\nåœ¨Djangoä¸­ä½¿ç”¨MySQLä½œä¸ºæ•°æ®åº“ï¼Œä½ éœ€è¦éµå¾ªä»¥ä¸‹æ­¥éª¤æ¥è®¾ç½®ä½ çš„`DATABASES`é…ç½®ï¼š\n\n1. **å®‰è£…MySQLå®¢æˆ·ç«¯åº“**ï¼š\n   å¯¹äºPythonï¼Œä½ éœ€è¦å®‰è£…ä¸€ä¸ªMySQLå®¢æˆ·ç«¯åº“ï¼Œå¦‚`mysqlclient`æˆ–`PyMySQL`ã€‚`mysqlclient`æ˜¯Djangoå®˜æ–¹æ¨èçš„ï¼Œä½†å®ƒåœ¨æŸäº›ç³»ç»Ÿä¸Šå¯èƒ½éš¾ä»¥å®‰è£…ã€‚`PyMySQL`æ˜¯ä¸€ä¸ªçº¯Pythonå®ç°çš„MySQLå®¢æˆ·ç«¯ï¼Œå¯ä»¥ä½œä¸º`mysqlclient`çš„æ›¿ä»£ã€‚\n\n   ä½¿ç”¨pipå®‰è£…`PyMySQL`ï¼ˆå¦‚æœä½ é€‰æ‹©ä½¿ç”¨å®ƒï¼‰ï¼š\n\n   ```bash\n   pip install PyMySQL\n   ```\n   \n   å¯¹äº`mysqlclient`ï¼Œå®‰è£…æ–¹æ³•å–å†³äºä½ çš„æ“ä½œç³»ç»Ÿå’ŒPythonç‰ˆæœ¬ã€‚\n\n2. **é…ç½®Djangoçš„`DATABASES`è®¾ç½®**ï¼š\n   åœ¨ä½ çš„Djangoé¡¹ç›®çš„`settings.py`æ–‡ä»¶ä¸­ï¼Œæ‰¾åˆ°`DATABASES`è®¾ç½®å¹¶ä¿®æ”¹å®ƒä»¥ä½¿ç”¨MySQLã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹é…ç½®ï¼š\n\n   ```python\n   DATABASES = {  \n       'default': {  \n           'ENGINE': 'django.db.backends.mysql',  \n           'NAME': 'your_database_name',  # æ•°æ®åº“å  \n           'USER': 'your_mysql_username',  # MySQLç”¨æˆ·å  \n           'PASSWORD': 'your_mysql_password',  # MySQLå¯†ç   \n           'HOST': 'localhost',  # æ•°æ®åº“æœåŠ¡å™¨åœ°å€  \n           'PORT': '3306',  # æ•°æ®åº“æœåŠ¡å™¨ç«¯å£ï¼ˆé»˜è®¤æ˜¯3306ï¼‰  \n           'OPTIONS': {  \n               'charset': 'utf8mb4',  \n               'init_command': \"SET sql_mode='STRICT_TRANS_TABLES';\",  \n           },  \n           # å¦‚æœä½ ä½¿ç”¨çš„æ˜¯PyMySQLï¼Œä½ éœ€è¦æ·»åŠ ä»¥ä¸‹è¡Œæ¥å‘Šè¯‰Djangoä½¿ç”¨å®ƒ  \n           # 'OPTIONS': {  \n           #     'init_command': \"SET sql_mode='STRICT_TRANS_TABLES';\",  \n           #     'read_default_file': '/path/to/my.cnf',  # å¯é€‰ï¼ŒæŒ‡å‘ä½ çš„MySQLé…ç½®æ–‡ä»¶  \n           #     'charset': 'utf8mb4',  \n           #     'use_unicode': True,  \n           # },  \n           # 'TEST': {  \n           #     'CHARSET': 'utf8mb4',  \n           #     'COLLATION': 'utf8mb4_unicode_ci',  \n           # },  \n       }  \n   }\n   ```\n\n   æ³¨æ„ï¼šå¦‚æœä½ é€‰æ‹©ä½¿ç”¨`PyMySQL`ä½œä¸ºå®¢æˆ·ç«¯ï¼Œå¹¶ä¸”Djangoç‰ˆæœ¬åœ¨3.0ä¹‹å‰ï¼Œä½ å¯èƒ½éœ€è¦åœ¨`__init__.py`æ–‡ä»¶ä¸­æ·»åŠ ä¸€äº›ä»£ç æ¥è®©DjangoçŸ¥é“ä½¿ç”¨`PyMySQL`ï¼š\n\n   ```python\n   # åœ¨ä½ çš„Djangoåº”ç”¨çš„__init__.pyæ–‡ä»¶ä¸­  \n   import pymysql  \n   pymysql.install_as_MySQLdb()\n   ```\n\n   å¯¹äºDjango 3.0åŠæ›´é«˜ç‰ˆæœ¬ï¼ŒDjangoé»˜è®¤æ”¯æŒ`PyMySQL`ï¼Œä½†ä½ å¯èƒ½éœ€è¦åœ¨`DATABASES`è®¾ç½®ä¸­æ·»åŠ ä¸€ä¸ª`'NAME': 'mysql.connector.django'`æ¥æŒ‡å®šä½¿ç”¨å®ƒï¼ˆå–å†³äºä½ æ˜¯å¦é€šè¿‡ç¬¬ä¸‰æ–¹åŒ…å®‰è£…äº†é¢å¤–çš„MySQLè¿æ¥å™¨ï¼‰ã€‚\n\n3. **åˆ›å»ºæ•°æ®åº“**ï¼š\n   åœ¨MySQLä¸­ï¼Œä½ éœ€è¦æ‰‹åŠ¨åˆ›å»ºæ•°æ®åº“ï¼ˆé™¤éä½ çš„Djangoé¡¹ç›®åœ¨è¿ç§»æ—¶è®¾ç½®äº†è‡ªåŠ¨åˆ›å»ºï¼‰ã€‚ä½ å¯ä»¥ä½¿ç”¨MySQLå‘½ä»¤è¡Œå·¥å…·æˆ–å›¾å½¢ç•Œé¢å·¥å…·ï¼ˆå¦‚phpMyAdminã€MySQL Workbenchç­‰ï¼‰æ¥åˆ›å»ºæ•°æ®åº“ã€‚\n\n4. **è¿è¡Œè¿ç§»**ï¼š\n   åœ¨Djangoé¡¹ç›®ä¸­ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥åˆ›å»ºå’Œç®¡ç†æ•°æ®åº“è¡¨ï¼š\n\n   ```bash\n   python manage.py makemigrations  \n   python manage.py migrate\n   ```\n\n   è¿™äº›å‘½ä»¤å°†åŸºäºä½ çš„æ¨¡å‹ï¼ˆåœ¨`models.py`æ–‡ä»¶ä¸­å®šä¹‰ï¼‰æ¥åˆ›å»ºæˆ–ä¿®æ”¹æ•°æ®åº“è¡¨ã€‚\n\n5. **æµ‹è¯•è¿æ¥**ï¼š\n   åœ¨Django shellæˆ–è§†å›¾ä¸­å°è¯•æŸ¥è¯¢æ•°æ®åº“ä»¥ç¡®ä¿è¿æ¥æ­£å¸¸ã€‚\n\n6. **ï¼ˆå¯é€‰ï¼‰é…ç½®MySQLç”¨æˆ·æƒé™**ï¼š\n   ç¡®ä¿ä½ ä¸ºDjangoåº”ç”¨åˆ›å»ºçš„MySQLç”¨æˆ·æœ‰è¶³å¤Ÿçš„æƒé™æ¥è®¿é—®å’Œä¿®æ”¹æ•°æ®åº“ã€‚","tags":["python","django","æ•°æ®åº“"],"categories":["_9-æ•°æ®åº“","mysql"]},{"title":"OpenVPN-Access-Server-å®‰è£…ä¸é…ç½®ã€ä½¿ç”¨","url":"/2024/06/24/OpenVPN-Access-Server-å®‰è£…ä¸é…ç½®ã€ä½¿ç”¨/","content":"\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>OpenVPN Access Server å®‰è£…ä¸é…ç½®ã€ä½¿ç”¨ï¼š</strong></font>\n\n<!--more-->\n\n### <font color=red size=4 face=å®‹ä½“><strong>å®˜æ–¹å®‰è£…æ•™ç¨‹ï¼š[ä¼ é€é—¨](https://as-portal.openvpn.com/instructions/cloud-image)</strong></font>\n\n<font color=red size=4 face=å®‹ä½“><strong>ç ´è§£æ–‡ä»¶ï¼š[baiduä¸‹è½½](https://bd.bcebos.com/v1/xly-icafe/pyovpn-2.0-py3.6-20240625053307-h7bdew.egg)ã€[è“å¥äº‘ä¸‹è½½](https://wwwqe.lanzoul.com/ipk2K22n558b)</strong></font>  (ä¸‹è½½å®Œæˆåæ›´åä¸ºï¼š`pyovpn-2.0-py3.6.egg`)\n\n![image-20240625033359487](https://s2.loli.net/2024/06/25/xEVmAwib8N2cutl.png)\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>Centos7 å®‰è£…ï¼š</strong></font>\n\n```python\n# è¦å®‰è£… Access Serverï¼Œè¯·ä½¿ç”¨å®˜æ–¹å­˜å‚¨åº“ã€‚ä»¥ root æƒé™ç™»å½• Linux ç³»ç»Ÿï¼Œç„¶åè¾“å…¥ä»¥ä¸‹å‘½ä»¤ä»¥æ·»åŠ å­˜å‚¨åº“å¹¶å®‰è£…è½¯ä»¶åŒ…â€œopenvpn-asâ€ã€‚å®¢æˆ·ç«¯æ†ç»‘åŒ…å°†è‡ªåŠ¨å®‰è£…ã€‚\n\nyum -y install centos-release-scl-rh\nyum -y install https://as-repository.openvpn.net/as-repo-centos7.rpm\n\n# yum æŸ¥çœ‹è½¯ä»¶åŒ…æ”¯æŒçš„æ‰€æœ‰ç‰ˆæœ¬\nyum list openvpn-as --showduplicates | sort -r   # <openvpn-as> ä¸ºè½¯ä»¶ç‰ˆæœ¬\n\n# å®‰è£…æŒ‡å®šç‰ˆæœ¬ openvpn-as\n# yum -y install openvpn-as   # è¿™æ˜¯ç›´æ¥å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ openvpn Access Server ä½†æ˜¯æµ‹è¯•ç ´è§£çš„è½¯ä»¶ä¸º 2.11.2 python3.6\nyum install openvpn-as-2.11.2_72c0e923-CentOS7      # å®‰è£…è½¯ä»¶ä¸º <openvpn-as.x86_64> å»æ‰ <.x86_64> åŠ ä¸Š <2.11.2_72c0e923-CentOS7>\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>ubuntu 24 x86 å®‰è£…ï¼š</strong></font>\n\n```python\n# è¦å®‰è£… Access Serverï¼Œè¯·ä½¿ç”¨å®˜æ–¹å­˜å‚¨åº“ã€‚ä»¥ root æƒé™ç™»å½• Linux ç³»ç»Ÿï¼Œç„¶åè¾“å…¥ä»¥ä¸‹å‘½ä»¤ä»¥æ·»åŠ å­˜å‚¨åº“å¹¶å®‰è£…è½¯ä»¶åŒ…â€œopenvpn-asâ€ã€‚å®¢æˆ·ç«¯æ†ç»‘åŒ…å°†è‡ªåŠ¨å®‰è£…ã€‚\n\napt update && apt -y install ca-certificates wget net-tools gnupg\n\nwget https://as-repository.openvpn.net/as-repo-public.asc -qO /etc/apt/trusted.gpg.d/as-repository.asc\n\necho \"deb [arch=amd64 signed-by=/etc/apt/trusted.gpg.d/as-repository.asc] http://as-repository.openvpn.net/as/debian noble main\">/etc/apt/sources.list.d/openvpn-as-repo.list\napt update && apt -y install openvpn-as\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>Debian 12 å®‰è£…ï¼š</strong></font>\n\n```python\n# è¦å®‰è£… Access Serverï¼Œè¯·ä½¿ç”¨å®˜æ–¹å­˜å‚¨åº“ã€‚ä»¥ root æƒé™ç™»å½• Linux ç³»ç»Ÿï¼Œç„¶åè¾“å…¥ä»¥ä¸‹å‘½ä»¤ä»¥æ·»åŠ å­˜å‚¨åº“å¹¶å®‰è£…è½¯ä»¶åŒ…â€œopenvpn-asâ€ã€‚å®¢æˆ·ç«¯æ†ç»‘åŒ…å°†è‡ªåŠ¨å®‰è£…ã€‚\n\napt update && apt -y install ca-certificates wget net-tools gnupg\n\nwget https://as-repository.openvpn.net/as-repo-public.asc -qO /etc/apt/trusted.gpg.d/as-repository.asc\n\necho \"deb [arch=amd64 signed-by=/etc/apt/trusted.gpg.d/as-repository.asc] http://as-repository.openvpn.net/as/debian bookworm main\">/etc/apt/sources.list.d/openvpn-as-repo.list\n\n# æŸ¥çœ‹ openvpn-as å¯å®‰è£…ç‰ˆæœ¬\napt list -a openvpn-as\n# æˆ–è€… \napt-cache madison openvpn-as\n\napt update && apt -y install openvpn-as\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>Red Hat 9 å®‰è£…ï¼š</strong></font>\n\n```python\n# è¦å®‰è£… Access Serverï¼Œè¯·ä½¿ç”¨å®˜æ–¹å­˜å‚¨åº“ã€‚ä»¥ root æƒé™ç™»å½• Linux ç³»ç»Ÿï¼Œç„¶åè¾“å…¥ä»¥ä¸‹å‘½ä»¤ä»¥æ·»åŠ å­˜å‚¨åº“å¹¶å®‰è£…è½¯ä»¶åŒ…â€œopenvpn-asâ€ã€‚å®¢æˆ·ç«¯æ†ç»‘åŒ…å°†è‡ªåŠ¨å®‰è£…ã€‚\n\nyum -y remove openvpn-as-yum\nyum -y install https://as-repository.openvpn.net/as-repo-rhel9.rpm\nyum -y install openvpn-as\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>åœ¨ Docker ä¸Šå®‰è£…ï¼š</strong></font>\n\n```python\n# 1ã€æ‹‰å–dockeré•œåƒ\ndocker pull openvpn/openvpn-as\n\n# 2ã€è¿è¡Œé•œåƒ\n# å°† <path to data> æ›¿æ¢ä¸ºç”¨äºå­˜å‚¨ Access Server é…ç½®æ–‡ä»¶çš„é¦–é€‰æ–‡ä»¶è·¯å¾„ã€‚\ndocker run -d \\\n  --name=openvpn-as --cap-add=NET_ADMIN \\\n  -p 943:943 -p 443:443 -p 1194:1194/udp \\\n  -v <path to data>:/openvpn \\\n  openvpn/openvpn-as\n\n# 3ã€æ‰“å¼€ Web ç•Œé¢\n# æ‚¨å¯ä»¥åœ¨ https://HOST-IP:943/admin\n# ä¸­æ‰¾åˆ° Web ç•Œé¢\n# ç”¨æˆ·åæ˜¯ openvpn\n# æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åœ¨ docker æ—¥å¿—ä¸­æ‰¾åˆ°è‡ªåŠ¨ç”Ÿæˆçš„å¯†ç ï¼š\ndocker logs -f openvpn-as\n```\n\n<font color=red size=4 face=å®‹ä½“><strong>å¤‡æ³¨ï¼šå¦‚æœä»¥ä¸Šéƒ½æ— æ³•æ»¡è¶³ä½ ï¼Œè¯·æ ¹æ®ä¼ é€é—¨ è·³è½¬è‡ªå®˜æ–¹æ•™ç¨‹è¿›è¡Œå®‰è£…</strong></font>\n\n\n\n#### å®‰è£…å®Œæˆ ä¼šæ˜¾ç¤ºç±»ä¼¼å¦‚ä¸‹çš„å†…å®¹ï¼š\n\n```\n\n+++++++++++++++++++++++++++++++++++++++++++++++\nAccess Server å·²æˆåŠŸå®‰è£…åœ¨ /usr/local/openvpn_as\né…ç½®æ—¥å¿—æ–‡ä»¶å·²å†™å…¥ /usr/local/openvpn_as/init.log\n\nAccess Server Web UI å¯åœ¨æ­¤å¤„è·å¾—ï¼š\nç®¡ç† UIï¼šhttps://192.168.102.130:943/admin\nå®¢æˆ·ç«¯ UIï¼šhttps://192.168.102.130:943\nä»¥â€œopenvpnâ€èº«ä»½ç™»å½•ï¼Œä½¿ç”¨â€œRR4ImyhwbFFqâ€ç»§ç»­\nï¼ˆå¯ä»¥åœ¨ç®¡ç† UI ä¸Šæ›´æ”¹å¯†ç ï¼‰\n+++++++++++++++++++++++++++++++++++++++++++++++\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>å¼€æ”¾ç«¯å£ï¼š</strong></font>\n\n```\n80 tcp    # ç½‘ç«™è®¿é—®ç«¯å£\n443 tcp   # ç½‘ç«™sslè®¿é—®ç«¯å£(openvpn ä¹Ÿä¼šç”¨åˆ°)\n943 tcp   # openvpn access server  ç½‘é¡µè®¿é—®ç«¯å£\n945 tcp\t  # openvpn access server  ç½‘é¡µè®¿é—®ç«¯å£\n1194 udp\t# openvpn access server  æµé‡è½¬å‘ç«¯å£\n```\n\n#### æ”¯æŒçš„ç ´è§£è½¯ä»¶ç‰ˆæœ¬ openvpn Access Server 2.11.2\n\n![image-20240625051029802](https://s2.loli.net/2024/06/25/aKCBEwGd9eOPzNI.png)\n\n#### è®¾ç½®æ— å¯†ç è¿æ¥openvpn\n\n![image-20240624223442179](https://s2.loli.net/2024/06/25/EarR84ZKyGiWNHk.png)\n\n![image-20240624223747805](https://s2.loli.net/2024/06/25/mk2PACIst5QM31p.png)\n\n![image-20240624224101676](https://s2.loli.net/2024/06/25/5fJHuCLNoMPiqsD.png)\n\n![image-20240624224511569](https://s2.loli.net/2024/06/25/wlko6WFguryPtxN.png)\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ç›¸å…³å‘½ä»¤ï¼š</strong></font>\n\nä¸‹é¢é™„2.10.3åŠä»¥ä¸Šç‰ˆæœ¬å¯†ç é‡ç½®æ•™ç¨‹ï¼Œè¿™ä¸ªå’Œä»¥å‰ä¸ä¸€æ ·ï¼Œæœ‰é»˜è®¤å¯†ç äº†ã€‚\né‡ç½®é»˜è®¤ openvpn å¸æˆ·ç®¡ç†æƒé™\n\n`æ³¨æ„`ï¼šå¦‚æœæ‚¨å½“å‰æ²¡æœ‰ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„ Access Server 2.10.3ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨é˜…è¯»æ—§ç‰ˆæœ¬çš„è¯´æ˜ã€‚\n\nç®¡ç†å¸æˆ·ï¼Œé»˜è®¤ç§°ä¸ºopenvpnï¼Œå¯ä»¥æ˜¯æ“ä½œç³»ç»Ÿä¸­çš„å¼•å¯¼å¸æˆ·ï¼Œä¹Ÿå¯ä»¥æ˜¯ Access Server æœ¬èº«çš„å†…éƒ¨æœ¬åœ°èº«ä»½éªŒè¯ç³»ç»Ÿä¸­çš„ç®¡ç†å¸æˆ·ã€‚æˆ‘ä»¬å»ºè®®ä½¿ç”¨æœ¬åœ°å¸æˆ·ï¼Œè¿™æ˜¯è‡ª Access Server 2.10 ç‰ˆä»¥æ¥çš„é»˜è®¤å¸æˆ·ã€‚\n\nè¿™äº›æ˜¯å¸¸è§çš„ç®¡ç†ç”¨æˆ·ç™»å½•é—®é¢˜ï¼š\n\næ‚¨ä¸¢å¤±äº†ç”¨æˆ·åå’Œ/æˆ–å¯†ç ã€‚\nè¯¥å¸æˆ·ä¸å·²å¤±æ•ˆçš„å¤–éƒ¨èº«ä»½éªŒè¯ç³»ç»Ÿç›¸å…³è”ã€‚\nè¯¥å¸æˆ·ä¸Šè®¾ç½®äº†æ‹’ç»ç™»å½•æ ‡å¿—ã€‚\næœ‰ MFA è¦æ±‚ï¼Œæ‚¨ä¸¢å¤±äº†å¯†é’¥ã€‚\nè¯¥å¸æˆ·åœ¨å¤šæ¬¡ç™»å½•å¤±è´¥åï¼ˆæš‚æ—¶ï¼‰è¢«é”å®šã€‚\næ‚¨å¯ä»¥åœ¨ Access Server çš„å‘½ä»¤è¡Œä¸Šä»¥ root ç”¨æˆ·èº«ä»½æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä»¥åˆ›å»ºæˆ–é‡ç½®ç”¨æˆ·åä¸ºopenvpnçš„æœ¬åœ°ç®¡ç†å‘˜å¸æˆ·ã€‚å®ƒè€ƒè™‘äº†ä¸Šè¿°æ‰€æœ‰æƒ…å†µï¼Œå¹¶åº”ä¸ºæ‚¨æä¾›ä¸€ä¸ªæœ¬åœ°openvpnç®¡ç†å¸æˆ·ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è¯¥å¸æˆ·ç™»å½•åˆ° Admin Web UIã€‚\n\n`ä½¿ç”¨æŒ‡å®šå¯†ç åˆ›å»º/é‡ç½®openvpnç®¡ç†æœ¬åœ°å¸æˆ·ï¼š`\n\n```bash\ncd /usr/local/openvpn_as/scripts \n./sacli --user \"openvpn\" --key \"prop_superuser\" --value \"true\" UserPropPut \n./sacli --user \"openvpn\" --key \"user_auth_type\" --value \" local\" UserPropPut \n./sacli --user \"openvpn\" --new_pass=<PASSWORD> SetLocalPassword \n./sacli start\n```\n`å¦‚æœå¸æˆ·éœ€è¦ï¼Œè¯·ç¦ç”¨æ‹’ç»ç™»å½•æ ‡å¿—å¹¶é‡ç½® MFAï¼š`\n\n```bash\n./sacli --user \"openvpn\" --key \"prop_deny\" --value \"false\" UserPropPut \n./sacli --user \"openvpn\" --key \"prop_google_auth\" UserPropDel \n./sacli --user \"openvpn\" --lock 0 GoogleAuthRegen \n./sacli start\n```\n\n`é‡ç½®å¯†ç é”å®šç­–ç•¥ä»¥é˜²ä¸‡ä¸€å®ƒè¢«è§¦å‘ï¼š`\n\n```bash\n./sacli --key \"vpn.server.lockout_policy.reset_time\" --value \"1\" ConfigPut \n./sacli start \nsleep 2 \n./sacli --key \"vpn.server.lockout_policy.reset_time\" ConfigDel \n./sacli start\n```\n\nå°è¯•ä½¿ç”¨openvpnå’Œæ‚¨æŒ‡å®šçš„å¯†ç å†æ¬¡ç™»å½•åˆ° Admin Web UI ã€‚\nå…³äºå•ç”¨æˆ·å¤šå¹¶å‘ç™»é™†çš„é—®é¢˜ï¼Œæˆ‘åœ¨WEBé¡µé¢æ‰“å¼€äº†å¤šä¼šè¯ï¼Œä½†æ˜¯æ²¡æœ‰ç”¨ï¼Œæˆ‘åœ¨å®˜æ–¹çœ‹åˆ°çš„æ–¹æ¡ˆï¼Œä½†æ˜¯æ²¡æœ‰æˆåŠŸï¼Œä»¥ä¸‹æ˜¯å®˜æ–¹å›å¤ï¼š\n\né…ç½®æ•°æ®åº“ä¸­æ¯ä¸ªç”¨æˆ·å¤šä¸ªä¼šè¯è®¾ç½®çš„å®é™…é…ç½®å‚æ•°æ˜¯â€œvpn.server.duplicate_cnâ€ã€‚\n\n`æ‚¨å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸Šä»¥ root ç”¨æˆ·èº«ä»½æ‰‹åŠ¨è®¾ç½®å®ƒï¼›`\n\n```bash\n/usr/local/openvpn_as/scripts/sacli --key \"vpn.server.duplicate_cn\" --value \"true\" ConfigPut\n/usr/local/openvpn_as/scripts/sacli start\n```\n\n`å¯ä»¥ç”¨falseå…³é—­ï¼Œtrueå¼€å¯å®ƒåœ¨ã€‚å¦‚æœä½ åˆ é™¤å®ƒï¼Œå®ƒä¼šå˜æˆé»˜è®¤å€¼ï¼Œæˆ‘ç›¸ä¿¡è¿™æ˜¯çœŸçš„ï¼›`\n\n```bash\n/usr/local/openvpn_as/scripts/sacli --key \"vpn.server.duplicate_cn\" ConfigDel\n/usr/local/openvpn_as/scripts/sacli start\n```\n\n","tags":["ä»£ç†","æ¢¯å­"],"categories":["_A8-å·¥å…·","æ¢¯å­"]},{"title":"gin-æ¡†æ¶ä¸­é—´ä»¶","url":"/2024/06/13/gin-æ¡†æ¶ä¸­é—´ä»¶/","content":"\n### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>gin æ¡†æ¶ä¸­é—´ä»¶ç›¸å…³æ–¹æ³•ï¼š</strong></font>\n\n<!--more-->\n\n```go\nc.Next()    // å‘ä¸‹æ‰§è¡ŒåµŒå¥—æ–¹æ³•\nc.Abort()   // é€€å‡ºå½“å‰æ‰§è¡Œå‡½æ•° >>> ä¾‹å¦‚é‰´æƒå¤±è´¥ï¼Œä¸ç»™æ‹¿æ•°æ®...\n```\n\n\n\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>gin æ¡†æ¶ä¸­é—´ä»¶è¿è¡Œé€»è¾‘ï¼š</strong></font>\n\n```go\npackage main\n\nimport (\n\t\"fmt\"\n\t\"github.com/gin-gonic/gin\"\n\t\"net/http\"\n)\n\nfunc func1(c *gin.Context) {\n\tfmt.Println(\"func1\")\n}\n\nfunc func2(c *gin.Context) {\n\tfmt.Println(\"func2 before\")\n\tc.Next()\n\tfmt.Println(\"func2 after\")\n}\n\nfunc func3(c *gin.Context) {\n\tfmt.Println(\"func3\")\n}\n\nfunc func4(c *gin.Context) {\n\tfmt.Println(\"func4\")\n\tfunc2(c)\n\tfmt.Println(\"func4 ç»“æŸ\")\n}\n\nfunc func5(c *gin.Context) {\n\tfmt.Println(\"func5\")\n}\n\nfunc main() {\n\tr := gin.Default()\n\tr.GET(\"/hello\", func(c *gin.Context) {\n\t\tc.String(http.StatusOK, \"OK\")\n\t})\n\n\tshopGroup := r.Group(\"/shop\", func1, func2)\n\n\tshopGroup.Use(func3)\n\t{\n\t\tshopGroup.GET(\"/index\", func4, func5)\n\t}\n\n\tr.Run(\":8000\")\n}\n\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>è®¿é—® /shop/index è¿”å›æ‰“å°çŠ¶æ€ï¼š</strong></font>\n\n```\nfunc1\nfunc2 before\nfunc3\nfunc4\nfunc2 before\nfunc5\nfunc2 after\nfunc4 ç»“æŸ\nfunc2 after\n[GIN] 2024/06/13 - 00:58:14 | 200 |      38.125Âµs |       127.0.0.1 | GET      \"/shop/index\"\n```\n\n\n\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>gin æ¡†æ¶ä¸­é—´å€¼çš„ä¼ é€’>>ï¼š</strong></font>\n\nè®¿é—®ï¼š127.0.0.1:8000/shop/index\n\n+ ç»è¿‡`func4` ä¸­å®šä¹‰çš„ `name`  >>> ç„¶åæˆ‘ä»¬åœ¨ `func5`ä¸­è°ƒç”¨å…¶å€¼\n+ å€¼çš„æ³¨æ„çš„æ˜¯ åœ¨`1.18ç‰ˆæœ¬ä¸­ go`æ˜¯éœ€è¦åšç±»å‹è½¬æ¢çš„ï¼Œä½†æ˜¯åœ¨` go 1.21` å°±ä¸éœ€è¦äº†ï¼Œä¸­é—´æœ‰ä¸ªæ—¶é—´å·®ï¼Œ åº”è¯¥æ˜¯`ginæ¡†æ¶æ›´æ–°æœºåˆ¶`\n\n```go\npackage main\n\nimport (\n\t\"fmt\"\n\t\"github.com/gin-gonic/gin\"\n\t\"net/http\"\n)\n\nfunc func1(c *gin.Context) {\n\tfmt.Println(\"func1\")\n}\n\nfunc func2(c *gin.Context) {\n\tfmt.Println(\"func2 before\")\n\tc.Next()\n\tfmt.Println(\"func2 after\")\n}\n\nfunc func3(c *gin.Context) {\n\tfmt.Println(\"func3\")\n\t//c.Abort()\n}\n\nfunc func4(c *gin.Context) {\n\tfmt.Println(\"func4\")\n\tc.Set(\"name\", \"å¤§å¤´\")\n}\n\nfunc func5(c *gin.Context) {\n\tfmt.Println(\"func5\")\n\tv, ok := c.Get(\"name\")\n\tif ok {\n\t\tfmt.Println(v)\n\t}\n\t// åœ¨ go 1.18 ä¹‹å‰ éœ€è¦åšç±»å‹è½¬æ¢  ä½†æ˜¯åœ¨1.21 ç‰ˆæœ¬ä¸­ ï¼Œæˆ‘å‘ç° ä¸ç”¨è½¬æ¢ï¼Œç›´æ¥æ‰“å°é¡µæ²¡æœ‰é—®é¢˜\n\t//if ok {\n\t//\tvStr := v.(string)\n\t//\tfmt.Println(vStr)\n\t//}\n}\n\nfunc main() {\n\tr := gin.Default()\n\tr.GET(\"/hello\", func(c *gin.Context) {\n\t\tc.String(http.StatusOK, \"OK\")\n\t})\n  \n\tshopGroup := r.Group(\"/shop\", func1, func2)\n\tshopGroup.Use(func3)\n\t{\n\t\tshopGroup.GET(\"/index\", func4, func5)\n\t}\n\tr.Run(\":8000\")\n}\n```\n\næ‰“å°ç»“æœï¼š\n\n```\nfunc1\nfunc2 before\nfunc3\nfunc4\nfunc5\nå¤§å¤´\nfunc2 after\n[GIN] 2024/06/13 - 01:21:15 | 200 |      85.875Âµs |       127.0.0.1 | GET      \"/shop/index\"\n```\n\n","tags":["Golang","web","ä¸­é—´ä»¶"],"categories":["Golang","Ginæ¡†æ¶"]},{"title":"go-forå¾ªç¯çš„å¥‡æ€ªç”¨æ³•","url":"/2024/06/12/go-forå¾ªç¯çš„å¥‡æ€ªç”¨æ³•/","content":"\n#### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>for å¾ªç¯ ã€‹éå†æŠ€å·§1ï¼š</strong></font>\n\n<!--more-->\n\n##### æ­£å¸¸éå†ï¼š\n\n```go\nfor i:=0; i<len(t); i++{\n\t//å¾ªç¯ä½“\n}\n```\n\n##### å¥‡æ€ªï¼Œä½†æ˜¯å¥½ç”¨çš„æ–¹æ³•(æ¥è‡ªginæ¡†æ¶)ï¼š\n\n```go\n// å£°æ˜ä¸¤ä¸ªå˜é‡ i=0  tl=len(t), ç„¶åå°±å¯ä»¥è¿›è¡Œå¾ªç¯äº†ï¼Œè¿™æ ·åšçš„ç›®çš„ï¼Œåªè¿›è¡Œä¸€æ¬¡ té•¿åº¦çš„è®¡ç®—ã€‚åç»­å¯ä»¥ä¸ç”¨åŠ¨æ€çš„è®¡ç®—tçš„å€¼\nfor i,tl := 0, len(t); i<tl; i++ {\n\t//å¾ªç¯ä½“\n}\n```\n\n","tags":["go","å¥‡æ·«æŠ€å·§","å¾ªç¯"],"categories":["Golang","æŠ€å·§"]},{"title":"go-äº¤å‰ç¼–è¯‘æ•™ç¨‹","url":"/2024/06/12/go-äº¤å‰ç¼–è¯‘æ•™ç¨‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Go Modå‘½ä»¤ï¼š</strong></font>\n\n<!--more-->\n\n```go\ngo mod tidy      // æŸ¥æ¼è¡¥ç¼º go.modä¸‹çš„åº“é…ç½®ï¼Œå¦‚æœå­˜åœ¨å¯¼å…¥ä½†æ˜¯å´æ²¡æœ‰åº“ .. ä¼šè‡ªåŠ¨å®‰è£…\n```\n\n\n\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>Go çš„è·¨å¹³å°äº¤å‰ç¼–è¯‘ï¼š</strong></font>\n\n### Mac ä¸‹ç¼–è¯‘ Linux å’Œ Windows 64ä½å¯æ‰§è¡Œç¨‹åºï¼š\n\n```bash\n# ç¼–è¯‘å½“å‰ç¨‹åºä¸º linux 64ä½ å¯æ‰§è¡Œæ–‡ä»¶\nCGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build\n\n# ç¼–è¯‘å½“å‰ç¨‹åºä¸º windows 64ä½ å¯æ‰§è¡Œæ–‡ä»¶\nCGO_ENABLED=0 GOOS=windows GOARCH=amd64 go build\n```\n\n\n\n### **Linux ä¸‹ç¼–è¯‘ Mac å’Œ Windows 64ä½å¯æ‰§è¡Œç¨‹åºï¼š**\n\n```bash\n# ç¼–è¯‘å½“å‰ç¨‹åºä¸º Mac 64ä½ å¯æ‰§è¡Œæ–‡ä»¶\nCGO_ENABLED=0 GOOS=darwin GOARCH=amd64 go build\n\n# ç¼–è¯‘å½“å‰ç¨‹åºä¸º windows 64ä½ å¯æ‰§è¡Œæ–‡ä»¶\nCGO_ENABLED=0 GOOS=windows GOARCH=amd64 go build\n```\n\n### Windows ä¸‹ç¼–è¯‘ Mac å’Œ Linux 64ä½å¯æ‰§è¡Œç¨‹åºï¼š\n\n```bash\n# ç¼–è¯‘å½“å‰ç¨‹åºä¸º Mac 64ä½ å¯æ‰§è¡Œæ–‡ä»¶\nSET CGO_ENABLED=0\nSET GOOS=darwin\nSET GOARCH=amd64\ngo build\n\n# ç¼–è¯‘å½“å‰ç¨‹åºä¸º linux 64ä½ å¯æ‰§è¡Œæ–‡ä»¶\nSET CGO_ENABLED=0\nSET GOOS=linux\nSET GOARCH=amd64\ngo build\n```\n\n\n\n---\n\n<br>\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>äº¤å‰ç¼–è¯‘æ”¯æŒå¯é€‰å‚æ•°ï¼š</strong></font>\n\n> `GOOS`ï¼šç›®æ ‡å¹³å°çš„æ“ä½œç³»ç»Ÿï¼ˆ`darwin`ã€`freebsd`ã€`linux`ã€`windows`ï¼‰\n>\n> `GOARCH`ï¼šç›®æ ‡å¹³å°çš„ä½“ç³»æ¶æ„ï¼ˆ`386`ã€`amd64`ã€`arm`ï¼‰\n\n<font color=red size=5 face=å®‹ä½“><strong>**äº¤å‰ç¼–è¯‘ä¸æ”¯æŒ CGO æ‰€ä»¥è¦ç¦ç”¨å®ƒ**</strong></font>\n\nwindowsä¸‹é¢ powershellä¸è¡Œï¼Œè¦cmd","tags":["æ•™ç¨‹","go","ç¼–è¯‘"],"categories":["Golang","ç¼–è¯‘"]},{"title":"åœ¨CentOS-7ä¸Šå®‰è£…Go-1.22","url":"/2024/06/11/åœ¨CentOS-7ä¸Šå®‰è£…Go-1-22/","content":"\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>åœ¨CentOS 7ä¸Šå®‰è£…Go 1.22ï¼š</strong></font>\n\n<!--more-->\n\n### åœ¨CentOS 7ä¸Šå®‰è£…Go 1.22.2çš„æ­¥éª¤å¦‚ä¸‹ï¼š\n\n#### ä¸€ã€å‡†å¤‡å·¥ä½œ\n\n1. ç¡®ä¿ä½ çš„`CentOS 7`ç³»ç»Ÿå·²ç»æ›´æ–°åˆ°æœ€æ–°çŠ¶æ€ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ›´æ–°ï¼š\n\n   ```bash\n   sudo yum update\n   ```\n\n2. æ£€æŸ¥ç³»ç»Ÿæ˜¯å¦å·²å®‰è£…`Go`çš„æ—§ç‰ˆæœ¬ï¼Œå¦‚æœæœ‰ï¼Œåˆ™å…ˆå¸è½½ï¼š\n\n   ```bash\n   sudo yum remove golang\n   ```\n\n#### äºŒã€ä¸‹è½½å¹¶å®‰è£…Go 1.22.2\n\n1. è®¿é—®Goçš„å®˜æ–¹ç½‘ç«™æˆ–ä½¿ç”¨æä¾›çš„ä¸‹è½½é“¾æ¥æ¥è·å–`Go 1.22.2`çš„`Linux-amd64`ç‰ˆæœ¬ã€‚ä½ å¯ä»¥ç›´æ¥é€šè¿‡`wget`å‘½ä»¤ä¸‹è½½ï¼š\n\n   ```bash\n   cd /usr/local/src  \n   wget https://golang.google.cn/dl/go1.22.2.linux-amd64.tar.gz\n   ```\n\n2. è§£å‹ä¸‹è½½çš„Goå‹ç¼©åŒ…åˆ°`/usr/local`ç›®å½•ä¸‹ï¼š\n\n   ```bash\n   sudo tar -zxvf go1.22.2.linux-amd64.tar.gz -C /usr/local/\n   ```\n\n   è¿™å°†æŠŠGoçš„å®‰è£…æ–‡ä»¶è§£å‹åˆ°`/usr/local/go`ç›®å½•ä¸‹ã€‚\n\n#### ä¸‰ã€é…ç½®ç¯å¢ƒå˜é‡\n\n1. æ‰“å¼€`/etc/profile`æ–‡ä»¶ï¼Œå¹¶åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š\n\n   ```bash\n   export GOROOT=/usr/local/go  \n   export PATH=$PATH:$GOROOT/bin  \n   export GOPATH=/opt/go  # æˆ–è€…ä½ å¯ä»¥è®¾ç½®ä¸ºå…¶ä»–ç›®å½•ï¼Œä½œä¸ºä½ çš„å·¥ä½œåŒº  \n   export PATH=$PATH:$GOPATH/bin\n   ```\n\n2. åº”ç”¨æ›´æ”¹ï¼š\n\n   ```bash\n   source /etc/profile\n   ```\n\n   æˆ–è€…ä½¿ç”¨`su -`å‘½ä»¤é‡æ–°ç™»å½•shellä¼šè¯ã€‚\n\n#### å››ã€éªŒè¯å®‰è£…\n\n1. åœ¨ç»ˆç«¯ä¸­è¾“å…¥`go version`æ¥æ£€æŸ¥Goçš„ç‰ˆæœ¬ï¼š\n\n   ```bash\n   go version\n   ```\n\n   å¦‚æœå®‰è£…æˆåŠŸï¼Œä½ åº”è¯¥çœ‹åˆ°ç±»ä¼¼äº`go version go1.22.2 linux/amd64`çš„è¾“å‡ºã€‚\n\n#### äº”ã€è§£å†³ä¾èµ–ä¸‹è½½é€Ÿåº¦è¿‡æ…¢çš„é—®é¢˜ï¼ˆå¯é€‰ï¼‰\n\nå¦‚æœä½ çš„ç½‘ç»œç¯å¢ƒä¸­Goä¾èµ–åŒ…çš„ä¸‹è½½é€Ÿåº¦è¿‡æ…¢ï¼Œä½ å¯ä»¥è®¾ç½®`GOPROXY`ç¯å¢ƒå˜é‡æ¥ä½¿ç”¨å›½å†…çš„ä»£ç†æœåŠ¡å™¨ï¼Œå¦‚`Goproxy.cn`ï¼š\n\n```bash\ngo env -w GO111MODULE=on  \ngo env -w GOPROXY=https://goproxy.cn,direct\n```\n\nè¿™æ ·è®¾ç½®åï¼ŒGoçš„ä¾èµ–åŒ…å°†ä¼šä»æŒ‡å®šçš„ä»£ç†æœåŠ¡å™¨ä¸‹è½½ï¼Œé€šå¸¸ä¼šæœ‰æ›´å¿«çš„ä¸‹è½½é€Ÿåº¦ã€‚\n\nä»¥ä¸Šå°±æ˜¯åœ¨`CentOS 7`ä¸Šå®‰è£…`Go 1.22.2`çš„è¯¦ç»†æ­¥éª¤ã€‚è¯·æ³¨æ„ï¼ŒGoçš„æœ€æ–°ç‰ˆæœ¬å¯èƒ½å·²ç»æ›´æ–°ï¼Œä½†ä¸Šè¿°æ­¥éª¤å¯¹äºå®‰è£…ä»»ä½•ç‰ˆæœ¬çš„Goéƒ½æ˜¯é€šç”¨çš„ï¼Œåªéœ€å°†ç‰ˆæœ¬å·æ›¿æ¢ä¸ºä½ è¦å®‰è£…çš„ç‰ˆæœ¬å³å¯ã€‚","tags":["æ•™ç¨‹","å®‰è£…","go"],"categories":["_A5-å®‰è£…æ•™ç¨‹","Golang"]},{"title":"centos7-é…ç½®è¿æ¥-OpenVPNæ•™ç¨‹","url":"/2024/06/11/centos7-é…ç½®è¿æ¥-OpenVPNæ•™ç¨‹/","content":"\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>CentOSè¿æ¥OpenVPNæ•™ç¨‹ï¼ˆLinuxä¸‹OpenVPNå®¢æˆ·ç«¯é…ç½®æ•™ç¨‹ï¼‰</strong></font>\n\n<!--more-->\n\nä¸€èˆ¬æ¥è¯´ï¼Œæä¾›WebæœåŠ¡çš„LinuxæœåŠ¡å™¨æ˜¯å¾ˆå°‘éœ€è¦è¿æ¥`OpenVPN`çš„ï¼Œä½†æ˜¯ä¸ªäºº`Linux`è®¡ç®—æœºåœ¨å¾ˆå¤šæ—¶å€™å°±éœ€è¦è¿æ¥`OpenVPN`äº†ã€‚æ¯”å¦‚ä»¥`Linux`ä¸ºå¼€å‘ç¯å¢ƒï¼Œéœ€è¦è¿æ¥å…¬å¸çš„`OpenVPN`ç­‰ç­‰ã€‚\n\næœ¬æ–‡å°†ä»¥`CentOS`ç³»ç»Ÿä¸ºä¾‹ï¼Œä»‹ç»åœ¨ç»ˆç«¯ä¸‹è¿æ¥è¿œç¨‹`OpenVPN`æœåŠ¡çš„æ–¹æ³•ã€‚\n\n### 1ï¼Œå®‰è£…`OpenVPN`\n\né¦–å…ˆéœ€è¦å®‰è£…`OpenVPN`å®¢æˆ·ç«¯ã€‚ä¸€èˆ¬æ¥è¯´ç›´æ¥ä½¿ç”¨`yum`å³å¯ï¼ˆåœ¨`Debian`ç³»ä¸­æ˜¯`apt-get`ï¼‰ã€‚æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…ï¼š\n\n```bash\n[root@www ~]# yum install openvpn\n```\n\nç¨ç­‰ç‰‡åˆ»å°†è‡ªåŠ¨å®‰è£…å¥½`openvpn`éœ€è¦çš„è½¯ä»¶åŒ…ã€‚å®‰è£…å®Œæˆåï¼Œåº”è¯¥å‡ºç°`/etc/openvpn/`æ–‡ä»¶å¤¹ã€‚\n\n### 2ï¼Œé…ç½®OpenVPN\n\nä½œä¸ºå®¢æˆ·ç«¯ï¼Œ`OpenVPN`å¹¶æ²¡æœ‰ç‰¹å®šçš„é…ç½®æ–‡ä»¶ï¼Œè€Œæ˜¯ç”±æœåŠ¡å™¨æä¾›æ–¹ç»™å‡ºä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚\n\nå¯¹äºè®¤è¯ï¼Œ`OpenVPN`æä¾›äº†ä¸¤ç§è®¤è¯æ–¹æ³•ï¼šåŸºäºç”¨æˆ·å/å¯†ç çš„è®¤è¯ä¸SSLè¯ä¹¦è®¤è¯ã€‚ç”¨æˆ·å/å¯†ç çš„è®¤è¯æ–¹æ³•æ— æ³•ï¼ˆæˆ–è¾ƒéš¾ï¼‰é™åˆ¶ä¸€ä¸ªè´¦å·åŒæ—¶è¿æ¥å¤šä¸ªå®¢æˆ·ç«¯ï¼Œè€Œé‡‡ç”¨è¯ä¹¦ï¼Œåˆ™å¯ä¿è¯åŒä¸€è¯ä¹¦åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥ã€‚å½“ç„¶ï¼Œè¿™äº›éƒ½æ˜¯ç”±æœåŠ¡å™¨ç«¯å†³å®šçš„ï¼Œä¸éœ€è¦å®¢æˆ·ç«¯è¿›è¡Œé€‰æ‹©ã€‚\né¦–å…ˆå°†`OpenVPN`æœåŠ¡å™¨æä¾›å•†å‘ç»™ä½ çš„é…ç½®æ–‡ä»¶è§£å‹ï¼Œå¹¶å°†æ‰€æœ‰æ–‡ä»¶éƒ½å¤åˆ¶åˆ° `/etc/openvpn/`ä¸­ã€‚\nè¿™äº›æ–‡ä»¶ä¸­è‡³å°‘åŒ…å«ä¸€ä¸ª`.ovpn`æ–‡ä»¶ï¼›å¦‚æœæœåŠ¡å™¨éœ€è¦è¯ä¹¦è®¤è¯ï¼Œåˆ™åº”è¯¥è¿˜å­˜åœ¨å¦å¤–ä¸‰ä¸ªè¯ä¹¦æ–‡ä»¶ã€‚\n\n**çœ‹æ‡‚`OpenVPN`é…ç½®æ ¼å¼ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ª`.ovpn`é…ç½®ç¤ºä¾‹ï¼š**\n\n```\nclient\ndev tap\nproto tcp-client\nremote 192.168.135.75 1194\nresolv-retry infinite\nnobind\nmute-replay-warnings\nredirect-gateway\nca /etc/ca.crt\ncert /etc/client.crt\nkey /etc/client.key\ncomp-lzo\nverb 4\n```\n\nä¸€èˆ¬æ¥è¯´ï¼Œçº¢è‰²çš„å†…å®¹å¯èƒ½éœ€è¦ä½ è¿›è¡Œä¿®æ”¹ã€‚å°†çº¢è‰²çš„å†…å®¹ä¿®æ”¹æˆè¿™ä¸‰ä¸ªæ–‡ä»¶çš„å®é™…ä½ç½®ã€‚ç„¶åä¿å­˜å³å¯ã€‚\n\n### **3ï¼Œè¿æ¥OpenVPN**\n\nåœ¨é…ç½®å¥½.ovpnæ–‡ä»¶åï¼Œæ‰§è¡Œ\n\n```bash\nopenvpn /etc/***.ovpn\n```\n\nå³å¯è¿æ¥æœåŠ¡å™¨äº†ã€‚æ³¨æ„ï¼Œä¸Šé¢çš„å‚æ•°åº”è¯¥æ¢æˆä½ çš„é…ç½®æ–‡ä»¶å®é™…ä½ç½®ã€‚\næ­¤æ—¶ï¼Œç»ˆç«¯ä¼šå›æ˜¾å¾ˆå¤šè¿æ¥æ—¥å¿—ã€‚å¦‚æœè¿æ¥ä¸æˆåŠŸï¼Œåˆ™å¯ä»¥é€šè¿‡è¿™äº›æ—¥å¿—æ¥ç¡®å®šå‡ºé”™ä½ç½®ã€‚å¦‚æœè¦æ–­å¼€ï¼Œåªéœ€è¦é€šè¿‡`Ctrl+C`å¼ºåˆ¶ç»ˆæ­¢å³å¯ã€‚\nä¸Šé¢çš„å‘½ä»¤åœ¨å®é™…ä¸­å¹¶ä¸æ–¹ä¾¿ï¼Œå› ä¸ºå®ƒè¦å ç”¨ä¸€ä¸ªç‹¬ç«‹çš„ç»ˆç«¯ã€‚åœ¨æµ‹è¯•æˆåŠŸåï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å³å¯åœ¨åå°è¿æ¥`OpenVPN`ï¼š\n\n```bash\nopenvpn /etc/***.ovpn > /dev/null &\n```\n\nå€¼å¾—ç§°èµçš„æ˜¯ï¼Œ`openvpn`éå¸¸æ™ºèƒ½ï¼Œåœ¨è¿æ¥å¼‚å¸¸ä¸­æ–­ã€æ— æ³•è¿æ¥æœåŠ¡å™¨ã€æ–­ç½‘çš„æƒ…å†µä¸‹ï¼Œå®ƒä¼šè‡ªåŠ¨é‡è¿ã€‚å› æ­¤ï¼Œå¦‚æœå¸Œæœ›å¼€æœºå³è‡ªåŠ¨è¿æ¥`OpenVPN`ï¼Œæˆ–è€…æ˜¯`VPN`å¸¸å¹´åœ¨çº¿ï¼Œåˆ™å¯å°†ä¸Šè¿°å‘½ä»¤è¡ŒåŠ å…¥\n\n```bash\n/etc/rc.local\n```\n\nä¸­ã€‚æ³¨æ„ï¼Œå‘½ä»¤æœ«å°¾çš„&ç¬¦å·ä¸èƒ½çœç•¥ï¼Œå¦åˆ™å°†å¯èƒ½é˜»å¡ç³»ç»Ÿçš„æ­£å¸¸å¯åŠ¨ã€‚","tags":["ä»£ç†","æ¢¯å­"],"categories":["_A8-å·¥å…·","æ¢¯å­"]},{"title":"go-jsonä¼˜é›…çš„å–å€¼","url":"/2024/06/10/go-jsonä¼˜é›…çš„å–å€¼/","content":"\n### go è¯­è¨€ä¸­ å¯¹äºjsonä¼˜é›…çš„å–å€¼\n\n<!--more-->\n\ngoè¯­è¨€ä¸­å¯¹äºjsonçš„å–å€¼å¾ˆä¸æ–¹ä¾¿ï¼Œéœ€è¦ä¸åœçš„ ç±»å‹åˆ¤æ–­ï¼Œé”®çš„åˆ¤æ–­...\n\nå…¶å®æŠŠ ç¨‹åºæœ¬æ¥å°±æ˜¯å¸®åŠ©äººæœåŠ¡çš„ï¼Œå¼„é‚£ä¹ˆå¤æ‚ å®åœ¨æ˜¯æœ‰ç‚¹éš¾å—ï¼Œä¸è¿‡å‘¢ã€‚ éš¾å—çš„ä¸æ˜¯æˆ‘ä¸€ä¸ªï¼Œä»¥ä¸‹å°±æ˜¯å…¶ä»–éš¾å—çš„äººåšå‡ºæ¥çš„ç¬¬ä¸‰æ–¹åº“ã€‚`gjson`\n\n#### å®‰è£… `gjson`\n\n```bash\ngo get -u github.com/tidwall/gjson\n```\n\n#### ä½¿ç”¨æ•™ç¨‹ï¼š\n\nä½¿ç”¨ GJSON æ¥ä»ä¸€ä¸ªåŒ…å«æ•°ç»„çš„ JSON å­—ç¬¦ä¸²ä¸­æå–æ•°ç»„ä¸­çš„å­—å…¸ï¼ˆåœ¨ JSON ä¸­é€šå¸¸ç§°ä¸ºå¯¹è±¡ï¼‰æˆ–æ•°ç»„ä¸­çš„æŸä¸ªå¯¹è±¡çš„ç‰¹å®šå­—æ®µæ˜¯éå¸¸ç®€å•çš„ã€‚å‡è®¾ä½ æœ‰ä¸€ä¸ªå¦‚ä¸‹çš„ JSON å­—ç¬¦ä¸²\n\n```json\n{  \n  \"users\": [  \n    {\"name\": \"Alice\", \"age\": 25},  \n    {\"name\": \"Bob\", \"age\": 30},  \n    {\"name\": \"Charlie\", \"age\": 35}  \n  ]  \n}\n```\n\nå¦‚æœä½ æƒ³è·å– `users` æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªç”¨æˆ·çš„ `name` å­—æ®µï¼Œä½ å¯ä»¥è¿™æ ·åšï¼š\n\n```go\npackage main  \n  \nimport (  \n    \"fmt\"  \n    \"github.com/tidwall/gjson\"  \n)  \n  \nfunc main() {  \n    jsonStr := `{\"users\": [{\"name\": \"Alice\", \"age\": 25},{\"name\": \"Bob\", \"age\": 30},{\"name\": \"Charlie\", \"age\": 35}]}`  \n  \n    // è·å– users æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå¯¹è±¡çš„ name å­—æ®µ  \n    name := gjson.Get(jsonStr, \"users.0.name\")  \n    fmt.Println(\"Name:\", name.String()) // è¾“å‡º: Name: Alice  \n  \n    // å¦‚æœä½ æƒ³è¦éå†æ•´ä¸ª users æ•°ç»„å¹¶æ‰“å°æ¯ä¸ªç”¨æˆ·çš„ name  \n    users := gjson.Get(jsonStr, \"users.#\") // # è¡¨ç¤ºæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´   \n    users.ForEach(func(key, value gjson.Result) bool {  \n        fmt.Println(\"User name:\", value.Get(\"name\").String())  \n        return true // è¿”å› true ä»¥ç»§ç»­è¿­ä»£ï¼Œè¿”å› false åˆ™åœæ­¢  \n    })  \n}\n```\n\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`users.0.name` æ˜¯ä¸€ä¸ªè·¯å¾„ï¼Œå®ƒæŒ‡å®šäº†æˆ‘ä»¬è¦ä» JSON å­—ç¬¦ä¸²ä¸­æå–çš„æ•°æ®çš„ä½ç½®ã€‚è¿™é‡Œçš„ `0` æ˜¯æ•°ç»„çš„ç´¢å¼•ï¼Œç”¨äºæŒ‡å®šæˆ‘ä»¬è¦è·å–çš„ç¬¬ä¸€ä¸ªå¯¹è±¡ã€‚\n\n`gjson.Get(jsonStr, \"users.#\")` ä½¿ç”¨äº† `#` é€šé…ç¬¦æ¥è·å–æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨ `ForEach` æ–¹æ³•éå†è¿™äº›å…ƒç´ ï¼Œå¹¶æ‰“å°å‡ºæ¯ä¸ªç”¨æˆ·çš„ `name` å­—æ®µã€‚\n\næ³¨æ„ï¼Œ`gjson.Result` ç±»å‹æœ‰ä¸€ä¸ª `String()` æ–¹æ³•ç”¨äºå°†ç»“æœè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œä½†ä¹Ÿæœ‰å…¶ä»–æ–¹æ³•ï¼Œå¦‚ `Int()`, `Bool()`, `Float()`, `Array()`, `Map()` ç­‰ï¼Œç”¨äºå¤„ç†ä¸åŒç±»å‹çš„å€¼ã€‚å¦‚æœè·¯å¾„ä¸å­˜åœ¨æˆ–å€¼ä¸æ˜¯é¢„æœŸçš„ç±»å‹ï¼Œè¿™äº›æ–¹æ³•é€šå¸¸ä¼šè¿”å›é›¶å€¼æˆ–ç©ºå€¼ï¼Œå¹¶ä¸ä¼šå¯¼è‡´ panicã€‚","tags":["go","åŸºç¡€","json"],"categories":["Golang","åŸºç¡€"]},{"title":"go-å¼‚æ­¥ç­‰å¾…æ“ä½œ,å’Œpythonæœ‰ä¸€ä¸¢ä¸¢ç›¸ä¼¼","url":"/2024/06/08/go-å¼‚æ­¥ç­‰å¾…æ“ä½œ-å’Œpythonæœ‰ä¸€ä¸¢ä¸¢ç›¸ä¼¼/","content":"\n### go-å¼‚æ­¥ç­‰å¾…æ“ä½œ,å’Œpythonæœ‰ä¸€ä¸¢ä¸¢ç›¸ä¼¼\n\n<!--more-->\n\nä¸ºäº†é™åˆ¶å¹¶å‘æ‰§è¡Œçš„goroutinesæ•°é‡ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¸¦ç¼“å†²çš„é€šé“ä½œä¸ºä¿¡å·é‡ï¼ˆsemaphoreï¼‰ã€‚ä¿¡å·é‡é€šé“ä¸­çš„å…ƒç´ æ•°é‡è¡¨ç¤ºå½“å‰å¯ä»¥è¿è¡Œçš„å¹¶å‘ä»»åŠ¡æ•°ã€‚é€šè¿‡å‘è¯¥é€šé“å‘é€å’Œæ¥æ”¶ç©ºç»“æ„ä½“ `struct{}`ï¼Œæ‚¨å¯ä»¥æ§åˆ¶åŒæ—¶è¿è¡Œçš„ä»»åŠ¡æ•°é‡ã€‚\n\nä»¥ä¸‹æ˜¯å¦‚ä½•ä¿®æ”¹æ‚¨çš„ä»£ç ä»¥é™åˆ¶æœ€å¤§å¹¶å‘æ•°ä¸º3çš„ç¤ºä¾‹ï¼š\n\n```go\npackage main  \n  \nimport (  \n\t\"fmt\"  \n\t\"time\"  \n)  \n  \nfunc asyncOperation(resultChan chan<- string, id int, sem chan struct{}) {  \n\t// è·å–ä¸€ä¸ªä¿¡å·é‡ï¼Œè¡¨ç¤ºå¼€å§‹ä¸€ä¸ªä»»åŠ¡  \n\tsem <- struct{}{}  \n  \n\tdefer func() {  \n\t\t<-sem // ä»»åŠ¡ç»“æŸæ—¶é‡Šæ”¾ä¿¡å·é‡  \n\t}()  \n  \n\t// æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œï¼Œæ¯”å¦‚ç½‘ç»œè¯·æ±‚æˆ–æ•°æ®å¤„ç†  \n\tfmt.Println(\"è¿›æ¥æ‰§è¡Œä»»åŠ¡äº†\", id)  \n\ttime.Sleep(2 * time.Second) // å‡è®¾æ“ä½œéœ€è¦2ç§’é’Ÿ  \n\tresult := fmt.Sprintf(\"å¼‚æ­¥æ“ä½œç»“æœ %d\", id)  \n\tresultChan <- result // å°†ç»“æœå‘é€åˆ°channel  \n}  \n  \nfunc main() {  \n\tconst numOperations = 20  \n\tresults := make([]string, numOperations)  \n\tresultChan := make(chan string) // åˆ›å»ºä¸€ä¸ªç”¨äºæ¥æ”¶ç»“æœçš„channel  \n\tsem := make(chan struct{}, 3)   // åˆ›å»ºä¸€ä¸ªä¿¡å·é‡é€šé“ï¼Œæœ€å¤§å¹¶å‘æ•°ä¸º3  \n  \n\t// å¯åŠ¨æ‰€æœ‰å¼‚æ­¥æ“ä½œgoroutines  \n\tfor i := 0; i < numOperations; i++ {  \n\t\tgo asyncOperation(resultChan, i+1, sem)  \n\t}  \n  \n\t// æ”¶é›†æ‰€æœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœ  \n\tfor i := 0; i < numOperations; i++ {  \n\t\t// ä»channelæ¥æ”¶ç»“æœï¼Œè¿™ä¼šé˜»å¡ç›´åˆ°ç»“æœå¯ç”¨  \n\t\tresults[i] = <-resultChan  \n\t\tfmt.Println(\"å¼‚æ­¥æ“ä½œå®Œæˆ:\", results[i])  \n\t}  \n  \n\t// æ‰€æœ‰ç»“æœéƒ½æ”¶é›†å®Œæ¯•åï¼Œå¯ä»¥ç»§ç»­åç»­å¤„ç†  \n\tfmt.Println(\"æ‰€æœ‰å¼‚æ­¥æ“ä½œå·²å®Œæˆã€‚\")  \n}\n```\n\nåœ¨è¿™ä¸ªä¿®æ”¹åçš„ä»£ç ä¸­ï¼Œæˆ‘æ·»åŠ äº†ä¸€ä¸ªåä¸º `sem` çš„ä¿¡å·é‡é€šé“ï¼Œå…¶ç¼“å†²å¤§å°ä¸º3ï¼Œè¡¨ç¤ºæœ€å¤šå…è®¸3ä¸ªgoroutinesåŒæ—¶è¿è¡Œã€‚åœ¨ `asyncOperation` å‡½æ•°ä¸­ï¼Œæ¯ä¸ªgoroutineåœ¨å¼€å§‹æ‰§è¡Œä»»åŠ¡å‰ä¼šå…ˆå‘ `sem` é€šé“å‘é€ä¸€ä¸ªç©ºç»“æ„ä½“ï¼Œä»¥è·å–ä¸€ä¸ªä¿¡å·é‡ã€‚ä»»åŠ¡å®Œæˆåï¼Œå®ƒä¼šä» `sem` é€šé“ä¸­æ¥æ”¶ä¸€ä¸ªç©ºç»“æ„ä½“æ¥é‡Šæ”¾ä¿¡å·é‡ï¼Œä»è€Œå…è®¸å…¶ä»–ç­‰å¾…çš„goroutineså¼€å§‹æ‰§è¡Œã€‚\n\nè¿™æ ·ï¼Œæ‚¨å°±å¯ä»¥ç¡®ä¿åœ¨ä»»ä½•æ—¶å€™æœ€å¤šåªæœ‰3ä¸ªgoroutinesåœ¨å¹¶å‘æ‰§è¡Œï¼Œä»è€Œé¿å…è¿‡åº¦æ¶ˆè€—ç³»ç»Ÿèµ„æºã€‚\n\n\n\n### æ‰§è¡Œç»“æœï¼š\n\n```\n/usr/local/go/bin/go build -o /private/var/folders/dq/j9svchmn5hdcpr4r4yckxhjr0000gn/T/GoLand/___go_build_test_02_go /code/GolandProjects/test/test_02.go #gosetup\n/private/var/folders/dq/j9svchmn5hdcpr4r4yckxhjr0000gn/T/GoLand/___go_build_test_02_go\nè¿›æ¥æ‰§è¡Œä»»åŠ¡äº† 13\nè¿›æ¥æ‰§è¡Œä»»åŠ¡äº† 3\nè¿›æ¥æ‰§è¡Œä»»åŠ¡äº† 2\nè¿›æ¥æ‰§è¡Œä»»åŠ¡äº† 20\nè¿›æ¥æ‰§è¡Œä»»åŠ¡äº† 1\nè¿›æ¥æ‰§è¡Œä»»åŠ¡äº† 11\nè¿›æ¥æ‰§è¡Œä»»åŠ¡äº† 12\nè¿›æ¥æ‰§è¡Œä»»åŠ¡äº† 4\nå¼‚æ­¥æ“ä½œå®Œæˆ: å¼‚æ­¥æ“ä½œç»“æœ 3\nå¼‚æ­¥æ“ä½œå®Œæˆ: å¼‚æ­¥æ“ä½œç»“æœ 12\nå¼‚æ­¥æ“ä½œå®Œæˆ: å¼‚æ­¥æ“ä½œç»“æœ 1\nå¼‚æ­¥æ“ä½œå®Œæˆ: å¼‚æ­¥æ“ä½œç»“æœ 20\nå¼‚æ­¥æ“ä½œå®Œæˆ: å¼‚æ­¥æ“ä½œç»“æœ 11\nå¼‚æ­¥æ“ä½œå®Œæˆ: å¼‚æ­¥æ“ä½œç»“æœ 2\nå¼‚æ­¥æ“ä½œå®Œæˆ: å¼‚æ­¥æ“ä½œç»“æœ 13\nè¿›æ¥æ‰§è¡Œä»»åŠ¡äº† 5\nè¿›æ¥æ‰§è¡Œä»»åŠ¡äº† 7\nè¿›æ¥æ‰§è¡Œä»»åŠ¡äº† 10\nè¿›æ¥æ‰§è¡Œä»»åŠ¡äº† 8\nè¿›æ¥æ‰§è¡Œä»»åŠ¡äº† 9\nè¿›æ¥æ‰§è¡Œä»»åŠ¡äº† 6\nè¿›æ¥æ‰§è¡Œä»»åŠ¡äº† 17\nå¼‚æ­¥æ“ä½œå®Œæˆ: å¼‚æ­¥æ“ä½œç»“æœ 6\nå¼‚æ­¥æ“ä½œå®Œæˆ: å¼‚æ­¥æ“ä½œç»“æœ 10\nå¼‚æ­¥æ“ä½œå®Œæˆ: å¼‚æ­¥æ“ä½œç»“æœ 8\nå¼‚æ­¥æ“ä½œå®Œæˆ: å¼‚æ­¥æ“ä½œç»“æœ 9\nå¼‚æ­¥æ“ä½œå®Œæˆ: å¼‚æ­¥æ“ä½œç»“æœ 4\nå¼‚æ­¥æ“ä½œå®Œæˆ: å¼‚æ­¥æ“ä½œç»“æœ 5\nå¼‚æ­¥æ“ä½œå®Œæˆ: å¼‚æ­¥æ“ä½œç»“æœ 7\nè¿›æ¥æ‰§è¡Œä»»åŠ¡äº† 14\nè¿›æ¥æ‰§è¡Œä»»åŠ¡äº† 16\nè¿›æ¥æ‰§è¡Œä»»åŠ¡äº† 15\nè¿›æ¥æ‰§è¡Œä»»åŠ¡äº† 19\nè¿›æ¥æ‰§è¡Œä»»åŠ¡äº† 18\nå¼‚æ­¥æ“ä½œå®Œæˆ: å¼‚æ­¥æ“ä½œç»“æœ 17\nå¼‚æ­¥æ“ä½œå®Œæˆ: å¼‚æ­¥æ“ä½œç»“æœ 18\nå¼‚æ­¥æ“ä½œå®Œæˆ: å¼‚æ­¥æ“ä½œç»“æœ 16\nå¼‚æ­¥æ“ä½œå®Œæˆ: å¼‚æ­¥æ“ä½œç»“æœ 15\nå¼‚æ­¥æ“ä½œå®Œæˆ: å¼‚æ­¥æ“ä½œç»“æœ 19\nå¼‚æ­¥æ“ä½œå®Œæˆ: å¼‚æ­¥æ“ä½œç»“æœ 14\næ‰€æœ‰å¼‚æ­¥æ“ä½œå·²å®Œæˆã€‚\n\nè¿›ç¨‹ å·²å®Œæˆï¼Œé€€å‡ºä»£ç ä¸º 0\n\n```\n\n","tags":["go","request","å¼‚æ­¥","http"],"categories":["Golang","å¼‚æ­¥"]},{"title":"go-å¼‚æ­¥è¯·æ±‚èŒƒä¾‹","url":"/2024/06/08/go-å¼‚æ­¥è¯·æ±‚èŒƒä¾‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>go-å¼‚æ­¥è¯·æ±‚èŒƒä¾‹ï¼š</strong></font>\n\n<!--more-->\n\n`github.com/mozillazg/request` æ˜¯ä¸€ä¸ª Go è¯­è¨€çš„ HTTP å®¢æˆ·ç«¯åº“ï¼Œå®ƒæä¾›äº†ç®€å•æ˜“ç”¨çš„ API æ¥å‘é€ HTTP è¯·æ±‚ã€‚ç„¶è€Œï¼Œè¿™ä¸ªåº“æœ¬èº«å¹¶ä¸ç›´æ¥æ”¯æŒå¼‚æ­¥æ“ä½œã€‚åœ¨ Go ä¸­ï¼Œå¼‚æ­¥æ“ä½œé€šå¸¸é€šè¿‡ä½¿ç”¨ goroutine æ¥å®ç°ã€‚\n\nå¦‚æœä½ æƒ³ä½¿ç”¨ `mozillazg/request` åº“è¿›è¡Œå¼‚æ­¥æ“ä½œï¼Œä½ å¯ä»¥å°† HTTP è¯·æ±‚çš„å‘é€åŒ…è£…åœ¨ä¸€ä¸ª goroutine ä¸­ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ goroutine æ¥å¼‚æ­¥å‘é€ HTTP è¯·æ±‚ï¼š\n\n```go\npackage main  \n  \nimport (  \n\t\"fmt\"  \n\t\"github.com/mozillazg/request\"  \n\t\"sync\"  \n)  \n  \nfunc main() {  \n\tvar wg sync.WaitGroup  \n  \n\turls := []string{  \n\t\t\"https://example.com\",  \n\t\t\"https://httpbin.org/get\",  \n\t\t\"https://api.example.com/data\",  \n\t}  \n  \n\tfor _, url := range urls {  \n\t\twg.Add(1)  \n\t\tgo func(url string) {  \n\t\t\tdefer wg.Done()  \n\t\t\tresp, err := request.Get(url)  \n\t\t\tif err != nil {  \n\t\t\t\tfmt.Printf(\"Error fetching URL %s: %s\\n\", url, err)  \n\t\t\t\treturn  \n\t\t\t}  \n\t\t\tfmt.Printf(\"Fetched URL %s with status code: %d\\n\", url, resp.StatusCode)  \n\t\t}(url)  \n\t}  \n  \n\twg.Wait() // ç­‰å¾…æ‰€æœ‰ goroutine å®Œæˆ  \n}\n```\n\nåœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† `sync.WaitGroup` æ¥ç­‰å¾…æ‰€æœ‰çš„ goroutine å®Œæˆã€‚å¯¹äº `urls` åˆ‡ç‰‡ä¸­çš„æ¯ä¸ª URLï¼Œæˆ‘ä»¬å¯åŠ¨äº†ä¸€ä¸ªæ–°çš„ goroutine æ¥å¼‚æ­¥å‘é€ HTTP GET è¯·æ±‚ã€‚å½“æ‰€æœ‰è¯·æ±‚éƒ½å®Œæˆåï¼Œ`wg.Wait()` ä¼šè¿”å›ï¼Œä¸»å‡½æ•°ç»§ç»­æ‰§è¡Œå¹¶é€€å‡ºã€‚\n\nè¯·æ³¨æ„ï¼Œç”±äº HTTP è¯·æ±‚æ˜¯å¼‚æ­¥å‘é€çš„ï¼Œå› æ­¤å“åº”çš„å¤„ç†ä¹Ÿéœ€è¦åœ¨ç›¸åº”çš„ goroutine ä¸­å®Œæˆï¼Œä»¥é¿å…ç«æ€æ¡ä»¶ã€‚\n\nå¦å¤–ï¼Œå¦‚æœä½ å‘ç° `mozillazg/request` åº“ä¸æ»¡è¶³ä½ çš„å¼‚æ­¥éœ€æ±‚ï¼Œä½ ä¹Ÿå¯ä»¥è€ƒè™‘ä½¿ç”¨ Go æ ‡å‡†åº“ä¸­çš„ `net/http` åŒ…æ¥æ‰‹åŠ¨ç®¡ç†å¼‚æ­¥ HTTP è¯·æ±‚ï¼Œæˆ–è€…ä½¿ç”¨å…¶ä»–æ”¯æŒå¼‚æ­¥æ“ä½œçš„ HTTP å®¢æˆ·ç«¯åº“ï¼Œå¦‚ `github.com/valyala/fasthttp`ã€‚\n\nè¿˜è¦æ³¨æ„çš„æ˜¯ï¼Œ`mozillazg/request` åº“å¯èƒ½ä¸æ˜¯æœ€æµè¡Œæˆ–æœ€ç»´æŠ¤çš„ Go HTTP å®¢æˆ·ç«¯åº“ã€‚æ›´å¸¸ç”¨çš„åº“åŒ…æ‹¬ Go æ ‡å‡†åº“çš„ `net/http` å®¢æˆ·ç«¯æˆ–ç¬¬ä¸‰æ–¹åº“å¦‚ `github.com/go-resty/resty/v2`ã€‚åœ¨é€‰æ‹©åº“æ—¶ï¼Œè¯·è€ƒè™‘åº“çš„æ´»è·ƒåº¦ã€ç¤¾åŒºæ”¯æŒå’ŒåŠŸèƒ½é›†ã€‚","tags":["go","request","å¼‚æ­¥","http"],"categories":["Golang","å¼‚æ­¥"]},{"title":"go-è·å–å˜é‡çš„ç±»å‹","url":"/2024/06/08/go-è·å–å˜é‡çš„ç±»å‹/","content":"\n### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>go-è·å–å˜é‡çš„ç±»å‹ï¼š</strong></font>\n\n<!--more-->\n\n```go\npackage main\n\nimport (\n\t\"fmt\"\n\t\"github.com/mozillazg/request\"\n\t\"net/http\"\n\t\"reflect\"\n)\n\nfunc main() {\n\tc := new(http.Client)\n\treq := request.NewRequest(c)\n\n\treq.Headers = map[string]string{\n\t\t\"Accept-Encoding\": \"gzip,deflate,sdch\",\n\t\t\"Accept\":          \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\",\n\t}\n\ttypeOfX := reflect.TypeOf(req.Headers)\n\n\tfmt.Println(typeOfX)\n}\n\n// æœ€ç»ˆæ‰“å°ç»“æœ : map[string]string\n\n```\n\n","tags":["go","åŸºç¡€"],"categories":["Golang","åŸºç¡€"]},{"title":"goqueryçš„ä½¿ç”¨-ç±»ä¼¼äºPythonçš„lxmlåº“","url":"/2024/06/08/goqueryçš„ä½¿ç”¨-ç±»ä¼¼äºPythonçš„lxmlåº“/","content":"\n### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>goqueryçš„ä½¿ç”¨-ç±»ä¼¼äºPythonçš„lxmlåº“ï¼š</strong></font>\n\n<!--more-->\n\n```go\n// goquery å¸¸è§„ç”¨æ³•\n\n// strings.NewReader(html)ï¼šå°†å­—ç¬¦ä¸²htmlè½¬æ¢ä¸ºä¸€ä¸ªReaderæ¥å£ï¼Œè¿™æ ·goqueryå¯ä»¥ä»è¿™ä¸ªå­—ç¬¦ä¸²ä¸­è¯»å–HTMLå†…å®¹ã€‚\n// goquery.NewDocumentFromReader(...)ï¼šä½¿ç”¨goqueryåº“ä»æä¾›çš„Readeræ¥å£ä¸­è§£æHTMLï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„goqueryæ–‡æ¡£å¯¹è±¡ã€‚è¿™ä¸ªå‡½æ•°è¿”å›ä¸¤ä¸ªå€¼ï¼Œç¬¬ä¸€ä¸ªæ˜¯è§£æåçš„æ–‡æ¡£å¯¹è±¡ï¼Œç¬¬äºŒä¸ªæ˜¯å¯èƒ½å‡ºç°çš„é”™è¯¯ã€‚åœ¨è¿™é‡Œï¼Œé”™è¯¯å€¼è¢«å¿½ç•¥ï¼ˆä½¿ç”¨_ï¼‰ã€‚\ndom, _ := goquery.NewDocumentFromReader(strings.NewReader(html))\n\n// om.Find(\"tr\")ï¼šåœ¨è§£æåçš„HTMLæ–‡æ¡£ä¸­æŸ¥æ‰¾æ‰€æœ‰çš„<tr>å…ƒç´ ã€‚\n// EachWithBreak(...)ï¼šå¯¹æ‰¾åˆ°çš„æ¯ä¸€ä¸ª<tr>å…ƒç´ æ‰§è¡Œä¸€ä¸ªå‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°å¯ä»¥è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼æ¥å†³å®šæ˜¯å¦ç»§ç»­è¿­ä»£ã€‚å¦‚æœè¿”å›falseï¼Œåˆ™åœæ­¢è¿­ä»£ã€‚\ndom.Find(\"tr\").EachWithBreak(func(i int, s *goquery.Selection) bool {\n  \n  // s.Find(\"a\")ï¼šåœ¨å½“å‰<tr>å…ƒç´ å†…æŸ¥æ‰¾æ‰€æœ‰çš„<a>æ ‡ç­¾ã€‚\n  // .Eq(0)ï¼šé€‰æ‹©ç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„<a>æ ‡ç­¾ã€‚\n  // .Text()ï¼šè·å–è¯¥<a>æ ‡ç­¾çš„æ–‡æœ¬å†…å®¹ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™_titleã€‚\n   _title := s.Find(\"a\").Eq(0).Text()\n  \n  // s.Find(\"td\")ï¼šåœ¨å½“å‰<tr>å…ƒç´ å†…æŸ¥æ‰¾æ‰€æœ‰çš„<td>å…ƒç´ ã€‚\n  // .Eq(2)ï¼šé€‰æ‹©ç¬¬ä¸‰ä¸ª<td>å…ƒç´ ï¼ˆç´¢å¼•ä»0å¼€å§‹ï¼‰ã€‚\n  // .Text()ï¼šè·å–è¯¥<td>å…ƒç´ çš„æ–‡æœ¬å†…å®¹ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™_authorã€‚\n   _author := s.Find(\"td\").Eq(2).Text()\n  \n  //åˆ¤æ–­å½“å‰<tr>å…ƒç´ ä¸­çš„æ ‡é¢˜ï¼ˆ<a>æ ‡ç­¾çš„æ–‡æœ¬ï¼‰æ˜¯å¦ç­‰äºnameï¼Œå¹¶ä¸”ä½œè€…ï¼ˆç¬¬ä¸‰ä¸ª<td>å…ƒç´ çš„æ–‡æœ¬ï¼‰æ˜¯å¦ç­‰äºauthor\n   if _title == name && _author == author {\n     \n     // è·å–å½“å‰<tr>å…ƒç´ ä¸­ç¬¬ä¸€ä¸ª<a>æ ‡ç­¾çš„hrefå±æ€§ã€‚urlæ˜¯å±æ€§çš„å€¼ï¼Œexistsæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å±æ€§æ˜¯å¦å­˜åœ¨ã€‚\n      url, exists := s.Find(\"a\").Eq(0).Attr(\"href\")\n     \n     // å¦‚æœhrefå±æ€§ä¸å­˜åœ¨ï¼Œåˆ™æ‰§è¡Œæ‹¬å·å†…çš„ä»£ç ã€‚ä½†æ³¨æ„ï¼Œè¿™é‡Œçš„é€»è¾‘å¯èƒ½æœ‰äº›é—®é¢˜ï¼Œå› ä¸ºå½“hrefä¸å­˜åœ¨æ—¶ï¼Œç¨‹åºä¼šè®°å½•ä¸€ä¸ªè‡´å‘½é”™è¯¯å¹¶é€€å‡ºï¼Œè¿™å¯èƒ½ä¸æ˜¯é¢„æœŸçš„è¡Œä¸ºã€‚é€šå¸¸ï¼Œæˆ‘ä»¬å¯èƒ½åªæƒ³è·³è¿‡å½“å‰å¾ªç¯æˆ–è®°å½•ä¸€ä¸ªéè‡´å‘½çš„é”™è¯¯ã€‚\n      if !exists {\n         Err = nil\n         log.Fatal(exists)\n      }\n     \n     // å¦‚æœæ‰¾åˆ°äº†åŒ¹é…çš„æ ‡é¢˜å’Œä½œè€…ï¼Œä¸”<a>æ ‡ç­¾æœ‰hrefå±æ€§ï¼Œåˆ™å°†urlèµ‹å€¼ç»™targetUrl\n      targetUrl = url\n   }\n  //åœ¨EachWithBreakçš„å›è°ƒå‡½æ•°ç»“æŸæ—¶è¿”å›trueï¼Œè¡¨ç¤ºç»§ç»­è¿­ä»£ä¸‹ä¸€ä¸ª<tr>å…ƒç´ ã€‚å¦‚æœæƒ³åœ¨æŸä¸ªæ¡ä»¶ä¸‹åœæ­¢è¿­ä»£ï¼Œå¯ä»¥è¿”å›false\n   return true\n})\n```\n\n","tags":["goquery","htmlè§£æ"],"categories":["Golang","çˆ¬è™«"]},{"title":"go-å‘èµ·ç½‘ç»œè¯·æ±‚","url":"/2024/06/08/go-å‘èµ·ç½‘ç»œè¯·æ±‚/","content":"\n### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>go-å‘èµ·ç½‘ç»œè¯·æ±‚ï¼š</strong></font>\n\n<!--more-->\n\n```go\npackage main\n\nimport (\n\t\"github.com/mozillazg/request\"\n\t\"log\"\n\t\"net/http\"\n)\n\nfunc main() {\n\t// requestè¯·æ±‚åº“å¸¸è§„ç”¨æ³•ï¼Œç”¨æ¥å‘èµ·è¯·æ±‚ï¼Œè·å–å“åº”\n\tc := new(http.Client)     //new åˆå§‹åŒ–ä¸€ä¸ª æ–°çš„ http.Client å®ä¾‹ åˆ†é…ä¸ª å˜é‡ c\n\treq := request.NewRequest(c)   // request.NewRequest åˆ›å»ºä¸€ä¸ªæ–°çš„httpè¯·æ±‚\n  \n  // æ·»åŠ å¤´éƒ¨ä¿¡æ¯\n\treq.Headers = map[string]string{\n\t\t\"Accept-Encoding\": \"gzip,deflate,sdch\",\n\t\t\"Accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\",\n\t}\n\treq.Data = map[string]string{\n\t\t\"searchkey\": name,\n\t}\n\turl := \"https://www.xbiquge.la/modules/article/waps.php\"\n\tresp, _ := req.Post(url)\n\tdefer resp.Body.Close() // ä¸è¦å¿˜è®°å…³é—­å“åº”ä½“\n\n\thtml, err := resp.Text()\n\tif err != nil {\n\t\tErr = err\n\t\tlog.Fatal(err)\n\t}\n\tprintln(html)\n}\n```\n\n### æ·»åŠ å¤´éƒ¨ä¿¡æ¯ç¬¬äºŒç§æ–¹å¼ï¼š\n\nç¬¬ä¸€ç§æ–¹å¼åœ¨ä¸Šé¢çš„ä»£ç ä¸­\n\n```go\n// ç”¨setçš„æ–¹æ³• è®¾ç½®å¤´éƒ¨ä¿¡æ¯\npackage main\n\nimport (\n\t\"github.com/mozillazg/request\"\n\t\"log\"\n\t\"net/http\"\n)\n\nfunc main() {\n\t// requestè¯·æ±‚åº“å¸¸è§„ç”¨æ³•ï¼Œç”¨æ¥å‘èµ·è¯·æ±‚ï¼Œè·å–å“åº”\n\tc := new(http.Client)     //new åˆå§‹åŒ–ä¸€ä¸ª æ–°çš„ http.Client å®ä¾‹ åˆ†é…ä¸ª å˜é‡ c\n\treq := request.NewRequest(c)   // request.NewRequest åˆ›å»ºä¸€ä¸ªæ–°çš„httpè¯·æ±‚\n  \n  // æ·»åŠ å¤´éƒ¨ä¿¡æ¯  Header.Set æ–¹æ³•ä¼šè‡ªåŠ¨å¤„ç†å¤´éƒ¨çš„é”®ï¼Œä½¿å…¶ç¬¦åˆ HTTP æ ‡å‡†\n  req.Header.Set(\"Accept-Encoding\", \"gzip,deflate,sdch\")  \n  req.Header.Set(\"Accept\", \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\")\n}\n```\n\n### å¦å¤–ï¼šå¦‚æœä¸€ä¸ªé”®ä¸­å­˜åœ¨å¤šä¸ªå€¼ï¼Œä¸Šé¢çš„æ–¹æ³•å°±ä¸å®ç”¨äº†ï¼Œéœ€è¦ç”¨ä¸‹é¢çš„æ–¹æ³•æ·»åŠ (å‘èµ·ç½‘ç»œè¯·æ±‚çš„é‚£ä¸ªä¸é™åˆ¶)\n\n```go\n// ç”¨setçš„æ–¹æ³• è®¾ç½®å¤´éƒ¨ä¿¡æ¯\npackage main\n\nimport (\n\t\"github.com/mozillazg/request\"\n\t\"log\"\n\t\"net/http\"\n)\n\nfunc main() {\n\t// requestè¯·æ±‚åº“å¸¸è§„ç”¨æ³•ï¼Œç”¨æ¥å‘èµ·è¯·æ±‚ï¼Œè·å–å“åº”\n\tc := new(http.Client)     //new åˆå§‹åŒ–ä¸€ä¸ª æ–°çš„ http.Client å®ä¾‹ åˆ†é…ä¸ª å˜é‡ c\n\treq := request.NewRequest(c)   // request.NewRequest åˆ›å»ºä¸€ä¸ªæ–°çš„httpè¯·æ±‚\n  \n  // æ·»åŠ å¤´éƒ¨ä¿¡æ¯  Header.Set æ–¹æ³•ä¼šè‡ªåŠ¨å¤„ç†å¤´éƒ¨çš„é”®ï¼Œä½¿å…¶ç¬¦åˆ HTTP æ ‡å‡†\n  req.Header.Set(\"Accept\", \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\")\n  \n  // è¿™æ ·å°±åœ¨ Accept-Encoding ä¸­åŒæ—¶æ·»åŠ äº† ä¸‰ä¸ªå€¼\n  req.Header.Add(\"Accept-Encoding\", \"gzip\")  \n  req.Header.Add(\"Accept-Encoding\", \"deflate\")  \n  req.Header.Add(\"Accept-Encoding\", \"sdch\")\n}\n```","tags":["web"],"categories":["Golang","ç½‘ç»œè¯·æ±‚"]},{"title":"python-Djangoé¡¹ç›®é€šè¿‡ç¼–è¯‘ä¸º.pyc-å½¢å¼å‘å¸ƒ","url":"/2024/06/03/python-Djangoé¡¹ç›®é€šè¿‡ç¼–è¯‘ä¸º-pyc-å½¢å¼å‘å¸ƒ/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>python Djangoé¡¹ç›®é€šè¿‡ç¼–è¯‘ä¸º.pyc å½¢å¼å‘å¸ƒï¼š</strong></font>\n\n<!--more-->\n\n\n\n## ä¸€ã€æ‰¹é‡ç¼–è¯‘ä»£ç \n\nåˆ›å»ºcompile_pyc.pyï¼Œä»£ç å¦‚ä¸‹ï¼š\n\n```python\nimport os\nimport sys\nimport shutil\nfrom py_compile import compile\n\ndef clean(path):\n    for parent, dirname, filename in os.walk(path):\n        for dir in dirname:\n            if dir == '__pycache__':\n                try:\n                    fullname = os.path.join(parent, dir)\n                    shutil.rmtree(fullname)\n                    print(\"Success clean Folder:%s\" % fullname)\n                except Exception as e:\n                    print(\"Can't clean Folder:%s, reason:%s\" % (fullname, e))\n\ndef compile_pyc(path):\n    for parent, dirname, filename in os.walk(path):\n        for cfile in filename:\n            fullname = os.path.join(parent, cfile)\n            if cfile[-3:] == '.py':\n                try:\n                    if compile(fullname):\n                        if cfile != 'settings.py' and cfile != 'wsgi.py':\n                            os.remove(fullname) #åˆ é™¤åŸæ–‡ä»¶ï¼Œä¿ç•™settings.pyå’Œwsgi.py\n                        print(\"Success compile and remove file:%s\" % fullname)\n                    else:\n                        print(\"Can't compile file:%s,The original file has been retained\" % fullname)\n                except Exception as e:\n                    print(\"Can't compile file:%s, reason:%s\" % (fullname, e))\n\ndef move(path):\n    for parent, dirname, filename in os.walk(path):\n        for c_file in filename:\n            fullname = os.path.join(parent, c_file)\n            if c_file[-4:] == '.pyc':\n                try:\n                    parent_path = os.path.dirname(parent)\n                    shutil.move(fullname, parent_path)\n                    print('update the dir of file successfully')\n                except Exception as e:\n                    print(\"Can't move file:%s, reason:%s\" % (fullname, e))\n\ndef replace_name(path):\n    for parent, dirname, filename in os.walk(path):\n        for c_file in filename:\n            fullname = os.path.join(parent, c_file)\n            if c_file[-4:] == '.pyc':\n                try:\n                    cfile_name = ''\n                    cfile_list = c_file.split('.')\n                    version = sys.version_info\n                    replace_name = 'cpython-' + str(version[0])+str(version[1])\n                    for i in range(len(cfile_list)):\n                        if cfile_list[i] == replace_name:\n                            continue\n                        cfile_name += cfile_list[i]\n                        if i == len(cfile_list) - 1:\n                            continue\n                        cfile_name += '.'\n                    shutil.move(fullname, os.path.join(parent, cfile_name))\n                    print('update the name of the file successfully')\n                except Exception as e:\n                    print(\"Can't remove file:%s, reason:%s\" % (fullname, e))\n\nif __name__ == '__main__':\n    if len(sys.argv) == 3:\n        cmd = sys.argv[1]\n        path = sys.argv[2]\n        if os.path.exists(path) and os.path.isdir(path):\n            if cmd == 'clean':\n                clean(path)\n            elif cmd == 'move':\n                move(path)\n            elif cmd == 'replace_name':\n                replace_name(path)\n            elif cmd == 'compile_pyc':\n                compile_pyc(path)\n            elif cmd == 'compile':\n                clean(path)\n                compile_pyc(path)\n                move(path)\n                replace_name(path)\n                clean(path)\n            else:\n                print('æ²¡æœ‰è¯¥å‘½ä»¤')\n        else:\n            print(\"Not an directory or Direcotry doesn't exist!\")\n    else:\n        print(\"åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤:\")\n        print(\"\\tpython3 compile_pyc.py compile_pyc PATH\\t\\t#ç”Ÿæˆpycæ–‡ä»¶\")\n        print(\"\\tpython3 compile_pyc.py move PATH\\t\\t#ç§»åŠ¨æ‰€æœ‰pycæ–‡ä»¶è‡³åŸä½ç½®\")\n        print(\"\\tpython3 compile_pyc.py replace_name PATH\\t\\t#ä¿®æ”¹æ–‡ä»¶åæ–‡ä»¶\")\n        print(\"\\tpython3 compile_pyc.py clean PATH\\t\\t#æ¸…é™¤å½“å‰é¡¹ç›®ä¸­æ‰€æœ‰çš„__pycache__æ–‡ä»¶å¤¹åŠä»¥å†…æ–‡ä»¶\")\n        print(\"\\tpython3 compile_pyc.py compile PATH\\t\\t#ä¸€é”®ç¼–è¯‘pyc\")\n\n\n```\n\n## äºŒã€è¿è¡Œå‘½ä»¤\n\né€æ­¥è¿è¡Œä»¥ä¸‹å‘½ä»¤\n\n```bash\npython3 compile_pyc.py clean <PATH> #æ¸…é™¤å½“å‰é¡¹ç›®ä¸­æ‰€æœ‰çš„__pycache__æ–‡ä»¶å¤¹åŠä»¥å†…æ–‡ä»¶\npython3 compile_pyc.py compile_pyc <PATH> #ç”Ÿæˆ.pycæ–‡ä»¶ï¼Œå¹¶åˆ é™¤æºæ–‡ä»¶\npython3 compile_pyc.py move <PATH> #å°†.pycæ–‡ä»¶ç§»åŠ¨åˆ°åŸpyæ–‡ä»¶ç›®å½•ä¸‹\npython3 compile_pyc.py replace_name <PATH> #å»æ‰.pycæ–‡ä»¶åä¸­çš„ç‰ˆæœ¬å·\npython3 compile_pyc.py clean <PATH>\n```\n\næˆ–è€…ç›´æ¥è¿è¡Œä»¥ä¸‹ä¸€æ¡å‘½ä»¤å°±å¯ä»¥\n\n```bash\npython3 compile_pyc.py compile <PATH>\n```\n\n## ä¸‰ã€æ³¨æ„\n\nä¿ç•™äº†`settings.py`å’Œ`wsgi.py`è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œæ–¹ä¾¿æ”¹å˜é…ç½®ï¼Œä»¥åŠä¹‹åçš„`uwsgi`éƒ¨ç½²\n\nå¤šæ¬¡è¿è¡Œï¼Œ.pycä¼šç§»åŠ¨é”™ä¹±ï¼Œä¿è¯åªç§»åŠ¨åœ¨`__pycache__`ä¸‹çš„.pycæ–‡ä»¶ï¼Œä¿®æ”¹moveä»£ç \n\n```python\ndef move(path):\n    for parent, dirname, filename in os.walk(path):\n        for c_file in filename:\n            fullname = os.path.join(parent, c_file)\n            if os.path.basename(parent) == '__pycache__':\n                if c_file[-4:] == '.pyc':\n                    try:\n                        parent_path = os.path.dirname(parent)\n                        shutil.move(fullname, parent_path)\n                        print('update the dir of file successfully')\n                    except Exception as e:\n                        print(\"Can't move file:%s, reason:%s\" % (fullname, e))\n```\n\n","tags":["django","ç¼–è¯‘","pyc","åŠ å¯†"],"categories":["Python","Django"]},{"title":"Centos7å®‰è£…Python3å’Œå‡çº§SQLiteé«˜ç‰ˆæœ¬","url":"/2024/06/01/Centos7å®‰è£…Python3å’Œå‡çº§SQLiteé«˜ç‰ˆæœ¬/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>æ¦‚è¦ï¼š</strong></font>\n\n<!--more-->\n\nç¼–å†™æ­¤æ–‡æ˜¯å› ä¸ºåœ¨Linuxä¸Šè·‘Djangoé¡¹ç›®æ—¶æŠ¥é”™ï¼šsqlite3.NotSupportedError: deterministic=True requires SQLite 3.8.3 or higheï¼ˆæ­¤æ—¶å·²ç»å®‰è£…äº†python3ï¼‰ã€‚æŸ¥è¯¢ä¹‹åå‘ç°æ˜¯å› ä¸ºcentosä¸Šçš„sqlite3ç‰ˆæœ¬è¿‡ä½å¯¼è‡´ã€‚\nå»éªŒè¯ä¸€ä¸‹ï¼šåœ¨centosä¸Šè¿›å…¥pythonï¼Œå¯ä»¥çœ‹åˆ°`sqlite3`çš„ç‰ˆæœ¬ä¸º`3.7.17`ã€‚\n\n```bash\nPython 3.8.12 (default, Jun 21 2019, 00:36:41)\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-36)] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import sqlite3\n>>> sqlite3.sqlite_version\n'3.7.17'\n>>> exit()\n```\n\n### åŸå› å·²ç»æ‰¾åˆ°ï¼Œä¸‹é¢å¼€å§‹æ‰§è¡Œã€‚\n\nå› ä¸ºsqlite3æ˜¯åœ¨python3å®‰è£…æ—¶è¿›è¡Œè¿æ¥çš„ï¼Œæˆ‘çš„äº‘æœåŠ¡å™¨å·²ç»å®‰è£…è¿‡äº†ï¼Œæ‰€ä»¥éœ€è¦å¸è½½ï¼Œå¦‚æœè¿˜æ²¡æœ‰å®‰è£…python3çš„ï¼Œå¯ä»¥è·³è¿‡è¿™ä¸€æ­¥ã€‚\n\næ³¨ï¼šæ­¤å¤„ä»…åˆ é™¤python3ï¼Œå°½é‡åˆ«åˆ é™¤åŸè£…çš„python2.7.5ï¼Œå› ä¸ºcentos7æœ‰ä¸€äº›å‘½ä»¤æ˜¯ä¾èµ–2.7.5çš„ã€‚\n\n```\nwhereis python3 |xargs rm -frv   # æ­¤ä¸ºå¼ºåˆ¶åˆ é™¤ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨yumå‘½ä»¤åˆ é™¤\n```\n\n### äºŒã€ä¸‹è½½ã€ç¼–è¯‘ã€å®‰è£…æ–°ç‰ˆ`SQLite`\n\n#### 1.ä¸‹è½½æ–°ç‰ˆsqlite\n\næ³¨ï¼šæ­¤å¤„ç»™ä¸¤ç§ä¸‹è½½æ–¹æ³•ï¼Œéƒ½å¯ä»¥ä½¿\n\nï¼ˆ1ï¼‰ä¸‹è½½å‰éœ€è¦å»ºç«‹ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç”¨äºæ”¾ç½®å‹ç¼©åŒ…ã€‚æ­¤å¤„é€‰æ‹©/homeä¸ºä¸»ç›®å½•ï¼Œå¯ä»¥æ ¹æ®è‡ªèº«ä¹ æƒ¯æ›´æ”¹ä¸‹è½½å­˜å‚¨åœ°å€ã€‚\n\n```\nmkdir /root/sqlite3\n```\n\n#### 2.ä½¿ç”¨wgetä¸‹è½½\n\nåˆ°SQLiteå®˜ç½‘çš„ä¸‹è½½é¡µé¢ï¼šhttps://sqlite.org/download.html è¿™é‡Œæ˜¯æœ€æ–°çš„ç‰ˆæœ¬ã€‚\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://s2.loli.net/2024/06/01/cZBAPEHd2DfwgSm.png)\n\næºç æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œé€‰æ‹©ç¬¬äºŒä¸ªï¼ˆ`sqlite-autoconf-3420000.tar.gz`ï¼‰ï¼Œå› ä¸ºè¿™ä¸ªæœ‰é…ç½®æ–‡ä»¶ã€‚å¤åˆ¶å…¶é“¾æ¥ï¼Œç„¶ååœ¨ç»ˆç«¯æ‰§è¡Œï¼š\n\n```bash\ncd /home/tools/sqlite3  #åˆ‡æ¢åˆ°ä¸‹è½½è·¯å¾„\nwget https://www.sqlite.org/2024/sqlite-autoconf-3460000.tar.gz  #æ‰§è¡Œä¸‹è½½\n```\n\nç­‰å¾…ä¸‹è½½å®Œæ¯•å³å¯\n\n### 3.æœ¬åœ°ä¸‹è½½ï¼Œå†ä¸Šä¼ åˆ°äº‘æœåŠ¡å™¨\n\nè¿˜æ˜¯è¿™ä¸ªç½‘å€ï¼šhttps://sqlite.org/download.html ï¼Œç„¶åç‚¹å‡»ï¼ˆsqlite-autoconf-3420000.tar.gzï¼‰ç›´æ¥ä¸‹è½½åˆ°Windowsæœ¬åœ°\n\nç„¶åé€šè¿‡electermçš„sftpç›´æ¥ä¸Šä¼ åˆ°/home/tools/sqlite3\n\nä¸Šä¼ æ–¹å¼ä¸ä¸€ï¼Œè‡ªè¡Œé€‰æ‹©ï¼ˆXshellæˆ–è€…Winscpéƒ½å¯)\n### 4.è§£å‹\n\n```bash\ntar -zxvf sqlite-autoconf-3420000.tar.gz \n```\n\nè§£å‹åå¯ä»¥çœ‹åˆ°æœ‰æ–°çš„æ–‡ä»¶å¤¹ï¼šsqlite-autoconf-3420000ï¼Œè¿›å…¥è¯¥ç›®å½•è¿›è¡Œsqlite3çš„ç¼–è¯‘å’Œå®‰è£…ã€‚\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://s2.loli.net/2024/06/01/QRNo3wVPsOFUBeq.png)\n\n```bash\ncd sqlite-autoconf-3420000\n```\n\n### 2.ç¼–è¯‘å’Œå®‰è£…\n\n```bash\n# ï¼ˆ1ï¼‰æ–°å»ºå®‰è£…ç›®å½•ï¼ˆæ ¹æ®è‡ªå·±ä¹ æƒ¯é€‰æ‹©å®‰è£…è·¯å¾„ï¼‰\nmkdir /usr/local/sqlite3.42\n# ï¼ˆ2ï¼‰ç¼–è¯‘\n./configure --prefix=/usr/local/sqlite3.42/\n# å›ºå®šè¯­æ³•ï¼Œâ€˜â€“prefixâ€™åæ¥å®‰è£…è·¯å¾„ã€‚ç»“æŸæ—¶æç¤ºï¼šComplete!å³å¯\n\n# ï¼ˆ3ï¼‰å®‰è£…\nmake clean   # æ¸…é™¤ç¼“å­˜\nmake && make install  # å®‰è£…\n```\n\næç¤ºï¼šSuccessfullyâ€¦å³å¯ï¼Œå¦åˆ™æ¸…é™¤ç¼“å­˜åï¼Œé‡æ–°ç¼–è¯‘\n\nä»¥ä¸Šè¿°æ–¹å¼å®‰è£…åï¼Œä¼šæŠŠç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶å®‰è£…åˆ°`/usr/local/sqlite3.42/lib`ï¼Œ æŠŠå¤´æ–‡ä»¶`sqlite3.h sqlite3ext.h`å®‰è£…åˆ°`/usr/local/sqlite3.42/include`ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“è¿™ä¸¤ä¸ªè·¯å¾„ã€‚\n\n#### ï¼ˆ4ï¼‰å»ºç«‹è½¯è¿æ¥ï¼ˆå¿«æ·æ–¹å¼ï¼‰\n\n```bash\ncd /usr/bin   # åˆ‡æ¢åˆ°binè·¯å¾„\nls -la sqlite*  # æŸ¥çœ‹sqliteå·²ç»å­˜åœ¨çš„è½¯è¿æ¥\nè‹¥æç¤ºï¼šls: cannot access sqlite*: No such file or directoryã€‚åˆ™è¿˜æœªå»ºç«‹è½¯è¿æ¥ï¼Œç›´æ¥æ‰§è¡Œä¸‹é¢çš„ä»£ç ï¼Œå»ºç«‹è½¯è¿æ¥å³å¯\nln -s /usr/local/sqlite3.42/bin/sqlite3 /usr/bin/sqlite3\n```\n\næ³¨ï¼šå…¶ä¸­`/usr/local/sqlite3.42/bin/sqlite3`ä¸ºsqlite3çš„å®‰è£…è·¯å¾„ä¸‹çš„binè·¯å¾„ä¸­çš„sqlite3ï¼Œ`/usr/bin/sqlite3`ä¸ºå›ºå®šä½ç½®\n\nè‹¥æ˜¾ç¤º\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://s2.loli.net/2024/06/01/DKIgqOE1vpbc8sk.png)\n\néœ€è¦å…ˆåˆ é™¤è¯¥è½¯è¿æ¥ï¼Œå†æ–°å»º\n\n```bash\nrm -rf sqlite3   # åˆ é™¤\nln -s /usr/local/sqlite3.42/bin/sqlite3 /usr/bin/sqlite3   # æ–°å»º\nls -la sqlite*  # æŸ¥çœ‹è½¯è¿æ¥\nsqlite3 --version  # æŸ¥çœ‹ç‰ˆæœ¬\n```\n\næœ€ç»ˆæ•ˆæœä¸º\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://s2.loli.net/2024/06/01/zeOsb495yZ2nRmH.png)\n\n##### ï¼ˆ5ï¼‰é…ç½®ç³»ç»Ÿlibåº“\n\n```bash\necho \"/usr/local/sqlite3.42/lib\" > /etc/ld.so.conf.d/sqlite3.conf\nldconfig\n```\n\n### ä¸‰ã€ä¸‹è½½ã€ç¼–è¯‘å’Œå®‰è£…Python3\n\n#### 1.ä¸‹è½½\n\nä¸‹è½½æ–¹æ³•å’Œsqlite3çš„ä¸‹è½½ç›¸ä¼¼ã€‚æœ¬æ–‡å®‰è£…çš„python3.8.12ç‰ˆæœ¬ï¼Œå®˜ç½‘åœ°å€ä¸ºï¼šhttps://www.python.org/ftp/python/3.8.12/\n\n```bash\nmkdir /home/tools/python3    # æ–°å»ºä¸‹è½½å­˜å‚¨è·¯å¾„\ncd /home/tools/python3    # åˆ‡æ¢åˆ°å­˜å‚¨è·¯å¾„\nwget https://www.python.org/ftp/python/3.8.12/Python-3.8.12.tar.xz  # ä½¿ç”¨wgetç›´æ¥ä¸‹è½½\n```\n\nåŒæ ·çš„ï¼Œä¹Ÿå¯ä»¥åœ¨æœ¬åœ°ä¸‹è½½ä¹‹åï¼Œé€šè¿‡ftpä¸Šä¼ ã€‚\n\n```bash\ntar -zxvf Python-3.8.12.tgz  # è§£å‹\n```\n\nè§£å‹ä¹‹åå¯ä»¥çœ‹åˆ°å¤šäº†ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç›´æ¥åˆ‡æ¢è¿‡å»\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://s2.loli.net/2024/06/01/XrVREg3cFvqDQLl.png)\n\n```\ncd Python-3.8.12/\n```\n\n#### 2.ç¼–è¯‘å®‰è£…\n\n##### ï¼ˆ1ï¼‰å®‰è£…\n\nç¼–è¯‘å®‰è£…ä¹‹å‰å»ºè®®åœ¨/usr/localè·¯å¾„ä¸‹å»ºç«‹å®‰è£…è·¯å¾„ï¼ˆæ ¹æ®è‡ªèº«ä¹ æƒ¯é€‰æ‹©ï¼‰\n\n```bash\nmkdir /usr/local/python3\n```\n\nåŸæœ¬python3çš„ç¼–è¯‘ä¸ºä¸‹é¢çš„æ–¹æ³•ï¼Œä½†æ˜¯ï¼Œæ²¡æœ‰åŠ å‚æ•°çš„é»˜è®¤å®‰è£…ï¼Œpythonä¼šè‡ªåŠ¨å¯¼å…¥åŸç‰ˆæœ¬çš„sqlite3.7.17ï¼Œ\n\n```bash\ncd /home/tools/python/Python-3.8.12/   # åˆ‡æ¢åˆ°è§£å‹åçš„è·¯å¾„\n./configure --prefix=/usr/local/python3  # ç¼–è¯‘ï¼Œâ€˜--prefixâ€™åæ¥å®‰è£…è·¯å¾„\nmake clean   # æ¸…é™¤ç¼“å­˜\nmake && make install   # å®‰è£… \n```\n\nå°†ä¸Šè¿°ä»£ç ä¿®æ”¹ä¸º:\n\n```bash\ncd /home/tools/python/Python-3.8.12/   # åˆ‡æ¢åˆ°è§£å‹åçš„è·¯å¾„\n# ç¼–è¯‘ï¼Œâ€˜--prefixâ€™åæ¥å®‰è£…è·¯å¾„ï¼Œå…¶ä¸­LD_RUN_PATHå’ŒLDFLAGSä¸ºsqlite3çš„äºŒè¿›åˆ¶æ–‡ä»¶ä½ç½®è·¯å¾„ï¼ŒCPPFLAGSæ˜¯å¤´æ–‡ä»¶çš„ä½ç½®è·¯å¾„ã€‚ä¸Šé¢å®‰è£…sqlite3æ—¶å·²ç»æåˆ°ã€‚\nLD_RUN_PATH=/usr/local/sqlite3.42/lib/ ./configure LDFLAGS=\"-L/usr/local/sqlite3.42/lib\" CPPFLAGS=\"-I/usr/local/sqlite3.42/include\"  --prefix=/usr/local/python3/ --enable-shared --with-ssl\n\nLD_RUN_PATH=/usr/local/sqlite3.42/lib/ make  # ç¼–è¯‘æ—¶å°†sqlite3çš„äºŒè¿›åˆ¶æ–‡ä»¶è·¯å¾„æ·»åŠ åˆ°åŠ¨æ€é“¾æ¥åº“çš„æœç´¢è·¯å¾„ä¸­\nmake clean   # æ¸…é™¤ç¼“å­˜\nmake && make install  # å®‰è£…\n```\n\n##### ï¼ˆ2ï¼‰å»ºç«‹è½¯è¿æ¥ï¼ˆå¿«æ·æ–¹å¼ï¼‰\n\nå»ºç«‹æ–¹æ³•ä¸sqlite3çš„è½¯è¿æ¥å»ºç«‹æ–¹å¼ç›¸åŒ\n\n```bash\nls -la python*   # æŸ¥çœ‹pythonå·²å­˜åœ¨çš„è½¯è¿æ¥\n```\n\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¦‚æœæ˜¯æ–°å»ºç«‹çš„ç³»ç»Ÿï¼Œä¼šå­˜åœ¨ä»¥ä¸‹ä¸‰ä¸ªè½¯è¿æ¥\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://s2.loli.net/2024/06/01/2FJ7YEy9gHd56N8.png)\n\nä»¥ä¸Šè½¯è¿æ¥ä¸åšæ›´æ”¹ï¼ˆå› ä¸ºå¾ˆå¤šç³»ç»Ÿå‘½ä»¤ä¼šä¾èµ–python2.7ï¼‰ï¼Œç›´æ¥æ–°å»ºä¸€ä¸ªpython3çš„è½¯è¿æ¥å³å¯\n\n```\nln -s /usr/local/python3/bin/python3 /usr/bin/python3\n```\n\næœ€ç»ˆæ•ˆæœ\n\nè‡³æ­¤ï¼Œsqlite3å’Œpython3å·²ç»å®‰è£…å¹¶ä¸”è¿æ¥å¥½äº†ï¼Œå¯è¿›è¡Œå¦‚ä¸‹éªŒè¯\n\n![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://s2.loli.net/2024/06/01/KkVGCsJPiF1hAwR.png)\n\n```bash\n[root@iZf8z170cg4zcnds9u2p10Z bin]# python3   # è¿›å…¥python3\nPython 3.8.12 (default, Jun  5 2023, 16:00:05) \n[GCC 4.8.5 20150623 (Red Hat 4.8.5-44)] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import sqlite3\n>>> sqlite3.sqlite_version\n'3.42.0'\n>>>exit()\n```\n\nå¯ä»¥çœ‹åˆ°ï¼Œå…¶ä¸­pythonç‰ˆæœ¬ä¸º3.8.12ï¼Œå¹¶ä¸”python3å†…çš„sqlite3ç‰ˆæœ¬ä¸º3.42.0ï¼Œå‡çº§æˆåŠŸ\n","tags":["python","django","SQLite","error"],"categories":["_A5-å®‰è£…æ•™ç¨‹","Python"]},{"title":"djangoè·å–è¯·æ±‚è¿›æ¥çš„ip","url":"/2024/05/31/djangoè·å–è¯·æ±‚è¿›æ¥çš„ip/","content":"\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>djangoè·å–è¯·æ±‚è¿›æ¥çš„IP</strong></font>\n\n<!--more-->\n\nä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªä¸­é—´ä»¶æ¥æ£€æŸ¥è¯·æ±‚çš„IPåœ°å€æ˜¯å¦åœ¨ç™½åå•ä¸­ã€‚å¦‚æœä¸åœ¨ï¼Œå°±æ‹’ç»è®¿é—®ã€‚\n\n```python\nfrom django.http import HttpResponseForbidden  \n  \nclass WhiteListMiddleware:  \n    def __init__(self, get_response):  \n        self.get_response = get_response  \n        # è¿™é‡Œè®¾ç½®ä½ çš„ç™½åå•IPåœ°å€  \n        self.white_list = ['127.0.0.1', '192.168.1.100']  \n  \n    def __call__(self, request):  \n        if request.META['REMOTE_ADDR'] not in self.white_list:  \n            return HttpResponseForbidden('Access Forbidden')  \n        response = self.get_response(request)  \n        return response\n```\n\nç„¶åï¼Œåœ¨`settings.py`ä¸­æ·»åŠ è¿™ä¸ªä¸­é—´ä»¶ï¼š\n\n```python\nMIDDLEWARE = [  \n    # ... å…¶ä»–ä¸­é—´ä»¶ ...  \n    'path.to.your.WhiteListMiddleware',  # æ›¿æ¢ä¸ºä¸­é—´ä»¶çš„å®é™…è·¯å¾„  \n    # ... å¯èƒ½è¿˜æœ‰å…¶ä»–ä¸­é—´ä»¶ ...  \n]\n```\n\n","tags":["django","è¯·æ±‚"],"categories":["Python","Django"]},{"title":"element-ä½¿ç”¨dialogæŸ¥çœ‹å›¾ç‰‡ã€è§†é¢‘-dialogå¤§å°è‡ªé€‚åº”","url":"/2024/05/28/element-ä½¿ç”¨dialogæŸ¥çœ‹å›¾ç‰‡ã€è§†é¢‘-dialogå¤§å°è‡ªé€‚åº”/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>element-ä½¿ç”¨dialogæŸ¥çœ‹å›¾ç‰‡ã€è§†é¢‘-dialogå¤§å°è‡ªé€‚åº”</strong></font>\n\n<!--more-->\n\né•¿ > å®½ è®¾ç½®å¼¹çª—æœ€å¤§å®½åº¦ä¸º370ï¼Œå¦åˆ™ä¸º600 ï¼Œå¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹ã€‚\n\næ•ˆæœå›¾å¦‚ä¸‹ï¼š\n\n![img](https://s2.loli.net/2024/05/28/MnJ5G2LwWNI4fiU.png)\n\n![img](https://s2.loli.net/2024/05/28/auTUMco1FINqWfB.png)\n\n```html\n<el-dialog title=\"å›¾ç‰‡æŸ¥çœ‹\" :visible.sync=\"dialogBigImgVisible\" :width=\"dialogWidth\">\n\t<img :src=\"bigImgSrc\" @load=\"onLoadImg\" :width=\"boxWidth\"/>\n</el-dialog>\n \n<el-dialog title=\"è§†é¢‘æŸ¥çœ‹\" :visible.sync=\"dialogBigImgVisible\" :width=\"dialogWidth\">\n    <video controls @canplay=\"onLoadVideo\" :width=\"boxWidth\">\n         <source :src=\"videoSrc\" />\n    </video>\n</el-dialog>\n```\n\n```javascript\nvar app = new Vue({\n    \tel: \"#app\",\n        data: function(){\n            return {\n                dialogBigImgVisible: true,\n\t\t\t\tbigImgSrc: \"\",\n                boxWidth: \"\",\n                dialogWidth: \"\"\n            }\n        },\n        methods:{\n            onLoadImg: function (e) {\n                var img = e.target;\n                var width = 0;\n                if (img.fileSize > 0 || (img.width > 1 && img.height > 1)) {\n                  width = img.width;\n                }\n                if ((img.height > img.width) &&  width > 370) {\n                    width = 370\n                } else if (width > 600) {\n                    width = 600\n                }\n                this.boxWidth= width + 'px';\n                this.dialogWidth = width + 40 + 'px';\n            },\n            onLoadVideo: function (e) {\n                var video = e.target;\n                var width = 0;\n                if (video.fileSize > 0 || (video.videoWidth > 1 && video.videoHeight >             1)) {\n                  width = video.videoWidth;\n                }\n                if ((video.videoHeight > video.videoWidth) &&  width > 370) {\n                    width = 370\n                } else if (width > 600) {\n                    width = 600\n                }\n                this.boxWidth = width + 'px';\n                this.dialogWidth = width + 40 + 'px';\n            },\n        }\n})\n```\n\n","tags":["Element-UI","å‰åæ··ç¼–"],"categories":["_A2-å‰ç«¯","Element-UI"]},{"title":"pyinstalleræ‰“åŒ…çš„djangoé¡¹ç›®ã€ä»¥åŠè¿è¡Œæ–¹å¼","url":"/2024/05/28/pyinstalleræ‰“åŒ…çš„djangoé¡¹ç›®ã€ä»¥åŠè¿è¡Œæ–¹å¼/","content":"\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>pyinstalleræ‰“åŒ…çš„djangoé¡¹ç›®ã€ä»¥åŠè¿è¡Œæ–¹å¼</strong></font>\n\n<!--more-->\n\næœ¬æ–‡æ‘˜é€‰è‡ªhttps://www.jb51.net/python/2901751ol.htm\n\n\n\n### 1ã€ç¯å¢ƒï¼šPython3.8ä¸Django3.2.1\n\n### 2ã€å®‰è£…pyinstaller\n\nä½¿ç”¨å‘½ä»¤`pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pyinstaller`\n\næ­¤å¤„ä½¿ç”¨äº†æ¸…åå¤§å­¦çš„é•œåƒç½‘ç«™\n\n### 3ã€æ‰“åŒ…æˆexe\n\nè‹¥æƒ³è¦æ‰“åŒ…çš„é¡¹ç›®ä¸ºå•ç‹¬çš„pyæ–‡ä»¶ï¼Œåˆ™ä½¿ç”¨`pyinstaller-F xxx.py`â€™æ‰“åŒ…\n\nè‹¥æƒ³è¦æ‰“åŒ…çš„é¡¹ç›®ä¸ºä¸€ä¸ªçš„æ–‡ä»¶å¤¹ï¼Œåˆ™ä½¿ç”¨`pyi-makespec -D manage.py`ç”Ÿæˆspecæ–‡ä»¶ï¼Œæ‰§è¡ŒæˆåŠŸåï¼Œä¼šæ˜¾ç¤ºå¦‚ä¸‹ä¿¡æ¯ï¼Œè¡¨ç¤ºå¯ä»¥å»æ„å»ºå¯æ‰§è¡Œæ–‡ä»¶äº†\n\n```bash\nnow run pyinstaller.py to build the executable\n```\n\nåœ¨ç›®å½•ä¸‹é¢ä¼šç”Ÿæˆä¸€ä¸ª manage.specçš„æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥æ‰“å¼€çœ‹ä¸€ä¸‹å†…å®¹ï¼š\n\n![](https://s2.loli.net/2024/05/28/AESdcMtfVY9iXHK.png)\n\nç„¶åè¿è¡Œ`pyinstaller manage.spec`å‘½ä»¤ï¼Œç”Ÿæˆæ‰“åŒ…çš„exeæ–‡ä»¶\n\næ‰“åŒ…ç¨‹åºçš„è¿è¡Œæ–¹å¼ï¼š åœ¨manage.exeçš„ä½ç½®æ‰“å¼€cmd,è¾“å…¥`manage runserver ip:port --noreload`è¿è¡ŒæœåŠ¡å³å¯\n\n### 4ã€æ–°å»ºç›´æ¥è¿è¡Œçš„ç¨‹åº\n\næ–°å»ºä¸€ä¸ªrun.pyæ–‡ä»¶\n\n```python\nimport os\nos.system('manage.exe runserver 8000 --noreload')\ninput()\n```\n\n`pyinstaller -F run.py `åœ¨distç›®å½•ä¸‹å¾—åˆ°ä¸€ä¸ªrun.exeï¼ŒåŒå‡»è¿è¡Œrun.exe å°±èƒ½è¿è¡Œdjangoé¡¹ç›®ã€‚\n\n## é—®é¢˜ä¸€ï¼šè¿è¡ŒæœåŠ¡æ˜¯ä¼šæç¤ºNo module named XXX\n\nè¿™æ˜¯å› ä¸ºDjangoæœ‰äº›moduleä¸ä¼šè‡ªåŠ¨æ”¶é›†ï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ \n\nè§£å†³æ–¹æ³•ï¼šåœ¨manage.specæ–‡ä»¶ä¸­ä¿®æ”¹hiddenimports=[]ä¸ºhiddenimports=[â€˜usersâ€™,â€˜users.appsâ€™,â€˜sql_server.pyodbc.compilerâ€™]ï¼Œæç¤ºç¼ºå°‘ä»€ä¹ˆmoduleå°±åœ¨æ­¤å¤„æ·»åŠ ä»€ä¹ˆã€‚ï¼ˆä½†æ˜¯å¾ˆæ¶å¿ƒäººçš„æ˜¯æ¯æ¬¡åªä¼šæç¤ºä¸€ä¸ªé”™è¯¯ï¼Œéœ€è¦ä¸€ç›´ä¿®æ”¹manage.specæ–‡ä»¶ï¼Œç„¶åé‡æ–°æ‰“åŒ…ï¼‰\n\n## é—®é¢˜äºŒï¼šæ‰“å¼€ç½‘é¡µå‡ºç°TemplateDoesNotExist é”™è¯¯\n\nè§£å†³æ–¹æ³•ï¼šæ ¹æ®é”™è¯¯çš„æç¤ºæ¶ˆæ¯ï¼ŒæŠŠé¡¹ç›®ä¸­çš„æ¨¡æ¿æ–‡ä»¶templatesæ‹·è´åˆ°ç›¸åº”çš„ä½ç½®ï¼Œåˆ·æ–°é¡µé¢å³å¯ã€‚ï¼ˆå¦‚æŠŠtemplatesæ”¾åˆ°manageæ–‡ä»¶å¤¹é‡Œï¼‰\n\nåˆ°æ­¤è¿™ç¯‡å…³äºDjangoé¡¹ç›®æ‰“åŒ…å®Œæ•´æ­¥éª¤ä»¥åŠå¯èƒ½å‡ºç°çš„é—®é¢˜çš„æ–‡ç« å°±ä»‹ç»åˆ°è¿™äº†,æ›´å¤šç›¸å…³Djangoé¡¹ç›®æ‰“åŒ…æ­¥éª¤å†…å®¹è¯·æœç´¢è„šæœ¬ä¹‹å®¶ä»¥å‰çš„æ–‡ç« æˆ–ç»§ç»­æµè§ˆä¸‹é¢çš„ç›¸å…³æ–‡ç« å¸Œæœ›å¤§å®¶ä»¥åå¤šå¤šæ”¯æŒè„šæœ¬ä¹‹å®¶ï¼","tags":["python","django","æ‰“åŒ…","è¿è¡Œæ–¹å¼","pyinstaller"],"categories":["Python","pyinstalleræ‰“åŒ…"]},{"title":"ORM-æ“ä½œä¸ç”Ÿæˆ","url":"/2024/05/26/ORM-æ“ä½œä¸ç”Ÿæˆ/","content":"\n\n\n<font color=#f26522 size=5 face=å®‹ä½“><strong>ä½¿ç”¨Django adminè·¯å¾„ï¼š</strong></font>\n\n<!--more-->\n\n```bash\npython3 manage.py createsuperuser   # åˆ›å»ºadminè´¦æˆ·å¯†ç \n```\n\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>ç”Ÿæˆé…ç½®ï¼š</strong></font>\n\n```python\npython3 manage.py makemigrations\npython3 manage.py migrate    # å°†æ‰€æœ‰é…ç½®åœ¨é»˜è®¤çš„ defaultåº“ ä¸­ç”Ÿæˆ\npython3 manage.py migrate --database=user   # å°†æ‰€æœ‰çš„é…ç½®åœ¨ useråº“ ä¸‹ç”Ÿæˆ\npython3 manage.py migrate app01 --database=default    # å°†app01 ä¸‹çš„é…ç½® åœ¨defaultåº“ä¸‹ç”Ÿæˆ\n\npython3 manage.py makemigrations app01   # è¿™é‡Œä¸æŒ‡å®šapp01 å°±ä¸ä¼šåœ¨app01ä¸‹ç”Ÿæˆé…ç½®\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ä¿æŒç°æœ‰æ•°æ®ï¼Œé‡æ–°ç”Ÿæˆé…ç½®ï¼š</strong></font>\n\n```python\npython3 manage.py makemigrations app01   # è¿™é‡Œä¸æŒ‡å®šapp01 å°±ä¸ä¼šåœ¨app01ä¸‹ç”Ÿæˆé…ç½®\npython3 manage.py showmigrations   # æŸ¥çœ‹åº“ä¸­å·²ç»ç”Ÿæˆé…ç½® `æ‰€æœ‰è¡¨`\npython3 manage.py migrate --fake app01 zero   # è¿™é‡Œçš„ pay å°±æ˜¯ä½ è¦é‡ç½®çš„ app\n\n# é‡ç½®å®Œæˆï¼Œåœ¨é‡æ–°ç”Ÿæˆ\npython3 manage.py makemigrations app01   # é‡å†™ç”Ÿæˆapp01ä¸‹çš„é…ç½®\npython3 manage.py migrate --fake-initial app01   # éå¸¸é‡è¦\npython3 manage.py migrate app01   # åœ¨æ•°æ®åº“ä¸­ç”Ÿæˆè¡¨\n```\n\n\n\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>åœ¨è§†å›¾å‡½æ•° viewsä¸­ï¼Œæ’å…¥æ•°æ®åº“ï¼š</strong></font>\n\n```python\n\n# å¯¼å…¥æ¨¡å— è¯¥æ¨¡å—ä½äºappä¸‹å• models\nfrom app01 import models\n\nmodels.User.objects.create(title=\"å°æå­\", id=1, age=18)   # æ’å…¥å‡½æ•° models.xxx.objects.create()\n\n# ä¼ å…¥å­—å…¸è§£åŒ…\npost_data = {\"title\":\"å°æå­\", \"age\",18}  # å®šä¹‰ä¼ å…¥æ•°æ®åº“çš„å­—å…¸\ninstance = models.User(**post_data)  # å¼€å§‹è§£åŒ…\ninstance.save()  # ä¿å­˜åˆ°æ•°æ®åº“\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>åœ¨è§†å›¾å‡½æ•° viewsä¸­ï¼ŒæŸ¥è¯¢æ•°æ®åº“ï¼š</strong></font>\n\n```python\nfind_sql_data = models.User.objects.all()   # è·å–å½“å‰æ•°æ®è¡¨ä¸­çš„æ‰€æœ‰æ•°æ®\nfind_sql_data = models.User.objects.create(name=\"Apple\")   # æŸ¥è¯¢ name=Appleçš„æ•°æ®\n```\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong></strong></font>","tags":["python","django","ORM"],"categories":["Python","Django_ORM"]},{"title":"django-åå°ç®¡ç†æ¨¡æ¿-simpleui-çš„é…ç½®æ•™ç¨‹","url":"/2024/05/25/django-åå°ç®¡ç†æ¨¡æ¿-simpleui-çš„é…ç½®æ•™ç¨‹/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>django åå°ç®¡ç†æ¨¡æ¿ simpleui çš„é…ç½®æ•™ç¨‹</strong></font>\n\n<!--more-->\n\n## 1ã€å°†é™æ€èµ„æºæ–‡ä»¶å¤¹å…‹éš†åˆ°æœ¬åœ°\n\né¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ settingé…ç½®\n\n```python\nimport os   # å¯¼å…¥osåŒ…ï¼Œ\nSTATIC_ROOT = os.path.join(BASE_DIR, \"static\")   # è®¾ç½®staticæ ¹ç›®å½•\n\n# å¼€å§‹æ‰§è¡Œå…‹éš†åˆ°æœ¬åœ° èµ„æºå‘½ä»¤\npython3 manage.py collectstatic  # bashå‘½ä»¤\n```\n\n","tags":["simpleui","åå°","æ¨¡ç‰ˆ"],"categories":["Python","Django"]},{"title":"execjsçš„ä½¿ç”¨æ•™ç¨‹","url":"/2024/05/25/execjsçš„ä½¿ç”¨æ•™ç¨‹/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>Jsé€†å‘åº“ï¼šexecjsçš„ä½¿ç”¨æ•™ç¨‹</strong></font>\n\n<!--more-->\n\n## 1ã€å®‰è£…\n\n```python\npip3 install PyExecJS\n```\n\n\n\n## 2ã€è¿è¡Œï¼š\n\n```python\nimport execjs  # å¯¼å…¥åŒ…\n\ndef _run_js(Str_start, keys):\n    code = \"\"\"\n        function decrypt(word, keys) {   // æ­¤å¤„å®šä¹‰äº†ä¸€ä¸ªjså‡½æ•°\n        const CryptoJS = require('crypto-js');  // å¯¼å…¥ crypto-js åŠ å¯†ã€è§£å¯†æ¨¡å—\n        const decrypted = CryptoJS.AES.decrypt(word, keys);  # å¼€å§‹è§£å¯†\n        const plaintext = JSON.parse(decrypted.toString(CryptoJS.enc.Utf8))   # æœ€åå°†è§£å¯†çš„å†…å®¹ï¼Œè½¬æ¢æˆjsonæ ¼å¼\n        return plaintext   # è¿”å›è§£å¯†å®Œæˆçš„æ•°æ® ==>> Json_string(è°ƒç”¨å‡½æ•°)\n        }\n    \"\"\"\n\n    decrypt_ = execjs.compile(code)   # åŠ è½½ js ä»£ç \n    Json_string = decrypt_.call(\"decrypt\", Str_start, keys)  # ç”¨call æ–¹æ³• ä¼ å…¥å·²ç»åŠ è½½çš„jså†…å®¹ï¼Œå¹¶ä¸”ä¼ å…¥ å®å‚\n    return Json_string  # è¿”å›è§£å¯†åçš„å†…å®¹\n\nstring_ = \"xxxxxxx\"  # è¿™é‡Œæ˜¯ä½ éœ€è¦è§£å¯†çš„å†…å®¹\nkeys = \"xxxxx\"   # è¿™é‡Œæ˜¯è§£å¯†ç”¨åˆ°çš„key\n_run_js(string_, keys)  # è°ƒç”¨è§£å¯†å‡½æ•°å¼€å§‹è§£å¯†\n```\n\n","tags":["Js","execjs"],"categories":["_A7-é€†å‘","JavaScript"]},{"title":"ã€çˆ¬è™«ã€‘å·§ç”¨-js2py-ï¼ˆé™„å¸¦bugè§£å†³ï¼‰","url":"/2024/05/25/ã€çˆ¬è™«ã€‘å·§ç”¨-js2py-ï¼ˆé™„å¸¦bugè§£å†³ï¼‰/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>ã€çˆ¬è™«ã€‘å·§ç”¨-js2py-ï¼ˆé™„å¸¦bugè§£å†³ï¼‰ï¼š</strong></font>\n\n<!--more-->\n\næœ¬æ–‡æ¬è¿è‡ªCSDNï¼š[ä¼ é€é˜µ](https://blog.csdn.net/sc_lilei/article/details/100122347)\n\né¡¹ç›®åœ°å€ï¼š https://github.com/PiotrDabkowski/Js2Py\n\né¡¹ç›®ä»‹ç»ï¼šï¼ˆæ ¹æ®githubï¼‰æ­¤é¡¹ç›®å®Œå…¨ç”¨Pythonç¼–å†™ï¼Œæ”¯æŒPython2/3ã€‚å¯ä»¥åœ¨Pythonä¸­æ‰§è¡ŒJSä»£ç ï¼Œå¹¶è·å–JSå¯¹è±¡å€¼ã€‚\n\nç›®å‰æ”¯æŒES5ï¼ŒES6ä»åœ¨æµ‹è¯•ä¸­ã€‚\n\nä¸€å¥è¯è§£é‡Šï¼šä¸€ä¸ªçº¯Pythonçš„JSè§£é‡Šå™¨ã€‚\n\næ¨èæŒ‡æ•°ï¼šå››é¢—æ˜Ÿ  ï¼ˆåšä¸»ç”¨è¿‡å…¶ä»–çš„åº“å¦‚execjs, pyv8ï¼Œå¤šå¤šå°‘å°‘éƒ½æ²¡æœ‰è¿™ä¸ªåº“çš„åŠŸèƒ½å®Œå¤‡ï¼‰\n\n## å®‰è£…ï¼š\n\n```python\npip3 install js2py\n```\n\næœ¬æ–‡ä¸»è¦ä»‹ç»js2pyçš„EvalJså¯¹è±¡ï¼Œå› ä¸ºå®ƒæ˜¯åŠŸèƒ½æœ€å®Œå¤‡çš„ã€‚\n\n\n\n## 1. æ‰§è¡Œç®€å•çš„JSä»£ç \n\n```python\nimport js2py\njs = \"\"\"\n    a =1 \n    b =1\n    function f(x){\n        return x*x\n    }\n    \"\"\"\nctx = js2py.EvalJs()  # åˆå§‹åŒ–contextå¯¹è±¡\nctx.execute(js)  # æ‰§è¡Œjs\nprint(ctx.a)  # >>1   è·å–jså˜é‡\nprint(ctx.f(9))  # >>81  æ‰§è¡Œjså‡½æ•°\n```\n\nè¯´æ˜ï¼šEvalJså¯¹è±¡æ”¯æŒåœ¨åŒä¸€ä¸ªä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œå¤šæ¬¡å¤šæ®µjsä»£ç ï¼Œå¹¶èƒ½é€šè¿‡å±æ€§çš„æ–¹å¼è·å–jså˜é‡ï¼Œéå¸¸å¥½ç”¨ã€‚\n\n## **2. Pythonä¸JSå¯¹è±¡äº¤äº’**\n\n```python\nimport js2py\njs = \"\"\"\n    function f(arg1, arg2){\n        return arg1+arg2\n    }\n    end = f(a,b)\n    \"\"\"\nctx = js2py.EvalJs(context={'a':1, 'b':2})  # åˆå§‹åŒ–contextå¯¹è±¡,é€šè¿‡å­—å…¸å½¢å¼ä¼ å…¥pythonå¯¹è±¡ä¸jsäº¤äº’\nctx.execute(js)  # æ‰§è¡Œjs\nprint(ctx.end)  # 3\n```\n\n## **3. åœ¨JSä»£ç ä¸­å¼•å…¥å¤–éƒ¨JSåº“(éœ€è¦å®‰è£…nodejsç¯å¢ƒ)**\n\n```python\nimport js2py\njs = \"\"\"var path = require('path')\n        p=path.join('/foo/bar', 'file')\n        \"\"\"\nctx = js2py.EvalJs(enable_require=True)  # å¼€å¯requireåŠŸèƒ½\nctx.execute(js)  # æ‰§è¡Œjs\nprint(ctx.p)  # /foo/bar/file\njs = \"\"\"p = p+p\"\"\"\nctx.execute(js)  # æ‰§è¡Œjs\nprint(ctx.p)  # /foo/bar/file/foo/bar/file\n```\n\nå…³äºrequireåœ¨js2pyä¸­ä½¿ç”¨æœ‰ä¸ªbugï¼Œä¼šåœ¨æœ€åè¯´æ˜ã€‚\n\n## **4. Pythonä¸JSæ··ç¼–**\n\n```python\nCryptoJS = js2py.require('crypto-js')\ndata = [{'id':1}, {'id':2}]\nJSON = js2py.eval_js('JSON')\n \nciphertext = CryptoJS.AES.encrypt(JSON.stringify(data), 'secret key 123')\nbytes = CryptoJS.AES.decrypt(ciphertext.toString(), 'secret key 123')\ndecryptedData = JSON.parse(bytes.toString(CryptoJS.enc.Utf8)).to_list()\n \nprint(decryptedData)  # [{'id':1}, {'id':2}]\n```\n\n## 5. æœ€å\n\nåœ¨å¯¹js2pyè¿™ä¸ªåº“çš„æ‘¸ç´¢ä½¿ç”¨ä¸­ï¼Œå‘ç°äº†ä¸å°‘çš„é—®é¢˜(bug)ï¼Œå‘ç°ä½œè€…æœ€åä¸€æ¬¡å¤„ç†issueæ˜¯åœ¨2018å¹´11æœˆäº†ï¼Œè¶…è¿‡20ä¸ªissueæœªå¤„ç†ï¼Œåšä¸»ä¹ŸæŠŠé‡åˆ°çš„é—®é¢˜æäº†ä¸¤ä¸ªä¸Šå»ï¼Œä¸çŸ¥é“èƒ½ä¸èƒ½æ”¶åˆ°å›å¤ã€‚\n\nåšä¸»ä¿®å¤çš„bugï¼šåœ¨windows 10 ä¸Šä½¿ç”¨è¿™ä¸ªåº“æ‰§è¡Œå¸¦æœ‰requireè¯­å¥çš„JSä»£ç æ—¶é‡åˆ°çš„é”™è¯¯\n\n```python\nCould not link required node_modules\n```\n\n**è§£å†³**ï¼šç»è¿‡åå¤æµ‹è¯•ä¸æ£€æŸ¥ï¼Œå‘ç°æ˜¯subprocessåº“åœ¨windowsä¸Šæ‰§è¡Œshellå‘½ä»¤æœ‰bugã€‚å…·ä½“æ˜¯è¿™æ ·ï¼Œåœ¨PythonåŒ…å®‰è£…è·¯å¾„ä¸‹çš„js2py/node_import.pyçš„17è¡Œæœ‰ä»¥ä¸‹ä»£ç ï¼š\n\n```python\nassert subprocess.call(\n        'cd %s;npm install babel-core babel-cli babel-preset-es2015 babel-polyfill babelify browserify browserify-shim'\n        % repr(DIRNAME),\n        shell=True,\n        cwd=DIRNAME) == 0, 'Could not link required node_modules'\n```\n\nå…¶å®è¿™é‡Œä½œè€…çš„cdå‘½ä»¤æ˜¯å¤šä½™çš„ï¼Œå› ä¸ºcwdå‚æ•°å·²ç»æŒ‡å®šäº†å‘½ä»¤çš„æ‰§è¡Œè·¯å¾„ï¼Œæ— éœ€å†cdè¿›å…¥è·¯å¾„ã€‚\n\né™¤äº†è¿™é‡Œï¼Œè¿˜è¦ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ç¬¬79è¡Œï¼Œä¸€æ ·çš„é—®é¢˜ã€‚\n\næœ€åå‹æƒ…æé†’ï¼Œå¦‚æœä½ çš„ç¯å¢ƒä¸èƒ½ç§‘å­¦ä¸Šç½‘ï¼Œä½ æœ€å¥½ä¿®æ”¹ä¸€ä¸‹npmçš„æºï¼š\n\n```python\n npm config set registry https://registry.npm.taobao.org\n```\n\né¿å…ç½‘ç»œé—®é¢˜å¯¼è‡´ä¸å¿…è¦çš„éº»çƒ¦ï¼Œå› ä¸ºæ‰§è¡Œçš„JSä»£ç ä¾èµ–å¤–éƒ¨åº“æ—¶ï¼Œè¿™ä¸ªåº“ä¼šåœ¨åå°æ‰§è¡Œnpm installæ“ä½œ(ä»…ä¸€æ¬¡)ã€‚\n\n**å…¶ä»–ï¼š**\n\nå› ä¸ºåšä¸»ä¹Ÿæ˜¯æçˆ¬è™«çš„ï¼Œæ‰€æœ‰æœ‰æ—¶ä¼šç”¨åˆ°è¿™æ ·çš„åº“ï¼Œè¿™æ¬¡å°±åšä¸€ä¸‹å®Œæ•´çš„è®°å½•ï¼ŒåŠ©å·±åŠ©äººã€‚\n\næœ¬åšå®¢æ¬¢è¿ç•™è¨€ :) ","tags":["Js","js2py"],"categories":["_A7-é€†å‘","JavaScript"]},{"title":"ç½‘ç«™å…‹éš†å·¥å…·-httrack","url":"/2024/05/24/ç½‘ç«™å…‹éš†å·¥å…·-httrack/","content":"\n\n\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>ç½‘ç«™å…‹éš†å·¥å…·-httrackï¼š</strong></font>\n\n<!--more-->\n\næœ¬æ–‡æ¬è¿è‡ª[kali-ç½‘ç«™å…‹éš†å·¥å…·-httrack_kaliå…‹éš†ç½‘ç«™-CSDNåšå®¢](https://blog.csdn.net/qq_32393893/article/details/105049728)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä»¥ä¸‹ä¸º kaliå‘½ä»¤ï¼Œå¦‚æœæ˜¯macçš„åŒå­¦ï¼Œè¯·è‡ªè¡Œä½¿ç”¨`brew`Â æ›¿æ¢ `apt-get`å³å¯</strong></font>\n\nHTTrackæ˜¯ä¸€æ¬¾ç½‘ç«™å…‹éš†å·¥å…·ï¼Œä¸»è¦ç”¨æˆ·å…‹éš†ç½‘ç«™ã€‚æ¸—é€æµ‹è¯•äººå‘˜å¯ä»¥å°†ç›®æ ‡ç½‘ç«™å…‹éš†åˆ°æœ¬åœ°è¿›è¡ŒæŸ¥çœ‹ï¼ŒåŒ…å«äº†æ‰€æœ‰çš„é¡µé¢å’Œç¦»çº¿æ–‡ä»¶ï¼Œæ˜¯å¯ä»¥è¿›è¡Œç¤¾ä¼šå·¥ç¨‹å­¦æ”»å‡»ï¼Œæ˜¯é’“é±¼ç½‘ç«™çš„åˆ©å™¨ã€‚\n\n### 1ï¼Œå®‰è£… \n\n**`sudo apt-get isntall httarck`**\n\n![](https://s2.loli.net/2024/05/24/NputOms3gJha7IB.png)\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>ï¼ˆå¦‚æœå·²ç»å®‰è£…äº†ï¼Œå°±ä¼šåƒä¸Šå›¾è¿™æ ·ï¼‰</strong></font>\n\n### 2ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹æ”¾ç½®ä¸‹è½½çš„ç½‘ç«™\n\n**`mkdir site`**\n\n![](https://s2.loli.net/2024/05/24/jcJ4LeKEPmY87bi.png)\n\n### 3ï¼Œåˆ‡æ¢åˆ°æ–°å»ºçš„æ–‡ä»¶å¤¹ä¸­\n\n**`cd site`**\n\n### 4ï¼Œå¯åŠ¨httrack\n\n**`httrack`**\n\n### 5ï¼Œè¿›è¡Œè®¾ç½®\n\n![](https://s2.loli.net/2024/05/24/Phwa4YpE8u32LVJ.png)\n\n### 6ï¼Œå·²ç»å°†ç½‘ç«™ä¿å­˜åœ¨æœ¬åœ°äº†\n\n![](https://s2.loli.net/2024/05/24/CigUqDpQuRf1VvJ.png)\n\n","tags":["å·¥å…·","å…‹éš†","ç½‘ç«™"],"categories":["_A8-å·¥å…·","ç½‘ç«™å…‹éš†å·¥å…·"]},{"title":"selenium-è·å–è¯·æ±‚æ—¥å¿—-è·å–è·å–Ajaxè¯·æ±‚çš„url","url":"/2024/05/22/selenium-è·å–è¯·æ±‚æ—¥å¿—-è·å–è·å–Ajaxè¯·æ±‚çš„url/","content":"\n\n\n## åˆ›å»º seleniumï¼š\n\n<!--more-->\n\n```python\n# å¯¼å…¥åŒ…\nfrom selenium import webdriver   \nfrom selenium.webdriver.chrome.options import Options\n\n# åˆå§‹åŒ– ChromeOptions å¯¹è±¡\nchrome_options = Options()\n\n# è®¾ç½®éœ€è¦çš„é€‰é¡¹\nchrome_options.add_argument(\"--start-maximized\")\nchrome_options.add_argument(\"--disable-infobars\")\n\n# åˆ›å»º WebDriver å®ä¾‹\ndriver = webdriver.Chrome(options=chrome_options)\n\ndriver.get(url)  # è¯·æ±‚urlåœ°å€\nprint(driver.current_url)   # è·å–è¯·æ±‚çš„ url åœ°å€\nprint(driver.page_source)   # æ‰“å°å½“å‰é¡µé¢æ–‡æœ¬\ndriver.implicitly_wait(3)   # ç­‰å¾…seleniumåŠ è½½å®Œæˆjså†…å®¹\ndriver.close()  # é€€å‡ºç¨‹åº\n```\n\n\n\n## seleniumä¸‹ optionsé…ç½®çš„å¸¸ç”¨å‚æ•°ï¼š[å‚è€ƒè‡ª`æ¸©ä¸€å£¶æ¸…é…’`](https://www.cnblogs.com/hong-fithing/p/12796602.html)\n\n```python\noptions.add_argument('--disable-infobars')  # ç¦æ­¢ç­–ç•¥åŒ–\noptions.add_argument('--no-sandbox')  # è§£å†³DevToolsActivePortæ–‡ä»¶ä¸å­˜åœ¨çš„æŠ¥é”™\noptions.add_argument('window-size=1920x3000')  # æŒ‡å®šæµè§ˆå™¨åˆ†è¾¨ç‡\noptions.add_argument('--disable-gpu')  # è°·æ­Œæ–‡æ¡£æåˆ°éœ€è¦åŠ ä¸Šè¿™ä¸ªå±æ€§æ¥è§„é¿bug\noptions.add_argument('--incognito')  # éšèº«æ¨¡å¼ï¼ˆæ— ç—•æ¨¡å¼ï¼‰\noptions.add_argument('--disable-javascript')  # ç¦ç”¨javascript\noptions.add_argument('--start-maximized')  # æœ€å¤§åŒ–è¿è¡Œï¼ˆå…¨å±çª—å£ï¼‰,ä¸è®¾ç½®ï¼Œå–å…ƒç´ ä¼šæŠ¥é”™\noptions.add_argument('--hide-scrollbars')  # éšè—æ»šåŠ¨æ¡, åº”å¯¹ä¸€äº›ç‰¹æ®Šé¡µé¢\noptions.add_argument('blink-settings=imagesEnabled=false')  # ä¸åŠ è½½å›¾ç‰‡, æå‡é€Ÿåº¦\noptions.add_argument('--headless')  # æµè§ˆå™¨ä¸æä¾›å¯è§†åŒ–é¡µé¢. linuxä¸‹å¦‚æœç³»ç»Ÿä¸æ”¯æŒå¯è§†åŒ–ä¸åŠ è¿™æ¡ä¼šå¯åŠ¨å¤±è´¥\noptions.binary_location = r\"C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe\"  # æ‰‹åŠ¨æŒ‡å®šä½¿ç”¨çš„æµè§ˆå™¨ä½ç½®\noptions.add_argument('lang=en_US') # è®¾ç½®è¯­è¨€\noptions.add_argument('User-Agent=Mozilla/5.0 (Linux; U; Android 8.1.0; zh-cn; BLA-AL00 Build/HUAWEIBLA-AL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/57.0.2987.132 MQQBrowser/8.9 Mobile Safari/537.36')\noptions.add_argument('--headless')  # æµè§ˆå™¨ä¸æä¾›å¯è§†åŒ–é¡µé¢\nprefs = {\"\":\"\"}\nprefs[\"credentials_enable_service\"] = False\nprefs[\"profile.password_manager_enabled\"] = False\nchrome_option_set.add_experimental_option(\"prefs\", prefs) # å±è”½'ä¿å­˜å¯†ç 'æç¤ºæ¡†\n```\n\n## ã€æµ‹è¯•ã€‘seleniumæ‹¦æˆªAjaxï¼ˆXHRï¼‰ç­‰å¼‚æ­¥è¯·æ±‚æ•°æ®ï¼š[å‚è€ƒè‡ª`å†°å†·çš„å¸Œæœ›`](https://blog.csdn.net/qq_39147299/article/details/132236245)\n\n#### 1.è¯´æ˜\n\nåœ¨çˆ¬å–æŸä¸ªç½‘ç«™çš„æ—¶å€™é‡åˆ°åŠ å¯†å‚æ•°ï¼Œç”±äºjsä»£ç ç»è¿‡æ··æ·†ç¼–è¯‘ä¸å¥½ç ´è§£ï¼Œæ‰€ä»¥é‡‡ç”¨`selenium`çš„æ–¹å¼è·å–å‚æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬è·å–seleniumçš„æ•°æ®åŸºæœ¬ä¸Šéƒ½æ˜¯åŸºäºé¡µé¢çš„ï¼Œå¯¹äºç½‘ç«™å‘èµ·çš„å¼‚æ­¥è¯·æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥ä»æ—¥å¿—ä¸­æå–\n\n#### 2.è®¾ç½®driverå‚æ•°\n\næˆ‘ä»¬é¦–å…ˆè¦é€šè¿‡Optionå¯¹è±¡ï¼ˆæ¯”å¦‚è¯´ChromeOptionsï¼‰è®¾ç½®ç›‘æ§æµè§ˆå™¨æ—¥å¿—ï¼Œæ—§ç‰ˆæœ¬çš„Seleniumæ˜¯é€šè¿‡DesiredCapabilitiesè®¾ç½®çš„ï¼Œä¸‹é¢æ˜¯æ–°ç‰ˆæœ¬çš„å†™æ³•\n\n```python\nfrom selenium.webdriver import Chrome, ChromeOptions\nfrom selenium.webdriver.chrome.service import Service\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support import expected_conditions\nfrom selenium.webdriver.support.wait import WebDriverWait\n\noptions = ChromeOptions()\noptions.add_argument(\"--no-sandbox\")\noptions.add_argument(\"--allow-running-insecure-content\")\noptions.add_argument(\"--ignore-certificate-errors\")\noptions.add_argument(\"--disable-single-click-autofill\")\noptions.add_argument(\"--disable-autofill-keyboard-accessory-view[8]\")\noptions.add_argument(\"--disable-full-form-autofill-ios\")\noptions.add_experimental_option('perfLoggingPrefs', {'enableNetwork': True,'enablePage': False,})\noptions.set_capability(\"goog:loggingPrefs\", {'browser': 'ALL','performance': 'ALL',})\noptions.set_capability(\"goog:perfLoggingPrefs\", {'enableNetwork': True,'enablePage': False,'enableTimeline': False})\n\n```\n\n#### 3.è¯·æ±‚ç½‘é¡µ\n\nç°åœ¨`å®ä¾‹åŒ–`ä¸€ä¸ªdriverï¼Œå‘èµ·ä¸€ä¸ªç½‘é¡µè¯·æ±‚ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨`WebDriverWait`æ˜¾å¼ç­‰å¾…çš„æ–¹å¼ç­‰å¾…æŸä¸ªå…ƒç´ å‡ºç°ï¼Œä½ ä¹Ÿå¯ä»¥éšå¼ç­‰å¾…æˆ–è€…ç›´æ¥sleepï¼Œå¦‚æœä½ ä¸ç­‰å¾…ï¼Œå¼‚æ­¥è¯·æ±‚è¿˜æ²¡åŠ è½½å®Œå°±å¼€å§‹è·å–ï¼Œä½ å¯èƒ½ä¼šæ‹¿ä¸åˆ°æƒ³è¦çš„æ•°æ®\n\n```python\nservice = Service(executable_path=executable_path)\ndriver = Chrome(service=service, options=options)\ndriver.execute_cdp_cmd(\"Page.addScriptToEvaluateOnNewDocument\",\n                       {\"source\": \"\"\"Object.defineProperty(navigator, 'webdriver', {get: () => undefined})\"\"\"})\ndriver.get(page_url)\nwait = WebDriverWait(driver, 15, 0.5)\ntry:\n    wait.until(expected_conditions.presence_of_element_located((By.CLASS_NAME, \"item \")))\nexcept Exception as e:\n    print(\"WebDriverWait.until timeout error: {}\".format(e))\nhtml = driver.execute_script(\"return document.documentElement.outerHTML\")\n\n```\n\n#### 4.å¤„ç†æ—¥å¿—\nè®¿é—®ä¸€ä¸‹driverçš„`log_types`å±æ€§å¯ä»¥è·å–åˆ°æ‰€æœ‰æ—¥å¿—ç±»å‹ï¼Œéå†å®ƒï¼Œé€šè¿‡`get_log()`æ–¹æ³•è·å–å¯¹åº”çš„æ—¥å¿—ï¼Œä¹‹åå†è¿‡æ»¤å‡ºè‡ªå·±æƒ³è¦çš„æ—¥å¿—å°±è¡Œã€‚\n\næ¯”å¦‚è¯´ï¼Œæˆ‘è¿™é‡Œæ˜¯è¿‡æ»¤å‡ºæ‰€æœ‰`Network.requestWillBeSent`çš„æ—¥å¿—ï¼Œå³å‘é€å¼‚æ­¥è¯·æ±‚çš„æ•°æ®ï¼Œå› ä¸ºæˆ‘éœ€è¦è¯¥è¯·æ±‚çš„è¯·æ±‚å¤´ï¼Œå¦‚æœæ˜¯å“åº”ç±»å‹çš„æ—¥å¿—ï¼ˆ`Network.responseReceived`ï¼‰ï¼Œå®ƒåªåŒ…å«å“åº”å¤´ã€‚å…·ä½“æ”¯æŒçš„ç±»å‹å¯ä»¥å‚è€ƒ[è°·æ­Œdevtoolsçš„æ–‡æ¡£](https://chromedevtools.github.io/devtools-protocol/tot/Network/)\n\nå¦‚æœéœ€è¦è¿‡æ»¤å‡ºAjaxï¼ˆXHRï¼‰è¯·æ±‚ï¼Œå¯ä»¥æ ¹æ®æ—¥å¿—çš„paramsé‡Œçš„typeè¿›è¡Œåˆ¤æ–­ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å®ƒåˆ¤æ–­\n\n```python\nsign_dict = dict()  # ç”¨æ¥å­˜å‚¨è‡ªå·±æƒ³è¦çš„æ•°æ®\nfor log_type in driver.log_types:\n    perf_list = driver.get_log(log_type)\n    for row_log in perf_list:\n        try:\n            log_json = json.loads(row_log['message'])\n            message_log = log_json['message']\n        except Exception as e:\n            print(e)\n            continue\n        if message_log.get('method') != 'Network.requestWillBeSent':\n            continue\n        if message_log.get(\"params\", {}).get(\"type\", \"\").upper() != \"XHR\":\n            continue\n        headers = message_log['params'].get('request', {}).get('headers')\n        if not headers:\n            continue\n        x_sign = headers.get('X-Sign')\n        if not x_sign:\n            continue\n        x_app_id = headers.get('X-AppID')\n        x_ts = headers.get('X-Ts')\n        print(\"success:\", x_sign, x_app_id, x_ts)\n        req_url = message_log['params'].get('request', {}).get('url')\n        key = os.path.split(req_url.split(\"?\")[0])[1]\n        sign_dict[key] = {\"X-AppID\": x_app_id, \"X-Sign\": x_sign, \"X-Ts\": x_ts}\n\n```\n\næ³¨æ„ï¼Œå¦‚æœä½ æƒ³è¦å“åº”ä½“ï¼Œ`Network.responseReceived`ç±»å‹çš„æ—¥å¿—çš„`response`å­—æ®µæ˜¯æ²¡æœ‰å“åº”ä½“çš„ï¼Œä½ éœ€è¦é€šè¿‡`params`å­—æ®µé‡Œçš„`requestId`è·å–ï¼Œå‚è€ƒä»£ç å¦‚ä¸‹\n\n```python\nres_body_dict = dict()\nfor log_type in driver.log_types:\n    perf_list = driver.get_log(log_type)\n    for row_log in perf_list:\n        try:\n            log_json = json.loads(row_log['message'])\n            message_log = log_json['message']\n        except Exception as e:\n            print(e)\n            continue\n        if message_log.get('method') != 'Network.responseReceived':\n            continue\n        if message_log.get(\"params\", {}).get(\"type\", \"\").upper() != \"XHR\":\n            continue\n        request_id = message_log['params'].get(\"requestId\")\n        if not request_id:\n            continue\n        req_url = message_log['params'].get('response', {}).get('url')\n        key = os.path.split(req_url.split(\"?\")[0])[1]\n        content = driver.execute_cdp_cmd('Network.getResponseBody', {'requestId': request_id})\n        body = None\n        try:\n            body = json.loads(content[\"body\"])\n        except Exception as e:\n            print(\"get_unisat_data_by_selenium() json loads error: {}, content:{}\".format(e, content))\n        res_body_dict[key] = body\n\n```\n\n#### 5.å®Œæ•´ä»£ç \n\nä¸Šé¢çš„å®Œæ•´å‚è€ƒä»£ç å¦‚ä¸‹\n\n```python\nimport json\nimport os.path\n\nfrom selenium.webdriver import Chrome, ChromeOptions\nfrom selenium.webdriver.chrome.service import Service\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support import expected_conditions\nfrom selenium.webdriver.support.wait import WebDriverWait\n\n\ndef get_selenium_driver(executable_path=r\"E:\\webdriver\\chromedriver.exe\"):\n    options = ChromeOptions()\n    options.add_argument(\"--no-sandbox\")\n    options.add_argument(\"--allow-running-insecure-content\")\n    options.add_argument(\"--ignore-certificate-errors\")\n    options.add_argument(\"--disable-single-click-autofill\")\n    options.add_argument(\"--disable-autofill-keyboard-accessory-view[8]\")\n    options.add_argument(\"--disable-full-form-autofill-ios\")\n    options.add_experimental_option('perfLoggingPrefs', {\n        'enableNetwork': True,\n        'enablePage': False,\n    })\n    options.set_capability(\"goog:loggingPrefs\", {\n        'browser': 'ALL',\n        'performance': 'ALL',\n    })\n    options.set_capability(\"goog:perfLoggingPrefs\", {\n        'enableNetwork': True,\n        'enablePage': False,\n        'enableTimeline': False\n    })\n    service = Service(executable_path=executable_path)\n    driver = Chrome(service=service, options=options)\n    driver.execute_cdp_cmd(\"Page.addScriptToEvaluateOnNewDocument\",\n                           {\"source\": \"\"\"Object.defineProperty(navigator, 'webdriver', {get: () => undefined})\"\"\"})\n\n    return driver\n\n\ndef get_sign_by_selenium(page_url):\n    driver = get_selenium_driver()\n    driver.execute_cdp_cmd(\"Page.addScriptToEvaluateOnNewDocument\",\n                           {\"source\": \"\"\"Object.defineProperty(navigator, 'webdriver', {get: () => undefined})\"\"\"})\n    driver.get(page_url)\n    wait = WebDriverWait(driver, 15, 0.5)\n    try:\n        wait.until(expected_conditions.presence_of_element_located((By.CLASS_NAME, \"item \")))\n    except Exception as e:\n        print(\"WebDriverWait.until timeout error: {}\".format(e))\n    # html = driver.execute_script(\"return document.documentElement.outerHTML\")\n    # with open(r\"C:\\Users\\admin\\Desktop\\test\\test.html\", \"w\") as f:\n    #     f.write(html)\n    # time.sleep(10)\n    sign_dict = dict()\n    for log_type in driver.log_types:\n        perf_list = driver.get_log(log_type)\n        for row_log in perf_list:\n            try:\n                log_json = json.loads(row_log['message'])\n                message_log = log_json['message']\n            except Exception as e:\n                print(e)\n                continue\n            if message_log.get('method') != 'Network.requestWillBeSent':\n                continue\n            if message_log.get(\"params\", {}).get(\"type\", \"\").upper() != \"XHR\":\n                continue\n            headers = message_log['params'].get('request', {}).get('headers')\n            if not headers:\n                continue\n            x_sign = headers.get('X-Sign')\n            if not x_sign:\n                continue\n            x_app_id = headers.get('X-AppID')\n            x_ts = headers.get('X-Ts')\n            print(\"success:\", x_sign, x_app_id, x_ts)\n            req_url = message_log['params'].get('request', {}).get('url')\n            key = os.path.split(req_url.split(\"?\")[0])[1]\n            sign_dict[key] = {\"X-AppID\": x_app_id, \"X-Sign\": x_sign, \"X-Ts\": x_ts}\n    return sign_dict\n\n\ndef get_unisat_data_by_selenium(page_url):\n    driver = get_selenium_driver()\n    driver.execute_cdp_cmd(\"Page.addScriptToEvaluateOnNewDocument\",\n                           {\"source\": \"\"\"Object.defineProperty(navigator, 'webdriver', {get: () => undefined})\"\"\"})\n    driver.get(page_url)\n    wait = WebDriverWait(driver, 15, 0.5)\n    try:\n        wait.until(expected_conditions.presence_of_element_located((By.CLASS_NAME, \"item \")))\n    except Exception as e:\n        print(\"WebDriverWait.until timeout error: {}\".format(e))\n    res_body_dict = dict()\n    for log_type in driver.log_types:\n        perf_list = driver.get_log(log_type)\n        for row_log in perf_list:\n            try:\n                log_json = json.loads(row_log['message'])\n                message_log = log_json['message']\n            except Exception as e:\n                print(e)\n                continue\n            if message_log.get('method') != 'Network.responseReceived':\n                continue\n            if message_log.get(\"params\", {}).get(\"type\", \"\").upper() != \"XHR\":\n                continue\n            request_id = message_log['params'].get(\"requestId\")\n            if not request_id:\n                continue\n            req_url = message_log['params'].get('response', {}).get('url')\n            key = os.path.split(req_url.split(\"?\")[0])[1]\n            content = driver.execute_cdp_cmd('Network.getResponseBody', {'requestId': request_id})\n            body = None\n            try:\n                body = json.loads(content[\"body\"])\n            except Exception as e:\n                print(\"get_unisat_data_by_selenium() json loads error: {}, content:{}\".format(e, content))\n            res_body_dict[key] = body\n    return res_body_dict\n\n\nif __name__ == '__main__':\n    url = \"https://unisat.io/brc20?q=bc1pkmnh3nj89uns3yp2mtqqxjns65vy6ca6n5jvp4s8ua8nke69cnjs987vtp\"\n    print(\"get_sign_by_selenium(url):\", get_sign_by_selenium(url))\n    # print(\"get_unisat_data_by_selenium(url):\", get_unisat_data_by_selenium(url))\n\n\n```\n\n","tags":["python","selenium","è‡ªåŠ¨åŒ–"],"categories":["_A7-é€†å‘","selenium"]},{"title":"django-Sessionçš„é…ç½®ä¸ä½¿ç”¨","url":"/2024/05/16/django-Sessionçš„é…ç½®ä¸ä½¿ç”¨/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>django Sessionçš„é…ç½®ä¸ä½¿ç”¨</strong></font>\n\n<!--more-->\n\n```python\n# æ‰€æœ‰çš„ session é»˜è®¤é…ç½®æ˜¯åœ¨æºç ä¸­çš„ conf/global_settings.py\n############\n# SESSIONS #\n############\n\nä»¥ä¸‹å†…å®¹å­˜å‚¨ä½ç½®ï¼Œä»»é€‰å…¶ä¸€å³å¯ï¼šå³ SESSION_ENGINE çš„é…ç½®åªèƒ½é€‰ä¸€ä¸ª\n# # session ç›¸å…³æ•°æ®å­˜å‚¨ä½ç½® ï¼š æ•°æ®åº“\nSESSION_ENGINE = \"django.contrib.sessions.backends.db\"\n\n# session ç›¸å…³æ•°æ®å­˜å‚¨ä½ç½® ï¼š æ–‡ä»¶\nSESSION_ENGINE = \"django.contrib.sessions.backends.file\"\nSESSION_FILE_PATH = \"None\"   # å¦‚æœè¦å­˜å‚¨åˆ°æ–‡ä»¶ä¸­ï¼Œéœ€è¦å…ˆåˆ›å»ºæ–‡ä»¶å¤¹ ç›¸å¯¹è·¯å¾„(ä¹Ÿå¯ä»¥ç»å¯¹è·¯å¾„)\n\n# # å­˜å‚¨åˆ°ç¼“å­˜\nSESSION_ENGINE = \"django.contrib.sessions.backends.cache\"\nSESSION_CACHE_ALIAS = \"default\"\n\n# # å­˜å‚¨åˆ° ç¼“å­˜ + æ•°æ®åº“\nSESSION_ENGINE = \"django.contrib.sessions.backends.cached_db\"\nSESSION_CACHE_ALIAS = \"default\"\n\n# å¦‚æœå­˜å‚¨åˆ° cookieä¸­ï¼Œéœ€è¦é…ç½®ä¸‹é¢æ‰€æœ‰é¡¹ç›®\nSESSION_COOKIE_NAME = \"sessionid\"\nSESSION_COOKIE_AGE = 60 * 60 * 24 * 7 * 2  # ç”Ÿå­˜æ—¶é—´\nSESSION_COOKIE_DOMAIN = None  # åŸŸå\nSESSION_COOKIE_SECURE = False\nSESSION_COOKIE_PATH = \"/\"\nSESSION_COOKIE_HTTPONLY = True\nSESSION_COOKIE_SAMESITE = \"Lax\"\nSESSION_SAVE_EVERY_REQUEST = False\nSESSION_EXPIRE_AT_BROWSER_CLOSE = False\n\n# åºåˆ—å· sessionä¿¡æ¯\nSESSION_SERIALIZER = \"django.contrib.sessions.serializers.JSONSerializer\"\n```\n\n\n\n+ è·¯ç”±ï¼š\n\n```python\nurlpatterns = [\n    #    path('admin/', admin.site.urls),\n    path('x1/', x1, name=\"x1\"),\n    path('x2/', x2, name=\"x2\"),\n]\n```\n\n```python\nfrom django.urls import path\nfrom apps.app01 import views\nfrom django.shortcuts import HttpResponse\n\n# è®¿é—® /x1 è®¾ç½®session å±æ€§\n# session çš„è®¾ç½®\ndef x1(request):\n    request.session['id'] = 999\n    request.session[\"name\"] = \"wupeiqi\"\n    request.session[\"age\"] = 25\n    return HttpResponse(\"x1\")\n\n# è®¿é—® x2 æ ¡éªŒ session\n# sessionçš„è¯»å–\ndef x2(request):\n    print(request.session.get(\"id\"))\n    print(request.session.get(\"name\"))\n    print(request.session.get(\"age\"))\n    \n    # del request.session[\"id\"]   # åˆ é™¤ session ç›¸å…³ä¿¡æ¯  >>> å¦‚æœäºŒæ¬¡è®¿é—®ï¼Œæµè§ˆå™¨ä¼šæŠ¥é”™  æ¨èä¸‹é¢æ–¹æ³•ä½¿ç”¨\n    request.session.clear()   # æ¸…é™¤session ç›¸å…³æ•°æ®\n    \n    return HttpResponse(\"x2\")\n\n# è·¯ç”±å…³ç³»\nurlpatterns = [\n    path('x1/', x1, name=\"x1\"),\n    path('x2/', x2, name=\"x2\"),\n]\n```\n\n","tags":["python","django"],"categories":["Python","Django"]},{"title":"django-Cookieçš„é…ç½®ä¸ä½¿ç”¨","url":"/2024/05/16/django-Cookieçš„é…ç½®ä¸ä½¿ç”¨/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>django Cookieçš„é…ç½®ä¸ä½¿ç”¨</strong></font>\n\n<!--more-->\n\n![image-20240516012934469](https://s2.loli.net/2024/05/16/x6nONyUZvAWq9c7.png)\n\n+ è·¯ç”±ï¼š\n\n```python\nurlpatterns = [\n    #    path('admin/', admin.site.urls),\n    path('x1/', x1, name=\"x1\"),\n    path('x2/<int:v1>/', x2, name=\"x2\"),\n]\n```\n\n```python\ndef x1(request):\n    print(\"è§†å›¾.x1\")\n\n    obj = HttpResponse(\"x1\", status=201, reason=\"OK\")\n    obj[\"name\"] = \"xiao zhu pei qi\"\n\n    # è®¾ç½® cookie\n    obj.set_cookie(\"v1\", \"hello world\")   # ä¼šåœ¨set_cookie ä¸­è·Ÿä¸€ä¸ªå­—ç¬¦ä¸²\n    \n    # è®¾ç½®cookie è¿‡æœŸæ—¶é—´ ä¸€ï¼š\n     obj.set_cookie(\"v2\", \"user\", max_age=10)  # å½“å‰cookie v2=user åœ¨10ç§’è¿‡æœŸ\n      \n    # è®¾ç½®cookie è¿‡æœŸæ—¶é—´ äºŒï¼š\n    ctime = datetime.datetime.now() + datetime.timedelta(seconds=10)   # è®¾ç½®æ—¶é—´æˆ³ åŠ å‡\n    obj.set_cookie(\"v3\", \"root\", expires=ctime)  # å½“å‰cookie v3=root åœ¨10ç§’è¿‡æœŸ\n\n    return obj\n```\n\n![image-20240516005846278](https://s2.loli.net/2024/05/16/5BzWNUVlPk3h7uo.png)\n\n```python\ndef x2(request, v1):\n    # è·å–cookieè§†å›¾å‡½æ•°\n    print(request.COOKIES)\n    return HttpResponse(\"x2\")\n```\n\n![image-20240516010145709](https://s2.loli.net/2024/05/16/ncOxQNVTfrBUuY4.png)\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>django ç‹¬æœ‰çš„ç­¾åä¸æ ¡éªŒï¼š</strong></font>\n\n```python\ndef x1(request):\n    print(\"è§†å›¾.x1\")\n\n    obj = HttpResponse(\"x1\", status=201, reason=\"OK\")\n    obj[\"name\"] = \"xiao zhu pei qi\"\n    obj.set_signed_cookie(\"info\", \"xiaoguang\")  # django ç‹¬æœ‰ç­¾åç®—æ³•ï¼Œé˜²æ­¢è¯·æ±‚è¢«äººä¿®æ”¹\n    return obj\n\n\ndef x2(request):\n    # è·å–cookieè§†å›¾å‡½æ•°\n    print(request.COOKIES)\n    xx = request.get_signed_cookie(\"info\")\n    print(xx)\n    return HttpResponse(\"x2\")\n\nurlpatterns = [\n    path('x1/', x1, name=\"x1\"),\n    path('x2/', x2, name=\"x2\"),\n]\n\n```\n\n**æ ¡éªŒä¸ç­¾åå­—ç¬¦æ¯”å¯¹**\n\n![æ ¡éªŒä¸ç­¾åå­—ç¬¦æ¯”å¯¹](https://s2.loli.net/2024/05/16/k9NWcslPfen4vrY.png)\n","tags":["python","django"],"categories":["Python","Django"]},{"title":"django-ä¸­é—´ä»¶çš„é…ç½®ä¸ä½¿ç”¨","url":"/2024/05/15/django-ä¸­é—´ä»¶çš„é…ç½®ä¸ä½¿ç”¨/","content":"\n <font color=#00b2c2 size=5 face=å®‹ä½“><strong>ä¸­é—´ä»¶çš„è¿è¡Œæµç¨‹å›¾ï¼š</strong></font>\n\n<!--more-->\n\n![image-20230716091532551](https://s2.loli.net/2024/05/15/Gre7voNmpj3wb1u.png)\n\n#### 1.ç¼–å†™ç±»\n\n1.1 åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `utils`\n\n![image-20240515182654186](https://s2.loli.net/2024/05/15/LRYxDcgPUG5lTK2.png)\n\n1.2 åœ¨`utils` ä¸‹çš„ `md.py` ä¸­åˆ›å»ºç±»ã€‚å¯ä»¥å†™åœ¨ä»»æ„çš„ç›®å½•ï¼šè‡ªå®šä¹‰çš„ç±»ã€ç»§æ‰¿ä¸€ä¸ªç±»**ï¼ˆæ¨èï¼‰**\n\n```python\nfrom django.utils.deprecation import MiddlewareMixin\n\nclass KeLaMiddleware(MiddlewareMixin):\n\n    def process_request(self, request):\n        # requestæ˜¯è¯·æ±‚ç›¸å…³æ‰€æœ‰çš„æ•°æ®\n        pass\n\n    def process_view(self, request, view, *args, **kwargs):\n        # requestæ˜¯è¯·æ±‚ç›¸å…³æ‰€æœ‰çš„æ•°æ®ï¼› viewæ˜¯è¯•å›¾å‡½æ•°ï¼› è·¯ç”±å‚æ•°*args, **kwargs\n        pass\n\n    def process_response(self, request, response):\n        # requestæ˜¯è¯·æ±‚ç›¸å…³æ‰€æœ‰çš„æ•°æ®\n        # responseæ˜¯è¯•å›¾å‡½æ•°è¿”å›çš„é‚£ä¸ªå¯¹è±¡ï¼ˆå°è£…äº†è¦è¿”å›åˆ°ç”¨æˆ·æµè§ˆå™¨çš„æ‰€æœ‰æ•°æ®ï¼‰\n        return response\n```\n\n#### 2.æ³¨å†Œ\n\n```python\nMIDDLEWARE = [\n    'django.middleware.security.SecurityMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n    \"utils.md.KeLaMiddleware\"\n]\n# åŠ¨æ€å¯¼å…¥ + åå°„\n```\n\n#### 3.æµ‹è¯•\n\n```python\nfrom django.utils.deprecation import MiddlewareMixin\n\n\nclass KeLaMiddleware(MiddlewareMixin):\n\n    def process_request(self, request):\n        print(\"KeLa.process_request\")\n\n    def process_view(self, request, view, *args, **kwargs):\n        print(\"KeLa.process_view\",view, *args, **kwargs)\n\n    def process_response(self, request, response):\n        print(\"KeLa.process_response\")\n        return response\n```\n\n```python\nfrom django.contrib import admin\nfrom django.urls import path\nfrom django.shortcuts import HttpResponse\n\n\ndef x1(request):\n    print(\"è§†å›¾.x1\")\n    return HttpResponse(\"x1\")\n\n\ndef x2(request, v1):\n    print(\"è§†å›¾.x2\", v1)\n    return HttpResponse(\"x2\")\n\n\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    path('x1/', x1),\n    path('x2/<int:v1>/', x2),\n]\n```\n\n```python\nMIDDLEWARE = [\n    'django.middleware.security.SecurityMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n    \"utils.md.KeLaMiddleware\"\n]\n```\n\n#### 4.é—®é¢˜\n\n- ä¸­é—´ä»¶çš„åŠŸèƒ½å¥½åƒæœ‰ç‚¹åƒè£…é¥°å™¨ã€åº•å±‚æºç é—­åŒ…ã€‘\n\n- åŸºäºä¸­é—´ä»¶å¯ä»¥åšä»€ä¹ˆï¼Ÿ\n\n  - æ ¹æ®è¯·æ±‚å‘¨æœŸï¼Œå¯¹ request è¿›è¡Œèµ‹å€¼ï¼Œåç»­æ–¹ä¾¿è¿›è¡Œè°ƒç”¨ã€‚\n\n  - æ ¹æ®è¯·æ±‚å‘¨æœŸï¼Œå¯¹ä¸šåŠ¡é€»è¾‘ä»£ç è¿›è¡Œè‡ªå®šä¹‰ï¼Œå†³å®šæ˜¯å¦å¯ä»¥ç»§ç»­å‘å\n\n    - return Noneï¼Œç»§ç»­å‘åèµ°\n\n    - return HttpResponseå¯¹è±¡\n\n      ```\n      return HttpResponse(\"...\")\n      return render(\"...\")        ->   HttpResponse(\"...\")\n      return JsonReponse(\"...\")   ->   HttpResponse(\"...\")\n      ```\n\n  - æ ¹æ®è¯·æ±‚å‘¨æœŸï¼Œå¯¹è¿”å›ç»™ç”¨æˆ·æµè§ˆå™¨çš„æ•°æ®è¿›è¡Œè‡ªå®šä¹‰ï¼šåˆ é™¤å†…å®¹ã€å¢åŠ ã€cookieã€å“åº”å¤´...\n\n\n\n- è¿™ä¸ªä¸­é—´ä»¶å’Œnginx  apacheè¿™æ ·çš„**ä¸­é—´ä»¶**æ¦‚å¿µä¸€æ ·å—ï¼Ÿæ¯”å¦‚åšå‰ç½®ä»£ç†ï¼Œåšhttps\n\n  ```\n  Djangoä¸­é—´ä»¶  /  æ‹¦æˆªå™¨  / RequestHanler\n  ```\n\n- ä¸­é—´ä»¶å¯ä»¥è·¨è¯­è¨€è°ƒç”¨å—ï¼Ÿæ¯”å¦‚åˆ«äººä¸æ˜¯ç”¨python å†™çš„ï¼Œä½†æ˜¯å¯ä»¥ç»™æˆ‘ä»¬çš„django é¡¹ç›®ç”¨ï¼Ÿ\n\n  ```\n  Djangoä¸­é—´ä»¶\n  \t...\n  æ¶æ„ä¸­é—´ä»¶ï¼š\n  \tDjango + redisï¼ˆCè¯­è¨€ï¼‰\n  ```\n\n- ä¸­é—´ä»¶åªè¦ä¸¤å±‚,ä¸è¦ä¸­é—´é‚£ä¸ªprocess.riewè¡Œä¸è¡Œ,æ˜¯ä¸æ˜¯æœ‰äº›ç‰¹å®šåœºåˆéœ€è¦è¿”å›æœ€åä¸€å±‚\n\n  ```\n  ...\n  ```\n\n- é‚£Djangoå†…ç½®çš„ä¸­é—´ä»¶å®Œæˆäº†äº›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ\n\n  ```\n  ...\n  ```\n\n  \n\n### 1.1.2 â€œä¸æ­£å¸¸â€\n\n![image-20230716091818839](https://s2.loli.net/2024/05/16/m93EMl6sKOvVNJ1.png)\n\nå¦‚æœç”¨æˆ·å‘æˆ‘çš„ç½‘ç«™è¯·æ±‚æ—¶ï¼Œå¦‚æœè®¿é—®URLï¼š\n\n- /x1/\n- /x2/\n- /x3/ ï¼Œæ¯”å¦‚æºå¸¦å‡­è¯tokenï¼Œæœ‰å‡­è¯ç»§ç»­ï¼Œæ— å‡­è¯è¿”å›æ— æƒè®¿é—®ã€‚\n\n```\nhttp://127.0.0.1:8000/x2/12/\nhttp://127.0.0.1:8000/x2/12/?xxx=123\n\nhttp://127.0.0.1:8000/x3/?token=12938791923981723123\n```\n\n```python\nfrom django.utils.deprecation import MiddlewareMixin\nfrom django.shortcuts import HttpResponse\n\n\nclass KeLaMiddleware(MiddlewareMixin):\n\n    def process_request(self, request):\n        # request.path_info\n        # print(request.path_info,\"KeLa.process_request\")\n        if request.path_info == \"/x3/\":\n            token = request.GET.get('token')\n            if token == \"12938791923981723123\":\n                return\n            else:\n                return HttpResponse(\"æ— æƒè®¿é—®\")\n```\n\n\n\n\n\nå¦‚æœç”¨æˆ·å‘æˆ‘çš„ç½‘ç«™è¯·æ±‚æ—¶ï¼Œå¦‚æœè®¿é—®URLï¼š\n\n- /x1/\n\n- /x2/  ï¼Œæ¯”å¦‚æºå¸¦å‡­è¯tokenï¼Œæœ‰å‡­è¯ç»§ç»­ï¼Œæ— å‡­è¯è¿”å›æ— æƒè®¿é—®ã€‚\n\n  ```\n  x2/<int:v1>/', x2\n  \n  http://127.0.0.1:8000/x1/10/\n  http://127.0.0.1:8000/x1/20/\n  http://127.0.0.1:8000/x1/11/\n  ```\n\n- /x3/\n\n```python\nclass KeLaMiddleware(MiddlewareMixin):\n\n    def process_request(self, request):\n        # request.path_info\n        # print(request.path_info,\"KeLa.process_request\")\n        # ä»¥x2å¼€å¤´ æˆ– æ­£åˆ™   /x2/1111/   /x2/10/\n        # if request.path_info == \"/x2/\":\n        if request.path_info.startswith(\"/x2/\"):    # åˆ¤æ–­æ˜¯ä¸æ˜¯ä»¥ /x2/å¼€å¤´\n            token = request.GET.get('token')\n            if token == \"12938791923981723123\":\n                return \n            else:\n                return HttpResponse(\"æ— æƒè®¿é—®\")\n```\n\n```python\nclass KeLaMiddleware(MiddlewareMixin):\n\n    def process_view(self, request, view, *args, **kwargs):\n        # request.path_info\n        # print(request.path_info,\"KeLa.process_request\")\n        url_name = request.resolver_match.url_name\n        if url_name == \"x2\":\n            token = request.GET.get('token')\n            if token == \"12938791923981723123\":\n                return\n            else:\n                return HttpResponse(\"æ— æƒè®¿é—®\")\n```\n\n\n\nå…³äºè‡ªå®šä¹‰prcess_responseï¼Œä¸€èˆ¬ç”¨äºå¯¹è¯·æ±‚è¦è¿”å›çš„æ•°æ®è¿›è¡Œä¿®æ”¹ã€‚\n\n```python\nclass KeLaMiddleware(MiddlewareMixin):\n\n    def process_response(self, request, response):\n        response[\"xx\"] = \"wupeiqi\"\n        return response\n```\n\n## 1.2 ä½¿ç”¨ï¼ˆå‡ ä¹ä¸ç”¨ï¼‰\n\n- ç¼–å†™ç±»ï¼Œåœ¨ç±»å‹å®šä¹‰ï¼šprocess_requestã€process_viewã€process_responseã€process_exceptionã€process_template_response\n\n  ```\n  process_exceptionï¼Œè§†å›¾å‡½æ•°æœ‰å¼‚å¸¸ï¼Œå¤„ç†å‡ºç°å¼‚å¸¸æ—¶\n  process_template_responseï¼Œå¯¹äºè§†å›¾å‡½æ•°è¿”å›å†…å®¹æ¸²æŸ“æ‰©å±•ã€‚\n  \t- åœ¨è§†å›¾å‡½æ•°ä¸­å¦‚æœè¿”å›çš„å¯¹è±¡å†…éƒ¨æœ‰ä¸€ä¸ªrenderæ–¹æ³•ä¸”å¯ä»¥è¢«è°ƒç”¨æ‰§è¡Œ\n  \t- process_template_responseè¿”å›responseå‚æ•°ï¼ˆè¿”å›å€¼ï¼‰\n  \t- åœ¨è‡ªå®šä¹‰çš„MyReponseçš„renderæ–¹æ³•ä¸­å¿…é¡»è¿”å›HttpRespose\n  ```\n\n- ä¸­é—´ä»¶æ³¨å†Œï¼Œåœ¨settingsä¸­çš„é…ç½®ã€‚\n\n\n\n```python\nclass KeLaMiddleware(MiddlewareMixin):\n\n    def process_exception(self, request, exception):\n        print(request)\n        print(exception, type(exception))\n        return HttpResponse(\"é”™è¯¯äº†\")\n```\n\n\n\n\n\n```python\ndef x1(request):\n    print(\"è§†å›¾.x1\")\n    return HttpResponse(\"x1\")\n```\n\n\n\n\n\n```python\nclass MyHttpResponse:\n    def __init__(self, body):\n        self.body = body\n\n    def render(self):\n        return HttpResponse(self.body)  # çœŸæ­£çš„è¿”å›\n\n\ndef x1(request):\n    print(\"è§†å›¾.x1\")\n    return MyHttpResponse(\"x1\")\n```\n\n```python\nclass KeLaMiddleware(MiddlewareMixin):\n\n    def process_template_response(self, request, response):\n        return response\n```\n\n\n\n\n\n----\n\n```python\ndef x1(request):\n    print(\"è§†å›¾.x1\")\n    return HttpResponse(\"æºä»£ç -x1\")\n\n\ndef x2(request, v1):\n    return HttpResponse(\"æºä»£ç -x2\")\n\n\ndef x3(request):\n    return HttpResponse(\"æºä»£ç -x3\")\n```\n\n---\n\n```python\nclass MyHttpResponse:\n    def __init__(self, body):\n        self.body = body\n\n    def render(self):\n        return HttpResponse(self.body)\n\n\ndef x1(request):\n    print(\"è§†å›¾.x1\")\n    return MyHttpResponse(\"x1\")\n\n\ndef x2(request, v1):\n    return MyHttpResponse(\"x2\")\n\n\ndef x3(request):\n    return MyHttpResponse(\"x3\")\n\n```\n\n```python\nclass KeLaMiddleware(MiddlewareMixin):\n\n    def process_template_response(self, request, response):\n        response.body = f\"æºä»£ç -{response.body}\"\n        return response\n```\n\n## 1.3 æºç \n\n### 1.å…³äºè¯·æ±‚\n\n![image-20230716111119343](https://s2.loli.net/2024/05/16/yoCPvtDnTzM9Wxr.png)\n\n```python\nfrom wsgiref.simple_server import make_server\n\n\ndef run_server(environ, start_response):\n    # åªè¦è¯·æ±‚åˆ°æ¥ï¼Œå°±ä¼šèµ°è¿™é‡Œçš„ä»£ç \n    # 1.æ ¹æ®è¯·æ±‚ environ è¿›è¡Œåç»­ä¸šåŠ¡å¤„ç†\n    # 2.è¿”å›å†…å®¹ã€‚ã€‚ã€‚\n    start_response('200 OK', [('Content-Type', 'text/html')])\n    return [bytes('<h1>Hello, web!</h1>', encoding='utf-8'), ]\n\n\nif __name__ == '__main__':\n    httpd = make_server('127.0.0.1', 8000, run_server)  # # æœ‰è¯·æ±‚åˆ°æ¥æ—¶ï¼Œæ‰§è¡Œ  obj(environ, start_response)\n    httpd.serve_forever()\n```\n\n\n\n```python\nfrom wsgiref.simple_server import make_server\n\nclass Handler:\n    \n    def __init__(self):\n        # åšä¸€äº›åˆå§‹åŒ–åŠ¨ä½œ\n        self.name = \"wupeiqi\"\n        \n\t\n    def __call__(self,environ, start_response):\n        # æ ¹æ®åˆå§‹åŒ–çš„åŠ¨ä½œï¼Œå»æ‰§è¡Œ...\n        # ...\n        start_response('200 OK', [('Content-Type', 'text/html')])\n    \treturn [bytes('<h1>Hello, web!</h1>', encoding='utf-8'), ]\n\n\nif __name__ == '__main__':\n    obj = Handler() # æ‰§è¡Œ \n    httpd = make_server('127.0.0.1', 8000, obj)  # æœ‰è¯·æ±‚åˆ°æ¥æ—¶ï¼Œæ‰§è¡Œ obj(environ, start_response)\n    httpd.serve_forever()\n```\n\n![image-20230716112505648](https://s2.loli.net/2024/05/16/RmezGMnuCr9qySw.png)\n\n\n\n### 2.å¯åŠ¨Djangoé¡¹ç›®`WSGIHandler.__init__` \n\n![image-20230716121612821](https://s2.loli.net/2024/05/16/w9fpduBPR5yjJ1s.png)\n\n![image-20230716121637108](https://s2.loli.net/2024/05/16/vDkNrwV5Hu4sQoT.png)\n\n\n\n\n\n### 3.è¯·æ±‚åˆ°æ¥`WSGIHandler.__call__` \n\næµç¨‹ï¼šä¸­é—´ä»¶çš„æ‰§è¡Œã€è·¯ç”±åŒ¹é…ã€è§†å›¾å‡½æ•°çš„æ‰§è¡Œã€‚\n\n\n\n### å°ç»“\n\n- 1.7.xæºç ï¼Œåº•å±‚å®ç°ï¼Œæ˜¯åŸºäºå¥½å‡ ä¸ªåˆ—è¡¨ã€‚\n\n- 4.xæºç ï¼Œ\n\n  ```\n  å‡½æ•°çš„ä½œç”¨åŸŸ + é—­åŒ… + è£…é¥°å™¨\n  é¢å‘å¯¹è±¡ + __call__æ–¹æ³•\n  ```\n\n  ```\n  # æ ¸å¿ƒ\n  # handler = SecurityMiddlewareå¯¹è±¡\n  #             __call__\n  #                process_request\n  #                get_reponse = SessionMiddlewareå¯¹è±¡\n  #                process_response \n  #                              __call__\n  #                                   process_request \n  #                                   get_reponse = CommonMiddlewareå¯¹è±¡\n  #                                   process_response\n  #                                                 __call__\n  #                                                     process_request\n  #                                                     get_reponse = KeLaMiddlewareå¯¹è±¡\n  #                                                     process_response\n  ```\n\n  \n\n### ç­”ç–‘\n\n- æ²¡æ‚Ÿé€ï¼Œä¸éœ€è¦å¾ã€åªéœ€è¦æ‡‚ã€ä¸éœ€è¦èƒŒ+å»ºç«‹ã€‘\n- æœ‰äº›éš¾\n  - å…¥é—¨ï¼Œå¬æ‡‚+èƒ½ç”¨ï¼ˆå…¨å®¶æ¡¶ï¼‰\n  - æ–‡æ¡£ï¼Œç”¨æ³•æ²¡æœ‰æºç ã€‚\n  - æºç ï¼Œåˆ°åº•æ˜¯æ€ä¹ˆå®ç°çš„åŠŸèƒ½ï¼ˆä¸ä¿®æ”¹ã€æ‰©å±•ï¼‰ã€*ã€‘\n- æ„Ÿè§‰å¬æ‡‚äº†ï¼Œä½†åˆä¸æ¸…æ¥šï¼Œè¿™æ˜¯ä¸æ˜¯**å­¦æºç **çš„æ­£å¸¸æƒ…å†µï¼Œçœ‹Bç«™è§†é¢‘å†™ç¨‹åºéƒ½å¾ˆç®€å•ï¼Œä¹Ÿå®¹æ˜“æ‡‚\n- è¯¾ä¸‹è¿˜æ˜¯å¾—è‡ªå·±åˆ†æåˆ†æï¼Œä¸€å®šä¼šå¿˜è®°\n\n","tags":["python","django","ä¸­é—´ä»¶"],"categories":["Python","Django"]},{"title":"Django-çš„å›½é™…åŒ–ä¸æœ¬åœ°åŒ–è¯¦è§£","url":"/2024/05/13/Django-çš„å›½é™…åŒ–ä¸æœ¬åœ°åŒ–è¯¦è§£/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Django çš„å›½é™…åŒ–ä¸æœ¬åœ°åŒ–è¯¦è§£</strong></font>\n\n<!--more-->\n\næ¦‚è¦\néšç€å…¨çƒåŒ–çš„å‘å±•ï¼Œä¸º Web åº”ç”¨æä¾›å¤šè¯­è¨€æ”¯æŒå˜å¾—æ—¥ç›Šé‡è¦ã€‚Django ä½œä¸ºä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Web æ¡†æ¶ï¼Œæä¾›äº†ä¸€å¥—å®Œæ•´çš„å›½é™…åŒ–ï¼ˆi18nï¼‰å’Œæœ¬åœ°åŒ–ï¼ˆl10nï¼‰å·¥å…·ï¼Œä½¿å¾—å¼€å‘å¤šè¯­è¨€åº”ç”¨å˜å¾—ç®€å•ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç» Django ä¸­çš„å›½é™…åŒ–å’Œæœ¬åœ°åŒ–æœºåˆ¶ï¼Œå¹¶é€šè¿‡ä¸°å¯Œçš„ç¤ºä¾‹æ¥å±•ç¤ºå¦‚ä½•å®ç°ã€‚\n\n---\n\n#### 1. å›½é™…åŒ–ä¸æœ¬åœ°åŒ–åŸºç¡€\n\n+ **å›½é™…åŒ–ï¼ˆi18nï¼‰**ï¼šæŒ‡çš„æ˜¯è®¾è®¡è½¯ä»¶äº§å“ä»¥ä¾¿è½»æ¾é€‚é…ä¸åŒè¯­è¨€å’Œåœ°åŒºï¼Œè€Œæ— éœ€è¿›è¡Œé‡å¤§çš„æ”¹åŠ¨ã€‚\n+ **æœ¬åœ°åŒ–ï¼ˆl10nï¼‰**ï¼šæŒ‡çš„æ˜¯æ ¹æ®ç‰¹å®šè¯­è¨€å’Œåœ°åŒºçš„éœ€è¦ï¼Œå°†å›½é™…åŒ–çš„äº§å“è¿›è¡Œå…·ä½“é€‚é…çš„è¿‡ç¨‹ã€‚\n\n#### 2. é…ç½® Django é¡¹ç›®è¿›è¡Œå›½é™…åŒ–å’Œæœ¬åœ°åŒ–\n\né¦–å…ˆï¼Œéœ€è¦åœ¨ Django é¡¹ç›®çš„ `settings.py` æ–‡ä»¶ä¸­å¯ç”¨å›½é™…åŒ–å’Œæœ¬åœ°åŒ–ç›¸å…³çš„è®¾ç½®ã€‚\n\n```python\n# settings.py\n# å¯ç”¨å›½é™…åŒ–\nUSE_I18N = True\n# å¯ç”¨æœ¬åœ°åŒ–\nUSE_L10N = True\n# è®¾ç½®é»˜è®¤è¯­è¨€\nLANGUAGE_CODE = 'en-us'\n# è®¾ç½®æ”¯æŒçš„è¯­è¨€\nLANGUAGES = [\n    ('en', 'English'),\n    ('zh-hans', 'Simplified Chinese'),\n]\n# è®¾ç½®å›½é™…åŒ–ç¿»è¯‘æ–‡ä»¶çš„è·¯å¾„\nLOCALE_PATHS = [os.path.join(BASE_DIR, 'locale')]\n```\n\n#### 3. åˆ›å»ºå’Œç¼–è¯‘ç¿»è¯‘æ–‡ä»¶\n\nDjango ä½¿ç”¨ GNU gettext å·¥å…·ç®¡ç†ç¿»è¯‘ã€‚é¦–å…ˆï¼Œéœ€è¦åˆ›å»ºç¿»è¯‘æ–‡ä»¶ï¼š\n\n```python\ndjango-admin makemessages -l zh_hans\n```\n\nè¿™å°†ä¸ºç®€ä½“ä¸­æ–‡åˆ›å»ºä¸€ä¸ªç¿»è¯‘æ–‡ä»¶ã€‚ç„¶åï¼Œå¯ä»¥åœ¨ç”Ÿæˆçš„ `.po` æ–‡ä»¶ä¸­æ·»åŠ ç¿»è¯‘ã€‚\n\n```python\n# locale/zh_hans/LC_MESSAGES/django.po\n \nmsgid \"Welcome\"\nmsgstr \"æ¬¢è¿\"\n```\n\nç¼–è¯‘ç¿»è¯‘æ–‡ä»¶ï¼š\n\n```python\ndjango-admin compilemessages\n```\n\n#### 4. åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨å›½é™…åŒ–\n\nåœ¨ Django æ¨¡æ¿ä¸­ï¼Œä½¿ç”¨ `{% trans %}` æ ‡ç­¾æ¥æ ‡è®°éœ€è¦ç¿»è¯‘çš„å­—ç¬¦ä¸²ã€‚\n\n```html\n<!-- templates/my_template.html -->\n \n{% load i18n %}\n<p>{% trans \"Welcome\" %}</p>\n```\n\n#### 5. åœ¨ Python ä»£ç ä¸­ä½¿ç”¨å›½é™…åŒ–\n\nåœ¨ Python ä»£ç ä¸­ï¼Œä½¿ç”¨ `gettext` å‡½æ•°æ¥æ ‡è®°å’Œç¿»è¯‘å­—ç¬¦ä¸²ã€‚\n\n```python\nfrom django.utils.translation import gettext as _\n \ndef my_view(request):\n    message = _(\"Welcome\")\n    # ...\n```\n\n#### 6. æœ¬åœ°åŒ–æ—¥æœŸå’Œæ—¶é—´\n\nDjango è¿˜æä¾›äº†æœ¬åœ°åŒ–æ—¥æœŸå’Œæ—¶é—´çš„åŠŸèƒ½ã€‚åœ¨æ¨¡æ¿ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ `{% localize %}` æ ‡ç­¾ã€‚\n\n```html\n{% load l10n %}\n \n{% localize on %}\n    {{ my_date }}\n{% endlocalize %}\n```\n\n#### 7. ä¸­é—´ä»¶å’Œ URL é…ç½®\n\nä¸ºäº†æ ¹æ®ç”¨æˆ·çš„è¯­è¨€åå¥½åŠ¨æ€åˆ‡æ¢è¯­è¨€ï¼Œå¯ä»¥ä½¿ç”¨ Django çš„ `LocaleMiddleware`ã€‚\n\n```python\n# settings.py\n \nMIDDLEWARE = [\n    # ...\n    'django.middleware.locale.LocaleMiddleware',\n    # ...\n]\n```\n\nåŒæ—¶ï¼Œå¯ä»¥åœ¨ URL ä¸­æ·»åŠ è¯­è¨€å‰ç¼€æ¥æ”¯æŒä¸åŒè¯­è¨€çš„é¡µé¢ã€‚\n\n```python\n# urls.py\n \nfrom django.conf.urls.i18n import i18n_patterns\nfrom . import views\n \nurlpatterns = i18n_patterns(\n    path('welcome/', views.welcome, name='welcome'),\n    # ...\n)\n```\n\n#### 8. æµ‹è¯•å¤šè¯­è¨€åŠŸèƒ½\n\nåœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ç¡®ä¿å„ç§è¯­è¨€çš„æ­£ç¡®æ˜¾ç¤ºå’Œåˆ‡æ¢ã€‚å¯ä»¥é€šè¿‡ä¿®æ”¹æµè§ˆå™¨çš„è¯­è¨€è®¾ç½®æ¥æµ‹è¯•ä¸åŒè¯­è¨€ç¯å¢ƒä¸‹çš„æ˜¾ç¤ºæ•ˆæœã€‚\n\n#### ç»“è®º\n\né€šè¿‡ Django çš„å›½é™…åŒ–å’Œæœ¬åœ°åŒ–åŠŸèƒ½ï¼Œå¯ä»¥æœ‰æ•ˆåœ°ä¸ºåº”ç”¨æ·»åŠ å¤šè¯­è¨€æ”¯æŒï¼Œæ»¡è¶³ä¸åŒåœ°åŒºç”¨æˆ·çš„éœ€æ±‚ã€‚è™½ç„¶è¿™ä¸ªè¿‡ç¨‹å¯èƒ½æ¶‰åŠåˆ°å¤æ‚çš„é…ç½®å’Œå¤§é‡çš„ç¿»è¯‘å·¥ä½œï¼Œä½† Django æä¾›çš„å·¥å…·å’Œæ¡†æ¶ä½¿è¿™ä¸€è¿‡ç¨‹å˜å¾—æ›´åŠ å¯ç®¡ç†å’Œé«˜æ•ˆã€‚\n","tags":["python","django"],"categories":["Python","Django"]},{"title":"djangoçš„åˆ›å»ºä¸é…ç½®","url":"/2024/05/13/djangoçš„åˆ›å»ºä¸é…ç½®/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Django çº¯å‡€ç‰ˆçš„åˆ›å»ºï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=5 face=å®‹ä½“><strong>ä½¿ç”¨Django adminè·¯å¾„ï¼š</strong></font>\n\n```bash\npython3 manage.py createsuperuser   # åˆ›å»ºadminè´¦æˆ·å¯†ç \n```\n\n<font color=#f26522 size=5 face=å®‹ä½“><strong>å®‰è£…Djangoç¯å¢ƒï¼š</strong></font>\n\n```bash\n# å®‰è£…virtualenv\npip3 install virtualenv\n\n# åˆ›å»ºpythonç¯å¢ƒæ–‡ä»¶å¤¹\npython3 -m venv django_venv     # (bash è¿è¡Œç»“æœï¼Œä¼šåœ¨å½“å‰æ–‡ä»¶å¤¹åˆ›å»ºä¸€ä¸ªdjango_venvçš„æ–‡ä»¶å¤¹)\n\n# source /bin/activate\nsource ./django_venv/bin/activate\n# å¤‡æ³¨ï¼šå¦‚æœè¿›å…¥è™šæ‹Ÿç¯å¢ƒæˆåŠŸï¼Œåœ¨å‘½ä»¤è¡Œå‰é¢ä¼šæœ‰ä¸€ä¸ªå°æ‹¬å·\n\n# è¿›å…¥æˆåŠŸåï¼Œå®‰è£…djangoç¯å¢ƒ\npip3 install django #å›½å¤–æœåŠ¡å™¨ä¸‹è½½\npip3 install django==2.2     #  æŒ‡å®šå®‰è£…djangoç‰ˆæœ¬2.2\npip3 install django -i https://pypi.douban.com/simple   #  å›½å†…è±†ç“£æºåŠ é€Ÿè¿æ¥\n\n# åˆ›å»ºç½‘ç«™é¡¹ç›®å·¥ç¨‹\n# django-admin startproject <ç½‘ç«™å·¥ç¨‹å>\ndjango-admin startproject mysite\n\n# å¼€å¯pythonâ€”djangoç½‘ç«™æœåŠ¡\npython3 manage.py runserver   # ä»¥é»˜è®¤çš„æ–¹å¼å¯åŠ¨djangoæœåŠ¡\npython3 manage.py runserver 0.0.0.0:8000  # å‘½ä»¤è¡Œæ¨¡å¼\n\nnohup python3 manage.py runserver 0.0.0.0:8000 > manage.log 2>&1 &   # è¿›ç¨‹æ¨¡å¼\n\n# python manage.py startapp <å­åº”ç”¨åç§°>\npython manage.py startapp index  # åˆ›å»ºäº†ä¸€ä¸ªåå« çš„æ–‡ä»¶å¤¹\n```\n\n<font color=#f26522 size=5 face=å®‹ä½“><strong>settingsï¼šé…ç½®</strong></font>\n\n+ å¦‚æœä½¿ç”¨é»˜è®¤çš„sqliteæ•°æ®åº“ï¼š\n\n```bash\n# åœ¨è™šæ‹Ÿç¯å¢ƒä¸‹ä½¿ç”¨ï¼š\npython3 manage.py makemigrations\npython3 manage.py migrate\n```\n\n\n```python\nfrom pathlib import Path\nBASE_DIR = Path(__file__).resolve().parent.parent\nSECRET_KEY = 'django-insecure-p5t$3q2@12loakok_!**=^+c2h+fpgw#ca=zl$@in)(^=tcv^f'\nDEBUG = True\nALLOWED_HOSTS = []\nINSTALLED_APPS = [\n    # 'django.contrib.admin',     #  çº¯å‡€ç‰ˆdjango  # django å†…ç½®åå°ç®¡ç†ï¼Œç®€å•æ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥\n    # 'django.contrib.auth',      #  çº¯å‡€ç‰ˆdjango å‰”é™¤  # ç”¨æˆ·ç™»å½•å’Œè®¤è¯æƒé™\n    # 'django.contrib.contenttypes',   #  çº¯å‡€ç‰ˆdjango å‰”é™¤  # å¤æ‚è¡¨ç»“æ„å…³ç³»\n    # 'django.contrib.sessions',    #  çº¯å‡€ç‰ˆdjango å‰”é™¤  # å¦‚æœé¡¹ç›®ä¸­æœ‰ç™»å½•æˆåŠŸ è®©ç”¨æˆ·å¯ä»¥è®¿é—®\n    # 'django.contrib.messages',    #  çº¯å‡€ç‰ˆdjango å‰”é™¤  # æ¶ˆæ¯å±•ç¤ºï¼Œä¾èµ–Session\n    'django.contrib.staticfiles',   # é™æ€èµ„æºå¤„ç†ï¼Œå›¾ç‰‡ã€cssã€jsç­‰\n]\nMIDDLEWARE = [\n    'django.middleware.security.SecurityMiddleware',\n    # 'django.contrib.sessions.middleware.SessionMiddleware',   # çº¯å‡€ç‰ˆdjango å‰”é™¤\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    # 'django.contrib.auth.middleware.AuthenticationMiddleware',   # çº¯å‡€ç‰ˆdjango å‰”é™¤\n    # 'django.contrib.messages.middleware.MessageMiddleware',   # çº¯å‡€ç‰ˆdjango å‰”é™¤\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n]\nROOT_URLCONF = 'Dome_Datou.urls'\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                # 'django.contrib.auth.context_processors.auth',   # çº¯å‡€ç‰ˆdjango å‰”é™¤\n                # 'django.contrib.messages.context_processors.messages',    # çº¯å‡€ç‰ˆdjango å‰”é™¤\n            ],\n        },\n    },\n]\nWSGI_APPLICATION = 'Dome_Datou.wsgi.application'\n# >>>  python3 manage.py makemigrations\n# >>>  python3 manage.py migrate\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.sqlite3',\n        'NAME': BASE_DIR / 'db.sqlite3',\n    }\n}\nAUTH_PASSWORD_VALIDATORS = [\n    {\n        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',\n    },\n]\n\n# LANGUAGE_CODE = 'en-us'    # è®¾ç½® è‹±æ–‡\nLANGUAGE_CODE = 'zh-hans'    # è®¾ç½®ä¸­æ–‡\n# TIME_ZONE = 'UTC'\nTIME_ZONE = 'Asia/Shanghai'  # äºšæ´²ä¸Šæµ·\n# å¯ç”¨å›½é™…åŒ–\nUSE_I18N = True\n# å¯ç”¨æœ¬åœ°åŒ–\n# USE_L10N = True\nUSE_TZ = True\nSTATIC_URL = 'static/'\nDEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'\n\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>urlsï¼šé…ç½®</strong></font>\n\n```python\nfrom django.contrib import admin\nfrom django.urls import path\n\nurlpatterns = [\n    # path('admin/', admin.site.urls),\n]\n\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Django å¤šAppçš„åˆ›å»ºï¼š</strong></font>\n\n+ 1ã€åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºç›®å½•ï¼š`apps`\n\n  ```bash\n  # åˆ›å»ºapps\n  # ä»¥ä¸‹å‘½ä»¤ åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œ å°±æ˜¯åœ¨æœ‰ manage.pyæ–‡ä»¶çš„é‚£ä¸ªè·¯å¾„\n  mkdir apps  # åˆ›å»ºappsæ–‡ä»¶å¤¹\n  \n  # åˆ›å»ºå³å°†åˆ›å»ºçš„ appåç§°æ–‡ä»¶å¤¹\n  mkdir apps/app01\n  \n  # åˆ›å»ºapp01\n  python3 manage.py startapp app01 apps/app01   # åœ¨apps/app01 ä¸­åˆ›å»ºapp01ç¨‹åº\n  \n  \n  # åˆ›å»ºå³å°†åˆ›å»ºçš„ appåç§°æ–‡ä»¶å¤¹\n  mkdir apps/www\n  \n  # åˆ›å»ºapp01\n  python3 manage.py startapp www apps/www   # åœ¨apps/www ä¸­åˆ›å»ºwwwç¨‹åº\n  ```\n\n+ ä¿®æ”¹appä¸‹é¢ apps.pyä¸­çš„é…ç½®æ–‡ä»¶\n\n![ä¿®æ”¹appsä¸­çš„é…ç½®](https://s2.loli.net/2024/05/14/jGvOfcRNmyKuEnk.png)\n\n+ åœ¨settingsä¸­ç»„å†Œapp\n\n  ```python\n  INSTALLED_APPS = [\n      # 'django.contrib.admin',     #  çº¯å‡€ç‰ˆdjango  # django å†…ç½®åå°ç®¡ç†ï¼Œç®€å•æ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥\n      # 'django.contrib.auth',      #  çº¯å‡€ç‰ˆdjango å‰”é™¤  # ç”¨æˆ·ç™»å½•å’Œè®¤è¯æƒé™\n      # 'django.contrib.contenttypes',   #  çº¯å‡€ç‰ˆdjango å‰”é™¤  # å¤æ‚è¡¨ç»“æ„å…³ç³»\n      # 'django.contrib.sessions',    #  çº¯å‡€ç‰ˆdjango å‰”é™¤  # å¦‚æœé¡¹ç›®ä¸­æœ‰ç™»å½•æˆåŠŸ è®©ç”¨æˆ·å¯ä»¥è®¿é—®\n      # 'django.contrib.messages',    #  çº¯å‡€ç‰ˆdjango å‰”é™¤  # æ¶ˆæ¯å±•ç¤ºï¼Œä¾èµ–Session\n      'django.contrib.staticfiles',   # é™æ€èµ„æºå¤„ç†ï¼Œå›¾ç‰‡ã€cssã€jsç­‰\n      'apps.app01.apps.App01Config'\n  ]\n  ```\n\n  ![image-20240514014804221](https://s2.loli.net/2024/05/14/goejlnG4syaN6ri.png)\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>è·¯ç”±ï¼šé…ç½®</strong></font>\n\n+ è·¯ç”±åˆ†å‘é…ç½®ï¼š\n\n  + è®¿é—®urlï¼šhttp://127.0.0.1:8000/web/user/\n\n  + ä¸»è·¯ç”±ï¼š\n\n    ```python\n    from django.urls import path, re_path, include\n    urlpatterns = [\n        path(\"web/\", include(\"apps.www.urls\"))\n    ]\n    ```\n\n  + å­è·¯ç”±ï¼ˆapps/wwwï¼‰ï¼š\n\n    ```python\n    from django.urls import path\n    from apps.www import views\n    \n    urlpatterns = [\n        path(\"user/\", views.user)\n    ]\n    ```\n\n  + è§†å›¾é…ç½®ï¼š\n\n    ```python\n    from django.http import HttpResponse\n    # Create your views here.\n    def user(request):\n        return HttpResponse(\"åˆ›å»ºç”¨æˆ·åæˆåŠŸ >>> \")\n    ```\n\n+ è·¯ç”±ä¸­ `name`çš„ä½¿ç”¨ => åå‘ç”Ÿæˆç½‘å€ï¼Œç™»å½•æˆåŠŸ => è·³è½¬é¡µé¢ï¼š\n\n  ```python\n  from apps.app01 import views\n  # è‡ªå®šä¹‰è¯·æ±‚ æ·»åŠ æ¨¡å—\n  from django.urls import URLPattern, ResolverMatch\n  from django.urls.resolvers import RoutePattern, RegexPattern     # RoutePatternï¼šæ™®é€šè·¯ç”±ï¼Œ æ­£åˆ™è·¯ç”±ï¼š RegexPattern\n  \n  \n  class MyURLPattern(URLPattern):\n      def resolve(self, path):\n          match = self.pattern.match(path)\n          if match:\n              new_path, args, captured_kwargs = match\n              # Pass any default args as **kwargs.\n              kwargs = {**captured_kwargs, **self.default_args}\n              return ResolverMatch(\n                  self.callback,\n                  args,\n                  kwargs,\n                  self.pattern.name,\n                  route=str(self.pattern),\n                  captured_kwargs=captured_kwargs,\n                  extra_kwargs=self.default_args,\n              )\n  \n  \n  class MyRoutePattern(RoutePattern):\n      def match(self, path):\n          match = self.regex.search(path)\n          if match:\n              # RoutePattern doesn't allow non-named groups so args are ignored.\n              kwargs = match.groupdict()\n              for key, value in kwargs.items():\n                  converter = self.converters[key]\n                  try:\n                      kwargs[key] = converter.to_python(value)\n                  except ValueError:\n                      return None\n              return path[match.end():], (), kwargs\n          return None\n  urlpatterns = [\n    MyURLPattern(MyRoutePattern(\"login/<str:v1>\", name=\"n1\", is_endpoint=True), views.login, None, \"n1\"),   # ç­‰ä»·äº path('login/', views.login, name=\"n1\"),\n  ]\n  ```\n\n  ```python\n  def login(request, v1):\n    \turl = reverse('n1', kwargs={\"v1\": v1})   # kwargs={\"<è·¯ç”±ä¸­çš„é”®>\": <ç”¨æˆ·ä¼ é€’è¿›æ¥çš„v1>}\n      print(url) # /login/sdad\n      return HttpResponse(\"æ¬¢è¿ç™»å½•ï¼\")\n  ```\n\n+ `urls.py` é…ç½®:\n\n  ```python\n  from django.contrib import admin\n  from django.urls import path, re_path\n  from apps.app01 import views\n  \n  # è‡ªå®šä¹‰è¯·æ±‚ æ·»åŠ æ¨¡å—\n  from django.urls import URLPattern, ResolverMatch\n  from django.urls.resolvers import RoutePattern, RegexPattern     # RoutePatternï¼šæ™®é€šè·¯ç”±ï¼Œ æ­£åˆ™è·¯ç”±ï¼š RegexPattern\n  \n  # é‡å†™ URLPattern\n  class MyURLPattern(URLPattern):\n      def resolve(self, path):\n          match = self.pattern.match(path)\n          if match:\n              new_path, args, captured_kwargs = match\n              # Pass any default args as **kwargs.\n              kwargs = {**captured_kwargs, **self.default_args}\n              return ResolverMatch(\n                  self.callback,\n                  args,\n                  kwargs,\n                  self.pattern.name,\n                  route=str(self.pattern),\n                  captured_kwargs=captured_kwargs,\n                  extra_kwargs=self.default_args,\n              )\n  \n  # é‡å†™ RoutePattern\n  class MyRoutePattern(RoutePattern):\n      def match(self, path):\n          match = self.regex.search(path)\n          if match:\n              # RoutePattern doesn't allow non-named groups so args are ignored.\n              kwargs = match.groupdict()\n              for key, value in kwargs.items():\n                  converter = self.converters[key]\n                  try:\n                      kwargs[key] = converter.to_python(value)\n                  except ValueError:\n                      return None\n              return path[match.end():], (), kwargs\n          return None\n  \n  urlpatterns = [\n      # é»˜è®¤åå°ç™»å½•é¡µé¢ï¼Œ ä¸€èˆ¬ä¸ç”¨(è‡ªå·±é‡å†™)\n      # path('admin/', admin.site.urls),\n  \n      # http://127.0.0.1:8000/login/    # é»˜è®¤åœ°å€ æ— ä¼ å‚\n      # http://127.0.0.1:8000/login/?a1=1&a2=2   # é»˜è®¤ä¼ é€’ä¸¤ä¸ªå‚æ•° ï¼š a1=1   a2=2\n      MyURLPattern(MyRoutePattern(\"login/\", name=None, is_endpoint=True), views.login, None, None),\n      # path('login/', views.login),\n  \n      # http://127.0.0.1:8000/info/2222/\n      # http://127.0.0.1:8000/info/2222/?a1=1&a2=2\n      # path(\"info/<int:v1>/\", views.info),\n      MyURLPattern(MyRoutePattern(\"info/<int:v1>/\", name=None, is_endpoint=True), views.info, None, None),\n  \n      # http://127.0.0.1:8000/info/2222/\n      # http://127.0.0.1:8000/info/2222/?a1=1&a2=2\n      # path(\"xx/<path:v2>/\", views.s_path),\n      MyURLPattern(MyRoutePattern(\"xx/<path:v2>/\", name=None, is_endpoint=True), views.s_path, None, None),\n  \n      # # http://127.0.0.1:8000/xx/f9aa6e73-c310-8aab-a36c-e9758d8c4a1d/\n      # path(\"xx/<uuid:v3>/\", views.uuid),\n      MyURLPattern(MyRoutePattern(\"xx/<uuid:v3>/\", name=None, is_endpoint=True), views.uuid, None, None),\n  \n      # # http://127.0.0.1:8000/other/11/kanoc/\n      # path(\"other/<int:v1>/<str:v2>/\", views.other),\n      MyURLPattern(MyRoutePattern(\"other/<int:v1>/<str:v2>/\", name=None, is_endpoint=True), views.other, None, None),\n  \n      # è¦ä½¿ç”¨ re_path è¦å¼•å…¥æ–‡ä»¶  from django.urls import path, re_path\n      # # http://127.0.0.1:8000/yy/2024-05-14/\n      # re_path(r'yy/(\\d{4})-(\\d{2})-(\\d{2})', views.yy),\n      MyURLPattern(RegexPattern(r'yy/(\\d{4})-(\\d{2})-(\\d{2})', name=None, is_endpoint=True), views.yy, None, None),\n  ```\n\n+ `views.py` é…ç½®:\n\n```python\nfrom django.shortcuts import render\nfrom django.http import HttpResponse\n\n\n# Create your views here.\n\n# path('login/', views.login),\ndef login(request):\n    print(request.GET)\n    # # å¦‚æœ http://127.0.0.1:8000/login/?a1=1&a2=2\n    # # åˆ™ï¼š\n    # a1 = request.GET.get('a1')   # è·å– a1çš„å€¼\n    # a2 = request.GET.get('a2')   # è·å– a2çš„å€¼\n    # print(a1)\n    # print(a2)\n    return HttpResponse(\"æ¬¢è¿ç™»å½•ï¼\")\n\n# path(\"info/<int:v1>/\", views.info)\n# http://127.0.0.1:8000/info/2222/\ndef info(request, v1):\n    print(v1)  # ç»“æœ ï¼š2222\n    print(request.GET)\n    return HttpResponse(\"æ¬¢è¿ç™»å½•ï¼\")\n\n# path(\"xx/<path:v2>/\", views.s_path),\n# http://127.0.0.1:8000/xx/user/ps/ja/\ndef s_path(request, v2):\n    print(v2)  # ç»“æœ ï¼šuser/ps/ja\n    print(request.GET)\n    return HttpResponse(\"æ¬¢è¿ç™»å½•ï¼\")\n\n# path(\"xx/<uuid:v3>/\", views.uuid)\n# http://127.0.0.1:8000/xx/f9aa6e73-c310-8aab-a36c-e9758d8c4a1d/\ndef uuid(request, v3):\n    print(v3)  # ç»“æœ ï¼šf9aa6e73-c310-8aab-a36c-e9758d8c4a1d\n    print(request.GET)\n    return HttpResponse(\"æ¬¢è¿ç™»å½•ï¼\")\n\n# path(\"other/<int:v1>/<str:v2>/\", views.uuid),\n# http://127.0.0.1:8000/other/11/kanoc/\ndef other(request, v1, v2):\n    print(v1, v2)  # ç»“æœ ï¼š11    kanoc\n    print(request.GET)\n    return HttpResponse(\"æ¬¢è¿ç™»å½•ï¼\")\n\n# æ­¤è·¯ç”± ä¸ºæ­£åˆ™åŒ¹é…è·¯ç”±ï¼Œ è¦ä½¿ç”¨åˆ™æ­£åŒ¹é…è·¯ç”± éœ€è¦åœ¨è·¯ç”±é…ç½®æ–‡ä»¶ä¸­ å¼•å…¥æ¨¡å— from django.urls import path, re_path\n# re_path(r'yy/(\\d{4})-(\\d{2})-(\\d{2})', views.other)\n# http://127.0.0.1:8000/yy/2024-05-14/\n\ndef yy(request, v1, v2, v3):\n    print(v1, v2, v3)  # ç»“æœ ï¼š2024 05 14\n    print(request.GET)\n    return HttpResponse(\"æ¬¢è¿ç™»å½•ï¼\")\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Â URL-CBVï¼šå†™æ³•</strong></font>\n\n+ cbvå†™æ³• djangoä¼šè‡ªåŠ¨å®šä½åˆ° è¯·æ±‚åˆ°æ–¹æ³•ï¼Œä¸ç”¨è‡ªå·±å•ç‹¬çš„å»åˆ¤æ–­`post` ã€`get`...\n\n![image-20240514215331327](https://s2.loli.net/2024/05/14/M7szuLmA42P1Kkw.png)\n\n```python\nfrom django.urls import path\nfrom apps.CBV import views\n\nurlpatterns = [\n    path(\"cbv/\", views.CBV.as_view())\n]\n```\n\n```python\nfrom django.shortcuts import render\nfrom django.http import HttpResponse\nfrom django.views import View\n\n# Create your views here.\n\nclass CBV(View):\n    def get(self, request):\n        return HttpResponse(\"The CBV get\")\n\n    def post(self, request):\n        return HttpResponse(\"The CBV post\")\n```\n\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong> URL-CBVï¼šå–å€¼</strong></font>\n\n```python\nfrom django.urls import path, re_path\nfrom apps.CBV import views\n\nurlpatterns = [\n    path(\"cbv/<int:v1>\", views.CBV.as_view()),    # ä¼ é€’çš„ v1 ä¼šæ”¾åˆ° self.kwargs\n    re_path(\"cbv/(\\d+)/\", views.CBV.as_view()),    # ä¼ é€’çš„ å‚æ•° ä¼šæ”¾åˆ° self.args\n    re_path(\"cbv/(?P<v1>\\d+)/\", views.CBV.as_view())    # ä¼ é€’çš„ å‚æ•° ä¼šæ”¾åˆ° self.kwargs\n]\n```\n\n\n\n```python\nfrom django.shortcuts import render\nfrom django.http import HttpResponse\nfrom django.views import View\nclass CBV(View):\n    def get(self, request, v1):\n       # éå‘½åçš„æ–¹å¼ ä¼ é€’çš„å‚æ•°ï¼Œä¼šæ”¾åˆ° self.args å‘½åçš„å‚æ•°ï¼Œä¼šæ”¾åˆ°self.kwargs\n        print(self.request, self.args, self.kwargs) \n        return HttpResponse(\"The CBV get\")\n    def post(self, request):\n        return HttpResponse(\"The CBV post\")\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ORMï¼šé…ç½®</strong></font>\n\n+ æ–°å»ºappï¼š\n\n```python\npython3 manage.py startapp app01 # åœ¨å½“å‰ç›®å½•ä¸‹ åˆ›å»ºä¸€ä¸ªå« app01çš„æ–‡ä»¶å¤¹\n```\n\n+ settings ä¸­ç»„å†Œappç›®å½•ï¼š\n\n```python\n\nINSTALLED_APPS = [\n    # 'django.contrib.admin',     #  çº¯å‡€ç‰ˆdjango  # django å†…ç½®åå°ç®¡ç†ï¼Œç®€å•æ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥\n    # 'django.contrib.auth',      #  çº¯å‡€ç‰ˆdjango å‰”é™¤  # ç”¨æˆ·ç™»å½•å’Œè®¤è¯æƒé™\n    # 'django.contrib.contenttypes',   #  çº¯å‡€ç‰ˆdjango å‰”é™¤  # å¤æ‚è¡¨ç»“æ„å…³ç³»\n    # 'django.contrib.sessions',    #  çº¯å‡€ç‰ˆdjango å‰”é™¤  # å¦‚æœé¡¹ç›®ä¸­æœ‰ç™»å½•æˆåŠŸ è®©ç”¨æˆ·å¯ä»¥è®¿é—®\n    # 'django.contrib.messages',    #  çº¯å‡€ç‰ˆdjango å‰”é™¤  # æ¶ˆæ¯å±•ç¤ºï¼Œä¾èµ–Session\n    'django.contrib.staticfiles',   # é™æ€èµ„æºå¤„ç†ï¼Œå›¾ç‰‡ã€cssã€jsç­‰\n    'app01.apps.App01Config'    # æ·»åŠ app\n]\n```\n\n+ models.py é…ç½®:\n\n```python\nfrom django.db import models\n# Create your models here.\nclass UserInfo(models.Model):\n    username = models.CharField(verbose_name=\"ç”¨æˆ·å\", max_length=32)\n    password = models.CharField(verbose_name=\"å¯†ç \", max_length=64)\n\n```\n\n+ è¯»å–models ç”Ÿæˆç›¸åº”æœ¬åœ°é…ç½®ï¼š\n\n```python\n1ã€>>> python3 manage.py makemigrations   # ç”Ÿæˆé…ç½®  \n2ã€>>> python3 manage.py migrate  # è½½å…¥é…ç½®\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>è¿”å›æ•°æ®ï¼š</strong></font>\n\n```python\nfrom django.http import HttpResponse, JsonResponse\nfrom django.shortcuts import render, redirect\n\nreturn HttpResponse(\"The CBV get\")   # è¿”å›å­—ç¬¦ä¸²\nreturn JsonResponse({\"status\": True, \"name\": \"å°è˜‘è‡\"}, json_dumps_params={\"ensure_ascii\": False})   # è¿”å›ä¸­æ–‡ è€Œé ascii ç \nreturn render(request, \"demo.html\")   # è¿”å›html é¡µé¢\nreturn redirect(\"https://www.baidu.com\", permanent=False)   # è¿”å› 302 ä¸´æ—¶é‡å®šå‘\nreturn redirect(\"https://www.baidu.com\", permanent=True)  # è¿”å› 301 æ°¸ä¹…é‡å®šå‘\n```\n\n","tags":["python","django"],"categories":["Python","Django"]},{"title":"æ”¶è—-å¸¸ç”¨è„šæœ¬","url":"/2024/05/11/æ”¶è—-å¸¸ç”¨è„šæœ¬/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>æ”¶è—-å¸¸ç”¨è„šæœ¬ï¼š</strong></font>\n\n<!--more-->\n\n[Pythonã€Go æ‰“åŒ…è¿è¡Œä»£ç  ](https://blog.teadan.com/2024/04/02/Pythonã€Go æ‰“åŒ…è¿è¡Œä»£ç /)\n\n[python-è™šæ‹Ÿç¯å¢ƒåŒ…(requirements.txt)çš„å¯¼å‡ºä¸å®‰è£… ](https://blog.teadan.com/2024/03/20/python-è™šæ‹Ÿç¯å¢ƒåŒ…(requirements.txt)çš„å¯¼å‡ºä¸å®‰è£…/)\n\n[Nginxè·¨åŸŸè§£å†³æ–¹æ¡ˆ ](https://blog.teadan.com/2023/03/20/Nginxè·¨åŸŸè§£å†³æ–¹æ¡ˆ/)\n\n[Django_å­¦ä¹ ç¬”è®° ](https://blog.teadan.com/2023/05/22/Django-å­¦ä¹ ç¬”è®°/)\n\n[å…³äºJet Brainså†å²ç‰ˆæœ¬è·å– ](https://blog.teadan.com/2023/03/20/å…³äºJet-Brainså†å²ç‰ˆæœ¬è·å–/)\n\n[django-è·¨åŸŸæ”¯æŒé…ç½® ](https://blog.teadan.com/2024/03/20/django-è·¨åŸŸæ”¯æŒé…ç½®/)\n\n[å®å¡”éƒ¨ç½²Djangoè¿›ç¨‹å®ˆæŠ¤Supervisor](https://blog.teadan.com/2023/03/20/å®å¡”éƒ¨ç½²Djangoè¿›ç¨‹å®ˆæŠ¤Supervisor/)\n\n[pip-æ›´æ¢æº ](https://blog.teadan.com/2024/05/01/pip-æ›´æ¢æº/)\n\n[å¿…å¤‡å·¥å…·-ä»£ç ç±» ](https://blog.teadan.com/2024/04/24/å¿…å¤‡å·¥å…·-ä»£ç ç±»/)\n\n[ä¸€é”®æå®šå¤šå±‚è·³æ¿è®¿é—®ç›®æ ‡æœºå™¨ ](https://blog.teadan.com/2024/04/13/ä¸€é”®æå®šå¤šå±‚è·³æ¿è®¿é—®ç›®æ ‡æœºå™¨/)\n\n[Shadowsocks ä¸€é”®å®‰è£…è„šæœ¬ï¼ˆå››åˆä¸€ï¼‰ ](https://blog.teadan.com/2024/01/25/Shadowsocks-ä¸€é”®å®‰è£…è„šæœ¬ï¼ˆå››åˆä¸€ï¼‰/)\n\n[å¿…å¤‡å·¥å…· ](https://blog.teadan.com/2023/07/11/å¿…å¤‡å·¥å…·/)\n\n[centosæµ‹ç½‘é€Ÿè„šæœ¬ ](https://blog.teadan.com/2023/06/13/centosæµ‹ç½‘é€Ÿè„šæœ¬/)\n\n[python æ—¶é—´æ ¼å¼è¿”å›å€¼ ](https://blog.teadan.com/2023/05/27/python-æ—¶é—´æ ¼å¼è¿”å›å€¼/)\n\n[ThreadPoolExecutorå¤šçº¿ç¨‹è¿”å›å€¼ ](https://blog.teadan.com/2023/03/20/ThreadPoolExecutorå¤šçº¿ç¨‹è¿”å›å€¼/)\n\n[V2rayå®˜æ–¹ä¸€é”®å®‰è£…è„šæœ¬(2021/10) ](https://blog.teadan.com/2023/03/20/V2rayå®˜æ–¹ä¸€é”®å®‰è£…è„šæœ¬-2021-10/)\n\n[m3u8ä¸‹è½½åè®®ä¸åœ¨ç™½åå• ](https://blog.teadan.com/2023/03/20/m3u8ä¸‹è½½åè®®ä¸åœ¨ç™½åå•/)\n","tags":["æ”¶è—","å¸¸ç”¨è„šæœ¬"],"categories":["_A8-å·¥å…·","å¸¸ç”¨è„šæœ¬"]},{"title":"Linux-CentOS-å®šæ—¶è¿è¡Œè„šæœ¬é…ç½®çš„æ–¹æ³•","url":"/2024/05/11/Linux-CentOS-å®šæ—¶è¿è¡Œè„šæœ¬é…ç½®çš„æ–¹æ³•/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Linux CentOS å®šæ—¶è¿è¡Œè„šæœ¬é…ç½®çš„æ–¹æ³•:</strong></font>\n\n<!--more-->\n\næœ¬æ–‡æ¥è‡ªäºï¼š[Linux CentOS å®šæ—¶è¿è¡Œè„šæœ¬é…ç½®çš„æ–¹æ³•-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘ (tencent.com)](https://cloud.tencent.com/developer/article/1720864)\n\nå¾ˆå¤šæ—¶å€™æˆ‘ä»¬æœ‰å¸Œæœ›[æœåŠ¡å™¨](https://cloud.tencent.com/act/pro/promotion-cvm?from_column=20065&from=20065)å®šæ—¶å»è¿è¡Œä¸€ä¸ªè„šæœ¬æ¥è§¦å‘ä¸€ä¸ªæ“ä½œï¼Œæ¯”å¦‚ä½¿ç”¨ä¸ƒç‰›çš„å·¥å…·ä¸Šä¼ ï¼Œå¦‚æœåŒæ­¥æ–‡ä»¶é‡Œé¢æœ‰æ–°å¢åŠ ä¸€ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥æä¾›å®šæ—¶è„šæœ¬å»å®Œæˆæˆ‘ä»¬éœ€è¦çš„åŒæ­¥å‘½ä»¤(ä¸ƒç‰›çš„qrsboxå·¥å…·æ˜¯è‡ªåŠ¨ä¼šåŒæ­¥çš„ï¼Œåªéœ€è¦åœ¨åŒæ­¥æ–‡ä»¶å¤¹é‡Œé¢å¢åŠ ä¸€ä¸ªæ–‡ä»¶å°±ä¼šè‡ªåŠ¨ç›‘å¬ä¸Šä¼ )ã€‚\n\n\n\n---\n\n<br>\n\n---\n\n\n\n**1.å®‰è£…crontab**\n\n```bash\n[root@CentOS ~]# yum install vixie-cron\n[root@CentOS ~]# yum install crontabs\n```\n\nvixie-cronè½¯ä»¶åŒ…æ˜¯cronçš„ä¸»ç¨‹åºï¼›\n\ncrontabsè½¯ä»¶åŒ…æ˜¯ç”¨æ¥å®‰è£…ã€å¸è£…ã€æˆ–åˆ—ä¸¾ç”¨æ¥é©±åŠ¨ cron å®ˆæŠ¤è¿›ç¨‹çš„è¡¨æ ¼çš„ç¨‹åºã€‚\n\n\n\n---\n\n<br>\n\n---\n\n\n\n**\n\n**2.å¼€å¯crontabæœåŠ¡**\n\n```bash\nservice crond start //å¯åŠ¨æœåŠ¡\n```\n\nç”¨ä»¥ä¸‹çš„æ–¹æ³•å¯åŠ¨ã€å…³é—­è¿™ä¸ªcronæœåŠ¡ï¼š\n\n+ service crond start //å¯åŠ¨æœåŠ¡\n\n+ service crond stop //å…³é—­æœåŠ¡\n\n+ service crond restart //é‡å¯æœåŠ¡\n\n+ service crond reload //é‡æ–°è½½å…¥é…ç½®\n\n+ æŸ¥çœ‹crontabæœåŠ¡çŠ¶æ€ï¼šservice crond status\n\n+ æ‰‹åŠ¨å¯åŠ¨crontabæœåŠ¡ï¼šservice crond start\n\n+ æŸ¥çœ‹crontabæœåŠ¡æ˜¯å¦å·²è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ï¼Œæ‰§è¡Œå‘½ä»¤ï¼šntsysv\n\n---\n\n<br>\n\n---\n\n\n\n**åŠ å…¥å¼€æœºè‡ªåŠ¨å¯åŠ¨:** \n\nchkconfig â€“level 35 crond on\n\nå¦å¤–é¡ºå¸¦ä»‹ç»ä¸‹ntsysvå’Œchkconfigå‘½ä»¤ï¼š\n\nå…³äºntsysvå‘½ä»¤æ˜¯ç±»å›¾å½¢ç•Œé¢ç®¡ç†æ¨¡å¼æ¥è®¾ç½®å¼€æœºå¯åŠ¨ï¼Œéœ€è¦å…ˆå®‰è£…æ‰å¯ä»¥ä½¿ç”¨ï¼Œyum install -y ntsysvå®‰è£…å¥½ä¹‹ååªéœ€è¦è¿è¡Œä¸€ä¸ªntsysvå³å¯å‡ºç°ä¸€ä¸ªç±»ä¼¼å›¾åƒåŒ–çš„ç®¡ç†ç•Œé¢ã€‚\n\nä¸Šä¸‹é”®ï¼šå¯ä»¥åœ¨ä¸­é—´çš„æ–¹æ¡†å½“ä¸­ï¼Œåœ¨å„ä¸ªæœåŠ¡ä¹‹é—´ç§»åŠ¨ï¼›\n\nç©ºæ ¼é”®ï¼šå¯ä»¥ç”¨æ¥é€‰æ‹©ä½ æ‰€éœ€è¦çš„æœåŠ¡ï¼Œ[*]è¡¨ç¤ºå¼€èµ·å¯åŠ¨ï¼›\n\ntabé”®ï¼šå¯ä»¥åœ¨æ–¹æ¡†ã€OKã€Cancelä¹‹é—´ç§»åŠ¨ï¼›\n\n[F1]é”®ï¼šå¯ä»¥æ˜¾ç¤ºè¯¥æœåŠ¡çš„è¯´æ˜ã€‚\n\nå…³äºchkconfigå‘½ä»¤è¡Œçš„å½¢å¼è®¾ç½®æ˜¯å¦å¼€æœºè‡ªå¯åŠ¨æˆ–è€…æŸ¥è¯¢æŸä¸ªæœåŠ¡6ä¸ªå¼€æœºçº§åˆ«çš„è¿è¡Œæƒ…å†µã€‚\n\n\n\n---\n\n<br>\n\n---\n\n\n\n**è®¾ç½®å¼€æœºè‡ªåŠ¨å¯åŠ¨crondæœåŠ¡:** \n\n[root@CentOS ~]# chkconfig crond on\n\næŸ¥çœ‹å„ä¸ªå¼€æœºçº§åˆ«çš„crondæœåŠ¡è¿è¡Œæƒ…å†µ\n\n[root@CentOS ~]# chkconfig â€“list crond\n\ncrond 0:å…³é—­ 1:å…³é—­ 2:å¯ç”¨ 3:å¯ç”¨ 4:å¯ç”¨ 5:å¯ç”¨ 6:å…³é—­\n\nå¯ä»¥çœ‹åˆ°2ã€3ã€4ã€5çº§åˆ«å¼€æœºä¼šè‡ªåŠ¨å¯åŠ¨crondæœåŠ¡\n\n\n\n---\n\n<br>\n\n---\n\n\n\n**å–æ¶ˆå¼€æœºè‡ªåŠ¨å¯åŠ¨crondæœåŠ¡:** \n\n[root@CentOS ~]# chkconfig crond off\n\n\n\n---\n\n<br>\n\n---\n\n\n\n**3.è®¾ç½®éœ€è¦æ‰§è¡Œçš„è„šæœ¬** \n\næ–°å¢è°ƒåº¦ä»»åŠ¡å¯ç”¨ä¸¤ç§æ–¹æ³•ï¼š\n\n1)ã€åœ¨å‘½ä»¤è¡Œè¾“å…¥: crontab -e ç„¶åæ·»åŠ ç›¸åº”çš„ä»»åŠ¡ï¼Œwqå­˜ç›˜é€€å‡ºã€‚\n\n2)ã€ç›´æ¥ç¼–è¾‘/etc/crontab æ–‡ä»¶ï¼Œå³vi /etc/crontabï¼Œæ·»åŠ ç›¸åº”çš„ä»»åŠ¡ã€‚\n\n`crontab -eé…ç½®æ˜¯é’ˆå¯¹æŸä¸ªç”¨æˆ·çš„ï¼Œè€Œç¼–è¾‘/etc/crontabæ˜¯é’ˆå¯¹ç³»ç»Ÿçš„ä»»åŠ¡`\n\næŸ¥çœ‹è°ƒåº¦ä»»åŠ¡\n\n`crontab -l //åˆ—å‡ºå½“å‰çš„æ‰€æœ‰è°ƒåº¦ä»»åŠ¡`\n\n`crontab -l -u jp //åˆ—å‡ºç”¨æˆ·jpçš„æ‰€æœ‰è°ƒåº¦ä»»åŠ¡`\n\nåˆ é™¤ä»»åŠ¡è°ƒåº¦å·¥ä½œ\n\n`crontab -r //åˆ é™¤æ‰€æœ‰ä»»åŠ¡è°ƒåº¦å·¥ä½œ`\n\nç›´æ¥ç¼–è¾‘ vim /etc/crontab ,é»˜è®¤çš„æ–‡ä»¶å½¢å¼å¦‚ä¸‹ï¼š\n\n```bash\nSHELL=/bin/bash\nPATH=/sbin:/bin:/usr/sbin:/usr/bin\nMAILTO=root\nHOME=/\n\n# For details see man 4 crontabs\n\n# Example of job definition:\n# .---------------- minute (0 - 59)\n# | .------------- hour (0 - 23)\n# | | .---------- day of month (1 - 31)\n# | | | .------- month (1 - 12) OR jan,feb,mar,apr ...\n# | | | | .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat\n# | | | | |\n# * * * * * user-name command to be executed\n```\n\n**è¿™ä¸ªæ–‡æœ¬è§£é‡Šçš„å·²ç»æ¯”è¾ƒç›´è§‚äº†ï¼Œå…¶ä¸­** \n\næ˜Ÿå·ï¼ˆ*ï¼‰ï¼šä»£è¡¨æ‰€æœ‰å¯èƒ½çš„å€¼ï¼Œä¾‹å¦‚monthå­—æ®µå¦‚æœæ˜¯æ˜Ÿå·ï¼Œåˆ™è¡¨ç¤ºåœ¨æ»¡è¶³å…¶å®ƒå­—æ®µçš„åˆ¶çº¦æ¡ä»¶åæ¯æœˆéƒ½æ‰§è¡Œè¯¥å‘½ä»¤æ“ä½œã€‚\n\né€—å·ï¼ˆ,ï¼‰ï¼šå¯ä»¥ç”¨é€—å·éš”å¼€çš„å€¼æŒ‡å®šä¸€ä¸ªåˆ—è¡¨èŒƒå›´ï¼Œä¾‹å¦‚ï¼Œâ€œ1,2,5,7,8,9â€\n\nä¸­æ ï¼ˆ-ï¼‰ï¼šå¯ä»¥ç”¨æ•´æ•°ä¹‹é—´çš„ä¸­æ è¡¨ç¤ºä¸€ä¸ªæ•´æ•°èŒƒå›´ï¼Œä¾‹å¦‚â€œ2-6â€è¡¨ç¤ºâ€œ2,3,4,5,6â€\n\næ­£æ–œçº¿ï¼ˆ/ï¼‰ï¼šå¯ä»¥ç”¨æ­£æ–œçº¿æŒ‡å®šæ—¶é—´çš„é—´éš”é¢‘ç‡ï¼Œä¾‹å¦‚â€œ0-23/2â€è¡¨ç¤ºæ¯ä¸¤å°æ—¶æ‰§è¡Œä¸€æ¬¡ã€‚åŒæ—¶æ­£æ–œçº¿å¯ä»¥å’Œæ˜Ÿå·ä¸€èµ·ä½¿ç”¨ï¼Œä¾‹å¦‚*/10ï¼Œå¦‚æœç”¨åœ¨minuteå­—æ®µï¼Œè¡¨ç¤ºæ¯ååˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ã€‚\n\nè¿™é‡Œä¸¾å‡ ä¸ªä¾‹å­ï¼ŒåŸºæœ¬æ¶µç›–äº†å¸¸è§çš„ä¸€äº›æƒ…å†µï¼š\n\n\n\n---\n\n<br>\n\n---\n\n\n\n**å®ä¾‹1**\n\n```bash\n5   *    *      *   *   ls     æŒ‡å®šæ¯å°æ—¶çš„ç¬¬5åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡lså‘½ä»¤\n30   5    *      *   *   ls     æŒ‡å®šæ¯å¤©çš„ 5:30 æ‰§è¡Œlså‘½ä»¤\n30   7    8      *   *   ls     æŒ‡å®šæ¯æœˆ8å·çš„7ï¼š30åˆ†æ‰§è¡Œlså‘½ä»¤\n30   5    8      6   *   ls     æŒ‡å®šæ¯å¹´çš„6æœˆ8æ—¥5ï¼š30æ‰§è¡Œlså‘½ä»¤\n30   5    8      6   *   ls     æŒ‡å®šæ¯å¹´çš„6æœˆ8æ—¥5ï¼š30æ‰§è¡Œlså‘½ä»¤\n30   6    *      *   0   ls     æŒ‡å®šæ¯æ˜ŸæœŸæ—¥çš„6:30æ‰§è¡Œlså‘½ä»¤\n30   3   10,20     *   *   ls     æ¯æœˆ10å·åŠ20å·çš„3ï¼š30æ‰§è¡Œlså‘½ä»¤\n25   8-11  *      *   *   ls     æ¯å¤©8-11ç‚¹çš„ç¬¬25åˆ†é’Ÿæ‰§è¡Œlså‘½ä»¤\n*/15  *    *      *   *   ls     æ¯15åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡lså‘½ä»¤\n30   6   */10     *   *   ls     æ¯ä¸ªæœˆä¸­ï¼Œæ¯éš”10å¤©6:30æ‰§è¡Œä¸€æ¬¡lså‘½ä»¤\n22   4    *      *   *   root   run-parts   /etc/cron.daily\n#æ¯å¤©4ï¼š22ä»¥rootèº«ä»½æ‰§è¡Œ/etc/cron.dailyç›®å½•ä¸­çš„æ‰€æœ‰å¯æ‰§è¡Œæ–‡ä»¶ï¼Œrun-partså‚æ•°è¡¨ç¤ºï¼Œæ‰§è¡Œåé¢ç›®å½•ä¸­çš„æ‰€æœ‰å¯æ‰§è¡Œæ–‡ä»¶ã€‚\n```\n\n\n\n---\n\n<br>\n\n---\n\n\n\n**å®ä¾‹2**\n\n```bash\n#æ¯æ™šçš„21:30 é‡å¯apache\n30 21 * * * /usr/local/etc/rc.d/lighttpd restart\n#æ¯æœˆ1ã€10ã€22æ—¥çš„4 : 45é‡å¯apache\n45 4 1,10,22 * * /usr/local/etc/rc.d/lighttpd restart\n#æ¯å‘¨å…­ã€å‘¨æ—¥çš„1 : 10é‡å¯apache\n10 1 * * 6,0 /usr/local/etc/rc.d/lighttpd restart\n#æ¯å¤©18 : 00è‡³23 : 00ä¹‹é—´æ¯éš”30åˆ†é’Ÿé‡å¯apache\n0,30 18-23 * * * /usr/local/etc/rc.d/lighttpd restart\n#æ¯æ˜ŸæœŸå…­çš„11 : 00 pmé‡å¯apache\n0 23 * * 6 /usr/local/etc/rc.d/lighttpd restart\n#æ™šä¸Š11ç‚¹åˆ°æ—©ä¸Š7ç‚¹ä¹‹é—´ï¼Œæ¯éš”ä¸€å°æ—¶é‡å¯apache\n0 23-7/1 * * * /usr/local/etc/rc.d/lighttpd restart\n#æ¯ä¸€å°æ—¶é‡å¯apache\n0 */1 * * * /usr/local/etc/rc.d/lighttpd restart\n#æ¯æœˆçš„4å·ä¸æ¯å‘¨ä¸€åˆ°å‘¨ä¸‰çš„11ç‚¹é‡å¯apache\n0 11 4 * mon-wed /usr/local/etc/rc.d/lighttpd restart\n#ä¸€æœˆä¸€å·çš„4ç‚¹é‡å¯apache\n0 4 1 jan * /usr/local/etc/rc.d/lighttpd restart\n#æ¯åŠå°æ—¶åŒæ­¥ä¸€ä¸‹æ—¶é—´\n0/30 * * * * /usr/sbin/ntpdate 210.72.145.44\n```\n\n\n\n---\n\n<br>\n\n---\n\n\n\n**æ³¨æ„** \n\n\\* *1 * * * å‘½ä»¤è¡¨ç¤ºæ˜¯æ¯å°æ—¶ä¹‹å†…çš„æ¯ä¸€åˆ†é’Ÿéƒ½æ‰§è¡Œã€‚\n\nå¿…é¡»æŒ‡å®šåœ¨æ¯ä¸ªå°æ—¶çš„ç¬¬å‡ åˆ†é’Ÿæ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ç¬¬ä¸€ä¸ª*å·å¿…é¡»æ”¹æˆä¸€ä¸ªæ•°å€¼ã€‚\n\nå› ä¸º*å·è¡¨ç¤ºçš„å°±æ˜¯æ¯ä¸€åˆ†é’Ÿã€‚\n\nå¦å¤–å°æ—¶ä½çš„/1å’Œæ²¡æœ‰åŒºåˆ«ï¼Œéƒ½æ˜¯æ¯å°æ—¶ä¸€æ¬¡ã€‚\n\nå¦‚æœæ˜¯è®¾ç½®*/2ï¼Œå®é™…ä¸Šæ˜¯èƒ½è¢«2æ•´é™¤çš„å°æ—¶æ•°è€Œä¸æ˜¯ä»å®šæ—¶è®¾ç½®å¼€å§‹2å°æ—¶åæ‰§è¡Œï¼Œæ¯”å¦‚9ç‚¹è®¾çš„åˆ°10ç‚¹å°±ä¼šæ‰§è¡Œã€‚\n\n\n\n---\n\n<br>\n\n---\n\n\n\n**æœ€åå¯èƒ½ä¼šé‡åˆ°ä¸‹é¢è¿™ä¸ªé—®é¢˜**\n\nrootç”¨æˆ·ä¸‹ è¾“å…¥ crontab -l æ˜¾ç¤º\n\nno crontab for root ä¾‹å¦‚ï¼š\n\n[root@CentOS ~]# crontab -l\n\nno crontab for root\n\nè¿™ä¸ªé—®é¢˜éå¸¸ç®€å•ï¼ŒåŒæ ·åœ¨ root ç”¨æˆ·ä¸‹è¾“å…¥ crontab -e\n\næŒ‰ Esc æŒ‰ï¼š wq å›è½¦\n\nåœ¨è¾“å…¥ crontab -l å°±æ²¡æœ‰é—®é¢˜äº†\n\nä¸»è¦åŸå› æ˜¯ç”±äºè¿™ä¸ªliunxæœåŠ¡å™¨ ç¬¬ä¸€æ¬¡ä½¿ç”¨ crontab ï¼Œè¿˜æ²¡æœ‰ç”Ÿæˆå¯¹åº”çš„æ–‡ä»¶å¯¼è‡´çš„ï¼Œæ‰§è¡Œäº† ç¼–è¾‘ï¼ˆcrontab -eï¼‰å å°±ç”Ÿæˆäº†è¿™ä¸ªæ–‡ä»¶\n\nä»¥ä¸Šè¿™ç¯‡Linux CentOS å®šæ—¶è¿è¡Œè„šæœ¬é…ç½®çš„æ–¹æ³•å°±æ˜¯å°ç¼–åˆ†äº«ç»™å¤§å®¶çš„å…¨éƒ¨å†…å®¹äº†ï¼Œå¸Œæœ›èƒ½ç»™å¤§å®¶ä¸€ä¸ªå‚è€ƒã€‚\n","tags":["å®šæ—¶è„šæœ¬"],"categories":["_A3-linux","å¯åŠ¨"]},{"title":"pip-æ›´æ¢æº","url":"/2024/05/01/pip-æ›´æ¢æº/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>pip æ›´æ¢æºï¼š</strong></font>\n\n<!--more-->\n\n## ä½¿ç”¨å…¨å±€é…ç½®ï¼Œå»ºè®®ä½¿ç”¨è±†ç“£\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>é˜¿é‡Œæºï¼š</strong></font>\n\n```bash\npip3.8 config set global.index-url https://mirrors.aliyun.com/pypi/simple\npip3.8 config set install.trusted-host mirrors.aliyun.com\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å¦‚è±†ç“£ï¼š</strong></font>\n\n```bash\npip config set global.index-url http://pypi.douban.com/simple/\npip config set install.trusted-host pypi.douban.com\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä¸€ã€æ¸…åæºï¼š</strong></font>\n\n```bash\npip install xxx -i https://pypi.tuna.tsinghua.edu.cn/simple/\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>äºŒã€é˜¿é‡Œæºï¼š</strong></font>\n\n```bash\npip install xxx -i https://mirrors.aliyun.com/pypi/simple\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä¸‰ã€ä¸­ç§‘å¤§æºï¼š</strong></font>\n\n```bash\npip install xxx -i https://pypi.mirrors.ustc.edu.cn/simple/\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å››ã€è±†ç“£æºï¼š</strong></font>\n\n```bash\npip install xxx -i http://pypi.douban.com/simple/\n```\n","tags":["åŸºç¡€","pycharm","æº"],"categories":["Python","pipæ¢æº"]},{"title":"nginx+nginx-rtmp-module+ffmpeg-æ­å»ºæµåª’ä½“-ç‚¹æ’­-æœåŠ¡å™¨","url":"/2024/04/24/nginx-nginx-rtmp-module-ffmpeg-æ­å»ºæµåª’ä½“-ç‚¹æ’­-æœåŠ¡å™¨/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ä¸€ã€nginxç¼–è¯‘å®‰è£… `nginx-rtmp-module`</strong></font>\n\n<!--more-->\n\n```bash\n# é¡¹ç›®åœ°å€ï¼šhttps://github.com/arut/nginx-rtmp-module\n# git clone https://github.com/arut/nginx-rtmp-module.git\nwget https://github.com/arut/nginx-rtmp-module/archive/refs/heads/master.zip\n\n# å¤åˆ¶ä¸‹è½½çš„æ–‡ä»¶copyåˆ° \n/www/server/nginx-rtmp-module\n\n# è¿›å…¥å®å¡”nginx å®‰è£…bashæ–‡ä»¶ç›®å½•\ncd  /www/server/panel/install/\n\n# ä¿®æ”¹æ–‡ä»¶ï¼Œæ·»åŠ æ¨¡å— nginx.sh\n--add-module=/www/server/nginx-rtmp-module\n\n# å®‰è£…å‘½ä»¤\nbash nginx.sh install 1.21\n```\n\n![img](https://s2.loli.net/2024/04/24/K12IrgkMCOUqoTl.png)\n\n![æœªå‘½å 5](https://s2.loli.net/2024/04/24/dVAwjsRSQJniZPC.png)\n\n\n\n# ä½¿ç”¨nginxæ­å»ºéŸ³è§†é¢‘ç‚¹æ’­æœåŠ¡â€”â€”åŸºäºHLSåè®®\n\n+ æœ¬æ–‡å‚è€ƒè‡ªhttps://blog.csdn.net/SeeDoubleU/article/details/121805174\n\n<font color=#f26522 size=5 face=å®‹ä½“><strong>1 éŸ³è§†é¢‘æŠ€æœ¯ï¼š</strong></font>\n\n+ 1.1 æµåª’ä½“\n  + åœ¨ç½‘ç»œä¸Šä¼ è¾“éŸ³ã€è§†é¢‘ç­‰å¤šåª’ä½“ä¿¡æ¯ï¼Œä¸»è¦æœ‰ä¸‹è½½å’Œæµå¼ä¼ è¾“ä¸¤ç§æ–¹æ¡ˆã€‚ä¸‹è½½çš„æ–¹å¼å¯¹äºä½“ç§¯è¾ƒå¤§çš„éŸ³ã€è§†é¢‘æ•°æ®è€Œè¨€ï¼Œåœ¨ä½¿ç”¨å‰ä¸‹è½½æ•´ä¸ªåª’ä½“æ–‡ä»¶è€—æ—¶å¾ˆå¤§ï¼›æµåª’ä½“ï¼ˆstreaming mediaï¼‰ä¼ è¾“æä¾›äº†ä¸€ç§ä½å»¶æ—¶çš„æ–¹å¼æ¥é¿å…è¿™ä¸ªé—®é¢˜ï¼Œæµåª’ä½“æŠ€æœ¯æ˜¯æŒ‡å°†å¤šåª’ä½“æ•°æ®å‹ç¼©åï¼Œç»è¿‡ç½‘ç»œåˆ†æ®µå‘é€ï¼Œåœ¨ç½‘ä¸Šå³æ—¶ä¼ è¾“éŸ³ã€è§†é¢‘æ•°æ®ä¾›ç”¨æˆ·æ’­æ”¾çš„ä¸€ç§æŠ€æœ¯ã€‚\n\n+ 1.2 ç‚¹æ’­ä¸ç›´æ’­\n  + ç‚¹æ’­ï¼ˆVODï¼Œvideo on demandï¼‰å³æ ¹æ®ç”¨æˆ·éœ€æ±‚æ’­æ”¾ï¼ŒéŸ³è§†é¢‘å†…å®¹ä¸€èˆ¬å·²ç»å­˜æ”¾åœ¨æœåŠ¡å™¨ä¸Šäº†ï¼Œä¸åŒäºå…ˆä¸‹è½½å†æ’­æ”¾ï¼Œç‚¹æ’­è¦æ±‚å³ç‚¹å³æ’­ï¼Œå„å¤§éŸ³è§†é¢‘ç½‘ç«™ï¼ˆå–œé©¬æ‹‰é›…ã€ä¼˜é…·ã€çˆ±å¥‡è‰ºç­‰ï¼‰æä¾›çš„æœåŠ¡å°±æ˜¯VODæœåŠ¡ã€‚\n  + ç›´æ’­ï¼ˆLiveï¼‰éœ€è¦å¯¹éŸ³è§†é¢‘å†…å®¹å®æ—¶å½•åˆ¶ï¼Œåœ¨å½•åˆ¶åŒæ—¶ä»¥â€œæµâ€çš„å½¢å¼æ¨é€åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨åœ¨æ”¶åˆ°ç”¨æˆ·çš„æ’­æ”¾è¯·æ±‚åï¼Œä¼šå°†åª’ä½“æµä¼ è¾“åˆ°ç”¨æˆ·çš„æ’­æ”¾å™¨è¿›è¡Œæ’­æ”¾ï¼Œå¹¶å¯¹å»¶è¿Ÿæœ‰è¾ƒé«˜çš„è¦æ±‚ï¼Œå„å¤§ç›´æ’­å¹³å°ï¼ˆæ–—é±¼ã€è™ç‰™ç­‰ï¼‰æä¾›çš„æœåŠ¡å°±æ˜¯ç›´æ’­æœåŠ¡ã€‚\n\n+ 1.3 HLSæµåª’ä½“åè®®\n  + HLSï¼ˆHTTP Live Streamingï¼‰è‡ªé€‚åº”ç ç‡æµåª’ä½“ä¼ è¾“åè®®ï¼Œæ¥è‡ªAppleå…¬å¸ï¼Œè¯¥åè®®åŸºäºHttpåè®®ï¼ŒHLSè¯ç”Ÿä¹‹åˆæ—¨åœ¨èƒ½å¤Ÿä»iPhoneä¸­åˆ é™¤flashï¼Œå¦‚ä»Šå·²æˆä¸ºä½¿ç”¨æœ€å¹¿æ³›çš„åè®®ã€‚HLSçš„ä¼˜ç¼ºç‚¹ä¹Ÿæ¯”è¾ƒæ˜æ˜¾ã€‚\n\n+ HLSçš„ä¼˜ç‚¹ï¼š\n\n  + > Html5èƒ½å¤Ÿç›´æ¥æ”¯æŒHLSï¼Œæœ‰æµè§ˆå™¨å°±èƒ½æ’­æ”¾ï¼Œä¸éœ€è¦å®‰è£…é¢å¤–çš„appï¼Œä¸ç”¨è€ƒè™‘é˜²ç«å¢™æˆ–è€…ä»£ç†é—®é¢˜ï¼›HLSä¹Ÿæ”¯æŒæœ€æ–°çš„H.265ç¼–è§£ç å™¨ï¼ŒH.265ç¼–ç çš„è´¨é‡è¦æ¯”H.264é«˜å¾ˆå¤šã€‚\n    >\n    > HLSçš„ç¼ºç‚¹ï¼š\n    >\n    > â€‹\tå› ä¸ºHLSåŸºæœ¬æ˜¯é‡‡ç”¨äº†ç‚¹æ’­åˆ‡ç‰‡çš„æ–¹å¼å®ç°çš„ç›´æ’­ï¼Œåœ¨ç›´æ’­ä¸Šç›¸å¯¹äºå…¶å®ƒåè®®æœ‰è¾ƒé«˜çš„å»¶è¿Ÿï¼ˆ5~8ç§’å»¶è¿Ÿï¼‰ã€‚\n\n`é™¤äº†HLSåè®®ä¹‹å¤–ï¼Œç›¸å…³çš„åè®®è¿˜æœ‰RTP/RTCPã€RTSPã€RTMPã€MSSã€DASHã€HDSã€WEBRTCã€RISTã€SRTç­‰â€¦â€¦å®ƒä»¬éƒ½æœ‰å„è‡ªçš„ä¼˜ç¼ºç‚¹ã€‚`\n\n+ HLSçš„åŸç†ï¼š\n  + é¦–å…ˆå°†ä¸€ä¸ªå®Œæ•´éŸ³è§†é¢‘åˆ†æˆå¤šä¸ªtsæ ¼å¼éŸ³è§†é¢‘æ–‡ä»¶åˆ‡ç‰‡ï¼Œå¹¶ç”Ÿæˆm3u8ç´¢å¼•æ–‡ä»¶ï¼Œç”¨æˆ·ä¸‹è½½m3u8ç´¢å¼•æ–‡ä»¶ï¼Œé€šè¿‡m3u8æ–‡ä»¶ä¸­æ¯æ®µtsåˆ‡ç‰‡çš„ç´¢å¼•åœ°å€æ¥æ’­æ”¾å…·ä½“çš„tsåˆ‡ç‰‡ï¼Œåœ¨m3u8ä¸­å¯ä»¥æŒ‡å®šæ’­æ”¾ç›¸å…³çš„å‚æ•°ã€‚\n\n+ 1.4 CDN\n  + CDNï¼ˆContent Delivery Networkï¼‰å†…å®¹åˆ†å‘ç½‘ç»œï¼Œæ˜¯ä¸ºäº†æ”¹å–„ç½‘ç»œæœåŠ¡è´¨é‡è€Œäº§ç”Ÿçš„ï¼Œå®ƒæ˜¯æ„å»ºåœ¨ç°æœ‰ç½‘ç»œåŸºç¡€ä¹‹ä¸Šçš„æ™ºèƒ½è™šæ‹Ÿç½‘ç»œï¼Œé€šè¿‡è´Ÿè½½å‡è¡¡ã€å†…å®¹åˆ†å‘ã€è°ƒåº¦ç­‰å®Œæˆèµ„æºå°±è¿‘è·å–çš„ç›®æ ‡ã€‚\n  + CDNçš„åŸºæœ¬åŸç†æ˜¯é‡‡ç”¨å„ç§ç¼“å­˜æœåŠ¡å™¨ï¼Œå°†è¿™äº›ç¼“å­˜æœåŠ¡å™¨åˆ†å¸ƒåˆ°ç”¨æˆ·è®¿é—®ç›¸å¯¹é›†ä¸­çš„åœ°åŒºæˆ–ç½‘ç»œä¸­ï¼Œåœ¨ç”¨æˆ·è®¿é—®ç½‘ç«™æ—¶ï¼Œåˆ©ç”¨å…¨å±€è´Ÿè½½æŠ€æœ¯å°†ç”¨æˆ·çš„è®¿é—®æŒ‡å‘è·ç¦»æœ€è¿‘çš„å·¥ä½œæ­£å¸¸çš„ç¼“å­˜æœåŠ¡å™¨ä¸Šï¼Œç”±ç¼“å­˜æœåŠ¡å™¨ç›´æ¥å“åº”ç”¨æˆ·è¯·æ±‚ï¼Œä½¿ç”¨æˆ·å°±è¿‘è·å–æ‰€éœ€å†…å®¹ï¼Œé™ä½ç½‘ç»œæ‹¥å¡ï¼Œæé«˜ç”¨æˆ·è®¿é—®å“åº”é€Ÿåº¦å’Œå‘½ä¸­ç‡ï¼ŒCDNç½‘ç»œçš„è¯ç”Ÿå¤§å¤§åœ°æ”¹å–„äº†äº’è”ç½‘çš„æœåŠ¡è´¨é‡ã€‚\n  + åœ¨äº’è”ç½‘ä¸Šçš„æµåª’ä½“æœåŠ¡ä¸ºäº†å®ç°æ›´ä¼˜è´¨çš„ç”¨æˆ·ä½“éªŒï¼Œä¸€èˆ¬éƒ½éœ€è¦ç»è¿‡CDNèŠ‚ç‚¹è¿›è¡Œå†…å®¹åˆ†å‘ã€‚ç‚¹æ’­ã€ç›´æ’­æŠ€æœ¯çš„é€‰æ‹©éœ€è¦è€ƒè™‘å¤§ç¯å¢ƒä¸‹ä¸»æµCDNæœåŠ¡ä¾›åº”å•†èƒ½å¤Ÿæä¾›çš„æœåŠ¡æ”¯æŒï¼Œå„å®¶å¯¹åè®®çš„æ”¯æŒä¹Ÿä¸ä¸€æ ·ï¼ˆåƒé˜¿é‡Œäº‘CDNæ”¯æŒRTMPè¾“å…¥ï¼ŒRTMPã€FLVã€HLSè¾“å‡ºï¼‰ï¼Œç‚¹æ’­éœ€è¦è€ƒè™‘è¾“å‡ºï¼Œç›´æ’­éœ€è¦è€ƒè™‘è¾“å…¥ä¸è¾“å‡ºä¸¤ç«¯ã€‚\n\n</br>\n\n---\n\n</br>\n\n#### <font color=#f26522 size=5 face=å®‹ä½“><strong>2 æ­å»ºç‚¹æ’­æœåŠ¡ï¼ˆéŸ³è§†é¢‘åŒç†ï¼‰ï¼š</strong></font>\n\n+ #### 2.1 nginxæœåŠ¡å™¨\n\n  + nginxæ˜¯ä¸€ä¸ªä»£ç†æœåŠ¡å™¨ï¼Œé¦–å…ˆéœ€è¦åœ¨Linuxä¸Šæ­å»ºnginxæœåŠ¡ï¼Œå…·ä½“çš„æµç¨‹å¯ä»¥å‚è€ƒ[nginxçš„å®‰è£…æµç¨‹](https://blog.csdn.net/SeeDoubleU/article/details/121727292)[1](https://blog.csdn.net/SeeDoubleU/article/details/121805174#fn1)ï¼Œæ­å»ºè§†é¢‘ç‚¹æ’­æœåŠ¡å™¨ä¼šç”¨åˆ°nginx-vod-[module](https://so.csdn.net/so/search?q=module&spm=1001.2101.3001.7020)æ¨¡å—ï¼ŒæŒ‰ç…§å®‰è£…æµç¨‹æ·»åŠ è¯¥æ¨¡å—åˆ°nginxä¸­ï¼Œæ­å»ºç‚¹æ’­æœåŠ¡ä½¿ç”¨çš„å…·ä½“ç¯å¢ƒå¦‚ä¸‹ï¼š\n\n```bash\nç³»ç»Ÿç‰ˆæœ¬ï¼šCentOS Linux release 7.9 2009(Core)\nnginxç‰ˆæœ¬ï¼š1.20.1\nnginx-vod-moduleç‰ˆæœ¬ï¼š1.28\n```\n\n+ #### 2.2 nginx-vod-moduleæ¨¡å—\n\n  + > nginx-vod-moduleæ¨¡å—æ˜¯åŸºäºnginxæ¥æä¾›VODï¼ˆvideo on demandï¼‰æœåŠ¡çš„ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œå®ƒæ”¯æŒåŸºäºDASHã€HDSã€HLSã€MSSçš„ç‚¹æ’­æœåŠ¡æ­å»ºã€‚\n    >\n    > nginx-vod-moduleä¸‹è½½åœ°å€ï¼šhttps://github.com/kaltura/nginx-vod-module/archive/refs/tags/1.28.tar.gz\n    >\n    > åœ¨nginxè¿›è¡Œå®‰è£…é…ç½®çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä½¿ç”¨`--add-module=`é€‰é¡¹æ¥æ·»åŠ ç¬¬ä¸‰æ–¹æ¨¡å—ä¸€èµ·è¿›è¡Œç¼–è¯‘ï¼Œç›¸å…³çš„æ­¥éª¤å¯ä»¥å‚è€ƒæ¨¡å—çš„githubç½‘å€ï¼š\n    >\n    > nginx-vod-moduleçš„githubç½‘å€ï¼šhttps://github.com/kaltura/nginx-vod-module\n    >\n    > åœ¨é…ç½®nginxè¿›è¡Œç¼–è¯‘çš„æ—¶å€™ä½¿ç”¨çš„é…ç½®å‚æ•°å¦‚ä¸‹ï¼š\n    >\n    > ```bash\n    > ./configure --prefix=/web/webserver/nginx-vod-hls --with-http_stub_status_module --with-http_gzip_static_module --with-http_gunzip_module --with-file-aio --with-threads --with-cc-opt=â€œ-O3â€ --with-http_ssl_module --with-openssl-opt=enable --with-http_mp4_module --with-stream --add-module=â€¦/nginx-vod-module-master\n    > ```\n    >\n    > é…ç½®ä¸­ä¸»è¦æ˜¯é™„åŠ äº†ä¸€äº›å¸¸è§„æ¨¡å—ï¼Œæ‰“å¼€äº†ä¸€äº›é…ç½®å¼€å…³ï¼Œå…¶ä¸­ï¼š\n    >\n    > ```\n    > â€“with-file-aio å¼‚æ­¥ioæ”¯æŒï¼Œå¼ºçƒˆæ¨èï¼Œåªåœ¨localã€mappedæ¨¡å¼ä¸‹\n    > â€“with-threads (nginx 1.7.11+) æ”¯æŒä½¿ç”¨çº¿ç¨‹æ± å¼‚æ­¥æ‰“å¼€æ–‡ä»¶(è¦æ±‚åœ¨nginx.confä¸­é…ç½®vod_open_file_thread_pool)ï¼Œåªåœ¨localã€mappedæ¨¡å¼ä¸‹\n    > â€“with-cc-opt=â€œ-O3â€ é™„åŠ ç¼–è¯‘å™¨ä¼˜åŒ–ï¼Œå‡å°‘è§†é¢‘è§£æå’Œå¸§å¤„ç†çš„è€—æ—¶\n    > ```\n    >\n    > é…ç½®ã€ç¼–è¯‘ã€å®‰è£…éƒ½å®Œæˆä¹‹åï¼Œå³å¯åœ¨nginxçš„é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨nginx-vod-moduleæ¨¡å—æä¾›çš„å…³é”®å­—äº†ã€‚\n\n+ #### 2.3 é…ç½®nginxç‚¹æ’­æœåŠ¡\n\n+ ##### 2.3.1 localæ¨¡å¼\n\n+ 2.3.1.1 å¸¸è§„é…ç½®\n\nåœ¨nginxçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œæ·»åŠ å¯¹åº”çš„locationé…ç½®ï¼š\n\n```bash\nlocation /vod {\n    vod hls; # åè®®ä½¿ç”¨hlsæ¨¡å¼\n    vod_mode local; # è®¿é—®æ¨¡å¼æŒ‡å®šä¸ºlocalæ¨¡å¼\n    \n    vod_align_segments_to_key_frames on; # æ¯ä¸ªåˆ‡ç‰‡ä»¥å…³é”®å¸§å¼€å¤´\n    vod_manifest_segment_durations_mode accurate; # ç²¾ç¡®æ˜¾ç¤ºæ¯ä¸ªåˆ‡ç‰‡çš„é•¿åº¦\n    \n    # è§£å†³æµè§ˆå™¨è·¨åŸŸé—®é¢˜\n    add_header Access-Control-Allow-Headers '*';\n    add_header Access-Control-Expose-Headers 'Server,range,Content-Length,Content-Range';\n    add_header Access-Control-Allow-Methods 'GET, HEAD, OPTIONS';\n    add_header Access-Control-Allow-Origin '*';\n\n    alias /media; # è§†é¢‘æ–‡ä»¶è·¯å¾„\n}\n```\n\n```\nnginx.confæ–‡ä»¶ä¿®æ”¹åï¼Œnginxéœ€è¦reloadæ‰èƒ½ç”Ÿæ•ˆé…ç½®ã€‚\n```\n\nåœ¨æœåŠ¡å™¨ä¸Šå¯¹åº”çš„è§†é¢‘æ–‡ä»¶ç›®å½•ç»“æ„ï¼š\n\n```txt\n/media/example0001.mp4\n```\n\nURLæ’­æ”¾åœ°å€ï¼ˆå‡è®¾nginxé…ç½®åœ¨ipä¸º192.168.192.128çš„åœ°å€ä¸Šï¼‰ï¼š\n\n```txt\nhttp://192.168.192.128/vod/example0001.mp4/index.m3u8\n```\n\nä½¿ç”¨ç›¸åº”çš„html5æ’­æ”¾å™¨æˆ–è€…æœ¬åœ°æ’­æ”¾å™¨æ‰“å¼€ï¼Œå³å¯è§‚çœ‹è¯¥åœ°å€çš„è§†é¢‘ç‚¹æ’­ã€‚è‹¥ä½¿ç”¨æœ¬åœ°æ’­æ”¾å™¨ï¼Œæ¨èä½¿ç”¨[VLC media player](https://www.videolan.org/vlc/)ã€‚\n\n```bash\n#EXTM3U\n#EXT-X-TARGETDURATION:17\n#EXT-X-ALLOW-CACHE:YES\n#EXT-X-PLAYLIST-TYPE:VOD\n#EXT-X-VERSION:3\n#EXT-X-MEDIA-SEQUENCE:1\n#EXTINF:10.000,\nhttp://192.168.192.128/vod/example0001.mp4/seg-1-v1-a1.ts\n#EXTINF:10.000,\nhttp://192.168.192.128/vod/example0001.mp4/seg-2-v1-a1.ts\n#EXTINF:10.000,\nhttp://192.168.192.128/vod/example0001.mp4/seg-3-v1-a1.ts\nâ€¦â€¦\nâ€¦â€¦\nâ€¦â€¦\n#EXTINF:7.760,\nhttp://192.168.192.128/vod/example0001.mp4/seg-347-v1-a1.ts\n#EXT-X-ENDLIST\n```\n\né€šè¿‡å¯¹nginxè¿›è¡Œé…ç½®å¯ä»¥æ§åˆ¶m3u8æ–‡ä»¶çš„ç”Ÿæˆè§„åˆ™ï¼Œä»¥æ­¤æ¥æ§åˆ¶åˆ‡ç‰‡çš„å¤§å°ã€çŠ¶æ€ç­‰æ’­æ”¾ç›¸å…³çš„å±æ€§ï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹nginx-vod-moduleæ¨¡å—çš„[æ–‡æ¡£](https://github.com/kaltura/nginx-vod-module/blob/master/README.md)[2](https://blog.csdn.net/SeeDoubleU/article/details/121805174#fn2)ã€‚\n\n+ 2.3.1.2 localæ¨¡å¼ä¸‹çš„å¤šç ç‡è‡ªé€‚åº”\n\n> ä½¿ç”¨å¸¸è§„é…ç½®ï¼Œä»…æ›´æ”¹è®¿é—®çš„URLæ’­æ”¾åœ°å€å³å¯æ”¯æŒå¤šç ç‡è‡ªé€‚åº”åŠŸèƒ½ï¼ŒHLSæ ¹æ®ç”¨æˆ·å½“å‰å¯ç”¨å¸¦å®½çš„å¤§å°è‡ªé€‚åº”åŒ¹é…å¯¹åº”ç ç‡çš„è§†é¢‘ã€‚\n>\n> åœ¨æœåŠ¡å™¨ä¸Šå¯¹åº”çš„è§†é¢‘æ–‡ä»¶ç›®å½•ç»“æ„(åç¼€lowè¡¨ç¤ºåŒä¸€è§†é¢‘çš„ä½æ¸…æ™°åº¦ç‰ˆæœ¬)ï¼š\n\n```\n/media/example0001.mp4\n/media/example0001_low.mp4\n```\n\nURLæ’­æ”¾åœ°å€ï¼š\n\n```\nhttp://192.168.192.128/vod/example,0001,0001_low,.mp4.urlset/master.m3u8\n```\n\nå¤šç ç‡è‡ªé€‚åº”å…¶å®æ˜¯å¤šä¸ªURLç»„åˆçš„ç»“æ„ï¼Œä¸Šè¿°master.m3u8è¡¨ç¤ºä»¥ä¸‹2ä¸ªindex.m3u8çš„ç»„åˆï¼š\n\n> ```\n> http://192.168.192.128/vod/example0001.mp4/index.m3u8\n> http://192.168.192.128/vod/example0001_low.mp4/index.m3u8\n> ```\n\nnginx-vod-moduleä¼šæ ¹æ®masteræŒ‡å®šçš„å¤šä¸ªè§†é¢‘è‡ªåŠ¨è®¡ç®—é…ç½®é€‚åˆçš„å¸¦å®½ï¼Œmaster.m3u8æ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹ï¼š\n\n```\n#EXTM3U\n#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=613135,RESOLUTION=1280x720,FRAME-RATE=25.000,CODECS=\"avc1.640029,mp4a.40.2\"\nhttp://192.168.192.128/vod_json/mapped.json/index-f1-v1-a1.m3u8\n#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=226233,RESOLUTION=760x428,FRAME-RATE=25.000,CODECS=\"avc1.42c01e,mp4a.40.2\"\nhttp://192.168.192.128/vod_json/mapped.json/index-f2-v1-a1.m3u8\n\n#EXT-X-I-FRAME-STREAM-INF:BANDWIDTH=193615,RESOLUTION=1280x720,CODECS=\"avc1.640029\",URI=\"http://192.168.192.128/vod_json/mapped.json/iframes-f1-v1-a1.m3u8\"\n#EXT-X-I-FRAME-STREAM-INF:BANDWIDTH=58630,RESOLUTION=760x428,CODECS=\"avc1.42c01e\",URI=\"http://192.168.192.128/vod_json/mapped.json/iframes-f2-v1-a1.m3u8\"\n```\n\nindexåé¢è·Ÿéšçš„v1è¡¨ç¤ºç¬¬ä¸€æ¡è§†é¢‘è½¨é“ï¼Œa1è¡¨ç¤ºç¬¬ä¸€æ¡éŸ³è½¨ã€‚\n\n+ 2.3.1.3 localæ¨¡å¼ä¸‹çš„å­—å¹•\n\nå¯ä»¥ä¸ºè§†é¢‘æ·»åŠ å­—å¹•ï¼Œæ”¯æŒsrtç­‰æ ¼å¼ï¼Œä¸è¿‡æœ€ç»ˆåœ¨æµåª’ä½“ä¸­æ˜¾ç¤ºæˆwebvttæ ¼å¼ã€‚\n\nåœ¨æœåŠ¡å™¨ä¸Šå¯¹åº”çš„å­—å¹•æ–‡ä»¶ç›®å½•ç»“æ„ï¼š\n\n```bash\n/media/example0001.srt\n```\n\nURLæ’­æ”¾åœ°å€ï¼šï¼ˆä¸å¤šç ç‡è‡ªé€‚åº”çš„URLåœ°å€è§„åˆ™ç›¸åŒï¼‰\n\n```\nhttp://192.168.192.128/vod/,example0001.mp4,example0001.srt,.urlset/master.m3u8\n```\n\n+ ##### 2.3.2 mappedæ¨¡å¼\n\n> mappedæ¨¡å¼ä½¿ç”¨jsonæ–‡ä»¶æ¥å¯¹è§†é¢‘è¿›è¡Œé…ç½®ï¼Œå¯ä»¥æŠŠé™„åŠ åœ¨URLä¸­çš„å„ç§å‚æ•°æ”¾åœ¨å¯¹åº”çš„jsonæ–‡ä»¶é‡Œè¿›è¡Œé…ç½®ã€‚\n\n+ 2.3.2.1 å¸¸è§„é…ç½®\n\nåœ¨nginxçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œæ·»åŠ å¯¹åº”çš„locationé…ç½®ï¼š\n\n```bash\nlocation /vod_json {\n    vod hls; # åè®®ä½¿ç”¨hlsæ¨¡\n    vod_mode mapped; # è®¿é—®æ¨¡å¼æŒ‡å®šä¸ºmappedæ¨¡å¼\n\n    vod_align_segments_to_key_frames on; # æ¯ä¸ªåˆ‡ç‰‡ä»¥å…³é”®å¸§å¼€å¤´\n    #vod_manifest_segment_durations_mode accurate; # ç²¾ç¡®æ˜¾ç¤ºæ¯ä¸ªåˆ‡ç‰‡çš„é•¿åº¦\n    \n    # è§£å†³æµè§ˆå™¨è·¨åŸŸé—®\n    add_header Access-Control-Allow-Headers '*';\n    add_header Access-Control-Expose-Headers 'Server,range,Content-Length,Content-Range';\n    add_header Access-Control-Allow-Methods 'GET, HEAD, OPTIONS';\n    add_header Access-Control-Allow-Origin '*';\n\n    alias /media/cjcwgl; # è§†é¢‘æ–‡ä»¶è·¯å¾„\n}\n```\n\n`å‘ç°ä¸€ä¸ªBugï¼šåœ¨mappedæ¨¡å¼ä¸‹é…ç½®vod_manifest_segment_durations_modeå‚æ•°ä¼šå¯¼è‡´m3u8çš„æœ€åä¸€ä¸ªåˆ‡ç‰‡çš„#EXTINFæ—¶é•¿å¼‚å¸¸åœ°é•¿ã€‚`\n\nåœ¨æœåŠ¡å™¨ä¸Šå¯¹åº”çš„è§†é¢‘æ–‡ä»¶ç›®å½•ç»“æ„ï¼š\n\n```bash\n/media/cjcwgl/hdh/cwgl0101.mp4\n```\n\njsonæ–‡ä»¶è·¯å¾„ä¸ºï¼š\n\n```\n/media/cjcwgl/simple.json\n```\n\nsimple.jsonæ–‡ä»¶çš„å†…å®¹ï¼š\n\n```bash\n{\n    \"sequences\": [\n        {\n            \"clips\": [\n                {\n                    \"type\": \"source\",\n                    \"path\": \"/media/cjcwgl/hdh/cwgl0101.mp4\"\n                }\n            ]\n        }\n    ]\n}\n\n```\n\nURLæ’­æ”¾åœ°å€ï¼š\n\n```\nhttp://192.168.192.128/vod_json/simple.json/index.m3u8\n```\n\n+ 2.3.2.2 mappedæ¨¡å¼ä¸‹çš„å¤šç ç‡è‡ªé€‚åº”\n\nåœ¨æœåŠ¡å™¨ä¸Šå¯¹åº”çš„è§†é¢‘æ–‡ä»¶ç›®å½•ç»“æ„ï¼ˆhdhç›®å½•ä¸‹ä¸ºé«˜æ¸…ç‰ˆæœ¬ï¼Œhdkç›®å½•ä¸‹ä¸ºæ™®é€šç‰ˆæœ¬ï¼‰ï¼š\n\n```\n/media/cjcwgl/hdh/cwgl0101.mp4\n/media/cjcwgl/hdk/cwgl0101.mp4\n```\n\njsonæ–‡ä»¶è·¯å¾„ä¸ºï¼š\n\n```\n/media/cjcwgl/mapped.json\n```\n\nmapped.jsonæ–‡ä»¶çš„å†…å®¹ï¼š\n\n```bash\n{\n    \"sequences\": [\n        {\n            \"clips\": [\n                {\n                    \"type\": \"source\",\n                    \"path\": \"/media/cjcwgl/hdh/cwgl0101.mp4\"\n                }\n            ]\n        },\n        {\n            \"clips\": [\n                {\n                    \"type\": \"source\",\n                    \"path\": \"/media/cjcwgl/hdk/cwgl0101.mp4\"\n                }\n            ]\n        }\n    ]\n}\n\n```\n\njsonæ–‡ä»¶ä¿®æ”¹åï¼Œé‡æ–°è®¿é—®URLå³å¯ç”Ÿæ•ˆé…ç½®ï¼Œä¸éœ€è¦å¯¹nginxè¿›è¡Œreloadã€‚\n\nURLæ’­æ”¾åœ°å€ï¼š\n\n```\nhttp://192.168.192.128/vod_json/mapped.json/master.m3u8\n```\n\n+ 2.3.2.3 HLSåè®®çš„å¤šç ç‡è‡ªé€‚åº”é€»è¾‘\n\nHLSçš„å¤šç ç‡è‡ªé€‚åº”é€»è¾‘æ˜¯ä¾æ®å‰ä¸€ä¸ªtsåˆ‡ç‰‡çš„ä¸‹è½½é€Ÿåº¦æ¥ä½œä¸ºæ˜¯å¦åˆ‡æ¢ç ç‡çš„ä¾æ®ã€‚\n\nç¤ºä¾‹ï¼š\n\n```bash\n#EXTM3U\n#EXT-X-STREAM-INF:â€¦â€¦BANDWIDTH=700000\nhttp://â€¦â€¦/index-f1-v1-a1.m3u8\n#EXT-X-STREAM-INF:â€¦â€¦BANDWIDTH=1300000\nhttp://â€¦â€¦/index-f2-v1-a1.m3u8\n#EXT-X-STREAM-INF:â€¦â€¦BANDWIDTH=2300000\nhttp://â€¦â€¦/index-f3-v1-a1.m3u8\n\n```\n\nâ€ƒâ€ƒä¸Šè¿°master.m3u8åŒ…å«ä¸‰ä¸ªç ç‡500Kï¼Œ900Kå’Œ1400Kç›¸åº”çš„index.m3u8ï¼Œåœ¨æ’­æ”¾è§†é¢‘çš„æ—¶å€™ï¼Œ ç¬¬ä¸€ä¸ªåˆ‡ç‰‡å–çš„æ˜¯master.m3u8ä¸­æ’åœ¨é¦–ä½çš„index.m3u8ä¸­çš„é¦–ä¸ªtsåˆ‡ç‰‡ã€‚\nâ€ƒâ€ƒå½“é…ç½®äº†ç ç‡è‡ªé€‚åº”ä¹‹åï¼Œ åœ¨æ¯æ¬¡ä¸‹è½½å®Œä¸€ä¸ªtsåˆ‡ç‰‡çš„æ—¶å€™ï¼Œä¼šä¾æ®è¯¥åˆ‡ç‰‡çš„ä¸‹è½½é€Ÿåº¦çš„80%æ¥å†³å®šæ˜¯å¦è¦åˆ‡æ¢ç ç‡ï¼Œ å¦‚æœå½“å‰åˆ‡ç‰‡çš„ä¸‹è½½é€Ÿåº¦åˆ†åˆ«ä¸ºï¼š\n1M = é‚£ä¹ˆå…¶80%é€Ÿåº¦ä¸º 800Kï¼Œ ä½äº1300Kï¼Œ é‚£ä¹ˆä¸‹ä¸€ä¸ªåˆ‡ç‰‡ä¼šä¸‹è½½500Kç ç‡ï¼›\n2M = å…¶80%é€Ÿåº¦ä¸º 1600Kï¼Œ é«˜äº1300Kä½äº2300Kï¼Œ ä¸‹ä¸€ä¸ªåˆ‡ç‰‡ä¼šä¸‹è½½1300Kç ç‡ï¼›\n3M = å…¶80%é€Ÿåº¦ä¸º 2400Kï¼Œ é«˜äº2300Kï¼Œ ä¸‹ä¸€ä¸ªåˆ‡ç‰‡ä¼šä¸‹è½½2300Kç ç‡ã€‚\n\n+ 2.3.2.3 mappedæ¨¡å¼ä¸‹çš„å­—å¹•\n\nåœ¨mappedæ¨¡å¼ä¸‹æ·»åŠ å­—å¹•ç›¸å½“äºå°†å­—å¹•åšä¸ºä¸€ä¸ªclipsåŠ å…¥è§†é¢‘ä¸­ï¼Œåšæ³•ä¸å¤šç ç‡è‡ªé€‚åº”ç›¸åŒã€‚\n\nåœ¨æœåŠ¡å™¨ä¸Šå¯¹åº”çš„å­—å¹•æ–‡ä»¶ç›®å½•ç»“æ„ï¼š\n\n```bash\n/media/cjcwgl/hdh/cwgl0101.srt\n```\n\njsonæ–‡ä»¶è·¯å¾„ä¸ºï¼š\n\n```bash\n/media/cjcwgl/mapped.json\n```\n\nmapped.jsonæ–‡ä»¶çš„å†…å®¹ï¼š\n\n```bash\n{\n    \"sequences\": [\n        {\n            \"clips\": [\n                {\n                    \"type\": \"source\",\n                    \"path\": \"/media/cjcwgl/hdh/cwgl0101.mp4\"\n                }\n            ]\n        },\n        {\n            \"clips\": [\n                {\n                    \"type\": \"source\",\n                    \"path\": \"/media/cjcwgl/hdk/cwgl0101.srt\"\n                }\n            ]\n        }\n    ]\n}\n\n```\n\njsonæ–‡ä»¶ä¿®æ”¹åï¼Œé‡æ–°è®¿é—®URLå³å¯ç”Ÿæ•ˆé…ç½®ï¼Œä¸éœ€è¦å¯¹nginxè¿›è¡Œreloadã€‚\n\nURLæ’­æ”¾åœ°å€ä¸éœ€è¦ä¿®æ”¹ï¼š\n\n```\nhttp://192.168.192.128/vod_json/mapped.json/master.m3u8\n```\n\n+ 2.3.2.4 mappedæ¨¡å¼ä¸‹çš„å€é€Ÿæ’­æ”¾\n\nåœ¨æœåŠ¡å™¨ä¸Šå¯¹åº”çš„è§†é¢‘æ–‡ä»¶ç›®å½•ç»“æ„ï¼š\n\n```\n/media/cjcwgl/hdh/cwgl0101.mp4\n```\n\njsonæ–‡ä»¶è·¯å¾„ä¸ºï¼š\n\n```\n/media/cjcwgl/mapped2.json\n```\n\nmapped2.jsonæ–‡ä»¶çš„å†…å®¹ï¼š\n\n```\n{\n    \"sequences\": [\n        {\n        \"clips\": [\n            {\n                \"type\": \"rateFilter\",\n                \"rate\": 2.0,\n                \"source\": {\n                    \"type\": \"source\",\n                    \"path\": \"/media/cjcwgl/hdh/cwgl0101.mp4\"\n                    }\n                }\n            ]\n        }\n    ]\n}\n\n```\n\nURLæ’­æ”¾åœ°å€ï¼š\n\n```\nhttp://192.168.192.128/vod_json/mapped2.json/index.m3u8\n```\n\nå¦‚æœå€é€Ÿæ’­æ”¾çš„å„ç§é…ç½®éƒ½æ­£ç¡®ï¼Œä½†æ˜¯æ— æ³•æ’­æ”¾ï¼Œåœ¨./logs/error.logä¸­æ˜¾ç¤ºfilter no supportedçš„ç›¸å…³ä¿¡æ¯ï¼Œåˆ™å¾ˆæœ‰å¯èƒ½æ˜¯ç¼ºå°‘libavcodecä¸libavfilteråº“çš„æ”¯æŒã€‚\n\n+ 2.3.2.5 å®‰è£…ffmpegæä¾›libavcodecã€libavfilteråº“æ”¯æŒ\n\nå¦‚æœåœ¨ç‚¹æ’­æœåŠ¡ä¸­éœ€è¦æ”¯æŒå€é€Ÿè¾“å‡ºã€è§†é¢‘ä¸éŸ³è½¨çš„åˆ†ç¦»ç­‰æ“ä½œï¼Œéœ€è¦é¢å¤–çš„åº“libavcodecä¸libavfilterçš„æ”¯æŒï¼Œå®ƒä»¬éƒ½åŸºäºffmpegï¼Œé€šè¿‡å®‰è£…ffmpegå¯æä¾›ç›¸å…³çš„åº“æ”¯æŒï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š\n\nå®‰è£…libfdk-aacï¼š\n\n> å®‰è£…åŒ…è·å–åœ°å€ï¼šhttps://github.com/mstorsjo/fdk-aac/releases\n> å®‰è£…åŒ…åï¼šfdk-aac-2.0.1.tar.gz\n> è§£å‹ï¼štar -zxvf fdk-aac-2.0.1.tar.gz\n> è¿›ç›®å½•ï¼šcd fdk-aac-2.0.1\n> ç”Ÿæˆé…ç½®ï¼š./autogen.sh\n>\n> > å¦‚æœå‡ºç°é”™è¯¯ï¼šâ€œ./autogen.sh:è¡Œ2: autoreconf: æœªæ‰¾åˆ°å‘½ä»¤â€ï¼Œéœ€è¦å…ˆå®‰è£…autoconfã€automakeã€libtoolï¼š\n> > åœ¨centos7.9ä¸‹å¯ä»¥ä½¿ç”¨yumå®‰è£…ï¼š\n> > yum install autoconf automake libtool\n> > åœ¨centos6.5ä¸‹å¦‚æœä½¿ç”¨yumæ— æ³•æˆåŠŸå®‰è£…ï¼Œåˆ™éœ€è¦è¿›è¡Œæ‰‹åŠ¨å®‰è£…ï¼š\n> >\n> > > å®‰è£…autoconf\n> > > ä¸‹è½½ï¼šwget http://mirrors.kernel.org/gnu/autoconf/autoconf-2.65.tar.gz\n> > > è§£å‹ï¼štar -xzvf autoconf-2.65.tar.gz\n> > > è¿›ç›®å½•ï¼šcd autoconf-2.65\n> > > é…ç½®ï¼š./configure\n> > >\n> > > > å¯èƒ½åœ¨autoconçš„å®‰è£…è¿‡ç¨‹ä¸­è¿˜éœ€è¦perlï¼Œå®‰è£…perlï¼š\n> > > > ä¸‹è½½ï¼šwget https://www.cpan.org/src/5.0/perl-5.34.0.tar.gz\n> > > > è§£å‹ï¼štar -xzvf perl-5.34.0.tar.gz\n> > > > è¿›ç›®å½•ï¼šcd perl-5.34.0\n> > > > é…ç½®ï¼š./Configure -des -Dprefix=/usr/local/perl\n> > > > ç¼–è¯‘ï¼šmake\n> > > > å®‰è£…ï¼šmake install\n> > >\n> > > é‡æ–°è¿›è¡Œé…ç½®ï¼š./configure\n> > > ç¼–è¯‘ï¼šmake\n> > > å®‰è£…ï¼šmake install\n> > >\n> > > å®‰è£…automake\n> > > ä¸‹è½½ï¼šwget http://mirrors.kernel.org/gnu/automake/automake-1.11.tar.gz\n> > > è§£å‹ï¼štar -xzvf automake-1.11.tar.gz\n> > > è¿›ç›®å½•ï¼šcd automake-1.11\n> > > é…ç½®ï¼š./configure\n> > > ç¼–è¯‘ï¼šmake\n> > > å®‰è£…ï¼šmake install\n> > >\n> > > å®‰è£…libtool\n> > > ä¸‹è½½ï¼šwget http://mirrors.kernel.org/gnu/libtool/libtool-2.2.6b.tar.gz\n> > > è§£å‹ï¼štar -xzvf libtool-2.2.6b.tar.gz\n> > > è¿›ç›®å½•ï¼šcd libtool-2.2.6b\n> > > é…ç½®ï¼š./configure\n> > > ç¼–è¯‘ï¼šmake\n> > > å®‰è£…ï¼šmake install\n> >\n> > \n>\n> é‡æ–°ç”Ÿæˆé…ç½®ï¼š`./autogen.sh`\n> é…ç½®ï¼š`./configure --enable-shared`\n> ç¼–è¯‘ï¼š`make`\n> å®‰è£…ï¼š`make install`\n\nå®‰è£…ffmpegï¼š\n\n> å®‰è£…åŒ…è·å–åœ°å€ï¼šhttps://ffmpeg.org/download.html#releases\n> å®‰è£…åŒ…ï¼šffmpeg-4.4.tar.gz\n> é…ç½®ï¼š`./configure --enable-shared --enable-libfdk-aac`\n>\n> > å¦‚æœå‡ºç°æç¤ºï¼šâ€œnasm/yasm not found or too old.â€ï¼Œéœ€å®‰è£…nasmæˆ–è€…yasmå…¶ä¸­ä¹‹ä¸€ï¼š\n> > åœ¨centos7.9ä¸‹çš„å¯ä»¥ä½¿ç”¨yumè¿›è¡Œå®‰è£…ï¼š\n> > yum install nasm\n> > åœ¨centos6.5ä¸‹å¦‚æœæ— æ³•ä½¿ç”¨yumå®‰è£…ï¼Œåˆ™éœ€è¦æ‰‹åŠ¨å®‰è£…ï¼š\n> > ä¸‹è½½ï¼šwget https://www.nasm.us/pub/nasm/releasebuilds/2.13.03/nasm-2.13.03.tar.gz\n> > è§£å‹ï¼štar -xvf nasm-2.13.03.tar.gz\n> > è¿›ç›®å½•ï¼šcd nasm-2.13.03\n> > é…ç½®ï¼š./configure\n> > ç¼–è¯‘ï¼šmake\n> > å®‰è£…ï¼šmake install\n> >\n> > å¦‚æœå‡ºç°è­¦å‘Šï¼šâ€œWARNING: using libfdk without pkg-configâ€ï¼Œåˆ™éœ€è¦é…ç½®PKG_CONFIG_PATHå¦‚ä¸‹ï¼š\n> > export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig\n> > æŸ¥çœ‹æ˜¯å¦é…ç½®æˆåŠŸï¼š\n> > echo $PKG_CONFIG_PATH\n>\n> ç„¶åé‡æ–°é…ç½®ï¼š`./configure --enable-shared --enable-libfdk-aac`\n> ç¼–è¯‘ï¼š`make`\n> å®‰è£…ï¼š`make install`\n\næ³¨ï¼š\n\n> å¦‚æœéœ€è¦ffmpegæ”¯æŒlibx264è§†é¢‘ç¼–ç ï¼Œéœ€è¦å®‰è£…é…ç½®æ—¶åŠ å…¥`--enable-libx264 --enable-gpl`é€‰é¡¹ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š\n>\n> > å®‰è£…libx264ï¼š\n> > ä¸‹è½½åœ°å€ï¼šhttps://code.videolan.org/videolan/x264/-/tree/stable\n> > ./configure --enable-shared\n> > make\n> > make install\n>\n> å¦‚æœéœ€è¦ffmpegæ”¯æŒdrawtextæ°´å°æ»¤é•œåŠŸèƒ½ï¼Œéœ€è¦å®‰è£…é…ç½®æ—¶åŠ å…¥`--enable-libfreetype --enable-libfontconfig --enable-libfribidi`é€‰é¡¹ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š\n>\n> > å®‰è£…freetypeï¼š\n> > yum install freetype freetype-devel\n> > å®‰è£…fontconfig\n> > yum install fontconfig fontconfig-devel\n> > å®‰è£…fribidi\n> > yum install fribidi fribidi-devel\n>\n> â€“enable-libfdk-aac --enable-nonfree æä¾›fdk-aacéŸ³é¢‘ç¼–ç æ”¯æŒ\n> â€“enable-libx264 --enable-gpl æä¾›libx264è§†é¢‘ç¼–ç æ”¯æŒ\n> â€“enable-libfreetype æä¾›drawtextæ»¤é•œæ”¯æŒ\n> â€“enable-libfontconfig æä¾›drawtextæ»¤é•œé‡Œçš„å¤šç§å­—ä½“æ”¯æŒ\n> â€“enable-libfribidi è¿›ä¸€æ­¥æå‡å¯¹drawtextæ»¤é•œçš„æ”¯æŒ(å­—ä½“å˜å½¢)\n\né…ç½®å…±äº«åŠ¨æ€åº“ï¼š\n\n> ç¼–è¾‘é…ç½®æ–‡ä»¶å‘½ä»¤ï¼š`vi /etc/ld.so.conf`\n> åœ¨æœ«å°¾åŠ å…¥åº“è·¯å¾„ï¼š`/usr/local/lib`\n> ä½¿é…ç½®ç”Ÿæ•ˆå‘½ä»¤ï¼š`ldconfig`\n\né…ç½®ç¯å¢ƒå˜é‡ï¼š\n\n> ç¼–è¾‘æ–‡ä»¶ï¼š`vi /etc/profile`\n> åœ¨æœ«å°¾åŠ å…¥ï¼š`export PATH=\"/usr/local/lib:$PATH\"`\n> ä½¿é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼š`source /etc/profile`\n\næµ‹è¯•ffmpegæ˜¯å¦å®‰è£…æˆåŠŸï¼š\n\n> åœ¨å‘½ä»¤è¡Œæ‰§è¡Œï¼š`ffmpeg`\n> å¦‚æœå®‰è£…æˆåŠŸï¼Œä¼šå‡ºç°å¦‚ä¸‹ä¿¡æ¯ï¼š\n>\n> ```\n> ffmpeg version 4.4 Copyright (c) 2000-2021 the FFmpeg developers\n>   built with gcc 4.8.5 (GCC) 20150623 (Red Hat 4.8.5-44)\n>   configuration: --enable-shared --enable-libfdk-aac\n>   libavutil      56. 70.100 / 56. 70.100\n>   libavcodec     58.134.100 / 58.134.100\n>   libavformat    58. 76.100 / 58. 76.100\n>   libavdevice    58. 13.100 / 58. 13.100\n>   libavfilter     7.110.100 /  7.110.100\n>   libswscale      5.  9.100 /  5.  9.100\n>   libswresample   3.  9.100 /  3.  9.100\n> Hyper fast Audio and Video encoder\n> usage: ffmpeg [options] [[infile options] -i infile]... {[outfile options] outfile}...\n> \n> ```\n>\n> ä¿¡æ¯ä¸­æ˜¾ç¤ºlibavcodecä¸libavfilteråº“çš„ç›¸å…³ç‰ˆæœ¬ã€‚\n\nå®‰è£…æˆåŠŸffmpegä¹‹åï¼Œå°±æœ‰äº†libavcodecä¸libavfilteråº“æ”¯æŒï¼Œæ­¤æ—¶éœ€è¦é‡æ–°ç¼–è¯‘nginxï¼Œè¿™æ ·æ‰èƒ½æŠŠè¿™ä¸¤ä¸ªåº“ç¼–è¯‘è¿›nginxï¼Œå³é‡æ–°æ‰§è¡Œnginxçš„configure->make->make installä¸‰ä¸ªæ­¥éª¤ã€‚\n\nåœ¨`./configure â€¦â€¦`é…ç½®è¿‡ç¨‹ä¸­ï¼Œå¦‚æœnginxèƒ½å¤Ÿæ­£ç¡®æ‰¾åˆ°libavcodecä¸libavfilteråº“ï¼Œåˆ™ä¼šæ˜¾ç¤ºå¦‚ä¸‹ä¿¡æ¯ç‰‡æ®µï¼š\n\n```\nâ€¦â€¦\nchecking for libavcodec ... found\nchecking for libswscale ... found\nchecking for libavfilter ... found\nâ€¦â€¦\n\n```\n\né…ç½®æˆåŠŸåï¼Œè¿›è¡Œç¼–è¯‘`make`ï¼Œæœ€åå®‰è£…`make install`ï¼Œè‡³æ­¤å·²ç»æˆåŠŸåœ¨nginxä¸­æ·»åŠ äº†libavcodecä¸libavfilteråº“æ”¯æŒã€‚\n\n> åœ¨å®‰è£…ä¹‹å‰å¦‚æœnginxå·²ç»åœ¨è¿è¡Œä¸­ï¼Œéœ€è¦å…ˆ`./nginx -s stop`ï¼Œå¦åˆ™å¯èƒ½å‡ºç°æ–‡ä»¶å ç”¨çš„é—®é¢˜ã€‚\n\n##### 2.3.3 å†…å®¹åŠ å¯†\n\né€šè¿‡æ­å»ºç‚¹æ’­/ç›´æ’­æœåŠ¡å™¨å¹¶å¯¹å¤–æä¾›ä»˜è´¹å†…å®¹æœåŠ¡æ˜¯å¤§å¤šæ•°è§†é¢‘å¹³å°çš„æ ¸å¿ƒä¸šåŠ¡ï¼Œä¸ºäº†é˜²æ­¢ä»˜è´¹å†…å®¹è¢«å¤åˆ¶è½¬å‘ï¼Œéƒ½ä¼šé€šè¿‡ä¸€äº›åŠ å¯†æŠ€æœ¯æ¥å¯¹å†…å®¹è¿›è¡Œä¿æŠ¤ã€‚\nâ€ƒâ€ƒä¸‹é¢ä½¿ç”¨ä¸€ä¸ªä¸Šæ¸¸phpæœåŠ¡å™¨å¯¹å½“å‰çš„ç‚¹æ’­æœåŠ¡æä¾›ç§˜é’¥ï¼Œä»¥æ­¤æ¥å¯¹ç‚¹æ’­å†…å®¹è¿›è¡ŒåŠ å¯†ä¿æŠ¤ï¼Œæä¾›åŠ å¯†æœåŠ¡çš„æœåŠ¡å™¨éœ€è¦èƒ½å¤Ÿå¤„ç†phpè„šæœ¬ï¼Œå¯ä»¥å‚è€ƒä½¿ç”¨nginxæœåŠ¡å™¨æ­å»ºphpç¯å¢ƒã€‚ä¸Šæ¸¸çš„phpæœåŠ¡ä¸»è¦æœ‰ä¸¤ä¸ªåŠŸèƒ½ï¼Œå¯¹å¤–æä¾›åŠ å¯†ç§˜é’¥ä»¥åŠè§£å¯†ç§˜é’¥ã€‚\n2.3.3.1 åŠ å¯†ç§˜é’¥\n\nHLSä¸­çš„åŠ å¯†ç§˜é’¥æ˜¯ä»¥jsonæ ¼å¼è¡¨ç¤ºçš„ï¼š\n\n```\n[\n    {\n        \"key\": \"GzoNU9Dfwc//Iq3/zbzMUw==\",\n        \"key_id\": \"GzoNU9Dfwc//Iq3/zbzMUw==\"\n    }\n]\n\n```\n\n> å¯¹HLSè€Œè¨€ï¼Œkeyæ˜¯å¿…é¡»çš„ï¼Œkey_idå¹¶æ²¡æœ‰æ„ä¹‰ï¼Œä½†æ˜¯æ¨¡å—ç”±äºå…¼å®¹é—®é¢˜æ‰€ä»¥éœ€è¦key_idï¼Œå› ä¸ºåˆ«çš„åè®®ï¼ˆDASHï¼‰éœ€è¦å®ƒï¼Œè€Œivæ˜¯å¯é€‰çš„ï¼Œè¡¨ç¤ºåç§»é‡ã€‚\n\nåœ¨phpæœåŠ¡å™¨ä¸Šé…ç½®çš„åŠ å¯†ç§˜é’¥è¯·æ±‚åœ°å€ä¸ºï¼šhttp://192.168.192.182/base64key/base64key.phpï¼Œè„šæœ¬æ–‡ä»¶base64key.phpçš„å®é™…å†…å®¹å¦‚ä¸‹ï¼šï¼ˆä¸ºäº†æ–¹ä¾¿ï¼Œç›´æ¥ä½¿ç”¨æ˜æ–‡ï¼‰\n\n```\n<?php\n$str = '[{\"key\": \"GzoNU9Dfwc//Iq3/zbzMUw==\",\"key_id\": \"GzoNU9Dfwc//Iq3/zbzMUw==\"}]';\necho $str;\n?>\n\n```\n\nç¡®ä¿å¯¹åŠ å¯†ç§˜é’¥è¯·æ±‚åœ°å€çš„è®¿é—®èƒ½å¤Ÿå¾—åˆ°åŠ å¯†ç§˜é’¥å³å¯ã€‚\n\n2.3.3.2 è§£å¯†ç§˜é’¥\n\nHLSçš„è§£å¯†ç§˜é’¥æ˜¯åŠ å¯†ç§˜é’¥ç»è¿‡ç®€å•çš„base64è§£ç ä¹‹åçš„å­—ç¬¦ä¸²ï¼Œæ— å¯è¯»æ€§ï¼Œç»å¸¸æ˜¯ä¸€ä¸²ä¹±ç ï¼š\n\n```\n: Sï¿½ï¿½ï¿½ï¿½ï¿½\"ï¿½ï¿½Í¼ï¿½S\n```\n\nåœ¨phpæœåŠ¡å™¨ä¸Šé…ç½®çš„è§£å¯†ç§˜é’¥è¯·æ±‚åœ°å€ä¸ºï¼šhttp://192.168.192.182/decodeKey.phpï¼Œè„šæœ¬æ–‡ä»¶decodeKey.phpçš„å®é™…å†…å®¹å¦‚ä¸‹ï¼š\n\n```\n<?php\nheader('Access-Control-Allow-Origin:*'); // è¿è¡Œè·¨åŸŸ\nheader('Access-Control-Allow-Methods:OPTIONS, GET, POST'); // å…è®¸optionï¼Œgetï¼Œpostè¯·æ±‚\nheader('Access-Control-Allow-Headers:x-requested-with'); // å…è®¸x-requested-withè¯·æ±‚å¤´\n\n$str = 'GzoNU9Dfwc//Iq3/zbzMUw==';\necho base64_decode($str);\n?>\n\n```\n\n2.3.3.3 locationé…ç½®\n\né…ç½®å®Œä¸Šæ¸¸çš„phpç§˜é’¥æœåŠ¡å™¨ä¹‹åï¼Œéœ€è¦åœ¨nginxçš„é…ç½®ä¸­æ·»åŠ åŠ å¯†çš„æ–¹å¼ã€åŠ å¯†ç§˜é’¥åœ°å€ã€è§£å¯†ç§˜é’¥åœ°å€ï¼Œå¹¶å¯ç”¨åŠ å¯†ã€‚\n\n> è¿™é‡Œçš„åŠ å¯†ä½¿ç”¨DRMæ–¹å¼ï¼Œéœ€è¦åˆ†åˆ«é…ç½®åŠ å¯†åœ°å€å’Œè§£å¯†åœ°å€ï¼›å¦‚æœä½¿ç”¨seedç›´æ¥åœ¨æœ¬æœºç”Ÿæˆç§˜é’¥çš„æ–¹å¼ï¼Œä¼šè‡ªåŠ¨ç”ŸæˆåŠ å¯†å’Œè§£å¯†ç§˜é’¥ã€‚\n\n```\n# hlsç›´æ’­ï¼Œlocalæ¨¡å¼ + DRMåŠ å¯†\n# http://192.168.192.128/vod/example.mp4/index.m3u8\nlocation /vod {\n    vod hls; # å¼€å¯vodæ¨¡å—\n    vod_mode local; # è®¿é—®æ¨¡å¼æŒ‡å®šä¸ºlocal\n    vod_align_segments_to_key_frames on; # æ¯ä¸ªåˆ‡ç‰‡ä»¥å…³é”®å¸§å¼€å¤´\n    vod_manifest_segment_durations_mode accurate; # ç²¾ç¡®æ˜¾ç¤ºæ¯ä¸ªåˆ‡ç‰‡çš„é•¿åº¦\n\n    # ç›´æ¥ä½¿ç”¨ç§å­ç”Ÿæˆkeyï¼Œè¿›è¡ŒåŠ å¯†ï¼ˆåŠ å¯†æ–¹å¼ä¸€ï¼‰\n    # vod_hls_encryption_method aes-128; # åŠ å¯†ç®—æ³•\n    # vod_secret_key \"1234567890123456\"; # ç”¨äºç”ŸæˆåŠ å¯†å¯†é’¥çš„ç§å­seedï¼Œè‡ªåŠ¨ç”ŸæˆåŠ å¯†ç§˜é’¥å’Œè§£å¯†ç§˜é’¥\n\n    # ä½¿ç”¨drmåŠ å¯†ï¼ˆåŠ å¯†æ–¹å¼äºŒï¼‰\n    vod_hls_encryption_method aes-128; # åŠ å¯†ç®—æ³•\n    vod_drm_enabled on; # ä½¿ç”¨drmæ–¹å¼æä¾›key\n    vod_drm_upstream_location /base64key; # ä¸Šæ¸¸æœåŠ¡å™¨åœ°å€\n    vod_drm_request_uri /base64key.php; # è·å–åŠ å¯†å¯†é’¥ï¼Œbase64ç¼–ç åçš„å¯è¯»jsonæ ¼å¼\n    vod_hls_encryption_key_uri http://192.168.192.182/decodeKey.php; # è·å–è§£å¯†å¯†é’¥ï¼Œæ— base64ç¼–ç çš„ä¹±ç æ ¼å¼\n\n    add_header Access-Control-Allow-Headers '*';\n    add_header Access-Control-Expose-Headers 'Server,range,Content-Length,Content-Range';\n    add_header Access-Control-Allow-Methods 'GET, HEAD, OPTIONS';\n    add_header Access-Control-Allow-Origin '*';\n\n    alias /media;\n}\n\n# ä¸Šæ¸¸æœåŠ¡å™¨é…ç½®ï¼Œå­˜å‚¨drmä¿¡æ¯\nlocation /base64key { # locationè·¯å¾„éœ€è¦ä¸æœåŠ¡å™¨çš„æ–‡ä»¶å¤¹è·¯å¾„ä¸€è‡´\n    #proxy_set_header Host $host;\n    #proxy_set_header X-Real-IP $remote_addr;\n    #proxy_set_header X-Forwarder-For $proxy_add_x_forwarded_for;\n    proxy_pass http://192.168.192.182;\n}\n\n```\n\nåœ¨æ’­æ”¾ç«¯ä¸éœ€è¦è¿›è¡Œé¢å¤–çš„æ›´æ”¹ï¼Œå³å¯æ­£å¸¸æ’­æ”¾è§†é¢‘ï¼Œä½†æ­¤æ—¶çš„è§†é¢‘åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­å·²æ˜¯åŠ å¯†çŠ¶æ€ã€‚\n\n> æ’­æ”¾çš„åª’ä½“å†…å®¹ç»è¿‡DRMï¼Œè™½ç„¶ç¤ºä¾‹ä¸­åœ¨æ’­æ”¾ä¸Šçœ‹èµ·æ¥å¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒçš„æ„Ÿè§‰ï¼Œä½†ä¸‹è½½ä¿å­˜çš„å†…å®¹åˆ‡ç‰‡å¦‚æœä¸ç»è¿‡DRMçš„éªŒè¯åˆ™æ˜¯æ— æ³•æ’­æ”¾çš„ã€‚\n\n##### 2.3.4 å®Œæ•´çš„nginx.confæ–‡ä»¶\n\nnginxçš„å®Œæ•´é…ç½®æ–‡ä»¶ï¼Œ`/nginxå®‰è£…è·¯å¾„/conf/nginx.conf`ï¼š\n\n```\n#user root;\nworker_processes  1;\n\nevents {\n    worker_connections  1024;\n}\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n    sendfile        on;\n\n    keepalive_timeout  65;\n\n    server {\n        listen       80;\n        server_name  localhost;\n\n        autoindex on;\n\n        location /vod {\n            vod hls; # å¼€å¯vodæ¨¡å—\n            vod_mode local; # è®¿é—®æ¨¡å¼æŒ‡å®šä¸ºlocal\n            \n            vod_align_segments_to_key_frames on; # æ¯ä¸ªåˆ‡ç‰‡ä»¥å…³é”®å¸§å¼€å¤´\n            vod_manifest_segment_durations_mode accurate; # ç²¾ç¡®æ˜¾ç¤ºæ¯ä¸ªåˆ‡ç‰‡çš„é•¿åº¦\n\n            # ç›´æ¥ä½¿ç”¨ç§å­ç”Ÿæˆkeyï¼Œè¿›è¡ŒåŠ å¯†ï¼ˆåŠ å¯†æ–¹å¼ä¸€ï¼‰\n            # vod_hls_encryption_method aes-128; # åŠ å¯†ç®—æ³•\n            # vod_secret_key \"1234567890123456\"; # ç”¨äºç”ŸæˆåŠ å¯†å¯†é’¥çš„ç§å­seedï¼Œè‡ªåŠ¨ç”ŸæˆåŠ å¯†ç§˜é’¥å’Œè§£å¯†ç§˜é’¥\n\n            # ä½¿ç”¨drmåŠ å¯†ï¼ˆåŠ å¯†æ–¹å¼äºŒï¼‰\n            vod_hls_encryption_method aes-128; # åŠ å¯†ç®—æ³•\n            vod_drm_enabled on; # ä½¿ç”¨drmæ–¹å¼æä¾›key\n            vod_drm_upstream_location /base64key; # ä¸Šæ¸¸æœåŠ¡å™¨åœ°å€\n            vod_drm_request_uri /base64key.php; # è·å–åŠ å¯†å¯†é’¥ï¼Œbase64ç¼–ç åçš„å¯è¯»jsonæ ¼å¼\n            vod_hls_encryption_key_uri http://192.168.192.182/decodeKey.php; # è·å–è§£å¯†å¯†é’¥ï¼Œæ— base64ç¼–ç çš„ä¹±ç æ ¼å¼\n\n            add_header Access-Control-Allow-Headers '*';\n            add_header Access-Control-Expose-Headers 'Server,range,Content-Length,Content-Range';\n            add_header Access-Control-Allow-Methods 'GET, HEAD, OPTIONS';\n            add_header Access-Control-Allow-Origin '*';\n\n            alias /media;\n        }\n        # ä¸Šæ¸¸æœåŠ¡å™¨é…ç½®ï¼Œå­˜å‚¨drmä¿¡æ¯\n        location /base64key { # locationè·¯å¾„éœ€è¦ä¸æœåŠ¡å™¨çš„æ–‡ä»¶å¤¹è·¯å¾„ä¸€è‡´\n            #proxy_set_header Host $host;\n            #proxy_set_header X-Real-IP $remote_addr;\n            #proxy_set_header X-Forwarder-For $proxy_add_x_forwarded_for;\n            \n            proxy_pass http://192.168.192.182;\n        }\n\n        location /vod_json {\n            vod hls;\n            vod_mode mapped;\n\n            vod_align_segments_to_key_frames on; # æ¯ä¸ªåˆ‡ç‰‡ä»¥å…³é”®å¸§å¼€å¤´\n            \n            add_header Access-Control-Allow-Headers '*';\n            add_header Access-Control-Expose-Headers 'Server,range,Content-Length,Content-Range';\n            add_header Access-Control-Allow-Methods 'GET, HEAD, OPTIONS';\n            add_header Access-Control-Allow-Origin '*';\n\n            alias /media/cjcwgl;\n        }\n\n        location /data {\n            alias /media;\n        }\n\n        location / {\n            root   html;\n            index  index.html index.htm;\n        }\n\n        #error_page  404              /404.html;\n\n        # redirect server error pages to the static page /50x.html\n        #\n        error_page   500 502 503 504  /50x.html;\n        location = /50x.html {\n            root   html;\n        }\n    }\n}\n\n```\n\n### 3 å…³äºnginx-vod-moduleæ¨¡å—\n\nâ€ƒâ€ƒæ¨¡å—é‡Œè¿˜æœ‰å¾ˆå¤šåŠŸèƒ½ï¼Œæ¯”å¦‚åŠ å¯†ä¼ è¾“ã€æ•°æ®ç¼“å­˜ã€ä»£ç†ä¸Šæ¸¸æœåŠ¡ç­‰ï¼Œä½†æ–‡æ¡£é‡Œåªæä¾›äº†å‡ ä¸ªåŸºæœ¬çš„ä¾‹å­ï¼Œé‡åˆ°é—®é¢˜çš„è¯å¯ä»¥åœ¨githubçš„[issues](https://github.com/kaltura/nginx-vod-module/issues)[3](https://blog.csdn.net/SeeDoubleU/article/details/121805174#fn3)é‡Œå¯»æ‰¾ç›¸åº”çš„é—®é¢˜ã€‚\n\nnginxå®‰è£…æµç¨‹: https://blog.csdn.net/SeeDoubleU/article/details/121727292 â†©ï¸\n\nnginx-vod-moduleæ–‡æ¡£: https://github.com/kaltura/nginx-vod-module/blob/master/README.md â†©ï¸\n\ngithub issues: https://github.com/kaltura/nginx-vod-module/issues â†©ï¸\n","tags":["ffmpeg","nginx","æµåª’ä½“ç‚¹æ’­"],"categories":["_A4-FFmpeg","ç‚¹æ’­æœåŠ¡å™¨"]},{"title":"Scpå‘½ä»¤","url":"/2024/04/24/scpå‘½ä»¤/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>å¿…å¤‡å·¥å…·ï¼ˆä»£ç ç±»ï¼‰ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>SCPå‘½ä»¤ï¼š[æœ¬æ–‡å‚è€ƒè‡ª](https://blog.csdn.net/CHNIM/article/details/134813154)</strong></font>\n\n```bash\n# 1. åŸºæœ¬è¯­æ³•\n# scp [é€‰é¡¹] æºæ–‡ä»¶/ç›®å½• ç›®æ ‡è·¯å¾„\n# é€‰é¡¹ï¼š\n#\t\t-rï¼šé€’å½’å¤åˆ¶ï¼Œç”¨äºå¤åˆ¶ç›®å½•ã€‚\n# \t-Pï¼šæŒ‡å®šSSHç«¯å£å·ã€‚\n# \t-iï¼šæŒ‡å®šèº«ä»½æ–‡ä»¶ï¼ˆç§é’¥æ–‡ä»¶ï¼‰ã€‚\n# \t-vï¼šè¯¦ç»†æ¨¡å¼ï¼Œæ˜¾ç¤ºè¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯ã€‚\n\n# ä» è¿œç¨‹ ==> æœ¬åœ°\nscp root@192.168.1.33:/root/requirements.txt /root/requirements.txt\n\n# ä» æœ¬åœ° ==> è¿œç¨‹\nscp /root/requirements.txt root@192.168.1.33:/root/requirements.txt\n\n# ä» è¿œç¨‹ ==> è¿œç¨‹  \nscp root@192.168.1.33:/root/requirements.txt root@172.16.73.130:/root\n\n# ä½¿ç”¨ç«¯å£å’ŒæŒ‡å®šç§é’¥\nscp -P 2222 -i /path/to/private_key.pem localfile.txt user@remote:/path/to/destination/\n\n# é€’å½’å¤åˆ¶ç›®å½•\nscp -r sourcedir user@remote:/path/to/destination/\n#3. æ³¨æ„äº‹é¡¹\n# \tå¦‚æœç›®æ ‡è·¯å¾„æ˜¯ç›®å½•ï¼Œæ–‡ä»¶å°†ä¼šè¢«å¤åˆ¶åˆ°è¯¥ç›®å½•ä¸­ã€‚\n# \tå¦‚æœç›®æ ‡è·¯å¾„åŒ…å«æ–‡ä»¶åï¼Œæ–‡ä»¶å°†è¢«å¤åˆ¶å¹¶é‡å‘½åä¸ºæŒ‡å®šçš„æ–‡ä»¶åã€‚\n# \tä½¿ç”¨é€’å½’é€‰é¡¹ -r å¯ä»¥å¤åˆ¶æ•´ä¸ªç›®å½•åŠå…¶å†…å®¹ã€‚\n# \tå¦‚æœç›®æ ‡è·¯å¾„ä¸­åŒ…å«ç©ºæ ¼ï¼Œåº”è¯¥ä½¿ç”¨å¼•å·å°†å…¶æ‹¬èµ·æ¥ã€‚\n# \tè¦è¿æ¥åˆ°éæ ‡å‡†SSHç«¯å£ï¼Œå¯ä»¥ä½¿ç”¨ -P é€‰é¡¹ã€‚\n# \tä½¿ç”¨ -i é€‰é¡¹å¯ä»¥æŒ‡å®šç”¨äºèº«ä»½éªŒè¯çš„ç§é’¥æ–‡ä»¶ã€‚\n```\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>Python pipå¯ç”¨åŒ…æŸ¥çœ‹ï¼š</strong></font>\n\n```bash\npip3 list  # æŸ¥çœ‹å·²ç»å®‰è£…çš„åŒ…\n\npip3 index versions <åŒ…å>   # æŸ¥çœ‹æœåŠ¡å™¨ä¸Š å½“å‰ç³»ç»Ÿå¯ä»¥ç”¨æ‰€æœ‰åŒ…  ä¾‹å¦‚ï¼špip3 index versions requests\n```\n\n","tags":["å¤åˆ¶","scp"],"categories":["_A3-linux","å‘½ä»¤","scp"]},{"title":"pythonæ“ä½œMinIO","url":"/2024/04/23/pythonæ“_MinIO/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**pythonæ“ä½œminio**</strong></font>\n\n<!--more-->\n\n## å‰è¨€\n\npythonç‰ˆæœ¬ï¼š3.7\n\nminioç‰ˆæœ¬ï¼š5.0.5\n\n```\n# ä½¿ç”¨pipå®‰è£…\npip install minio\n\n# ä½¿ç”¨æºç å®‰è£…\ngit clone https://github.com/minio/minio-py\ncd minio-py\npython setup.py install\n```\n\nå‚è€ƒæ–‡æ¡£ï¼š\n\nå¿«é€Ÿå…¥é—¨ï¼šhttps://docs.min.io/cn/python-client-quickstart-guide.html\n\nå®Œæ•´æ–‡æ¡£ï¼šhttps://docs.min.io/cn/python-client-api-reference.html\n\nAPIç¤ºä¾‹ï¼šhttps://github.com/minio/minio-py/tree/master/examples\n\n\n\n## åˆå§‹åŒ–MinIO Client\n\n```python\nfrom minio import Minio\nfrom minio.error import ResponseError\n\nminioClient = Minio(endpoint='play.min.io',\n                  access_key='Q3AM3UQ867SPQQA43P2F',\n                  secret_key='zuf+tfteSlswRu7BJ86wekitnifILbZam1KYY3TG',\n                  secure=True)\n```\n\n## æ“ä½œå­˜å‚¨æ¡¶\n\n### åˆ›å»ºä¸€ä¸ªå­˜å‚¨æ¡¶\n\nmake_bucket(bucket_name, location=â€™us-east-1â€™) -> None\n\n```python\ntry:\n    minioClient.make_bucket(bucket_name=\"mybucket\", location=\"us-east-1\")\nexcept MaxRetryError as err:\n    print(\"connect minio server fail, %s\" % err)\n    raise\nexcept ResponseError as err:\n    print(\"minio server response fail, %s\" % err)\n    raise\nexcept (BucketAlreadyOwnedByYou, BucketAlreadyExists) as err:\n    pass\nexcept InvalidBucketError as err:\n    print(err)\nexcept Exception as err:\n    print(err)\n```\n\n### åˆ—å‡ºæ‰€æœ‰çš„å­˜å‚¨æ¡¶\n\nlist_buckets() -> list\n\n```python\ntry:\n    buckets = minioClient.list_buckets()\n    for bucket in buckets:\n        print(bucket.name, bucket.creation_date)\nexcept MaxRetryError as err:\n    print(\"connect minio server fail, %s\" % err)\n    raise\nexcept ResponseError as err:\n    print(\"minio server response fail, %s\" % err)\n    raise\nexcept Exception as err:\n    print(err)\n```\n\n### æ£€æŸ¥å­˜å‚¨æ¡¶æ˜¯å¦å­˜åœ¨\n\nbucket_exists(bucket_name) -> bool\n\n```python\ntry:\n    result = minioClient.bucket_exists(bucket_name=\"mybucket\")\n    print(result)\nexcept MaxRetryError as err:\n    print(\"connect minio server fail, %s\" % err)\n    raise\nexcept ResponseError as err:\n    print(\"minio server response fail, %s\" % err)\n    raise\nexcept InvalidBucketError as err:\n    print(err)\nexcept Exception as err:\n    print(err)\n```\n\n### åˆ é™¤å­˜å‚¨æ¡¶\n\nremove_bucket(bucket_name) -> None\n\n```python\ntry:\n    minioClient.remove_bucket(bucket_name=\"mybucket\")\nexcept MaxRetryError as err:\n    print(\"connect minio server fail, %s\" % err)\n    raise\nexcept ResponseError as err:\n    print(\"minio server response fail, %s\" % err)\n    raise\nexcept InvalidBucketError as err:\n    print(err)\nexcept NoSuchBucket as err:\n    print(err)\nexcept Exception as err:\n    print(err)\n```\n\n### åˆ—å‡ºå­˜å‚¨æ¡¶ä¸­æ‰€æœ‰å¯¹è±¡\n\nlist_objects(bucket_name, prefix=None, recursive=False) -> Iterator\n\n```python\ntry:\n    objects = minioClient.list_objects(\"mybucket\")\n    for obj in objects:\n        print(obj.bucket_name, obj.object_name.encode('utf-8'), obj.is_dir,\n              obj.size, obj.etag, obj.last_modified, obj.content_type,\n              obj.metadata)\nexcept MaxRetryError as err:\n    print(\"connect minio server fail, %s\" % err)\n    raise\nexcept ResponseError as err:\n    print(\"minio server response fail, %s\" % err)\n    raise\nexcept InvalidBucketError as err:\n    print(err)\nexcept Exception as err:\n    print(err)\n```\n\n### åˆ—å‡ºå­˜å‚¨æ¡¶ä¸­æœªå®Œæ•´ä¸Šä¼ çš„å¯¹è±¡\n\nlist_incomplete_uploads(bucket_name, prefix, recursive=False) -> Iterator\n\n```python\ntry:\n    # List all object paths in bucket that begin with my-prefixname.\n    uploads = minioClient.list_incomplete_uploads('mybucket', \n                                                  prefix='my-prefixname',\n                                                  recursive=True)\n    for obj in uploads:\n        print(obj.bucket_name, obj.object_name, obj.upload_id, obj.size)\nexcept MaxRetryError as err:\n    print(\"connect minio server fail, %s\" % err)\n    raise\nexcept ResponseError as err:\n    print(\"minio server response fail, %s\" % err)\n    raise\nexcept InvalidBucketError as err:\n    print(err)\nexcept Exception as err:\n    print(err)\n```\n\n### è·å–å­˜å‚¨æ¡¶çš„å½“å‰ç­–ç•¥\n\nget_bucket_policy(bucket_name, prefix) -> Policyæšä¸¾\n\n```\n# Get current policy of all object paths in bucket that begin with my-prefixname.\npolicy = minioClient.get_bucket_policy('mybucket',\n                                       'my-prefixname')\nprint(policy)\n```\n\n### ç»™æŒ‡å®šçš„å­˜å‚¨æ¡¶è®¾ç½®å­˜å‚¨æ¡¶ç­–ç•¥\n\nset_bucket_policy(bucket_name, prefix, policy) -> Policyæšä¸¾\n\n```python\n# Set policy Policy.READ_ONLY to all object paths in bucket that begin with my-prefixname.\nminioClient.set_bucket_policy('mybucket',\n                              'my-prefixname',\n                              Policy.READ_ONLY)\n```\n\n### è·å–å­˜å‚¨æ¡¶ä¸Šçš„é€šçŸ¥é…ç½®\n\nget_bucket_notification(bucket_name) -> dict\n\n```python\n# Get the notifications configuration for a bucket.\nnotification = minioClient.get_bucket_notification('mybucket')\n# If no notification is present on the bucket:\n# notification == {}\n```\n\n### ç»™å­˜å‚¨æ¡¶è®¾ç½®é€šçŸ¥é…ç½®\n\nset_bucket_notification(bucket_name, notification) ->\n\n### åˆ é™¤å­˜å‚¨æ¡¶ä¸Šé…ç½®çš„æ‰€æœ‰é€šçŸ¥\n\nremove_all_bucket_notification(bucket_name)\n\n### ç›‘å¬å­˜å‚¨æ¡¶ä¸Šçš„é€šçŸ¥ï¼Œå¯ä»¥é¢å¤–æä¾›å‰ç¼€ã€åç¼€å’Œæ—¶é—´ç±»å‹æ¥è¿›è¡Œè¿‡æ»¤\n\nlisten_bucket_notification(bucket_name, prefix, suffix, events)\n\n```python\n# Put a file with default content-type.\nevents = minioClient.listen_bucket_notification('my-bucket', 'my-prefix/',\n                                                '.my-suffix',\n                                                ['s3:ObjectCreated:*',\n                                                 's3:ObjectRemoved:*',\n                                                 's3:ObjectAccessed:*'])\nfor event in events:\n    print event\n```\n\n## æ“ä½œå¯¹è±¡\n\n### ä¸‹è½½ä¸€ä¸ªå¯¹è±¡\n\nget_object(bucket_name, object_name, request_headers=None)\n\n```python\n# Get a full object.\ntry:\n    data = minioClient.get_object('mybucket', 'myobject')\n    with open('my-testfile', 'wb') as file_data:\n        for d in data.stream(32*1024):\n            file_data.write(d)\nexcept ResponseError as err:\n    print(err)\n```\n\n### ä¸‹è½½ä¸€ä¸ªå¯¹è±¡çš„æŒ‡å®šåŒºé—´çš„å­—èŠ‚æ•°ç»„\n\nget_partial_object(bucket_name, object_name, offset=0, length=0, request_headers=None)\n\n```python\n# Offset the download by 2 bytes and retrieve a total of 4 bytes.\ntry:\n    data = minioClient.get_partial_object('mybucket', 'myobject', 2, 4)\n    with open('my-testfile', 'wb') as file_data:\n        for d in data:\n            file_data.write(d)\nexcept ResponseError as err:\n    print(err)\n```\n\n### ä¸‹è½½å¹¶å°†æ–‡ä»¶ä¿å­˜åˆ°æœ¬åœ°\n\nget_object(bucket_name, object_name, file_path, request_headers=None)\n\n```python\n# Get a full object and prints the original object stat information.\ntry:\n    print(minioClient.fget_object('mybucket', 'myobject', '/tmp/myobject'))\nexcept ResponseError as err:\n    print(err)\n```\n\n### æ‹·è´å¯¹è±¡å­˜å‚¨æœåŠ¡ä¸Šçš„æºå¯¹è±¡åˆ°ä¸€ä¸ªæ–°å¯¹è±¡\n\ncopy_object(bucket_name, object_name, object_source, copy_conditions=None, metadata=None)\n\n```python\nimport time\nfrom datetime import datetime\nfrom minio import CopyConditions\n\ncopy_conditions = CopyConditions()\n# Set modified condition, copy object modified since 2014 April.\nt = (2014, 4, 0, 0, 0, 0, 0, 0, 0)\nmod_since = datetime.utcfromtimestamp(time.mktime(t))\ncopy_conditions.set_modified_since(mod_since)\n\n# Set unmodified condition, copy object unmodified since 2014 April.\ncopy_conditions.set_unmodified_since(mod_since)\n\n# Set matching ETag condition, copy object which matches the following ETag.\ncopy_conditions.set_match_etag(\"31624deb84149d2f8ef9c385918b653a\")\n\n# Set matching ETag except condition, copy object which does not match the following ETag.\ncopy_conditions.set_match_etag_except(\"31624deb84149d2f8ef9c385918b653a\")\n\n# Set metadata\nmetadata = {\"test-key\": \"test-data\"}\n\ntry:\n    copy_result = minioClient.copy_object(\"mybucket\", \"myobject\",\n                                          \"/my-sourcebucketname/my-sourceobjectname\",\n                                          copy_conditions,metadata=metadata)\n    print(copy_result)\nexcept ResponseError as err:\n    print(err)\n```\n\n### æ·»åŠ ä¸€ä¸ªæ–°çš„å¯¹è±¡åˆ°å¯¹è±¡å­˜å‚¨æœåŠ¡\n\nput_object(bucket_name, object_name, data, length, content_type=â€™application/octet-streamâ€™, metadata=None)\n\n```python\nimport os\n# Put a file with default content-type, upon success prints the etag identifier computed by server.\ntry:\n    with open('my-testfile', 'rb') as file_data:\n        file_stat = os.stat('my-testfile')\n        print(minioClient.put_object('mybucket', 'myobject',\n                               file_data, file_stat.st_size))\nexcept ResponseError as err:\n    print(err)\n\n# Put a file with 'application/csv'.\ntry:\n    with open('my-testfile.csv', 'rb') as file_data:\n        file_stat = os.stat('my-testfile.csv')\n        minioClient.put_object('mybucket', 'myobject.csv', file_data,\n                    file_stat.st_size, content_type='application/csv')\nexcept ResponseError as err:\n    print(err)\n```\n\n### é€šè¿‡æ–‡ä»¶ä¸Šä¼ åˆ°å¯¹è±¡ä¸­\n\nfput_object(bucket_name, object_name, file_path, content_type=â€™application/octet-streamâ€™, metadata=None)\n\n```python\n# Put an object 'myobject' with contents from '/tmp/otherobject', upon success prints the etag identifier computed by server.\ntry:\n    print(minioClient.fput_object('mybucket', 'myobject', '/tmp/otherobject'))\nexcept ResponseError as err:\n    print(err)\n\n# Put on object 'myobject.csv' with contents from\n# '/tmp/otherobject.csv' as 'application/csv'.\ntry:\n    print(minioClient.fput_object('mybucket', 'myobject.csv',\n                             '/tmp/otherobject.csv',\n                             content_type='application/csv'))\nexcept ResponseError as err:\n    print(err)\n```\n\n### è·å–å¯¹è±¡çš„å…ƒæ•°æ®\n\nstat_object(bucket_name, object_name)\n\n```python\n# Fetch stats on your object.\ntry:\n    print(minioClient.stat_object('mybucket', 'myobject'))\nexcept ResponseError as err:\n    print(err)\n```\n\n### åˆ é™¤ä¸€ä¸ªå¯¹è±¡\n\nremove_object(bucket_name, object_name)\n\n```python\n# Remove an object.\ntry:\n    minioClient.remove_object('mybucket', 'myobject')\nexcept ResponseError as err:\n    print(err)\n```\n\n### åˆ é™¤å­˜å‚¨æ¡¶ä¸­çš„å¤šä¸ªå¯¹è±¡\n\nremove_objects(bucket_name, objects_iter)\n\n```python\n# Remove multiple objects in a single library call.\ntry:\n    objects_to_delete = ['myobject-1', 'myobject-2', 'myobject-3']\n    # force evaluation of the remove_objects() call by iterating over\n    # the returned value.\n    for del_err in minioClient.remove_objects('mybucket', objects_to_delete):\n        print(\"Deletion Error: {}\".format(del_err))\nexcept ResponseError as err:\n    print(err)\n```\n\n### åˆ é™¤ä¸€ä¸ªæœªå®Œæ•´ä¸Šä¼ çš„å¯¹è±¡\n\nremove_incomplete_upload(bucket_name, object_name)\n\n```python\n# Remove an partially uploaded object.\ntry:\n    minioClient.remove_incomplete_upload('mybucket', 'myobject')\nexcept ResponseError as err:\n    print(err)\n```\n\n## Presignedæ“ä½œ\n\n### ç”Ÿæˆä¸€ä¸ªç”¨äºHTTP GETæ“ä½œçš„presigned URL\n\npresigned_get_object(bucket_name, object_name, expiry=timedelta(days=7))\n\n```python\nfrom datetime import timedelta\n\n# presigned get object URL for object name, expires in 2 days.\ntry:\n    print(minioClient.presigned_get_object('mybucket', 'myobject', expires=timedelta(days=2)))\n# Response error is still possible since internally presigned does get bucket location.\nexcept ResponseError as err:\n    print(err)\n```\n\n### ç”Ÿæˆä¸€ä¸ªç”¨äºHTTP PUTæ“ä½œçš„presigned URL\n\npresigned_put_object(bucket_name, object_name, expires=timedelta(days=7))\n\n```python\nfrom datetime import timedelta\n\n# presigned Put object URL for an object name, expires in 3 days.\ntry:\n    print(minioClient.presigned_put_object('mybucket',\n                                      'myobject',\n                                      expires=timedelta(days=3)))\n# Response error is still possible since internally presigned does get\n# bucket location.\nexcept ResponseError as err:\n    print(err)\n```\n\n### å…è®¸ç»™POSTæ“ä½œçš„presigned URLè®¾ç½®ç­–ç•¥æ¡ä»¶\n\npresigned_post_policy(PostPolicy)\n","tags":["python","django","åŸºç¡€","MinIO"],"categories":["Python","çˆ¬è™«"]},{"title":"Pythonåˆ©ç”¨Minio-APIå®ç°æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ã€åˆ é™¤ç­‰æ“ä½œ","url":"/2024/04/23/Pythonåˆ©ç”¨Minio-APIå®ç°æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ã€åˆ é™¤ç­‰æ“ä½œ/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Pythonåˆ©ç”¨Minio APIå®ç°æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ã€åˆ é™¤ç­‰æ“ä½œï¼š</strong></font>\n\n<!--more-->\n\n#### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**pipå®‰è£…minio**</strong></font>\n\n#### **2ã€æ–‡ä»¶ç›®å½•**\n\n![img](https://img-blog.csdnimg.cn/20201205142832860.png)\n\nImportError: cannot import name '[Minio](https://so.csdn.net/so/search?q=Minio&spm=1001.2101.3001.7020)'\n\n![img](https://img-blog.csdnimg.cn/20201205142907370.png)\n\npip3 install minio è¿˜æ˜¯æŠ¥é”™ImportErroré”™è¯¯ã€‚\n\nåŸå› æ˜¯å»ºçš„æ–‡ä»¶å¤¹åä¸pytnonæ–‡ä»¶minioåŒ…é‡åäº†ï¼Œqaqã€‚ã€‚ã€‚\n\n#### **3ã€è¿æ¥Minioæ–‡ä»¶å­˜å‚¨æœåŠ¡å™¨**\n\n```python\n#!/usr/bin/python\n# -*- coding: UTF-8 -*-\n\"\"\"\n@author:ZSW\n@file:MinioConfig.py\n@time:2020/12/04\n\"\"\"\n \nfrom minio import Minio\n \n# ä½¿ç”¨endpointã€access keyå’Œsecret keyæ¥åˆå§‹åŒ–minioClientå¯¹è±¡ã€‚\nminioClient = Minio('192.168.18.26:9000',\n                    access_key='minioadmin',\n                    secret_key='minioadmin',\n                    secure=False)\n```\n\n#### 4ã€Pythonæ“ä½œå­˜å‚¨æ¡¶(æ–‡ä»¶å¤¹)\n\n```python\n#!/usr/bin/python\n# -*- coding: UTF-8 -*-\n\"\"\"\n@author:ZSW\n@file:MinioBucketBase.py\n@time:2020/12/04\n\"\"\"\n \nfrom minio_learn.MinioConfig import minioClient\nfrom minio.error import ResponseError\n \n \nclass Bucket:\n    # åˆ›å»ºæ¡¶(è°ƒç”¨make_bucketæ¥åˆ›å»ºä¸€ä¸ªå­˜å‚¨æ¡¶) make_bucketå‡½æ•°\n    \"\"\"\n    æ³¨ï¼šåˆ›å»ºæ¡¶å‘½åé™åˆ¶ï¼šå°å†™å­—æ¯ï¼Œå¥ç‚¹ï¼Œè¿å­—ç¬¦å’Œæ•°å­—æ˜¯\n    å”¯ä¸€å…è®¸ä½¿ç”¨çš„å­—ç¬¦ï¼ˆä½¿ç”¨å¤§å†™å­—æ¯ã€ä¸‹åˆ’çº¿ç­‰å‘½åä¼šæŠ¥é”™ï¼‰ï¼Œé•¿åº¦è‡³å°‘åº”ä¸º3ä¸ªå­—ç¬¦\n    \"\"\"\n    def create_bucket(self):\n        try:\n            if minioClient.bucket_exists(bucket_name='pictures'):  # bucket_existsï¼šæ£€æŸ¥æ¡¶æ˜¯å¦å­˜åœ¨\n                print(\"è¯¥å­˜å‚¨æ¡¶å·²ç»å­˜åœ¨\")\n            else:\n                minioClient.make_bucket(\"pictures\")\n                print(\"å­˜å‚¨æ¡¶åˆ›å»ºæˆåŠŸ\")\n        except ResponseError as err:\n            print(err)\n \n    # åˆ—å‡ºæ‰€æœ‰çš„å­˜å‚¨æ¡¶ list_bucketså‡½æ•°\n    def get_bucket_list(self):\n        try:\n            buckets = minioClient.list_buckets()\n            for bucket in buckets:\n                print(bucket.name, bucket.creation_date)  # è·å–æ¡¶çš„åç§°å’Œåˆ›å»ºæ—¶é—´\n        except ResponseError as err:\n            print(err)\n \n    # åˆ é™¤å­˜å‚¨æ¡¶\n    def get_remove_bucket(self):\n        try:\n            minioClient.remove_bucket(\"pictures\")\n            print(\"åˆ é™¤å­˜å‚¨æ¡¶æˆåŠŸ\")\n        except ResponseError as err:\n            print(err)\n \n    # åˆ—å‡ºå­˜å‚¨æ¡¶ä¸­æ‰€æœ‰å¯¹è±¡  æˆ–è€…ä½¿ç”¨ list_objects_v2ä¹Ÿå¯\n    def get_bucket_files(self):\n        try:\n            objects = minioClient.list_objects('testfiles', prefix=None,\n                                               recursive=True)   # prefixç”¨äºè¿‡æ»¤çš„å¯¹è±¡åç§°å‰ç¼€\n            for obj in objects:\n                print(obj.bucket_name, obj.object_name.encode('utf-8'), obj.last_modified,\n                      obj.etag, obj.size, obj.content_type)\n        except ResponseError as err:\n            print(err)\n \n    # åˆ—å‡ºå­˜å‚¨æ¡¶ä¸­æœªå®Œæ•´ä¸Šä¼ çš„å¯¹è±¡\n    def get_list_incomplete_uploads(self):\n        try:\n            uploads = minioClient.list_incomplete_uploads('testfiles',\n                                                          prefix=None,\n                                                          recursive=True)\n            for obj in uploads:\n                print(obj.bucket_name, obj.object_name, obj.upload_id, obj.size)\n        except ResponseError as err:\n            print(err)\n \n    # è·å–å­˜å‚¨æ¡¶çš„å½“å‰ç­–ç•¥\n    def bucket_policy(self):\n        try:\n            policy = minioClient.get_bucket_policy('testfiles')\n            print(policy)\n        except ResponseError as err:\n            print(err)\n \n    # # ç»™æŒ‡å®šçš„å­˜å‚¨æ¡¶è®¾ç½®å­˜å‚¨æ¡¶ç­–ç•¥\n    # def get_set_bucket_policy(self):\n    #     try:\n    #         minioClient.set_bucket_policy('testfiles', policy.READ_ONLY)\n    #     except ResponseError as err:\n    #         print(err)\n \n    # è·å–å­˜å‚¨æ¡¶ä¸Šçš„é€šçŸ¥é…ç½®\n    def bucket_notification(self):\n        try:\n            # è·å–å­˜å‚¨æ¡¶çš„é€šçŸ¥é…ç½®ã€‚\n            notification = minioClient.get_bucket_notification('testfiles')\n            print(notification)\n            # å¦‚æœå­˜å‚¨æ¡¶ä¸Šæ²¡æœ‰ä»»ä½•é€šçŸ¥ï¼š\n            # notification  == {}\n        except ResponseError as err:\n            print(err)\n \n    # ç»™å­˜å‚¨æ¡¶è®¾ç½®é€šçŸ¥é…ç½®\n    def set_bucket_notification(bucket_name, notification):\n        pass\n \n    # åˆ é™¤å­˜å‚¨æ¡¶ä¸Šé…ç½®çš„æ‰€æœ‰é€šçŸ¥\n    def remove_all_bucket_notifications(bucket_name):\n        try:\n            minioClient.remove_all_bucket_notifications('mybucket')\n        except ResponseError as err:\n            print(err)\n \n    # ç›‘å¬å­˜å‚¨æ¡¶ä¸Šçš„é€šçŸ¥\n    def listen_bucket_notification(bucket_name, prefix, suffix, events):\n        pass\n \n \nif __name__ == '__main__':\n    Bucket().bucket_notification()\n```\n\n#### 5ã€Pythonæ“ä½œæ–‡ä»¶å¯¹è±¡\n\n```python\n#!/usr/bin/python\n# -*- coding: UTF-8 -*-\n\"\"\"\n@author:ZSW\n@file:MinioObjectBase.py\n@time:2020/12/04\n\"\"\"\n \nfrom minio_learn.MinioConfig import minioClient\nfrom minio.error import ResponseError\nimport os\n \n \nclass Object:\n \n    # ä»æ¡¶ä¸­ä¸‹è½½ä¸€ä¸ªå¯¹è±¡txtã€csvæ–‡ä»¶éƒ½å¯ä»¥\n    def load_object(self):\n        try:\n            data = minioClient.get_object('testfiles', 'long_lat.csv')\n            with open('./load_files/long_lat.csv', 'wb') as file_data:\n                for d in data.stream(32 * 1024):\n                    file_data.write(d)\n            print(\"Sussess\")\n        except ResponseError as err:\n            print(err)\n \n    # ä¸‹è½½ä¸€ä¸ªå¯¹è±¡çš„æŒ‡å®šåŒºé—´çš„å­—èŠ‚æ•°ç»„\n    def load_partial_object(self):\n        try:\n            data = minioClient.get_partial_object('testfiles', '123.txt', 2, 8)\n            with open('./load_files/123_new.txt', 'wb') as file_data:\n                for d in data:\n                    file_data.write(d)\n            print(\"Sussess\")  # éƒ¨åˆ†å‡ºç°ä¹±ç \n        except ResponseError as err:\n            print(err)\n \n    # ä¸‹è½½å¹¶å°†æ–‡ä»¶ä¿å­˜åˆ°æœ¬åœ°\n    def fget_object(self):\n        try:\n            print(minioClient.fget_object('testfiles', '123.txt', './load_files/123_new1.txt'))\n        except ResponseError as err:\n            print(err)\n \n    # æ‹·è´å¯¹è±¡å­˜å‚¨æœåŠ¡ä¸Šçš„æºå¯¹è±¡åˆ°ä¸€ä¸ªæ–°å¯¹è±¡\n    # æ³¨ï¼šè¯¥APIæ”¯æŒçš„æœ€å¤§æ–‡ä»¶å¤§å°æ˜¯5GB\n    # å¯é€šè¿‡copy_conditionså‚æ•°è®¾ç½®copyæ¡ä»¶\n    # ç»æµ‹è¯•copyå¤åˆ¶28Mçš„æ–‡ä»¶éœ€è¦663ms; 1.8Gçš„å‹ç¼©åŒ…éœ€è¦53s\n    def get_copy_object(self):\n        try:\n            copy_result = minioClient.copy_object(\"pictures\", \"123.jpg\",\n                                                  \"/testfiles/123.jpg\"\n                                                  )\n            print(copy_result)\n        except ResponseError as err:\n            print(err)\n \n    # æ·»åŠ ä¸€ä¸ªæ–°çš„å¯¹è±¡åˆ°å¯¹è±¡å­˜å‚¨æœåŠ¡\n    \"\"\"\n    å•ä¸ªå¯¹è±¡çš„æœ€å¤§å¤§å°é™åˆ¶åœ¨5TBã€‚put_objectåœ¨å¯¹è±¡å¤§äº5MiBæ—¶ï¼Œè‡ªåŠ¨ä½¿ç”¨multiple partsæ–¹å¼ä¸Šä¼ ã€‚\n    è¿™æ ·ï¼Œå½“ä¸Šä¼ å¤±è´¥æ—¶ï¼Œå®¢æˆ·ç«¯åªéœ€è¦ä¸Šä¼ æœªæˆåŠŸçš„éƒ¨åˆ†å³å¯ï¼ˆç±»ä¼¼æ–­ç‚¹ä¸Šä¼ ï¼‰ã€‚\n    ä¸Šä¼ çš„å¯¹è±¡ä½¿ç”¨MD5SUMç­¾åè¿›è¡Œå®Œæ•´æ€§éªŒè¯ã€‚\n    \"\"\"\n    def upload_object(self):\n        # æ”¾ç½®ä¸€ä¸ªå…·æœ‰é»˜è®¤å†…å®¹ç±»å‹çš„æ–‡ä»¶ï¼ŒæˆåŠŸåå°†æ‰“å°æœåŠ¡å™¨è®¡ç®—å‡ºçš„etagæ ‡è¯†ç¬¦\n        try:\n            with open('./picture_files/123.txt', 'rb') as file_data:\n                file_stat = os.stat('./picture_files/123.txt')\n                print(minioClient.put_object('pictures', '123.txt',\n                                             file_data, file_stat.st_size))\n            print(\"Sussess\")\n        except ResponseError as err:\n            print(err)\n        # æ”¾ä¸€ä¸ªæ–‡ä»¶'application/csv'\n        try:\n            with open('./picture_files/long_lat.csv', 'rb') as file_data:\n                file_stat = os.stat('./picture_files/long_lat.csv')\n                minioClient.put_object('pictures', 'long_lat.csv', file_data,\n                                       file_stat.st_size, content_type='application/csv')\n            print(\"Sussess\")\n        except ResponseError as err:\n            print(err)\n \n    # é€šè¿‡æ–‡ä»¶ä¸Šä¼ åˆ°å¯¹è±¡ä¸­\n    def fput_object(self):\n        try:\n            print(minioClient.fput_object('pictures', '234.jpg', './picture_files/234.jpg'))\n            print(\"Sussess\")\n        except ResponseError as err:\n            print(err)\n        try:\n            print(minioClient.fput_object('pictures', 'long_lat.csv',\n                                          './picture_files/long_lat.csv',\n                                          content_type='application/csv'))\n            print(\"Sussess\")\n        except ResponseError as err:\n            print(err)\n \n    # è·å–å¯¹è±¡çš„å…ƒæ•°æ®\n    def stat_object(self):\n        try:\n            print(minioClient.stat_object('pictures', '123.txt'))\n        except ResponseError as err:\n            print(err)\n \n    # åˆ é™¤å¯¹è±¡\n    def remove_object(self):\n        try:\n            minioClient.remove_object('pictures', '234.jpg')\n            print(\"Sussess\")\n        except ResponseError as err:\n            print(err)\n \n    # åˆ é™¤å­˜å‚¨æ¡¶ä¸­çš„å¤šä¸ªå¯¹è±¡\n    def remove_objects(self):\n        try:\n            objects_to_delete = ['123.txt', 'long_lat.csv']\n            for del_err in minioClient.remove_objects('testfiles', objects_to_delete):\n                print(\"Deletion Error: {}\".format(del_err))\n            print(\"Sussess\")\n        except ResponseError as err:\n            print(err)\n \n    # åˆ é™¤ä¸€ä¸ªæœªå®Œæ•´ä¸Šä¼ çš„å¯¹è±¡\n    def remove_incomplete_upload(self):\n        try:\n            minioClient.remove_incomplete_upload('testfiles', '123.jpg')\n            print(\"Sussess\")\n        except ResponseError as err:\n            print(err)\n \n \nif __name__ == '__main__':\n    Object().remove_incomplete_upload()\n```\n\n#### 6ã€Python Presignedæ“ä½œ\n\n```python\nfrom minio_learn.MinioConfig import minioClient\nfrom minio.error import ResponseError\nfrom datetime import timedelta\n \n \nclass Presigned:\n \n    # ç”Ÿæˆä¸€ä¸ªç”¨äºHTTP GETæ“ä½œçš„presigned URL \n    def presigned_get_object(self):\n        # é¢„å…ˆè·å¾—çš„å¯¹è±¡åç§°çš„è·å–å¯¹è±¡URLï¼Œå°†åœ¨2å¤©åè¿‡æœŸ\n        try:\n            print(minioClient.presigned_get_object('testfiles', '123.jpg', expires=timedelta(days=7)))\n            print(\"Sussess\")\n        # ç”±äºå†…éƒ¨é¢„å®šä½ç¡®å®ä¼šè·å¾—å­˜å‚¨æ¡¶ä½ç½®ï¼Œå› æ­¤ä»ç„¶å¯èƒ½å‡ºç°å“åº”é”™è¯¯\n        except ResponseError as err:\n            print(err)\n \n    # ç”Ÿæˆä¸€ä¸ªç”¨äºHTTP PUTæ“ä½œçš„presigned URL\n    def presigned_put_object(self):\n        try:\n            print(minioClient.presigned_put_object('testfiles',\n                                                   '123.txt',\n                                                   expires=timedelta(days=7)))\n            print(\"Sussess\")\n        except ResponseError as err:\n            print(err)\n \n    # å…è®¸ç»™POSTæ“ä½œçš„presigned URLè®¾ç½®ç­–ç•¥æ¡ä»¶ã€‚è¿™äº›ç­–ç•¥åŒ…æ‹¬æ¯”å¦‚ï¼Œ\n    # æ¥æ”¶å¯¹è±¡ä¸Šä¼ çš„å­˜å‚¨æ¡¶åç§°ï¼Œåç§°å‰ç¼€ï¼Œè¿‡æœŸç­–ç•¥\n    def presigned_post_policy(self, PostPolicy):\n        pass\n \n \nif __name__ == '__main__':\n    Presigned().presigned_put_object()\n```\n","tags":["python","django","åŸºç¡€","MinIO"],"categories":["Python","çˆ¬è™«","åŒæ­¥"]},{"title":"Go-è‡ªå®šä¹‰é”™è¯¯å¤„ç†æœºåˆ¶","url":"/2024/04/17/Go-è‡ªå®šä¹‰é”™è¯¯å¤„ç†æœºåˆ¶/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Goï¼šè‡ªå®šä¹‰é”™è¯¯å¤„ç†æœºåˆ¶</strong></font>\n\n<!--more-->\n\n```go\n// å…³é”®å‡½æ•° errors.New()\npackage main\n\nimport (\n\t\"errors\"\n\t\"fmt\"\n)\n\nfunc main() {\n\terr := test()\n\tif err != nil {\n\t\tfmt.Println(\"è‡ªå®šä¹‰é”™è¯¯ï¼š\", err)\n\t}\n\tfmt.Println(\"ä¸Šé¢çš„å‡ºå‘æ“ä½œæ‰§è¡ŒæˆåŠŸ...\")\n\tfmt.Println(\"æ­£å¸¸æ‰§è¡Œä¸‹é¢çš„é€»è¾‘...\")\n}\n\nfunc test() (err error) {\n\tnum1 := 10\n\tnum2 := 0\n\tif num2 == 0 {\n\t\treturn errors.New(\"é™¤æ•°ä¸èƒ½ä¸º0å“¦ï½ï½\")\n\t} else {\n\t\tresult := num1 / num2\n\t\tfmt.Println(result)\n\t\treturn nil\n\t}\n}\n\n```\n","tags":["go","åŸºç¡€"],"categories":["Golang","é”™è¯¯å¤„ç†"]},{"title":"Frpå†…ç½‘ç©¿é€","url":"/2024/04/17/Frpå†…ç½‘ç©¿é€/","content":"\n\n\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>Frpså†…ç½‘ç©¿é€</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=3 face=å®‹ä½“><strong>**å¦‚æœä½ è§‰å¾—ç½‘ä¸Šçš„ä¸€é”®ç©¿é€è„šæœ¬ä¸å®‰å…¨ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ•™ç¨‹ï¼Œè¿›è¡Œè‡ªå·±é…ç½®**</strong></font>\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>**1ã€ å…ˆä¸‹è½½frpé…ç½®åŒ…ï¼Œè¿™æ˜¯æˆ‘è‡ªå·±é…ç½®å¥½çš„ï¼š**</strong></font>\n\n```\nwget https://bd.bcebos.com/v1/xly-icafe/frp_0.42.0_linux_amd64_hww2t8.tar-20220621121041-9cyxar.gz\n```\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>**2.1ã€ç¼–è¾‘ å¼€å¯å¼€æœºè‡ªåŠ¨å¯åŠ¨(Centos)**</strong></font>\n\n```bash\nvim /etc/systemd/system/frps.service\n\n# æŠŠä¸‹æ–¹å†…å®¹å¤åˆ¶åˆ°æ–‡ä»¶ä¸­\n[Unit]\nDescription=frps server\nDocumentation=network.target.syslog.target\nAfter=network.target\n\n[Service]\nType=simple\nExecStart=/root/frp/frps -c /root/frp/frps.ini\n\n[Install]\nWantedBy=multi-user.target\n```\n\n\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>**2.2ã€ç¼–è¾‘ å¼€å¯å¼€æœºè‡ªåŠ¨å¯åŠ¨(Ubuntu)**</strong></font>\n\n```bash\nvim /etc/systemd/system/frps.service\n\n# æŠŠä¸‹æ–¹å†…å®¹å¤åˆ¶åˆ°æ–‡ä»¶ä¸­\n[Unit]\nDescription=frps server\nDocumentation=network.target.syslog.target\nAfter=network.target\n\n[Service]\nType=simple\nExecStart=/root/frp/frps -c /root/frp/frps.ini\n\n[Install]\nWantedBy=multi-user.target\n```\n\n\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>**3ã€å¯åŠ¨æœåŠ¡ï¼Œå¹¶è®¾ç½®ä¸ºå¼€æœºè‡ªåŠ¨å¯åŠ¨**</strong></font>\n\n```bash\nsystemctl start frps   #å¯åŠ¨æœåŠ¡\nsystemctl enable frps    # å¼€æœºè‡ªåŠ¨å¯åŠ¨\nsystemctl status frps    # æŸ¥çœ‹çŠ¶æ€\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Frpcé…ç½®</strong></font>\n\n#### 1ã€ä¸‹è½½ç¨‹åºåŒ…ï¼š\n\n```bash\nwget -O Frp.zip https://bd.bcebos.com/v1/xly-icafe/frp-20250727224157-d5unfm.zip\n```\n\n#### 2ã€è§£å‹ç¼©\n\n```bash\nunzip Frp.zip\n```\n\n#### 3ã€é…ç½®è¿æ¥ä¿¡æ¯\n\n```bash\n[common] # è¿æ¥ frps çš„ä¿¡æ¯\nserver_addr = 1.2.3.4   # æœåŠ¡å™¨ip\nserver_port = 7000  # æœåŠ¡å™¨é…ç½®ç«¯å£\ntoken = my_secure_token   # è¿æ¥token\n\n[web]\ntype = tcp   # ä½¿ç”¨ TCP é€šä¿¡\nlocal_ip = 127.0.0.1  # ä½ è¦æš´éœ²çš„æœ¬åœ°æœåŠ¡åœ°å€\nlocal_port = 8080    # æœ¬åœ°æœåŠ¡ç›‘å¬ç«¯å£\nremote_port = 8080   # æ˜ å°„åˆ°æœåŠ¡å™¨ä¸Šçš„ç«¯å£\n\n[mysql]\ntype = tcp   # ä½¿ç”¨ TCP é€šä¿¡\nlocal_ip = 127.0.0.1  # ä½ è¦æš´éœ²çš„æœ¬åœ°æœåŠ¡åœ°å€\nlocal_port = 3306    # æœ¬åœ°æœåŠ¡ç›‘å¬ç«¯å£\nremote_port = 6001   # æ˜ å°„åˆ°æœåŠ¡å™¨ä¸Šçš„ç«¯å£\n```\n\n### ğŸ§  é…ç½®è§£é‡Š\n\n- `[common]`ï¼šè¿æ¥ frps çš„ä¿¡æ¯\n- `[web]`ï¼šä½ è¦æ˜ å°„çš„æœåŠ¡ï¼›åå­—å¯ä»¥è‡ªå®šä¹‰\n  - `type = tcp`ï¼šä½¿ç”¨ TCP é€šä¿¡\n  - `local_ip = 127.0.0.1`ï¼šä½ è¦æš´éœ²çš„æœ¬åœ°æœåŠ¡åœ°å€\n  - `local_port = 8080`ï¼šæœ¬åœ°æœåŠ¡ç›‘å¬ç«¯å£\n  - `remote_port = 8080`ï¼šæ˜ å°„åˆ°æœåŠ¡å™¨ä¸Šçš„ç«¯å£\n\n#### 4ã€å¯åŠ¨å®¢æˆ·ç«¯\n\n```bash\n./frpc -c ./frpc.ini\n```\n\n","tags":["å†…ç½‘ç©¿é€"],"categories":["_A8-å·¥å…·","å†…ç½‘ç©¿é€"]},{"title":"Go-é”™è¯¯æ•è·æœºåˆ¶","url":"/2024/04/17/Go-é”™è¯¯æ•è·æœºåˆ¶/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Goï¼šé”™è¯¯æ•è·æœºåˆ¶</strong></font>\n\n<!--more-->\n\n```go\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n\ttest()\n\tfmt.Println(\"ä¸Šé¢çš„å‡ºå‘æ“ä½œæ‰§è¡ŒæˆåŠŸ...\")\n\tfmt.Println(\"æ­£å¸¸æ‰§è¡Œä¸‹é¢çš„é€»è¾‘...\")\n}\n\nfunc test() {\n  // åˆ©ç”¨ defer + recover æ¥æ•è·é”™è¯¯ã€‚ deferåé¢åŠ ä¸Š () æ¥æ‰§è¡ŒåŒ¿åå‡½æ•°çš„è°ƒç”¨\n\tdefer func() {\n    // è°ƒç”¨recover å†…ç½®å‡½æ•°ï¼Œæ¥æ•è·é”™è¯¯\n\t\terr := recover()\n    //å¦‚æœæ²¡æœ‰æ•è·é”™è¯¯ã€‚è¿”å›å€¼ä¸ºé›¶å€¼ï¼š nil\n\t\tif err != nil {\n\t\t\tfmt.Println(\"é”™è¯¯å·²ç»æ•è·ï¼š\")\n\t\t\tfmt.Println(\"Error:  \", err)\n\t\t}\n\t}()\n\tnum1 := 10\n\tnum2 := 0\n\tresult := num1 / num2\n\tfmt.Println(result)\n}\n\n```\n","tags":["go","åŸºç¡€"],"categories":["Golang","é”™è¯¯å¤„ç†"]},{"title":"ç§»åŠ¨å…‰çŒ«-å‰æ¯”ç‰¹ H3-1S H3-2Sè·å–è¶…çº§å¯†ç æ–¹æ³•(äº²æµ‹å¯ç”¨ï¼ï¼)","url":"/2024/04/15/ç§»åŠ¨å…‰çŒ«-å‰æ¯”ç‰¹-H3-1S-H3-2Sè·å–è¶…çº§å¯†ç æ–¹æ³•-äº²æµ‹å¯ç”¨ï¼ï¼/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**ç§»åŠ¨å…‰çŒ«-å‰æ¯”ç‰¹ H3-1S H3-2Sè·å–è¶…çº§å¯†ç æ–¹æ³•**:</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>1.ä½¿ç”¨å…‰çŒ«èƒŒåçš„æ™®é€šç”¨æˆ·åç™»å½•è¿›å…‰çŒ«ï¼Œæµè§ˆå™¨å¤åˆ¶ä»¥ä¸‹é“¾æ¥æ‰“å¼€</strong></font>\n\n[http://192.168.1.1/usr=CMCCAdmin ... md=1&telnet.gch](http://192.168.1.1/usr=CMCCAdmin&psw=aDm8H%MdA&cmd=1&telnet.gch)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>2.ç”µè„‘å¯ç”¨ telnet</strong></font>\n\n![å¼€å¯telnetæˆåŠŸ](https://s2.loli.net/2024/05/09/uKpnNMcji45sfxv.png)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>3.é€šè¿‡telnetè¿›å…¥å…‰çŒ«</strong></font>\n\n\nè¾“å…¥ï¼š\n\n`telnet 192.168.1.1`\n\nç”¨æˆ·åã€å¯†ç å¦‚ä¸‹ï¼š\n`CMCCAdmin`\n`aDm8H%MdA`\n\n<font color=red size=3 face=å®‹ä½“><strong>æ³¨æ„ï¼šå¯†ç é»˜è®¤ä¸æ˜¾ç¤º ä¸éœ€è¦é‡å¤è¾“å…¥</strong></font>\n\n![è¿æ¥çŠ¶æ€](https://s2.loli.net/2024/05/09/4riCBgt57fanybh.png)\n<font color=#f26522 size=4 face=å®‹ä½“><strong>4.æŸ¥çœ‹ä¸€ä¸‹ç™»é™†ä¿¡æ¯,å¯ä»¥çœ‹åˆ°è´¦å·å¯†ç å…¨éƒ¨è¿›è¡Œäº†åŠ å¯†</strong></font>\n\n```bash\nsidbg 1 DB p DevAuthInfo\n```\n\nè¾“å…¥ä¸Šé¢çš„å‘½ä»¤åå°†ä¼šæ˜¾ç¤ºä¸‹é¢çš„å†…å®¹ï¼š\n\n```bash\n<Tbl name=\"DevAuthInfo\" RowCount=\"2\">\n<Row No=\"0\">\n<DM name=\"ViewName\" val=\"IGD.AU1\"/>\n<DM name=\"Enable\" val=\"1\"/>\n<DM name=\"IsOnline\" val=\"0\"/>\n<DM name=\"AppID\" val=\"1\"/>\n<DM name=\"User\" val=\"******\"/>\n<DM name=\"Pass\" val=\"******\"/>\n<DM name=\"Level\" val=\"1\"/>\n<DM name=\"Extra\" val=\"\"/>\n<DM name=\"ExtraInt\" val=\"0\"/>\n</Row>\n<Row No=\"1\">\n<DM name=\"ViewName\" val=\"IGD.AU2\"/>\n<DM name=\"Enable\" val=\"1\"/>\n<DM name=\"IsOnline\" val=\"0\"/>\n<DM name=\"AppID\" val=\"1\"/>\n<DM name=\"User\" val=\"******\"/>\n<DM name=\"Pass\" val=\"******\"/>\n<DM name=\"Level\" val=\"2\"/>\n<DM name=\"Extra\" val=\"\"/>\n<DM name=\"ExtraInt\" val=\"0\"/>\n</Row>\n</Tbl> \n```\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>5.ä¿®æ”¹CMCCAdminç”¨æˆ·çš„ç™»å½•å¯†ç </strong></font>\n\n\nè¾“å…¥ä¸‹é¢çš„å‘½ä»¤æ›´æ”¹CMCCAdminçš„å¯†ç ï¼š\n\nsidbg 1 DB set DevAuthInfo 0 Pass admin\n\nPassåé¢æ˜¯CMCCAdminçš„ç™»å½•å¯†ç \n\nå†è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ä¿å­˜å³å¯\n\n```bash\nsidbg 1 DB save\n```\n\n\n\nå®Œæˆåå³å¯ä½¿ç”¨CMCCAdmin+æ›´æ”¹åçš„å¯†ç å³å¯ç™»å½•å…‰çŒ«åå°ã€‚\n\nç¥å„ä½ä½¿ç”¨æ„‰å¿«ï¼\n","tags":["è¿ç»´","ç§»åŠ¨","å…‰çŒ«","è¶…çº§ç”¨æˆ·"],"categories":["_S9-æŠ˜è…¾","å…‰çŒ«"]},{"title":"ä¸€é”®æå®šå¤šå±‚è·³æ¿è®¿é—®ç›®æ ‡æœºå™¨","url":"/2024/04/13/ä¸€é”®æå®šå¤šå±‚è·³æ¿è®¿é—®ç›®æ ‡æœºå™¨/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ä¸€ã€å…å¯†ç ç™»å½•ssh</strong></font>\n\n<!--more-->\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>1ã€ç”Ÿæˆé’¥åŒ™å¯¹</strong></font>\n\n  ```bash\n  # ç”Ÿæˆkeyï¼Œä½†é¦–å…ˆä½ å¾—å®‰è£…ssh\n  ssh-keygen -t rsa -b 2048\n  # ä¸€è·¯æŒ‰å›è½¦æ¢è¡Œï¼Œç»ˆç«¯è¾“å‡ºå¤§æ¦‚æ˜¯è¿™æ ·\n  # Generating public/private rsa key pair.\n  # Enter file in which to save the key (/home/username/.ssh/id_rsa): \n  # Enter passphrase (empty for no passphrase): \n  # Enter same passphrase again: \n  # Your identification has been saved in /home/username/.ssh/id_rsa.\n  # Your public key has been saved in /home/username/.ssh/id_rsa.pub.\n  ```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>2ã€å°†å…±é’¥ä¼ è¾“ç»™è¿œç«¯ä¸»æœº</strong></font>\n\n  ```bash\n  # id@server æ˜¯ä½ çš„ç”¨æˆ·åå’Œè¿œç«¯ä¸»æœºåœ°å€å–”\n  ssh-copy-id id@server\n  # æŒ‰è§„å®šè¾“å…¥è¿œç«¯ä¸»æœºå¯†ç åï¼ŒæˆåŠŸçš„è¯èƒ½çœ‹åˆ°ç»ˆç«¯è¾“å‡º\n  # Number of key(s) added:        1\n  ```\n\n<font color=red size=4 face=å®‹ä½“><strong>PSï¼š</strong></font><font color=#b0171f size=3 face=å®‹ä½“><strong>å…¬é’¥å‚¨å­˜åœ¨è¿œç«¯ä¸»æœºè¿™ä¸ªæ–‡ä»¶é‡Œï¼š.ssh/authorized_keysï¼Œç°åœ¨å½“ä½ é‡æ–°å†é€šè¿‡SSHè¿æ¥åˆ°è¿œç«¯ä¸»æœºæ—¶ï¼Œå·²ç»ä¸å†éœ€è¦å¯†ç å•¦ï¼</strong></font>\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>äºŒã€ä½¿ç”¨`è·³æ¿`è¿æ¥åˆ°`ç›®æ ‡æœºå™¨`(ProxyJump)</strong></font>\n\n æœ¬èŠ‚å†…å®¹å‚è€ƒè‡ªï¼š[SSH é€šè¿‡è·³æ¿æœºç›´æ¥è®¿é—®å†…ç½‘æœºå™¨](https://link.zhihu.com/?target=https%3A//woodenrobot.me/2019/07/18/ssh-proxyjump/)ã€[SSHä½¿ç”¨æŠ€å·§-å…å¯†ç /è‡ªåŠ¨ä»£ç†](https://atomlab.org/posts/code/ssh-trick/)\n\n<font color=red size=4 face=å®‹ä½“><strong>PSï¼š</strong></font><font color=#b0171f size=3 face=å®‹ä½“><strong>éœ€è¦ `OpenSSH 7.3` ä»¥ä¸Šç‰ˆæœ¬æ‰å¯ä»¥ä½¿ç”¨ `ProxyJump`, ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤æŸ¥çœ‹`OpenSSH` ç‰ˆæœ¬ï¼š</strong></font>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>1ã€ç›´æ¥å‘½ä»¤`ä¸´æ—¶ä½¿ç”¨`ï¼š</strong></font>\n\n  ```bash\n  ssh -J [email protected]:port1,[email protected]:port2\n  \n  # å¯ä»¥ç›´æ¥ä½¿ç”¨ä¸Šè¿°å‘½ä»¤é€šè¿‡è·³æ¿æœºç›´æ¥ç™»å½•å†…ç½‘æœºå™¨ï¼Œæ¯”å¦‚ï¼š\n  # ssh username@ç›®æ ‡æœºå™¨IP -p 22 -J username@è·³æ¿æœºIP:22\n  # å¦‚æœéœ€è¦é€šè¿‡å¤šä¸ªè·³æ¿æœºåˆ™ä»¥ , åˆ†å‰²ï¼š\n  # ssh username@ç›®æ ‡æœºå™¨IP -p 22 -J username1@è·³æ¿æœºIP1:22,username2@è·³æ¿æœºIP2:22\n  ```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>2ã€é•¿æœŸä½¿ç”¨`é…ç½®æ–‡ä»¶`||`~\\.ssh\\config`ï¼š</strong></font>\n\n  ```bash\n  Host tiaoban1    # ä»£è¡¨è·³æ¿æœº 1\n      HostName è·³æ¿æœº 1 çš„ IP\n      Port 22    # ssh è¿æ¥ç«¯å£\n      User username1    # è·³æ¿æœº 1 çš„ç”¨æˆ·å\n  \n  Host tiaoban2    # ä»£è¡¨è·³æ¿æœº 2\n      HostName è·³æ¿æœº 2 çš„ IP\n      Port 22    # ssh è¿æ¥ç«¯å£\n      User username2    # è·³æ¿æœº 2 çš„ç”¨æˆ·å\n  \n  Host target    # ä»£è¡¨ç›®æ ‡æœºå™¨çš„åå­—\n      HostName ç›®æ ‡æœºå™¨ IP    # è¿™ä¸ªæ˜¯ç›®æ ‡æœºå™¨çš„ IP\n      Port 22    # ç›®æ ‡æœºå™¨ ssh çš„ç«¯å£\n      User username_target    # ç›®æ ‡æœºå™¨çš„ç”¨æˆ·å\n      ProxyJump tiaoban1,tiaoban2\n  \n  Host 10.10.0.*    # ä½¿ç”¨é€šé…ç¬¦ * ä»£è¡¨ 10.10.0.1 - 10.10.0.255\n      Port 22    # æœåŠ¡å™¨ç«¯å£\n      User username    # æœåŠ¡å™¨ç”¨æˆ·å\n      ProxyJump tiaoban1,tiaoban2\n  ```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>3ã€ä½¿ç”¨æ–¹æ³•ï¼š</strong></font>\n\n  ```bash\n  ssh tiaoban1   # è¿æ¥åˆ°è·³æ¿æœº 1\n  \n  ssh target   # è¿æ¥åˆ°ç›®æ ‡æœºå™¨\n  ```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ä¸‰ã€å®‰è£…`expect`äº¤äº’</strong></font>\n\n æœ¬èŠ‚å†…å®¹å‚è€ƒè‡ªï¼š[Shellè„šæœ¬äº¤äº’ä¹‹ï¼šè‡ªåŠ¨è¾“å…¥å¯†ç ](https://blog.csdn.net/zhangjikuan/article/details/51105166)\n\n<font color=red size=4 face=å®‹ä½“><strong>PSï¼š</strong></font><font color=#b0171f size=3 face=å®‹ä½“><strong>ç”¨äºä¸æ§åˆ¶å°äº¤äº’ï¼Œå¦‚æœä¸Šé¢çš„å†…å®¹æ— æ³• å…å¯†ç™»å½•æœåŠ¡å™¨ï¼Œå¯ä»¥ç”¨è¿™ç§æ–¹æ³•</strong></font>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>1ã€å®‰è£… `expect`ï¼š</strong></font>\n\n  ```shell\n  # ubuntu or debian\n  sudo apt-get install expect\n  \n  # centos7\n  yum install expect\n  \n  # mac os  // æ²¡æœ‰brew å»æœä¸€ä¸‹ï¼Œæ€ä¹ˆå®‰è£… brew\n  brew install expect\n  ```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>2ã€è¯­æ³•ï¼š</strong></font>\n\n  ```bash\n  #!/usr/bin/expect -f\n  # #!/bin/expect   //åŸæ–‡æ­¤å¤„æ˜¯é”™è¯¯ï¼Œå¯¼è‡´ no such file or directory  æ­£ç¡®çš„å†™æ³•æ˜¯ #!/usr/bin/expect -f\n  set timeout 30\n  spawn ssh -l jikuan.zjk 10.125.25.189\n  expect \"password:\"\n  send \"zjk123\\r\"\n  interact\n  ```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>3ã€è¯´æ˜ï¼š</strong></font>\n\n  ```\n  åœ¨è¿è¡Œè„šæœ¬æ—¶å€™è¦expect  fileï¼Œä¸èƒ½sh fileäº†\n  ä¸Šé¢è¯­å¥ç¬¬ä¸€å¥æ˜¯è®¾å®šè¶…æ—¶æ—¶é—´ä¸º30sï¼Œspawnæ˜¯expectçš„è¯­å¥ï¼Œæ‰§è¡Œå‘½ä»¤å‰éƒ½è¦åŠ è¿™å¥\n  expect \"passwordï¼š\"è¿™å¥æ„æ€æ˜¯äº¤äº’è·å–æ˜¯å¦è¿”å›passwordï¼šå…³é”®å­—ï¼Œå› ä¸ºåœ¨æ‰§è¡Œsshæ—¶ä¼šè¿”å›è¾“å…¥passwordçš„æç¤ºï¼šjikuan.zjk@10.125.25.189's password:\n  sendå°±æ˜¯å°†å¯†ç zjk123å‘é€è¿‡å»\n  interactä»£è¡¨æ‰§è¡Œå®Œç•™åœ¨è¿œç¨‹æ§åˆ¶å°ï¼Œä¸åŠ è¿™å¥æ‰§è¡Œå®Œåè¿”å›æœ¬åœ°æ§åˆ¶å°\n  ```\n\n","tags":["è¿ç»´","ssh","è·³æ¿"],"categories":["_A5-å®‰è£…æ•™ç¨‹","SSH"]},{"title":"Python-æ‰“åŒ…æŠ¥é”™-PyInstaller.exceptions.PythonLibraryNotFoundError:-Python-library-not-found","url":"/2024/04/03/Python-æ‰“åŒ…æŠ¥é”™-PyInstaller-exceptions-PythonLibraryNotFoundError-Python-library-not-found/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Python-æ‰“åŒ…æŠ¥é”™</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>é”™è¯¯è¯´æ˜ï¼š</strong></font>\n\n```python\nPyInstaller.exceptions.PythonLibraryNotFoundError: Python library not found: libpython3.8.so.1.0, libpython3.8.so\n\nè¿™ä¸ªé”™è¯¯æ˜¯å› ä¸º ç¼–è¯‘æ–‡ä»¶ä¸­æ²¡æœ‰ä»¥ä¸Šä¸¤ä¸ªæ–‡ä»¶ï¼Œæˆ–è€…æ‰¾ä¸åˆ°\n```\n\n<font color=red size=4 face=å®‹ä½“><strong>è§£å†³åŠæ³•ï¼š</strong></font><font color=#00b2c2 size=3 face=å®‹ä½“><strong>é‡æ–°ç¼–è¯‘</strong></font>\n\n```shell\n# å®‰è£…ä¾èµ–\nsudo yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel libffi-devel gdbm-devel db4-devel libpcap-devel xz-devel make\n\n# ä¸‹è½½æºç  3.8.1\nwget https://www.python.org/ftp/python/3.8.1/Python-3.8.1.tgz\n\n# è§£å‹å‹ç¼©åŒ…\ntar -zxvf Python-3.8.1.tgz\n\n# è¿›å…¥æ–‡ä»¶å¤¹\ncd Python-3.8.1\n\n# é…ç½®å®‰è£…ä½ç½®\n./configure --prefix=/usr/local/python3 --enable-shared --with-ssl\n\n# å®‰è£…\nmake && make install\n```\n\n<font color=red size=4 face=å®‹ä½“><strong>è§£å†³ Python library not foundï¼š</strong></font><font color=#00b2c2 size=3 face=å®‹ä½“><strong>å¤åˆ¶ç¼–è¯‘å¥½çš„æ–‡ä»¶ï¼Œåˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼š</strong></font>\n\n```python\n# æŸ¥æ‰¾ libpython3.8.so.1.0 æ‰€åœ¨ç›®å½•\nfind / -name libpython3.8.so.1.0\n\n# æ‰€åœ¨åŠ¨æ€åº“åœ¨ /usr/local/python3/lib ä¸­\ncp /usr/local/python3/lib/libpython3.8.a /usr/lib64/\ncp /usr/local/python3/lib/libpython3.8.so /usr/lib64/\ncp /usr/local/python3/lib/libpython3.8.so.1.0 /usr/lib64/\ncp /usr/local/python3/lib/libpython3.so /usr/lib64/\n```\n\n","tags":["python","æ‰“åŒ…"],"categories":["Python","pyinstalleræ‰“åŒ…"]},{"title":"lxml-æ¨¡å—å¯¼è‡´-éæ³•æŒ‡ä»¤","url":"/2024/04/03/lxml-æ¨¡å—å¯¼è‡´-éæ³•æŒ‡ä»¤/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>from lxml import etree\néæ³•æŒ‡ä»¤(åæ ¸)</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>é”™è¯¯è¯´æ˜ï¼š</strong></font>\n\n```txt\nè¿™ä¸ªé”™è¯¯æ˜¯å› ä¸º lxml 5.2.0 æœ€æ–°ç‰ˆæœ¬å¯¼è‡´çš„ centos7å¯¼åº“é”™è¯¯å¼•èµ·çš„\n```\n\n<font color=red size=4 face=å®‹ä½“><strong>è§£å†³åŠæ³•ï¼š</strong></font>\n\n```\npip3 install lxml==5.0.0\n```\n\n","tags":["python","æ‰“åŒ…"],"categories":["Python","å®‰è£…åº“"]},{"title":"Pythonã€Go æ‰“åŒ…è¿è¡Œä»£ç ","url":"/2024/04/02/Pythonã€Go_æ‰“åŒ…è¿è¡Œä»£ç /","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Go</strong></font>\n\n<!--more-->\n\n```go\ngo build   //è¿™ä¸ªå‘½ä»¤ä¼šæŸ¥æ‰¾é¡¹ç›®ä¸­çš„mainåŒ…ï¼Œå¹¶ç¼–è¯‘ç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶\ngo build -o myapp  //å¦‚æœä½ æƒ³ç»™ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶æŒ‡å®šä¸€ä¸ªä¸åŒçš„åç§°ï¼Œå¯ä»¥ä½¿ç”¨-oå‚æ•°\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Python</strong></font>\n\n```python\n# ä½¿ç”¨PyInstaller\npip install pyinstaller\n\n# è¿™ä¸ªå‘½ä»¤ä¼šç”Ÿæˆä¸€ä¸ªå•ç‹¬çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆåœ¨Windowsä¸Šæ˜¯.exeï¼Œåœ¨Linuxå’ŒMacä¸Šæ˜¯æ²¡æœ‰æ‰©å±•åçš„æ–‡ä»¶ï¼‰ã€‚--onefileé€‰é¡¹å‘Šè¯‰PyInstallerç”Ÿæˆä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªåŒ…å«è®¸å¤šä¾èµ–æ–‡ä»¶çš„ç›®å½•ã€‚\npyinstaller --onefile your_script.py\n```\n\n","tags":["python","go"],"categories":["å·¥å…·"]},{"title":"go-Postæ–¹å¼å–å‚æ•°","url":"/2024/03/29/go-Postæ–¹å¼å–å‚æ•°/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>go Postæ–¹å¼å–å‚æ•°ï¼š</strong></font>\n\n<!--more-->\n\n```go\npackage main\n\nimport (\n\t\"fmt\"\n\t\"github.com/gin-gonic/gin\"\n)\n\nfunc _form(context *gin.Context) {\n\tfmt.Println(context.PostForm(\"name\"))                // from è¡¨å•ä¸­åªèƒ½æ¥å—ä¸€ä¸ªç›¸åŒ keys\n\tfmt.Println(context.PostFormArray(\"name\"))           // from ä¸­ å…è®¸æ¥å—å¤šä¸ª ç›¸åŒ keys ä¸€ä¸ªfromä¸­å­˜åœ¨ä¸¤ä¸ª name\n\tfmt.Println(context.DefaultPostForm(\"addr\", \"å››å·\")) //å¦‚æœ keys ï¼šaddr ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆ addré»˜è®¤å€¼ ï¼š å››å·\n\tfrom, error := context.MultipartForm()               // æ¥å—fromä¸­æ‰€æœ‰çš„å‚æ•°ï¼ŒåŒ…æ‹¬æ–‡ä»¶\n\tfmt.Println(from, error)\n}\n\nfunc main() {\n\trouter := gin.Default()\n\trouter.POST(\"from\", _form)\n\trouter.Run(\":80\")\n}\n```\n\n","tags":["go","web"],"categories":["Golang","Ginæ¡†æ¶"]},{"title":"go-get_æ–¹å¼å–å‚æ•°","url":"/2024/03/29/go-get-æ–¹å¼å–å‚æ•°/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>go-get_æ–¹å¼å–å‚æ•°</strong></font>\n\n<!--more-->\n\n`http://127.0.0.1/query?user=å°¼ç¢Ÿ`\n\n```go\npackage main\n\nimport (\n\t\"fmt\"\n\t\"github.com/gin-gonic/gin\"\n)\n\nfunc _query(context *gin.Context) {\n\tfmt.Println(context.Query(\"user\"))         //å–å•ä¸ª\n\tfmt.Println(context.GetQuery(\"user\"))      //å–å•ä¸ª\n\tfmt.Println(context.GetQueryArray(\"user\")) // å¦‚æœå‚æ•°ä¸‹é¢å­˜åœ¨å¤šä¸ª ç›¸åŒ keys çš„è¯ï¼Œå¯ä»¥ç”¨è¿™ç§æ–¹å¼\n}\n\nfunc main() {\n\trouter := gin.Default()\n\trouter.GET(\"/query\", _query)\n\trouter.Run(\":80\")\n}\n// è®¿é—®urlï¼š http://127.0.0.1/query?user=å°¼ç¢Ÿ\n\n// åå°æ‰“å°å†…å®¹ï¼š\n\n// å°¼ç¢Ÿ\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>paramæ–¹å¼å–å‚æ•°</strong></font>\n\n`http://127.0.0.1/param/136/47/ç‹—è›‹å¤§å…µ`\n\n```go\npackage main\n\nimport (\n\t\"fmt\"\n\t\"github.com/gin-gonic/gin\"\n)\n\nfunc _param(context *gin.Context) {\n   fmt.Println(\"è¿™æ˜¯ idï¼š\" + context.Param(\"id\"))\n   fmt.Println(\"è¿™æ˜¯ pidï¼š\" + context.Param(\"pid\"))\n   fmt.Println(\"è¿™æ˜¯ nameï¼š\" + context.Param(\"name\"))\n}\n\nfunc main() {\n\trouter := gin.Default()\n\trouter.GET(\"/param/:id/:pid/:name\", _param) // å¯ä»¥å–å¤šä¸ªåŠ¨æ€å‚æ•°\n\trouter.Run(\":80\")\n}\n\n//  è®¿é—®urlï¼š http://127.0.0.1/param/136/47/ç‹—è›‹å¤§å…µ\n\n// æ‰“å°ï¼š\n// è¿™æ˜¯ idï¼š136\n// è¿™æ˜¯ pidï¼š47\n// è¿™æ˜¯ nameï¼šç‹—è›‹å¤§å…µ\n\n```\n\n","tags":["go","web"],"categories":["Golang","Ginæ¡†æ¶"]},{"title":"go-å…³é”®å­—ä¸ä¿ç•™å­—","url":"/2024/03/29/go-å…³é”®å­—ä¸ä¿ç•™å­—/","content":"\n\n\n<font color=#00b2c2 size=7 face=å®‹ä½“><strong>go-å…³é”®å­—ä¸ä¿ç•™å­—ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>å…³é”®å­—ï¼š</strong></font>\n\n```\nbreak        default      func         interface    select\ncase         defer        go           map          struct\nchan         else         goto         package      switch\nconst        fallthrough  if           range        type\ncontinue     for          import       return       var\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ä¿ç•™å­—ï¼š</strong></font>\n\n```\nConstants:    true  false  iota  nil\n\nTypes:    int  int8  int16  int32  int64  \n          uint  uint8  uint16  uint32  uint64  uintptr\n          float32  float64  complex128  complex64\n          bool  byte  rune  string  error\n\nFunctions:   make  len  cap  new  append  copy  close  delete\n             complex  real  imag\n             panic  recover\n```\n\n","tags":["go","åŸºç¡€"],"categories":["Golang","åŸºç¡€"]},{"title":"go-çš„ mod ä¾èµ–ç®¡ç†ç›¸å…³å†…å®¹","url":"/2024/03/29/go-çš„-mod-ä¾èµ–ç®¡ç†ç›¸å…³å†…å®¹/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>é…ç½®ç¯å¢ƒï¼š</strong></font>\n\n<!--more-->\n\n```shell\nset GO111MODULE=on\nSET GOPROXY=[https://goproxy.cn](https://goproxy.cn/)  # è¿™æ˜¯winç¯å¢ƒä¸‹çš„ \nexport GOPROXY=[https://goproxy.cn](https://goproxy.cn/)   # è¿™æ˜¯macç¯å¢ƒä¸‹çš„\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>go mod ç›¸å…³å‘½ä»¤ï¼š</strong></font>\n\n```go\ngo mod init [åŒ…å] // åˆå§‹åŒ–é¡¹ç›®(å¦‚æœä½ æ˜¯åˆå§‹åŒ–é¡¹ç›®ç›´æ¥ `go mod init` å°±å¥½äº†)\n\ngo get   // ä¸‹è½½ä¾èµ–åŒ…ï¼Œå¹¶ä¸”è¿˜å¯ä»¥æŒ‡å®šä¸‹è½½çš„ç‰ˆæœ¬ã€‚\ngo get -u   //å‡çº§åˆ°æœ€æ–°çš„æ¬¡è¦ç‰ˆæœ¬æˆ–è€…ä¿®è®¢ç‰ˆæœ¬(x.y.z, zæ˜¯ä¿®è®¢ç‰ˆæœ¬å·ï¼Œ yæ˜¯æ¬¡è¦ç‰ˆæœ¬å·)\ngo get -u=patch   //å‡çº§åˆ°æœ€æ–°çš„ä¿®è®¢ç‰ˆæœ¬\ngo get package@version  //å‡çº§åˆ°æŒ‡å®šçš„ç‰ˆæœ¬å·version \n\n\ngo mod download    //ä¸‹è½½ä¾èµ–çš„moduleåˆ°æœ¬åœ°cacheï¼ˆé»˜è®¤ä¸º$GOPATH/pkg/modç›®å½•ï¼‰\ngo mod edit        //ç¼–è¾‘go.modæ–‡ä»¶\ngo mod graph       //æ‰“å°æ¨¡å—ä¾èµ–å›¾\ngo mod init        //åˆå§‹åŒ–å½“å‰æ–‡ä»¶å¤¹, åˆ›å»ºgo.modæ–‡ä»¶\ngo mod tidy        //å¢åŠ ç¼ºå°‘çš„moduleï¼Œåˆ é™¤æ— ç”¨çš„module\ngo mod vendor      //å°†ä¾èµ–å¤åˆ¶åˆ°vendorä¸‹\ngo mod verify      //æ ¡éªŒä¾èµ–\ngo mod why         //è§£é‡Šä¸ºä»€ä¹ˆéœ€è¦ä¾èµ–\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong></strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong></strong></font>\n","tags":["go","åŸºç¡€"],"categories":["Golang","åŸºç¡€"]},{"title":"go-çš„ä¾èµ–ç®¡ç†ç›¸å…³å†…å®¹","url":"/2024/03/29/go-çš„ä¾èµ–ç®¡ç†ç›¸å…³å†…å®¹/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>é…ç½®ç¯å¢ƒï¼š</strong></font>\n\n<!--more-->\n\n```shell\nset GO111MODULE=on\nSET GOPROXY=[https://goproxy.cn](https://goproxy.cn/)  # è¿™æ˜¯winç¯å¢ƒä¸‹çš„ \nexport GOPROXY=[https://goproxy.cn](https://goproxy.cn/)   # è¿™æ˜¯macç¯å¢ƒä¸‹çš„\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>go mod ç›¸å…³å‘½ä»¤ï¼š</strong></font>\n\n```go\ngo mod init [åŒ…å] // åˆå§‹åŒ–é¡¹ç›®(å¦‚æœä½ æ˜¯åˆå§‹åŒ–é¡¹ç›®ç›´æ¥ `go mod init` å°±å¥½äº†)\n\ngo get   // ä¸‹è½½ä¾èµ–åŒ…ï¼Œå¹¶ä¸”è¿˜å¯ä»¥æŒ‡å®šä¸‹è½½çš„ç‰ˆæœ¬ã€‚\ngo get -u   //å‡çº§åˆ°æœ€æ–°çš„æ¬¡è¦ç‰ˆæœ¬æˆ–è€…ä¿®è®¢ç‰ˆæœ¬(x.y.z, zæ˜¯ä¿®è®¢ç‰ˆæœ¬å·ï¼Œ yæ˜¯æ¬¡è¦ç‰ˆæœ¬å·)\ngo get -u=patch   //å‡çº§åˆ°æœ€æ–°çš„ä¿®è®¢ç‰ˆæœ¬\ngo get package@version  //å‡çº§åˆ°æŒ‡å®šçš„ç‰ˆæœ¬å·version \n\n\ngo mod download    //ä¸‹è½½ä¾èµ–çš„moduleåˆ°æœ¬åœ°cacheï¼ˆé»˜è®¤ä¸º$GOPATH/pkg/modç›®å½•ï¼‰\ngo mod edit        //ç¼–è¾‘go.modæ–‡ä»¶\ngo mod graph       //æ‰“å°æ¨¡å—ä¾èµ–å›¾\ngo mod init        //åˆå§‹åŒ–å½“å‰æ–‡ä»¶å¤¹, åˆ›å»ºgo.modæ–‡ä»¶\ngo mod tidy        //å¢åŠ ç¼ºå°‘çš„moduleï¼Œåˆ é™¤æ— ç”¨çš„module\ngo mod vendor      //å°†ä¾èµ–å¤åˆ¶åˆ°vendorä¸‹\ngo mod verify      //æ ¡éªŒä¾èµ–\ngo mod why         //è§£é‡Šä¸ºä»€ä¹ˆéœ€è¦ä¾èµ–\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong></strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong></strong></font>\n","tags":["go","åŸºç¡€"],"categories":["Golang","åŸºç¡€"]},{"title":"gin-å“åº”ä½“çš„è¿”å›","url":"/2024/03/27/gin-å“åº”ä½“çš„è¿”å›/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>gin-å“åº”ä½“çš„è¿”å›ï¼š</strong></font>\n\n<!--more-->\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>å“åº”å­—ç¬¦ä¸²ï¼š</strong></font>\n\n```go\nfunc _string(context *gin.Context) {\n\tcontext.String(http.StatusOK, \"æˆ‘æ˜¯ä½ çˆ¸çˆ¸\")\n}\n\nfunc main() {\n\trouter.GET(\"/string\", _string)\n}\n```\n\n\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>å“åº”Jsonï¼š</strong></font>\n\n```go\nfunc _json(context *gin.Context) {\n\n  // æ–¹å¼ï¼šä¸€\n\t// åˆ›å»ºç»“æ„ä½“\n\ttype UserInfo struct {\n\t\tUserName string `json:\"user_name\"` // æ¸²æŸ“json ä¸ºåé¢çš„å°å†™ user_name\n\t\tAge      int    `json:\"age\"`\n\t\tPassWord string `json:\"-\"` // åœ¨json ä¸­ \"-\" è¡¨ç¤ºä¸æ¸²æŸ“è¯¥é¡¹\n\t}\n\t// åœ¨ç»“æ„ä½“ä¸­æ·»åŠ æ•°æ®  => Json\n\t//user := UserInfo{\"æå°å±\", 25, \"123456\"}\n\t//context.JSON(200, user)\n\n  // æ–¹å¼ï¼šäºŒ\n\t// json å“åº”map\n\t//userMap := map[string]string{\n\t//\t\"user_name\": \"æå°å¤´\",\n\t//\t\"age\": \"23\",\n\t//}\n\t//context.JSON(200, userMap)\n\n  // æ–¹å¼ï¼šä¸‰\n\t//ç›´æ¥å“åº” Json æ•°æ®\n\tcontext.JSON(200, gin.H{\"user_name\": \"æä¸­å¤´\", \"age\": 28})\n\n}\n\nfunc main() {\n\trouter.GET(\"/json\", _json)\n}\n```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>å“åº” xmlï¼š</strong></font>\n\n```go\n// å“åº” xml\nfunc _xml(context *gin.Context) {\n\tcontext.XML(http.StatusOK, gin.H{\"user\": \"hanru\", \"message\": \"hey\", \"status\": http.StatusOK, \"data\": gin.H{\"user\": \"æå¤§å¤´\"}})\n}\n\nfunc main() {\n\trouter.GET(\"/xml\", _xml)\n}\n```\n\n\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>å“åº” yamlï¼š</strong></font>\n\n```go\n// å“åº” xml\nfunc _yaml(context *gin.Context) {\n\tcontext.YAML(http.StatusOK, gin.H{\"user\": \"hanru\", \"message\": \"hey\", \"status\": http.StatusOK, \"data\": gin.H{\"user\": \"æå¤§å¤´\"}})\n}\n\nfunc main() {\n\trouter.GET(\"/yaml\", _yaml)    // è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿”å›yaml æ–‡ä»¶ æŸäº›æµè§ˆå™¨ä¼šè‡ªåŠ¨ä¸‹è½½\n}\n```\n\n\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>å“åº” htmlï¼š</strong></font>\n\n```go\nfunc _html(context *gin.Context) {\n\tprintln(_time())\n\tcontext.HTML(200, \"index.html\", gin.H{})\n}\n\n// å…¶ä¸­ åŠ è½½é™æ€æ–‡ä»¶ å’Œ htmlæ¨¡æ¿æ–‡ä»¶\nfunc main() {\n\trouter.LoadHTMLGlob(\"templates/*\")\n\trouter.Static(\"/static\", \"./static\")\n}\n\n```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>å“åº”æ–‡ä»¶ï¼š</strong></font>\n\n```go\nrouter.StaticFile(\"/static\", \"static/cc.png\")   //æ²¡æœ‰å¯¹åº”çš„å‡½æ•°ï¼Œç›´æ¥è¿”å›\n```\n\n![å“åº”æ–‡ä»¶](https://s2.loli.net/2024/03/29/GaivOTL8IQR9ZY2.png)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>é‡å®šå‘ï¼š</strong></font>\n\n```go\n// å“åº”è·³è½¬ 302\nfunc _redirect(context *gin.Context) {\n\tcontext.Redirect(302, \"https://www.baidu.com\")\n}\nfunc main() {\n\trouter.GET(\"/baidu\", _redirect) // 301: æ°¸ä¹…é‡å®šå‘ï¼Œ  302ï¼šä¸´æ—¶é‡å®šå‘\n}\n```\n\n","tags":["go","web"],"categories":["Golang","Ginæ¡†æ¶"]},{"title":"go-å®‰è£…å¹¶éƒ¨ç½²ä¸€ä¸ªç®€å•çš„-gin-webæ¥å£","url":"/2024/03/27/go-å®‰è£…å¹¶éƒ¨ç½²ä¸€ä¸ªç®€å•çš„-gin-webæ¥å£/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>go å®‰è£…å¹¶éƒ¨ç½²ä¸€ä¸ªç®€å•çš„ gin webæ¥å£:</strong></font>\n\n<!--more-->\n\n+ 1.ä¸‹è½½å¹¶å®‰è£… ginï¼š\n\n  ```bash\n  go get -u github.com/gin-gonic/gin\n  ```\n\n+ 2.å°† gin å¼•å…¥åˆ°ä»£ç ä¸­\n\n  ```go\n  import \"github.com/gin-gonic/gin\"\n  ```\n\n+ 3.ä¸€ä¸ªç®€å•çš„gin_ webç¨‹åº\n\n  ```go\n  package main\n  \n  import (\n  \t\"github.com/gin-gonic/gin\"\n  \t\"net/http\"\n  )\n  \n  func main() {\n  \t// åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„è·¯ç”±\n  \trouter := gin.Default()\n  \n  \t// ç»‘å®šè·¯ç”±è§„åˆ™ å’Œè·¯ç”±å‡½æ•°\n  \trouter.GET(\"index\", func(context *gin.Context) {\n  \t\tcontext.String(200, \"ä½ å§ç‰›é€¼äº†\")\n  \t})\n  \n  \t// å¯åŠ¨ç›‘å¬ ç«¯å£\n  \t//router.Run(\":8080\")\n  \n  \t// é‡‡ç”¨åŸå£° httpæœåŠ¡çš„æ–¹å¼å¯åŠ¨  router.Run æœ¬è´¨ä¸Šå°±æ˜¯ http.ListenAndServe çš„å°è£…\n  \thttp.ListenAndServe(\":8080\", router)\n  }\n  ```\n","tags":["go","web"],"categories":["Golang","Ginæ¡†æ¶"]},{"title":"golang-é¡¹ç›®ä¸­-webæ¡†æ¶çš„å¯¹æ¯”","url":"/2024/03/26/golang-é¡¹ç›®ä¸­-webæ¡†æ¶çš„å¯¹æ¯”/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>golang æœ‰å“ªäº›å¿«é€Ÿå¼€å‘çš„webæ¡†æ¶ï¼Ÿï¼š</strong></font>\n\n<!--more-->\n\n**ä¸BBï¼Œç›´æ¥ä¸Šå¹²è´§ã€‚**\n\n```text\nä¸‹é¢çš„æ¡†æ¶æ¶µç›–äº† Go è¯­è¨€å¼€å‘ä¸­æ‰€æœ‰å¯èƒ½ç”¨åˆ°çš„å¼€æºWeb æ¡†æ¶ã€‚\n```\n\n**çœ‹å®Œä¹‹åï¼Œä½ ç»å¯¹å¯ä»¥æ‰¾åˆ°é€‚åˆè‡ªå·±çš„æ¡†æ¶ã€‚**\n\n## ä¼ä¸šçº§å¸¸ç”¨ Web æ¡†æ¶\n\n### <font color=#f26522 size=6 face=å®‹ä½“><strong>irisï¼ˆæ¯”è¾ƒæ¨èï¼‰</strong></font>\n\nWeb: æ€§èƒ½æµ‹è¯•ï¼š8\n\nå¼€æºï¼ˆæµ·å¤–ï¼‰\n\nWebæ¡†æ¶\n\nç›®å‰å‘å±•æœ€å¿«çš„Go Webæ¡†æ¶ã€‚æä¾›å®Œæ•´çš„MVCåŠŸèƒ½å¹¶ä¸”é¢å‘æœªæ¥ã€‚\n\n**é¡¹ç›®åœ°å€**ï¼š[github.com/kataras/iris](https://link.zhihu.com/?target=https%3A//github.com/kataras/iris)\n\n**ä¼˜ç‚¹ï¼š**\n\nä¸»è¦ä¾§é‡äºWebå¼€å‘ï¼Œæä¾›äº†Webå¼€å‘çš„ä¸€ç³»åˆ—åŠŸèƒ½ç»„ä»¶ï¼ŒåŸºäºMVCå¼€å‘æ¨¡å¼ã€‚irisè¿™ä¸€å¹´å‘å±•æ¯”è¾ƒå¿«ï¼Œä»ä¸€ä¸ªWeb Serverçš„ç»„ä»¶ï¼Œä¹Ÿæ…¢æ…¢æœç€beegoçš„è®¾è®¡æ–¹å‘åŠªåŠ›ã€‚\n\n**ç¼ºç‚¹ï¼š**\n\nå·ç§°æ€§èƒ½æœ€å¼ºï¼Œç»“æœå¹³å¹³ã€‚éæ¨¡å—åŒ–è®¾è®¡ã€‚æœ€è¿‘ä¸¤å¹´å¼€å§‹æœbeegoæ–¹å‘å‘å±•ï¼Œä½†æ•´ä½“æ¡†æ¶èƒ½åŠ›è¿˜ä¸å®Œå¤‡ï¼Œéœ€è¦åŠ æ²¹ã€‚\n\n![img](https://pic3.zhimg.com/80/v2-6d8759da8b8de5bb0109142a0093dbe2_720w.webp)\n\n### <font color=#f26522 size=6 face=å®‹ä½“><strong>beego</strong></font>\n\nWeb: æ€§èƒ½æµ‹è¯•ï¼š8\n\nå¼€æºï¼ˆå›½å†…ï¼‰\n\nWebæ¡†æ¶\n\n**é¡¹ç›®åœ°å€**ï¼š[github.com/beego/beego](https://link.zhihu.com/?target=https%3A//github.com/beego/beego)\n\n**ä¼˜ç‚¹ï¼š**\n\nå¼€æºçš„æ¯”è¾ƒæ—©ï¼Œæœ€æ—©çš„ä¸€æ¬¾åŠŸèƒ½æ¯”è¾ƒå…¨é¢çš„Golangå¼€å‘æ¡†æ¶ï¼Œä¸€ç›´åœ¨Golangé¢†åŸŸæœ‰ç€æ¯”è¾ƒå¤§çš„å½±å“åŠ›ï¼Œä½œè€…è°¢å¤§å¤šå¹´ç»„ç»‡ç€å›½å†…å½±å“åŠ›æ¯”è¾ƒå¤§GopherCNæ´»åŠ¨ã€‚beegoæœ‰ç€æ¯”è¾ƒä¸°å¯Œçš„å¼€å‘æ¨¡å—ã€å¼€ç®±å³ç”¨ï¼Œæä¾›äº†åŸºäºMVCè®¾è®¡æ¨¡å¼çš„é¡¹ç›®ç»“æ„ã€å¼€å‘å·¥å…·é“¾ï¼Œä¸»è¦å®šä½ä¸ºWebå¼€å‘ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨äºéWebé¡¹ç›®å¼€å‘ã€‚\n\n**ç¼ºç‚¹ï¼š**\n\nèµ·æ­¥è¾ƒæ—©ï¼Œè‡ªè°¢å¤§åˆ›ä¸šåï¼Œè¿‘å‡ å¹´å‘å±•è¾ƒæ…¢ã€‚éæ¨¡å—åŒ–è®¾è®¡ï¼Œå¯¹ç¬¬ä¸‰æ–¹é‡é‡çº§æ¨¡å—ä¾èµ–è¾ƒå¤šã€‚\n\n### <font color=#f26522 size=6 face=å®‹ä½“><strong>gin</strong></font>\n\n**Web: æ€§èƒ½æµ‹è¯•ï¼š9**\n\n**Webæ¡†æ¶**\n\n**é¡¹ç›®åœ°å€**ï¼š[github.com/gin-gonic/gin](https://link.zhihu.com/?target=https%3A//github.com/gin-gonic/gin)\n\n**ä¼˜ç‚¹ï¼š**\n\nä¸“æ³¨äºè½»é‡çº§çš„Web Serverï¼Œæ¯”è¾ƒç®€å•ï¼Œæ˜“äºç†è§£ï¼Œè·¯ç”±å’Œä¸­é—´ä»¶è®¾è®¡ä¸é”™ï¼Œå¯ä»¥çœ‹åšæ›¿ä»£æ ‡å‡†åº“net/http.Serverçš„è·¯ç”±åŠ å¼ºç‰ˆweb serverã€‚çŒ®ç»™çˆ±é€ è½®å­çš„æœ‹å‹ä»¬ã€‚\n\n**ç¼ºç‚¹ï¼š**\n\nåŠŸèƒ½ç®€å•æ˜“ç”¨ï¼Œæ—¢æ˜¯ä¼˜ç‚¹ï¼Œä¹Ÿæ˜¯ç¼ºç‚¹ã€‚\n\n### <font color=#f26522 size=6 face=å®‹ä½“><strong>goframe</strong></font>\n\nWeb: æ€§èƒ½æµ‹è¯•ï¼š8\n\nå¼€æºï¼ˆå›½å†…ï¼‰\n\n**é¡¹ç›®åœ°å€**ï¼š[github.com/gogf/gf](https://link.zhihu.com/?target=https%3A//github.com/gogf/gf)\n\n**æ¨¡å—åŒ–æ¡†æ¶**\n\n**ä¼˜ç‚¹ï¼š**\n\nä¸»è¦ä»¥å·¥ç¨‹åŒ–å’Œä¼ä¸šçº§æ–¹å‘ä¸ºä¸»ï¼Œç‰¹åˆ«æ˜¯æ¨¡å—åŒ–è®¾è®¡å’Œå·¥ç¨‹åŒ–è®¾è®¡æ€æƒ³éå¸¸æ£’ã€‚é’ˆå¯¹ä¸šåŠ¡é¡¹ç›®è€Œè¨€ï¼Œæä¾›äº†å¼€å‘è§„èŒƒã€é¡¹ç›®è§„èŒƒã€å‘½åè§„èŒƒã€è®¾è®¡æ¨¡å¼ã€å¼€å‘å·¥å…·é“¾ã€ä¸°å¯Œçš„æ¨¡å—ã€é«˜è´¨é‡ä»£ç å’Œæ–‡æ¡£ï¼Œç¤¾åŒºæ´»è·ƒã€‚ä½œè€…ä¹Ÿæ˜¯èµ„æ·±çš„PHPå¼€å‘è€…ï¼ŒPHPè½¬Goçš„å°ä¼™ä¼´ä¼šå€æ„Ÿäº²åˆ‡ã€‚\n\n**ç¼ºç‚¹ï¼š**å¼€æºæ—¶é—´è¾ƒæ™šï¼Œæ¨å¹¿è¿‡äºä½›ç³»ï¼Œç›®å‰ä¸»è¦é¢å‘å›½å†…ç”¨æˆ·ï¼Œæœªæ¨å¹¿æµ·å¤–ã€‚\n\n## Goè¯­è¨€å­¦ä¹ èµ„æ–™æ¨è\n\n### **30 å¤©å…¥é—¨ Go è¯­è¨€**\n\n[Goè¯­è¨€å­¦ä¹ è·¯çº¿å›¾](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/2ux5nnExKXIdxxQR3Z6vKQ)\n\n[å‰è¨€ï¼šGo è¯­è¨€ä¸ºä»€ä¹ˆè¿™ä¹ˆç«ï¼Ÿ](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/ije6vF-yVR4GoKPVH3cdUg)\n\n[Day1:Goè¯­è¨€å…¥é—¨ç¯‡](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/v3SK5CxtdTXx38i3m1TDtg)\n\n[Day2ï¼šGoè¯­è¨€å‘å±•å²ï¼Œå¦‚ä½•å­¦ä¹ Goè¯­è¨€ï¼Ÿ](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzI1MjkxNDU4OQ%3D%3D%26mid%3D2247484089%26idx%3D1%26sn%3D0f79f77fb36ae5d11a1b607090af35b4%26chksm%3De9dd3c4bdeaab55d55265f50c0e7974a12a108e6248d6d622409219cd9651bf9ddce718ad02e%26scene%3D178%26cur_album_id%3D2106348088293376002%23rd)\n\n[Day3: Cè¯­è¨€ä¸Goè¯­è¨€å¯¹æ¯”å­¦ä¹ ï¼ˆå…³é”®å­—ã€æ ‡è¯†ç¬¦ã€æ³¨é‡Šç­‰ç³»åˆ—çŸ¥è¯†ï¼‰](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzI1MjkxNDU4OQ%3D%3D%26mid%3D2247484159%26idx%3D1%26sn%3D56235262b4bcb951ff16a2f887eb8c61%26chksm%3De9dd3c0ddeaab51bf2e2a49d50b8a2d8df2c9697f93f07dde148e6e422414ae461adee030241%26scene%3D178%26cur_album_id%3D2106348088293376002%23rd)\n\n[Day4: Go è¯­è¨€ç¨‹åºç»„æˆï¼ˆå¼€å§‹å®è·µç¼–å†™Goè¯­è¨€ç¨‹åºï¼‰](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzI1MjkxNDU4OQ%3D%3D%26mid%3D2247484192%26idx%3D1%26sn%3Da384304d424d3f5673b8ff347898c548%26chksm%3De9dd3dd2deaab4c4f2871f65913e04b7be1e2a00dacce1c6d6074874a8d2dcd407448fdd25d0%26scene%3D178%26cur_album_id%3D2106348088293376002%23rd)\n\n[Day5: Goè¯­è¨€ç¼–ç é£æ ¼](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzI1MjkxNDU4OQ%3D%3D%26mid%3D2247484232%26idx%3D1%26sn%3Df8995471c0133b2284898df08c004219%26chksm%3De9dd3dbadeaab4ac963b5b96fe138cecaa9aac1c1464f9071a55ec069a3764289b236801ea85%26scene%3D178%26cur_album_id%3D2106348088293376002%23rd)\n\n[Day6: Go è¯­è¨€åŸºç¡€çŸ¥è¯†å·©å›ºåŠ å¼º](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzI1MjkxNDU4OQ%3D%3D%26mid%3D2247484250%26idx%3D1%26sn%3D43595cfd10e3fdddf193f144fd3e24e4%26chksm%3De9dd3da8deaab4bea30bffa2d41f069c2432c3c9c8ec67a3c0933b239f9d22d2db73c64aaa55%26scene%3D178%26cur_album_id%3D2106348088293376002%23rd)\n\n[Day7: Goè¯­è¨€å˜é‡ä¸å˜é‡å®šä¹‰å¤§å…¨è§£](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzI1MjkxNDU4OQ%3D%3D%26mid%3D2247484299%26idx%3D1%26sn%3D047b9bb53f63cdfa7b6754c13d9ab68b%26chksm%3De9dd3d79deaab46ff5dceaae19d9b77a07695b1b041217c32fa65fb4e500151e2890ca7fc2e3%26scene%3D178%26cur_album_id%3D2106348088293376002%23rd)\n\n[Day8: Goè¯­è¨€æ•°æ®ç±»å‹è½¬æ¢](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/x5apTYjJIxDCAHUvS5j_ig)\n\n[Day9: Goè¯­è¨€å¸¸é‡ç›¸å…³çŸ¥è¯†ç‚¹](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/Py7Mv4Ue5K0ulnPYVnV8fg)\n\n[Day10: Goè¯­è¨€è¾“å‡ºè¾“å…¥å‡½æ•°](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/URjA2g_32toxrp6UAwPmCQ)\n\n[Day11: Goè¯­è¨€å‘½ä»¤è¡Œè¯¦ç»†è§£è¯»](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/5oRGYi6dSCeljM6zTvyUYQ)\n\n[Day12: Goè¯­è¨€è¿ç®—ç¬¦ï¼ˆå„ç±»è¿ç®—ç¬¦è¯¦ç»†è®²è§£ï¼‰](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/Ov0bhzs6zTI8PGNsA-KxHA)\n\n[Day13: Goè¯­è¨€æµç¨‹æ§åˆ¶](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/x65RcVsFIoGdwNoP7QT7-w)\n\n[Day14: Goè¯­è¨€å‡½æ•°ä¸é—­åŒ…ç­‰çŸ¥è¯†ç‚¹](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/LqEglWaYksPtkszCCPl8xA)\n\n[Day15: Goè¯­è¨€æ•°ç»„ä¸åˆ‡ç‰‡ç­‰çŸ¥è¯†è®²è§£](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/USqjlB6wG0w0yb-V8fB9MQ)\n\n[Day16: Goè¯­è¨€å­—å…¸ä¸ç»“æ„ä½“å¤§å…¨è§£](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/twqhfQ13oEXKoBtxd24ipA)\n\n[Day17: Goè¯­è¨€æ–¹æ³•ä¸æ¥å£ä¿å§†çº§è®²è§£](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/Ti5bgeQdKhnRDOlxkSjefw)\n\n[Day18: Goè¯­è¨€é¢å‘å¯¹è±¡å„ç±»çŸ¥è¯†ç‚¹è®²è§£](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/__UUZFFSnNq_4uwUzIT2mA)\n\n[Day19: Goè¯­è¨€å¼‚å¸¸å¤„ç†å„ç±»çŸ¥è¯†è®²è§£](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/K6pDuD9MmHLxrAfol2VJGQ)\n\n[Day20: Goè¯­è¨€å­—ç¬¦ä¸²ä¸æ­£åˆ™è¡¨è¾¾å¼å¤§å…¨è§£](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/mYxATpMXyxeW5dHEl0iLKA)\n\n[Day21: Goè¯­è¨€å’ŒCè¯­è¨€äº¤å‰è®¿é—®](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/n-cd4D010hitdrNnPVWt4A)\n\n[Day22: Goè¯­è¨€æ“ä½œæ–‡ä»¶](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/-E9wB4-TqiDdVGXA9yeRLw)\n\n[Day23: Goè¯­è¨€å¹¶å‘ç¼–ç¨‹çŸ¥è¯†è®²è§£](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/47a26-HLSKxMM0hjl7SSAg)\n\n[Day24: Goè¯­è¨€å¤šçº¿ç¨‹åŒæ­¥ä¸ç”Ÿäº§è€…æ¶ˆè´¹é—®é¢˜è¯¦ç»†è§£è¯»](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/y7F0aSNBVvDhe7uwyQIV4g)\n\n[Day25:Goè¯­è¨€ç®¡é“(Channel)](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/qJYB9iExAgJxZ6DLCP2rBg)\n\n[Day26: Go è¯­è¨€å®šæ—¶å™¨](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/6rbB_QgTjvqsPp2qmVXOYA)\n\n[Day27: Goè¯­è¨€æŒ‡é’ˆæ“ä½œæ•™ç¨‹ï¼ˆæŒç»­æ›´æ–°ingï¼‰](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/M-BD8Auty_t9B93F82MUCw)\n\n### Go è¯­è¨€ç”µå­ä¹¦æ¨è\n\n[Goå¹¶å‘å®æˆ˜é“¾æ¥ï¼š](https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1sE6RQ5We5ciLtkkWAaSyyQ)æå–ç ï¼š41zd\n\n[Goè¯­è¨€ç¼–ç¨‹é“¾æ¥](https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1yo_weXsbl_tMXjJrVPMI-A) æå–ç ï¼šdcu3\n\n[Goè¯­è¨€æ ‡å‡†åº“é“¾æ¥](https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1MNkUhJT-ZQA5D7-tGAX-Lg)ï¼šæå–ç ï¼š8kx9\n\n[Goè¯­è¨€ç¨‹åºè®¾è®¡ï¼š](https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1db91f8NGAzhMicPGdxuBPA)æå–ç ï¼š2uqt\n\n[Goè¯­è¨€åœ£ç»](https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/19xZJsF8KyCGp2fO4VYvPmA)ï¼šæå–ç ï¼š7emu\n\n[Goè¯­è¨€å®æˆ˜](https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/143UFM4Uoir_yGRgSgt7hsA)ï¼šæå–ç ï¼šf7o2\n\n[Goè¯­è¨€å­¦ä¹ ](https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1qnle6ZlgtSYANwjN4spS8Q)ç¬”è®°ï¼šæå–ç ï¼š7il3\n\n### Goä¹¦ç±åœ¨çº¿æ¨èé˜…è¯»ï¼š\n\n### [ã€Šæ·±å…¥è§£æGoã€‹](https://link.zhihu.com/?target=https%3A//github.com/tiancaiamao/go-internals)\n\n> è¿™æœ¬ä¹¦é€‚åˆå¯¹ Go åº•å±‚çš„ä¸œè¥¿æ¯”è¾ƒæ„Ÿå…´è¶£çš„æœ‹å‹é˜…è¯»ï¼Œä¹Ÿæ˜¯ä½œè€…æŠ½ç©ºå†™çš„ä¸€æœ¬å¼€æºçš„ä¹¦ç±ã€Šæ·±å…¥è§£æGoã€‹ã€‚å†™è¿™æœ¬ä¹¦ä¸è¡¨ç¤ºæˆ‘èƒ½åŠ›å¾ˆå¼ºï¼Œè€Œæ˜¯æˆ‘æ„¿æ„åˆ†äº«ï¼Œå’Œå¤§å®¶ä¸€èµ·åˆ†äº«å¯¹Goè¯­è¨€çš„å†…éƒ¨å®ç°çš„ä¸€äº›ç ”ç©¶ã€‚ä½œè€…ä¸€ç›´è®¤ä¸ºçŸ¥è¯†æ˜¯ç”¨æ¥åˆ†äº«çš„ï¼Œè®©æ›´å¤šçš„äººåˆ†äº«è‡ªå·±æ‹¥æœ‰çš„ä¸€åˆ‡çŸ¥è¯†è¿™ä¸ªæ‰æ˜¯äººç”Ÿæœ€å¤§çš„å¿«ä¹ã€‚\n\n### [ã€ŠGoå®æˆ˜å¼€å‘ã€‹](https://link.zhihu.com/?target=https%3A//github.com/astaxie/Go-in-Action)\n\n> è¿™æœ¬ä¹¦é€‚åˆæœ‰Goè¯­è¨€åŸºç¡€çš„æœ‹å‹é˜…è¯»ï¼Œæ²¡æœ‰ä»»ä½•åŸºç¡€çš„å»ºè®®ä¸è¦é˜…è¯»å­¦ä¹ ï¼Œå»ºè®®å» GitHub é˜…è¯» [GoGuide](https://link.zhihu.com/?target=https%3A//github.com/coderit666/GoGuide)å¼€æºé¡¹ç›®ï¼Œæœ‰ç¼–ç¨‹åŸºç¡€çš„å¯ä»¥é€šè¿‡è¿™æœ¬ä¹¦è¿›é˜¶å­¦ä¹  Goã€‚\n\n### [ã€ŠGoå…¥é—¨æŒ‡å—ã€‹](https://link.zhihu.com/?target=https%3A//github.com/Unknwon/the-way-to-go_ZH_CN)\n\n> è¿™æ˜¯ä½œè€…åœ¨å®Œæˆé˜…è¯»è¿™æœ¬åå« ã€ŠThe Way to Goã€‹ ä¹‹åï¼Œå†³å®šæ¯å¤©æŠ½å‡ºä¸€ç‚¹æ—¶é—´æ¥è¿›è¡Œç¿»è¯‘çš„å·¥ä½œï¼Œå¹¶ä¸”ä»¥å¼€æºçš„å½¢å¼å…è´¹åˆ†äº«ç»™æœ‰éœ€è¦çš„ Go è¯­è¨€çˆ±å¥½è€…ï¼Œé€‚åˆåˆå­¦è€…å­¦ä¹ ã€‚\n\n### [ã€ŠGoè¯­è¨€æ ‡å‡†åº“ã€‹](https://link.zhihu.com/?target=https%3A//github.com/polaris1119/The-Golang-Standard-Library-by-Example)\n\n> è¿™æ˜¯ Goè¯­è¨€æ ‡å‡†åº“ï¼Œå­¦ä¹  Go è¯­è¨€é¦–é€‰ã€‚\n\n### [ã€ŠGo Web ç¼–ç¨‹ã€‹](https://link.zhihu.com/?target=https%3A//github.com/astaxie/build-web-application-with-golang)\n\n> è¿™æœ¬ä¹¦é€‚åˆå­¦ä¹ å®ŒæˆGoè¯­è¨€åŸºç¡€+å‰ç«¯åŸºç¡€çš„æœ‹å‹å»å­¦ä¹ è¿›é˜¶Go-Web ç›¸å…³çš„çŸ¥è¯†ã€‚\n\n### [ã€ŠGoè¯­è¨€åšå®¢å®è·µã€‹](https://link.zhihu.com/?target=https%3A//github.com/achun/Go-Blog-In-Action)\n\n> ä¸­æ–‡å**Goè¯­è¨€åšå®¢å®è·µ**. æ˜¯å¯¹[TypePress](https://link.zhihu.com/?target=https%3A//github.com/typepress/typepress)å¼€å‘è¿‡ç¨‹ä¸­çš„æƒ³æ³•, æ–¹æ³•, æ¢è®¨ç­‰ä»»ä½•æ–¹é¢åŒæ­¥æ•´ç†æˆçš„ç”µå­ä¹¦ã€‚\n\n### [ã€ŠGoè¯­è¨€å­¦ä¹ ç¬”è®°ã€‹](https://link.zhihu.com/?target=https%3A//github.com/qyuhen/book)\n\n> è¿™æœ¬ä¹¦ä¸»è¦æ˜¯ä½œè€…è®°å½•å­¦ä¹ Goè¯­è¨€çš„ç¬”è®°ï¼Œé€‚åˆåˆå­¦è€…å­¦ä¹ ã€‚\n\n### [ã€ŠGoè¯­è¨€é«˜çº§ç¼–ç¨‹ã€‹](https://link.zhihu.com/?target=https%3A//github.com/chai2010/advanced-go-programming-book)\n\n> æœ¬ä¹¦æ¶µç›– CGOã€Go æ±‡ç¼–è¯­è¨€ã€RPC å®ç°ã€Web æ¡†æ¶å®ç°ã€åˆ†å¸ƒå¼ç³»ç»Ÿç­‰é«˜é˜¶ä¸»é¢˜ï¼Œé’ˆå¯¹Goè¯­è¨€æœ‰ä¸€å®šç»éªŒæƒ³æ·±å…¥äº†è§£Goè¯­è¨€å„ç§é«˜çº§ç”¨æ³•çš„å¼€å‘äººå‘˜ã€‚å¯¹äºåˆšå­¦ä¹  Go è¯­è¨€çš„è¯»è€…ï¼Œå»ºè®®å»å­¦ä¹ Goè¯­è¨€å¼€æºé¡¹ç›® [GoGuide](https://link.zhihu.com/?target=https%3A//github.com/coderit666/GoGuide)ã€‚\n\n### [Effective Go](https://link.zhihu.com/?target=https%3A//golang.org/doc/effective_go.html) è‹±æ–‡ç‰ˆ\n\n> è¿™æ˜¯ä¸€æœ¬è‹±æ–‡ç‰ˆçš„Goè¯­è¨€ä¹¦ç±ï¼Œå»ºè®®ä½ æœ‰è‹±è¯­åŸºç¡€å†å»é˜…è¯»ã€‚\n\n### [The Way to Go](https://link.zhihu.com/?target=https%3A//github.com/Unknwon/the-way-to-go_ZH_CN) ä¸­æ–‡ç‰ˆ\n\n> ã€ŠThe Way to Goã€‹ä¸­æ–‡è¯‘æœ¬ï¼Œä¸­æ–‡æ­£å¼åã€Š[Go å…¥é—¨æŒ‡å—](https://www.zhihu.com/search?q=Go+å…¥é—¨æŒ‡å—&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra={\"sourceType\"%3A\"answer\"%2C\"sourceId\"%3A2229767926})ã€‹\n\n### Goè¯­è¨€å­¦ä¹ å¯¼èˆª\n\n**[Golang å­¦ä¹ å¯¼èˆª](https://link.zhihu.com/?target=https%3A//hao.golangstack.com/)**\n\n> **ç½‘ç«™ä¸­å«æœ‰ GO è¯­è¨€å¼€æºå›¾ä¹¦ã€Goè¯­è¨€å¼€å‘å·¥å…·ã€Goè¯­è¨€å…¥é—¨æ•™ç¨‹ã€Goè¯­è¨€è¿›é˜¶æ•™ç¨‹ã€Goè¯­è¨€å®˜æ–¹èµ„æºã€Goè¯­è¨€ Web æ¡†æ¶ã€Goè¯­è¨€å¾®æœåŠ¡èµ„æºã€Goè¯­è¨€é¢†åŸŸå¤§ç‰›ã€‚**\n\n![img](https://pic2.zhimg.com/80/v2-d2ab1ecc8944671d9ed53c74c94dbaa1_720w.webp)\n\n![img](https://pic3.zhimg.com/80/v2-26c2047240759a367ce48638a5d8fef6_720w.webp)\n\næœ€åï¼Œå¦‚æœè§‰å¾—å¤§å”çš„åˆ†äº«å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿**å…³æ³¨æˆ‘**\n\n\n\n[@Goè¯­è¨€å…¥é—¨åˆ°ç²¾é€š](https://www.zhihu.com/people/669446be2fffd5481e8a1fa99f91c2e4)\n","tags":["go","webæ¡†æ¶"],"categories":["Golang","åŸºç¡€"]},{"title":"django-è·¨åŸŸæ”¯æŒé…ç½®","url":"/2024/03/20/django-è·¨åŸŸæ”¯æŒé…ç½®/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>django-è·¨åŸŸæ”¯æŒé…ç½®</strong></font>\n\n<!--more-->\n\n```python\n# å®‰è£…æ¨¡å—\npip3 install django-cors-headers\n\n\n\n# books_demo/settings.py\nINSTALLED_APPS = [\n    ...\n    # demo\n    'corsheaders',\n    ...\n]\n\nMIDDLEWARE = [\n    'corsheaders.middleware.CorsMiddleware', # éœ€æ³¨æ„ä¸å…¶ä»–ä¸­é—´ä»¶é¡ºåºï¼Œè¿™é‡Œæ”¾åœ¨æœ€å‰é¢å³å¯\n    ...\n]\n\n# æ”¯æŒè·¨åŸŸé…ç½®å¼€å§‹\nCORS_ORIGIN_ALLOW_ALL = True\nCORS_ALLOW_CREDENTIALS = True \n\n```\n\n\n\n## ç¬¬äºŒç§æ–¹å¼ï¼š\n\næ‚¨é‡åˆ°çš„é”™è¯¯æ˜¯ç”±äºè·¨æºèµ„æºå…±äº«ï¼ˆCORSï¼‰ç­–ç•¥çš„é™åˆ¶ã€‚å½“æ‚¨çš„å‰ç«¯åº”ç”¨ï¼ˆä½äº `http://localhost:5173`ï¼‰å°è¯•è®¿é—®åç«¯APIï¼ˆä½äº `http://localhost:8000`ï¼‰æ—¶ï¼Œæµè§ˆå™¨ä¼šæ‰§è¡Œä¸€ä¸ªé¢„æ£€è¯·æ±‚ï¼ˆpreflight requestï¼‰æ¥æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦å…è®¸è·¨åŸŸè¯·æ±‚ã€‚å¦‚æœæœåŠ¡å™¨æ²¡æœ‰åœ¨å“åº”ä¸­åŒ…å«é€‚å½“çš„ `Access-Control-Allow-Origin` å¤´éƒ¨ï¼Œæµè§ˆå™¨å°±ä¼šé˜»æ­¢è¯¥è¯·æ±‚ã€‚\n\n### è§£å†³æ–¹æ¡ˆ\n\nç”±äºæ‚¨çš„ Django é¡¹ç›®ä¸­å·²ç»å®‰è£…äº† `corsheaders` å¹¶ä¸”å°†å…¶æ·»åŠ åˆ°äº† `INSTALLED_APPS` å’Œ `MIDDLEWARE` ä¸­ï¼Œæ‚¨éœ€è¦ç¡®ä¿é…ç½®äº† `corsheaders` ä»¥å…è®¸æ¥è‡ª `http://localhost:5173` çš„è¯·æ±‚ã€‚\n\n#### æ­¥éª¤ 1: é…ç½® CORS è®¾ç½®\n\nåœ¨ `AccountingSystem/settings.py` æ–‡ä»¶ä¸­ï¼Œæ·»åŠ æˆ–ä¿®æ”¹ä»¥ä¸‹è®¾ç½®ä»¥å…è®¸ç‰¹å®šçš„æºæˆ–æ‰€æœ‰æºè¿›è¡Œè·¨åŸŸè¯·æ±‚ï¼š\n\n```python\nPython\n\n\né‡‡çº³\nå¤åˆ¶\næ–°å»ºæ–‡ä»¶\n# åœ¨æ–‡ä»¶æœ«å°¾æˆ–é€‚å½“çš„ä½ç½®æ·»åŠ ä»¥ä¸‹é…ç½®\n\n# CORS è®¾ç½®\nCORS_ALLOWED_ORIGINS = [\n    \"http://localhost:5173\",  # å…è®¸çš„å‰ç«¯æº\n]\n\n# å¦‚æœæ‚¨å¸Œæœ›å…è®¸æ‰€æœ‰æºï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹è®¾ç½®ï¼ˆä½†å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œé€šå¸¸ä¸æ¨èåœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¿™æ ·åšï¼‰\n# CORS_ALLOWED_ORIGINS = [\n#     \"*\"\n# ]\n\n# å¯é€‰ï¼šå…è®¸æºå¸¦è®¤è¯ä¿¡æ¯ï¼ˆå¦‚ Cookiesï¼‰\nCORS_ALLOW_CREDENTIALS = True\n\n# å¯é€‰ï¼šè®¾ç½®å…è®¸çš„ HTTP æ–¹æ³•\nCORS_ALLOWED_METHODS = [\n    'GET',\n    'POST',\n    'PUT',\n    'DELETE',\n    'OPTIONS'\n]\n\n# å¯é€‰ï¼šè®¾ç½®å…è®¸çš„ HTTP å¤´\nCORS_ALLOWED_HEADERS = [\n    'content-type',\n    'authorization'\n]\n```\n\n#### æ­¥éª¤ 2: ç¡®ä¿ä¸­é—´ä»¶é¡ºåºæ­£ç¡®\n\n`corsheaders.middleware.CorsMiddleware` åº”è¯¥æ”¾åœ¨å¯èƒ½ä¿®æ”¹å“åº”çš„ä¸­é—´ä»¶ä¹‹å‰ï¼Œé€šå¸¸æ˜¯åœ¨ `django.middleware.common.CommonMiddleware` ä¹‹åã€‚ä»æ‚¨æä¾›çš„é…ç½®æ¥çœ‹ï¼Œé¡ºåºä¼¼ä¹æ˜¯æ­£ç¡®çš„ã€‚\n\n#### æ­¥éª¤ 3: é‡å¯ Django æœåŠ¡å™¨\n\nä¿®æ”¹è®¾ç½®åï¼Œæ‚¨éœ€è¦é‡å¯ Django å¼€å‘æœåŠ¡å™¨ä»¥ä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚\n\n#### æ­¥éª¤ 4: æµ‹è¯•\n\nåœ¨æµè§ˆå™¨ä¸­é‡æ–°åŠ è½½æ‚¨çš„å‰ç«¯åº”ç”¨å¹¶å°è¯•å†æ¬¡å‘èµ·è¯·æ±‚ï¼Œæ£€æŸ¥æ˜¯å¦è¿˜ä¼šå‡ºç° CORS é”™è¯¯ã€‚\n\né€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿè§£å†³å›  CORS ç­–ç•¥å¯¼è‡´çš„è¯·æ±‚è¢«é˜»æ­¢çš„é—®é¢˜ã€‚å¦‚æœé—®é¢˜ä¾æ—§å­˜åœ¨ï¼Œè¯·æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–ä¸­é—´ä»¶æˆ–è®¾ç½®å¯èƒ½å½±å“åˆ° CORS å¤´éƒ¨çš„è®¾ç½®ã€‚\n","tags":["python","django"],"categories":["Python","Django"]},{"title":"python-è™šæ‹Ÿç¯å¢ƒåŒ…(requirements.txt)çš„å¯¼å‡ºä¸å®‰è£…","url":"/2024/03/20/python-è™šæ‹Ÿç¯å¢ƒåŒ…(requirements.txt)çš„å¯¼å‡ºä¸å®‰è£…/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>python-è™šæ‹Ÿç¯å¢ƒåŒ…(requirements.txt)çš„å¯¼å‡ºä¸å®‰è£…ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>å¯¼å‡ºï¼š</strong></font>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>bashå‘½ä»¤ï¼š</strong></font>\n\n```bash\n# è™šæ‹Ÿç¯å¢ƒä¸‹\npip freeze > requirements.txt\n```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>pythonï¼š</strong></font>\n\n```python\nimport subprocess\nsubprocess.call(['pip', 'freeze'], stdout=open('requirements.txt', 'w'))\nprint(\"å·²æˆåŠŸå¯¼å‡ºç¯å¢ƒåˆ°requirements.txt\")\n```\n\n+ <font color=red size=5 face=å®‹ä½“><strong>å¯¼å…¥è™šæ‹Ÿç¯å¢ƒï¼š</strong></font>\n\n```python\n# è¿›å…¥è™šæ‹Ÿç¯å¢ƒ\nsource xxx/bin/activate\n\n# å¼€å§‹å¯¼å…¥åŒ…\npip3 install -r requirements.txt\n```\n\n","tags":["requirements","å¯¼å…¥","å¯¼å‡º"],"categories":["Python","requirements"]},{"title":"ç¦¹ç¥ Vue3 å‰ç«¯ç¬”è®°","url":"/2024/02/22/ç¦¹ç¥-Vue3-å‰ç«¯ç¬”è®°/","content":"\n\n\n# 1. Vue3ç®€ä»‹\n\n<!--more-->\n\n- 2020å¹´9æœˆ18æ—¥ï¼Œ`Vue.js`å‘å¸ƒç‰ˆ`3.0`ç‰ˆæœ¬ï¼Œä»£å·ï¼š`One Piece`ï¼ˆn\n- ç»å†äº†ï¼š[4800+æ¬¡æäº¤](https://github.com/vuejs/core/commits/main)ã€[40+ä¸ªRFC](https://github.com/vuejs/rfcs/tree/master/active-rfcs)ã€[600+æ¬¡PR](https://github.com/vuejs/vue-next/pulls?q=is%3Apr+is%3Amerged+-author%3Aapp%2Fdependabot-preview+)ã€[300+è´¡çŒ®è€…](https://github.com/vuejs/core/graphs/contributors)\n- å®˜æ–¹å‘ç‰ˆåœ°å€ï¼š[Release v3.0.0 One Piece Â· vuejs/core](https://github.com/vuejs/core/releases/tag/v3.0.0)\n- æˆªæ­¢2023å¹´10æœˆï¼Œæœ€æ–°çš„å…¬å¼€ç‰ˆæœ¬ä¸ºï¼š`3.3.4`\n\n  <img src=\"https://s2.loli.net/2024/02/22/GLPQrNvRBaWe9Ts.png\" alt=\"image.png\" style=\"zoom:30%;\" /> \n\n## 1.1. ã€æ€§èƒ½çš„æå‡ã€‘\n\n- æ‰“åŒ…å¤§å°å‡å°‘`41%`ã€‚\n\n- åˆæ¬¡æ¸²æŸ“å¿«`55%`, æ›´æ–°æ¸²æŸ“å¿«`133%`ã€‚\n\n- å†…å­˜å‡å°‘`54%`ã€‚\n\n  \n## 1.2.ã€ æºç çš„å‡çº§ã€‘\n\n- ä½¿ç”¨`Proxy`ä»£æ›¿`defineProperty`å®ç°å“åº”å¼ã€‚\n\n- é‡å†™è™šæ‹Ÿ`DOM`çš„å®ç°å’Œ`Tree-Shaking`ã€‚\n\n  \n## 1.3. ã€æ‹¥æŠ±TypeScriptã€‘\n\n- `Vue3`å¯ä»¥æ›´å¥½çš„æ”¯æŒ`TypeScript`ã€‚\n\n  \n## 1.4. ã€æ–°çš„ç‰¹æ€§ã€‘\n\n1. `Composition API`ï¼ˆç»„åˆ`API`ï¼‰ï¼š\n   - `setup`\n   - `ref`ä¸`reactive`\n   - `computed`ä¸`watch`\n   \n     ......\n   \n2. æ–°çš„å†…ç½®ç»„ä»¶ï¼š\n   - `Fragment`\n   - `Teleport`\n   - `Suspense`\n\n     ......\n\n3. å…¶ä»–æ”¹å˜ï¼š\n   - æ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­\n   - `data` é€‰é¡¹åº”å§‹ç»ˆè¢«å£°æ˜ä¸ºä¸€ä¸ªå‡½æ•°\n   - ç§»é™¤`keyCode`æ”¯æŒä½œä¸º` v-on` çš„ä¿®é¥°ç¬¦\n\n     ......\n\n\n\n# 2. åˆ›å»ºVue3å·¥ç¨‹\n\n## 2.1. ã€åŸºäº vue-cli åˆ›å»ºã€‘\nç‚¹å‡»æŸ¥çœ‹[å®˜æ–¹æ–‡æ¡£](https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create)\n\n> å¤‡æ³¨ï¼šç›®å‰`vue-cli`å·²å¤„äºç»´æŠ¤æ¨¡å¼ï¼Œå®˜æ–¹æ¨èåŸºäº `Vite` åˆ›å»ºé¡¹ç›®ã€‚\n\n```shell\n## æŸ¥çœ‹@vue/cliç‰ˆæœ¬ï¼Œç¡®ä¿@vue/cliç‰ˆæœ¬åœ¨4.5.0ä»¥ä¸Š\nvue --version\n\n## å®‰è£…æˆ–è€…å‡çº§ä½ çš„@vue/cli \nnpm install -g @vue/cli\n\n## æ‰§è¡Œåˆ›å»ºå‘½ä»¤\nvue create vue_test\n\n##  éšåé€‰æ‹©3.x\n##  Choose a version of Vue.js that you want to start the project with (Use arrow keys)\n##  > 3.x\n##    2.x\n\n## å¯åŠ¨\ncd vue_test\nnpm run serve\n```\n\n---\n\n## 2.2. ã€åŸºäº vite åˆ›å»ºã€‘(æ¨è)\n`vite` æ˜¯æ–°ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ï¼Œå®˜ç½‘åœ°å€ï¼š[https://vitejs.cn](https://vitejs.cn/)ï¼Œ`vite`çš„ä¼˜åŠ¿å¦‚ä¸‹ï¼š\n\n- è½»é‡å¿«é€Ÿçš„çƒ­é‡è½½ï¼ˆ`HMR`ï¼‰ï¼Œèƒ½å®ç°æé€Ÿçš„æœåŠ¡å¯åŠ¨ã€‚\n- å¯¹ `TypeScript`ã€`JSX`ã€`CSS` ç­‰æ”¯æŒå¼€ç®±å³ç”¨ã€‚\n- çœŸæ­£çš„æŒ‰éœ€ç¼–è¯‘ï¼Œä¸å†ç­‰å¾…æ•´ä¸ªåº”ç”¨ç¼–è¯‘å®Œæˆã€‚\n- `webpack`æ„å»º ä¸ `vite`æ„å»ºå¯¹æ¯”å›¾å¦‚ä¸‹ï¼š\n<img src=\"https://s2.loli.net/2024/02/22/Zjp9rwdhWu1zaHK.png\" alt=\"webpackæ„å»º\" title=\"webpackæ„å»º\" style=\"zoom:20%;box-shadow:0 0 10px black\" />\t<img src=\"https://s2.loli.net/2024/02/22/UmeJz1Hgxk7rOyN.png\" alt=\"viteæ„å»º\" title=\"viteæ„å»º\" style=\"zoom: 20%;box-shadow:0 0 10px black\" />\n* å…·ä½“æ“ä½œå¦‚ä¸‹ï¼ˆç‚¹å‡»æŸ¥çœ‹[å®˜æ–¹æ–‡æ¡£](https://cn.vuejs.org/guide/quick-start.html#creating-a-vue-application)ï¼‰\n\n```shell\n## 1.åˆ›å»ºå‘½ä»¤\nnpm create vue@latest\n\n## 2.å…·ä½“é…ç½®\n## é…ç½®é¡¹ç›®åç§°\nâˆš Project name: vue3_test\n## æ˜¯å¦æ·»åŠ TypeScriptæ”¯æŒ\nâˆš Add TypeScript?  Yes\n## æ˜¯å¦æ·»åŠ JSXæ”¯æŒ\nâˆš Add JSX Support?  No\n## æ˜¯å¦æ·»åŠ è·¯ç”±ç¯å¢ƒ\nâˆš Add Vue Router for Single Page Application development?  No\n## æ˜¯å¦æ·»åŠ piniaç¯å¢ƒ\nâˆš Add Pinia for state management?  No\n## æ˜¯å¦æ·»åŠ å•å…ƒæµ‹è¯•\nâˆš Add Vitest for Unit Testing?  No\n## æ˜¯å¦æ·»åŠ ç«¯åˆ°ç«¯æµ‹è¯•æ–¹æ¡ˆ\nâˆš Add an End-to-End Testing Solution? Â» No\n## æ˜¯å¦æ·»åŠ ESLintè¯­æ³•æ£€æŸ¥\nâˆš Add ESLint for code quality?  Yes\n## æ˜¯å¦æ·»åŠ Prettiertä»£ç æ ¼å¼åŒ–\nâˆš Add Prettier for code formatting?  No\n```\nè‡ªå·±åŠ¨æ‰‹ç¼–å†™ä¸€ä¸ªAppç»„ä»¶\n\n```html\n<template>\n  <div class=\"app\">\n    <h1>ä½ å¥½å•Šï¼</h1>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  export default {\n    name:'App' //ç»„ä»¶å\n  }\n</script>\n\n<style>\n  .app {\n    background-color: #ddd;\n    box-shadow: 0 0 10px;\n    border-radius: 10px;\n    padding: 20px;\n  }\n</style>\n```\n\nå®‰è£…å®˜æ–¹æ¨èçš„`vscode`æ’ä»¶ï¼š\n\n<img src=\"https://s2.loli.net/2024/02/22/R1E6rZBwxaFkghs.png\" alt=\"Snipaste_2023-10-08_20-46-34\" style=\"zoom:50%;\" /> \n\n<img src=\"https://s2.loli.net/2024/02/22/tprjsKJVG97YvhI.png\" alt=\"image-20231218085906380\" style=\"zoom:42%;\" /> \n\næ€»ç»“ï¼š\n\n- `Vite` é¡¹ç›®ä¸­ï¼Œ`index.html` æ˜¯é¡¹ç›®çš„å…¥å£æ–‡ä»¶ï¼Œåœ¨é¡¹ç›®æœ€å¤–å±‚ã€‚\n- åŠ è½½`index.html`åï¼Œ`Vite` è§£æ `<script type=\"module\" src=\"xxx\">` æŒ‡å‘çš„`JavaScript`ã€‚\n- `Vue3`**ä¸­æ˜¯é€šè¿‡ **`createApp` å‡½æ•°åˆ›å»ºä¸€ä¸ªåº”ç”¨å®ä¾‹ã€‚\n## 2.3. ã€ä¸€ä¸ªç®€å•çš„æ•ˆæœã€‘\n\n`Vue3`å‘ä¸‹å…¼å®¹`Vue2`è¯­æ³•ï¼Œä¸”`Vue3`ä¸­çš„æ¨¡æ¿ä¸­å¯ä»¥æ²¡æœ‰æ ¹æ ‡ç­¾\n\n```html\n<template>\n  <div class=\"person\">\n    <h2>å§“åï¼š{{name}}</h2>\n    <h2>å¹´é¾„ï¼š{{age}}</h2>\n    <button @click=\"changeName\">ä¿®æ”¹åå­—</button>\n    <button @click=\"changeAge\">å¹´é¾„+1</button>\n    <button @click=\"showTel\">ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼</button>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  export default {\n    name:'App',\n    data() {\n      return {\n        name:'å¼ ä¸‰',\n        age:18,\n        tel:'13888888888'\n      }\n    },\n    methods:{\n      changeName(){\n        this.name = 'zhang-san'\n      },\n      changeAge(){\n        this.age += 1\n      },\n      showTel(){\n        alert(this.tel)\n      }\n    },\n  }\n</script>\n```\n\n\n# 3. Vue3æ ¸å¿ƒè¯­æ³•\n## 3.1.  ã€OptionsAPI ä¸ CompositionAPIã€‘\n\n- `Vue2`çš„`API`è®¾è®¡æ˜¯`Options`ï¼ˆé…ç½®ï¼‰é£æ ¼çš„ã€‚\n- `Vue3`çš„`API`è®¾è®¡æ˜¯`Composition`ï¼ˆç»„åˆï¼‰é£æ ¼çš„ã€‚\n###  Options API çš„å¼Šç«¯\n\n`Options`ç±»å‹çš„ `API`ï¼Œæ•°æ®ã€æ–¹æ³•ã€è®¡ç®—å±æ€§ç­‰ï¼Œæ˜¯åˆ†æ•£åœ¨ï¼š`data`ã€`methods`ã€`computed`ä¸­çš„ï¼Œè‹¥æƒ³æ–°å¢æˆ–è€…ä¿®æ”¹ä¸€ä¸ªéœ€æ±‚ï¼Œå°±éœ€è¦åˆ†åˆ«ä¿®æ”¹ï¼š`data`ã€`methods`ã€`computed`ï¼Œä¸ä¾¿äºç»´æŠ¤å’Œå¤ç”¨ã€‚\n\n<img src=\"https://s2.loli.net/2024/02/22/kvMuHFr4tSRKGmB.gif\" alt=\"1.gif\" style=\"zoom:70%;border-radius:20px\" /><img src=\"https://s2.loli.net/2024/02/22/lbNcvXTUHEzKe96.gif\" alt=\"2.gif\" style=\"zoom:70%;border-radius:20px\" />\n\n### Composition API çš„ä¼˜åŠ¿\n\nå¯ä»¥ç”¨å‡½æ•°çš„æ–¹å¼ï¼Œæ›´åŠ ä¼˜é›…çš„ç»„ç»‡ä»£ç ï¼Œè®©ç›¸å…³åŠŸèƒ½çš„ä»£ç æ›´åŠ æœ‰åºçš„ç»„ç»‡åœ¨ä¸€èµ·ã€‚\n\n<img src=\"https://s2.loli.net/2024/02/22/LVDAY2KZjREvb9F.gif\" alt=\"3.gif\" style=\"height:300px;border-radius:10px\"  /><img src=\"https://s2.loli.net/2024/02/22/hG9SmEjf8d2esDc.gif\" alt=\"4.gif\" style=\"height:300px;border-radius:10px\"  />\n\n> è¯´æ˜ï¼šä»¥ä¸Šå››å¼ åŠ¨å›¾åŸåˆ›ä½œè€…ï¼šå¤§å¸…è€çŒ¿\n\n## 3.2. ã€æ‹‰å¼€åºå¹•çš„ setupã€‘\n### setup æ¦‚è¿°\n`setup`æ˜¯`Vue3`ä¸­ä¸€ä¸ªæ–°çš„é…ç½®é¡¹ï¼Œå€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ˜¯ `Composition API` **â€œè¡¨æ¼”çš„èˆå°**_**â€**_ï¼Œç»„ä»¶ä¸­æ‰€ç”¨åˆ°çš„ï¼šæ•°æ®ã€æ–¹æ³•ã€è®¡ç®—å±æ€§ã€ç›‘è§†......ç­‰ç­‰ï¼Œå‡é…ç½®åœ¨`setup`ä¸­ã€‚\n\nç‰¹ç‚¹å¦‚ä¸‹ï¼š\n\n- `setup`å‡½æ•°è¿”å›çš„å¯¹è±¡ä¸­çš„å†…å®¹ï¼Œå¯ç›´æ¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ã€‚\n- `setup`ä¸­è®¿é—®`this`æ˜¯`undefined`ã€‚\n- `setup`å‡½æ•°ä¼šåœ¨`beforeCreate`ä¹‹å‰è°ƒç”¨ï¼Œå®ƒæ˜¯â€œé¢†å…ˆâ€æ‰€æœ‰é’©å­æ‰§è¡Œçš„ã€‚\n```html\n<template>\n  <div class=\"person\">\n    <h2>å§“åï¼š{{name}}</h2>\n    <h2>å¹´é¾„ï¼š{{age}}</h2>\n    <button @click=\"changeName\">ä¿®æ”¹åå­—</button>\n    <button @click=\"changeAge\">å¹´é¾„+1</button>\n    <button @click=\"showTel\">ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼</button>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  export default {\n    name:'Person',\n    setup(){\n      // æ•°æ®ï¼ŒåŸæ¥å†™åœ¨dataä¸­ï¼ˆæ³¨æ„ï¼šæ­¤æ—¶çš„nameã€ageã€telæ•°æ®éƒ½ä¸æ˜¯å“åº”å¼æ•°æ®ï¼‰\n      let name = 'å¼ ä¸‰'\n      let age = 18\n      let tel = '13888888888'\n\n      // æ–¹æ³•ï¼ŒåŸæ¥å†™åœ¨methodsä¸­\n      function changeName(){\n        name = 'zhang-san' //æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹nameé¡µé¢æ˜¯ä¸å˜åŒ–çš„\n        console.log(name)\n      }\n      function changeAge(){\n        age += 1 //æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹ageé¡µé¢æ˜¯ä¸å˜åŒ–çš„\n        console.log(age)\n      }\n      function showTel(){\n        alert(tel)\n      }\n\n      // è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­çš„å†…å®¹ï¼Œæ¨¡æ¿ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨\n      return {name,age,tel,changeName,changeAge,showTel}\n    }\n  }\n</script>\n```\n### setup çš„è¿”å›å€¼\n\n- è‹¥è¿”å›ä¸€ä¸ª**å¯¹è±¡**ï¼šåˆ™å¯¹è±¡ä¸­çš„ï¼šå±æ€§ã€æ–¹æ³•ç­‰ï¼Œåœ¨æ¨¡æ¿ä¸­å‡å¯ä»¥ç›´æ¥ä½¿ç”¨**ï¼ˆé‡ç‚¹å…³æ³¨ï¼‰ã€‚**\n- è‹¥è¿”å›ä¸€ä¸ª**å‡½æ•°**ï¼šåˆ™å¯ä»¥è‡ªå®šä¹‰æ¸²æŸ“å†…å®¹ï¼Œä»£ç å¦‚ä¸‹ï¼š\n```html\nsetup(){\n  return ()=> 'ä½ å¥½å•Šï¼'\n}\n```\n### setup ä¸ Options API çš„å…³ç³»\n\n- `Vue2` çš„é…ç½®ï¼ˆ`data`ã€`methos`......ï¼‰ä¸­**å¯ä»¥è®¿é—®åˆ°** `setup`ä¸­çš„å±æ€§ã€æ–¹æ³•ã€‚\n- ä½†åœ¨`setup`ä¸­**ä¸èƒ½è®¿é—®åˆ°**`Vue2`çš„é…ç½®ï¼ˆ`data`ã€`methos`......ï¼‰ã€‚\n- å¦‚æœä¸`Vue2`å†²çªï¼Œåˆ™`setup`ä¼˜å…ˆã€‚\n### setup è¯­æ³•ç³–\n`setup`å‡½æ•°æœ‰ä¸€ä¸ªè¯­æ³•ç³–ï¼Œè¿™ä¸ªè¯­æ³•ç³–ï¼Œå¯ä»¥è®©æˆ‘ä»¬æŠŠ`setup`ç‹¬ç«‹å‡ºå»ï¼Œä»£ç å¦‚ä¸‹ï¼š\n\n```html\n<template>\n  <div class=\"person\">\n    <h2>å§“åï¼š{{name}}</h2>\n    <h2>å¹´é¾„ï¼š{{age}}</h2>\n    <button @click=\"changName\">ä¿®æ”¹åå­—</button>\n    <button @click=\"changAge\">å¹´é¾„+1</button>\n    <button @click=\"showTel\">ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼</button>\n  </div>\n</template>\n\n<script lang=\"ts\">\n  export default {\n    name:'Person',\n  }\n</script>\n\n<!-- ä¸‹é¢çš„å†™æ³•æ˜¯setupè¯­æ³•ç³– -->\n<script setup lang=\"ts\">\n  console.log(this) //undefined\n  \n  // æ•°æ®ï¼ˆæ³¨æ„ï¼šæ­¤æ—¶çš„nameã€ageã€teléƒ½ä¸æ˜¯å“åº”å¼æ•°æ®ï¼‰\n  let name = 'å¼ ä¸‰'\n  let age = 18\n  let tel = '13888888888'\n\n  // æ–¹æ³•\n  function changName(){\n    name = 'æå››'//æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹nameé¡µé¢æ˜¯ä¸å˜åŒ–çš„\n  }\n  function changAge(){\n    console.log(age)\n    age += 1 //æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹ageé¡µé¢æ˜¯ä¸å˜åŒ–çš„\n  }\n  function showTel(){\n    alert(tel)\n  }\n</script>\n```\næ‰©å±•ï¼šä¸Šè¿°ä»£ç ï¼Œè¿˜éœ€è¦ç¼–å†™ä¸€ä¸ªä¸å†™`setup`çš„`script`æ ‡ç­¾ï¼Œå»æŒ‡å®šç»„ä»¶åå­—ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©`vite`ä¸­çš„æ’ä»¶ç®€åŒ–\n\n1. ç¬¬ä¸€æ­¥ï¼š`npm i vite-plugin-vue-setup-extend -D`\n2. ç¬¬äºŒæ­¥ï¼š`vite.config.ts`\n```html\nimport { defineConfig } from 'vite'\nimport VueSetupExtend from 'vite-plugin-vue-setup-extend'\n\nexport default defineConfig({\n  plugins: [ VueSetupExtend() ]\n})\n```\n\n3. ç¬¬ä¸‰æ­¥ï¼š`<script setup lang=\"ts\" name=\"Person\">`\n## 3.3. ã€ref åˆ›å»ºï¼šåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘\n\n- **ä½œç”¨ï¼š**å®šä¹‰å“åº”å¼å˜é‡ã€‚\n- **è¯­æ³•ï¼š**`let xxx = ref(åˆå§‹å€¼)`ã€‚\n- **è¿”å›å€¼ï¼š**ä¸€ä¸ª`RefImpl`çš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°`refå¯¹è±¡`æˆ–`ref`ï¼Œ`ref`å¯¹è±¡çš„`value`**å±æ€§æ˜¯å“åº”å¼çš„**ã€‚\n- **æ³¨æ„ç‚¹ï¼š**\n   - `JS`ä¸­æ“ä½œæ•°æ®éœ€è¦ï¼š`xxx.value`ï¼Œä½†æ¨¡æ¿ä¸­ä¸éœ€è¦`.value`ï¼Œç›´æ¥ä½¿ç”¨å³å¯ã€‚\n   - å¯¹äº`let name = ref('å¼ ä¸‰')`æ¥è¯´ï¼Œ`name`ä¸æ˜¯å“åº”å¼çš„ï¼Œ`name.value`æ˜¯å“åº”å¼çš„ã€‚\n```html\n<template>\n  <div class=\"person\">\n    <h2>å§“åï¼š{{name}}</h2>\n    <h2>å¹´é¾„ï¼š{{age}}</h2>\n    <button @click=\"changeName\">ä¿®æ”¹åå­—</button>\n    <button @click=\"changeAge\">å¹´é¾„+1</button>\n    <button @click=\"showTel\">ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼</button>\n  </div>\n</template>\n\n<script setup lang=\"ts\" name=\"Person\">\n  import {ref} from 'vue'\n  // nameå’Œageæ˜¯ä¸€ä¸ªRefImplçš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°refå¯¹è±¡ï¼Œå®ƒä»¬çš„valueå±æ€§æ˜¯å“åº”å¼çš„ã€‚\n  let name = ref('å¼ ä¸‰')\n  let age = ref(18)\n  // telå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å­—ç¬¦ä¸²ï¼Œä¸æ˜¯å“åº”å¼çš„\n  let tel = '13888888888'\n\n  function changeName(){\n    // JSä¸­æ“ä½œrefå¯¹è±¡æ—¶å€™éœ€è¦.value\n    name.value = 'æå››'\n    console.log(name.value)\n\n    // æ³¨æ„ï¼šnameä¸æ˜¯å“åº”å¼çš„ï¼Œname.valueæ˜¯å“åº”å¼çš„ï¼Œæ‰€ä»¥å¦‚ä¸‹ä»£ç å¹¶ä¸ä¼šå¼•èµ·é¡µé¢çš„æ›´æ–°ã€‚\n    // name = ref('zhang-san')\n  }\n  function changeAge(){\n    // JSä¸­æ“ä½œrefå¯¹è±¡æ—¶å€™éœ€è¦.value\n    age.value += 1 \n    console.log(age.value)\n  }\n  function showTel(){\n    alert(tel)\n  }\n</script>\n```\n## 3.4. ã€reactive åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘\n\n- **ä½œç”¨ï¼š**å®šä¹‰ä¸€ä¸ª**å“åº”å¼å¯¹è±¡**ï¼ˆåŸºæœ¬ç±»å‹ä¸è¦ç”¨å®ƒï¼Œè¦ç”¨`ref`ï¼Œå¦åˆ™æŠ¥é”™ï¼‰\n- **è¯­æ³•ï¼š**`let å“åº”å¼å¯¹è±¡= reactive(æºå¯¹è±¡)`ã€‚\n- **è¿”å›å€¼ï¼š**ä¸€ä¸ª`Proxy`çš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°ï¼šå“åº”å¼å¯¹è±¡ã€‚\n- **æ³¨æ„ç‚¹ï¼š**`reactive`å®šä¹‰çš„å“åº”å¼æ•°æ®æ˜¯â€œæ·±å±‚æ¬¡â€çš„ã€‚\n```html\n<template>\n  <div class=\"person\">\n    <h2>æ±½è½¦ä¿¡æ¯ï¼šä¸€å°{{ car.brand }}æ±½è½¦ï¼Œä»·å€¼{{ car.price }}ä¸‡</h2>\n    <h2>æ¸¸æˆåˆ—è¡¨ï¼š</h2>\n    <ul>\n      <li v-for=\"g in games\" :key=\"g.id\">{{ g.name }}</li>\n    </ul>\n    <h2>æµ‹è¯•ï¼š{{obj.a.b.c.d}}</h2>\n    <button @click=\"changeCarPrice\">ä¿®æ”¹æ±½è½¦ä»·æ ¼</button>\n    <button @click=\"changeFirstGame\">ä¿®æ”¹ç¬¬ä¸€æ¸¸æˆ</button>\n    <button @click=\"test\">æµ‹è¯•</button>\n  </div>\n</template>\n\n<script lang=\"ts\" setup name=\"Person\">\nimport { reactive } from 'vue'\n\n// æ•°æ®\nlet car = reactive({ brand: 'å¥”é©°', price: 100 })\nlet games = reactive([\n  { id: 'ahsgdyfa01', name: 'è‹±é›„è”ç›Ÿ' },\n  { id: 'ahsgdyfa02', name: 'ç‹è€…è£è€€' },\n  { id: 'ahsgdyfa03', name: 'åŸç¥' }\n])\nlet obj = reactive({\n  a:{\n    b:{\n      c:{\n        d:666\n      }\n    }\n  }\n})\n\nfunction changeCarPrice() {\n  car.price += 10\n}\nfunction changeFirstGame() {\n  games[0].name = 'æµæ˜Ÿè´è¶å‰‘'\n}\nfunction test(){\n  obj.a.b.c.d = 999\n}\n</script>\n```\n## 3.5. ã€ref åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘\n\n- å…¶å®`ref`æ¥æ”¶çš„æ•°æ®å¯ä»¥æ˜¯ï¼š**åŸºæœ¬ç±»å‹**ã€**å¯¹è±¡ç±»å‹**ã€‚\n- è‹¥`ref`æ¥æ”¶çš„æ˜¯å¯¹è±¡ç±»å‹ï¼Œå†…éƒ¨å…¶å®ä¹Ÿæ˜¯è°ƒç”¨äº†`reactive`å‡½æ•°ã€‚\n```html\n<template>\n  <div class=\"person\">\n    <h2>æ±½è½¦ä¿¡æ¯ï¼šä¸€å°{{ car.brand }}æ±½è½¦ï¼Œä»·å€¼{{ car.price }}ä¸‡</h2>\n    <h2>æ¸¸æˆåˆ—è¡¨ï¼š</h2>\n    <ul>\n      <li v-for=\"g in games\" :key=\"g.id\">{{ g.name }}</li>\n    </ul>\n    <h2>æµ‹è¯•ï¼š{{obj.a.b.c.d}}</h2>\n    <button @click=\"changeCarPrice\">ä¿®æ”¹æ±½è½¦ä»·æ ¼</button>\n    <button @click=\"changeFirstGame\">ä¿®æ”¹ç¬¬ä¸€æ¸¸æˆ</button>\n    <button @click=\"test\">æµ‹è¯•</button>\n  </div>\n</template>\n\n<script lang=\"ts\" setup name=\"Person\">\nimport { ref } from 'vue'\n\n// æ•°æ®\nlet car = ref({ brand: 'å¥”é©°', price: 100 })\nlet games = ref([\n  { id: 'ahsgdyfa01', name: 'è‹±é›„è”ç›Ÿ' },\n  { id: 'ahsgdyfa02', name: 'ç‹è€…è£è€€' },\n  { id: 'ahsgdyfa03', name: 'åŸç¥' }\n])\nlet obj = ref({\n  a:{\n    b:{\n      c:{\n        d:666\n      }\n    }\n  }\n})\n\nconsole.log(car)\n\nfunction changeCarPrice() {\n  car.value.price += 10\n}\nfunction changeFirstGame() {\n  games.value[0].name = 'æµæ˜Ÿè´è¶å‰‘'\n}\nfunction test(){\n  obj.value.a.b.c.d = 999\n}\n</script>\n```\n## 3.6. ã€ref å¯¹æ¯” reactiveã€‘\nå®è§‚è§’åº¦çœ‹ï¼š\n\n> 1. `ref`ç”¨æ¥å®šä¹‰ï¼š**åŸºæœ¬ç±»å‹æ•°æ®**ã€**å¯¹è±¡ç±»å‹æ•°æ®**ï¼›\n>\n> 2. `reactive`ç”¨æ¥å®šä¹‰ï¼š**å¯¹è±¡ç±»å‹æ•°æ®**ã€‚\n\n- åŒºåˆ«ï¼š\n\n> 1. `ref`åˆ›å»ºçš„å˜é‡å¿…é¡»ä½¿ç”¨`.value`ï¼ˆå¯ä»¥ä½¿ç”¨`volar`æ’ä»¶è‡ªåŠ¨æ·»åŠ `.value`ï¼‰ã€‚\n>\n>    <img src=\"https://s2.loli.net/2024/02/22/OWeGVjZkt341D5h.png\" alt=\"è‡ªåŠ¨è¡¥å……value\" style=\"zoom:50%;border-radius:20px\" /> \n>\n> 2. `reactive`é‡æ–°åˆ†é…ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¼š**å¤±å»**å“åº”å¼ï¼ˆå¯ä»¥ä½¿ç”¨`Object.assign`å»æ•´ä½“æ›¿æ¢ï¼‰ã€‚\n\n- ä½¿ç”¨åŸåˆ™ï¼š\n> 1. è‹¥éœ€è¦ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®ï¼Œå¿…é¡»ä½¿ç”¨`ref`ã€‚\n> 2. è‹¥éœ€è¦ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œå±‚çº§ä¸æ·±ï¼Œ`ref`ã€`reactive`éƒ½å¯ä»¥ã€‚\n> 3. è‹¥éœ€è¦ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œä¸”å±‚çº§è¾ƒæ·±ï¼Œæ¨èä½¿ç”¨`reactive`ã€‚\n\n## 3.7. ã€toRefs ä¸ toRefã€‘\n\n- ä½œç”¨ï¼šå°†ä¸€ä¸ªå“åº”å¼å¯¹è±¡ä¸­çš„æ¯ä¸€ä¸ªå±æ€§ï¼Œè½¬æ¢ä¸º`ref`å¯¹è±¡ã€‚\n- å¤‡æ³¨ï¼š`toRefs`ä¸`toRef`åŠŸèƒ½ä¸€è‡´ï¼Œä½†`toRefs`å¯ä»¥æ‰¹é‡è½¬æ¢ã€‚\n- è¯­æ³•å¦‚ä¸‹ï¼š\n```html\n<template>\n  <div class=\"person\">\n    <h2>å§“åï¼š{{person.name}}</h2>\n    <h2>å¹´é¾„ï¼š{{person.age}}</h2>\n    <h2>æ€§åˆ«ï¼š{{person.gender}}</h2>\n    <button @click=\"changeName\">ä¿®æ”¹åå­—</button>\n    <button @click=\"changeAge\">ä¿®æ”¹å¹´é¾„</button>\n    <button @click=\"changeGender\">ä¿®æ”¹æ€§åˆ«</button>\n  </div>\n</template>\n\n<script lang=\"ts\" setup name=\"Person\">\n  import {ref,reactive,toRefs,toRef} from 'vue'\n\n  // æ•°æ®\n  let person = reactive({name:'å¼ ä¸‰', age:18, gender:'ç”·'})\n\t\n  // é€šè¿‡toRefså°†personå¯¹è±¡ä¸­çš„nä¸ªå±æ€§æ‰¹é‡å–å‡ºï¼Œä¸”ä¾ç„¶ä¿æŒå“åº”å¼çš„èƒ½åŠ›\n  let {name,gender} =  toRefs(person)\n\t\n  // é€šè¿‡toRefå°†personå¯¹è±¡ä¸­çš„genderå±æ€§å–å‡ºï¼Œä¸”ä¾ç„¶ä¿æŒå“åº”å¼çš„èƒ½åŠ›\n  let age = toRef(person,'age')\n\n  // æ–¹æ³•\n  function changeName(){\n    name.value += '~'\n  }\n  function changeAge(){\n    age.value += 1\n  }\n  function changeGender(){\n    gender.value = 'å¥³'\n  }\n</script>\n```\n## 3.8. ã€computedã€‘\n\nä½œç”¨ï¼šæ ¹æ®å·²æœ‰æ•°æ®è®¡ç®—å‡ºæ–°æ•°æ®ï¼ˆå’Œ`Vue2`ä¸­çš„`computed`ä½œç”¨ä¸€è‡´ï¼‰ã€‚\n\n<img src=\"https://s2.loli.net/2024/02/22/vnDHLu7oJBd96tj.gif\" style=\"zoom:20%;\" />  \n\n```html\n<template>\n  <div class=\"person\">\n    å§“ï¼š<input type=\"text\" v-model=\"firstName\"> <br>\n    åï¼š<input type=\"text\" v-model=\"lastName\"> <br>\n    å…¨åï¼š<span>{{fullName}}</span> <br>\n    <button @click=\"changeFullName\">å…¨åæ”¹ä¸ºï¼šli-si</button>\n  </div>\n</template>\n\n<script setup lang=\"ts\" name=\"App\">\n  import {ref,computed} from 'vue'\n\n  let firstName = ref('zhang')\n  let lastName = ref('san')\n\n  // è®¡ç®—å±æ€§â€”â€”åªè¯»å–ï¼Œä¸ä¿®æ”¹\n  /* let fullName = computed(()=>{\n    return firstName.value + '-' + lastName.value\n  }) */\n\n\n  // è®¡ç®—å±æ€§â€”â€”æ—¢è¯»å–åˆä¿®æ”¹\n  let fullName = computed({\n    // è¯»å–\n    get(){\n      return firstName.value + '-' + lastName.value\n    },\n    // ä¿®æ”¹\n    set(val){\n      console.log('æœ‰äººä¿®æ”¹äº†fullName',val)\n      firstName.value = val.split('-')[0]\n      lastName.value = val.split('-')[1]\n    }\n  })\n\n  function changeFullName(){\n    fullName.value = 'li-si'\n  } \n</script>\n```\n## 3.9.ã€watchã€‘\n\n- ä½œç”¨ï¼šç›‘è§†æ•°æ®çš„å˜åŒ–ï¼ˆå’Œ`Vue2`ä¸­çš„`watch`ä½œç”¨ä¸€è‡´ï¼‰\n- ç‰¹ç‚¹ï¼š`Vue3`ä¸­çš„`watch`åªèƒ½ç›‘è§†ä»¥ä¸‹**å››ç§æ•°æ®**ï¼š\n> 1. `ref`å®šä¹‰çš„æ•°æ®ã€‚\n> 2. `reactive`å®šä¹‰çš„æ•°æ®ã€‚\n> 3. å‡½æ•°è¿”å›ä¸€ä¸ªå€¼ï¼ˆ`getter`å‡½æ•°ï¼‰ã€‚\n> 4. ä¸€ä¸ªåŒ…å«ä¸Šè¿°å†…å®¹çš„æ•°ç»„ã€‚\n\næˆ‘ä»¬åœ¨`Vue3`ä¸­ä½¿ç”¨`watch`çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šé‡åˆ°ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š\n### * æƒ…å†µä¸€\nç›‘è§†`ref`å®šä¹‰çš„ã€åŸºæœ¬ç±»å‹ã€‘æ•°æ®ï¼šç›´æ¥å†™æ•°æ®åå³å¯ï¼Œç›‘è§†çš„æ˜¯å…¶`value`å€¼çš„æ”¹å˜ã€‚\n\n```html\n<template>\n  <div class=\"person\">\n    <h1>æƒ…å†µä¸€ï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€åŸºæœ¬ç±»å‹ã€‘æ•°æ®</h1>\n    <h2>å½“å‰æ±‚å’Œä¸ºï¼š{{sum}}</h2>\n    <button @click=\"changeSum\">ç‚¹æˆ‘sum+1</button>\n  </div>\n</template>\n\n<script lang=\"ts\" setup name=\"Person\">\n  import {ref,watch} from 'vue'\n  // æ•°æ®\n  let sum = ref(0)\n  // æ–¹æ³•\n  function changeSum(){\n    sum.value += 1\n  }\n  // ç›‘è§†ï¼Œæƒ…å†µä¸€ï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€åŸºæœ¬ç±»å‹ã€‘æ•°æ®\n  const stopWatch = watch(sum,(newValue,oldValue)=>{\n    console.log('sumå˜åŒ–äº†',newValue,oldValue)\n    if(newValue >= 10){\n      stopWatch()\n    }\n  })\n</script>\n```\n### * æƒ…å†µäºŒ\nç›‘è§†`ref`å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼šç›´æ¥å†™æ•°æ®åï¼Œç›‘è§†çš„æ˜¯å¯¹è±¡çš„ã€åœ°å€å€¼ã€‘ï¼Œè‹¥æƒ³ç›‘è§†å¯¹è±¡å†…éƒ¨çš„æ•°æ®ï¼Œè¦æ‰‹åŠ¨å¼€å¯æ·±åº¦ç›‘è§†ã€‚\n\n> æ³¨æ„ï¼š\n>\n> * è‹¥ä¿®æ”¹çš„æ˜¯`ref`å®šä¹‰çš„å¯¹è±¡ä¸­çš„å±æ€§ï¼Œ`newValue` å’Œ `oldValue` éƒ½æ˜¯æ–°å€¼ï¼Œå› ä¸ºå®ƒä»¬æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚\n>\n> * è‹¥ä¿®æ”¹æ•´ä¸ª`ref`å®šä¹‰çš„å¯¹è±¡ï¼Œ`newValue` æ˜¯æ–°å€¼ï¼Œ `oldValue` æ˜¯æ—§å€¼ï¼Œå› ä¸ºä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡äº†ã€‚\n\n```html\n<template>\n  <div class=\"person\">\n    <h1>æƒ…å†µäºŒï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®</h1>\n    <h2>å§“åï¼š{{ person.name }}</h2>\n    <h2>å¹´é¾„ï¼š{{ person.age }}</h2>\n    <button @click=\"changeName\">ä¿®æ”¹åå­—</button>\n    <button @click=\"changeAge\">ä¿®æ”¹å¹´é¾„</button>\n    <button @click=\"changePerson\">ä¿®æ”¹æ•´ä¸ªäºº</button>\n  </div>\n</template>\n\n<script lang=\"ts\" setup name=\"Person\">\n  import {ref,watch} from 'vue'\n  // æ•°æ®\n  let person = ref({\n    name:'å¼ ä¸‰',\n    age:18\n  })\n  // æ–¹æ³•\n  function changeName(){\n    person.value.name += '~'\n  }\n  function changeAge(){\n    person.value.age += 1\n  }\n  function changePerson(){\n    person.value = {name:'æå››',age:90}\n  }\n  /* \n    ç›‘è§†ï¼Œæƒ…å†µä¸€ï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼Œç›‘è§†çš„æ˜¯å¯¹è±¡çš„åœ°å€å€¼ï¼Œè‹¥æƒ³ç›‘è§†å¯¹è±¡å†…éƒ¨å±æ€§çš„å˜åŒ–ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯æ·±åº¦ç›‘è§†\n    watchçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ï¼šè¢«ç›‘è§†çš„æ•°æ®\n    watchçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ï¼šç›‘è§†çš„å›è°ƒ\n    watchçš„ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ï¼šé…ç½®å¯¹è±¡ï¼ˆdeepã€immediateç­‰ç­‰.....ï¼‰ \n  */\n  watch(person,(newValue,oldValue)=>{\n    console.log('personå˜åŒ–äº†',newValue,oldValue)\n  },{deep:true})\n  \n</script>\n```\n### *  æƒ…å†µä¸‰\nç›‘è§†`reactive`å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼Œä¸”é»˜è®¤å¼€å¯äº†æ·±åº¦ç›‘è§†ã€‚\n```html\n<template>\n  <div class=\"person\">\n    <h1>æƒ…å†µä¸‰ï¼šç›‘è§†ã€reactiveã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®</h1>\n    <h2>å§“åï¼š{{ person.name }}</h2>\n    <h2>å¹´é¾„ï¼š{{ person.age }}</h2>\n    <button @click=\"changeName\">ä¿®æ”¹åå­—</button>\n    <button @click=\"changeAge\">ä¿®æ”¹å¹´é¾„</button>\n    <button @click=\"changePerson\">ä¿®æ”¹æ•´ä¸ªäºº</button>\n    <hr>\n    <h2>æµ‹è¯•ï¼š{{obj.a.b.c}}</h2>\n    <button @click=\"test\">ä¿®æ”¹obj.a.b.c</button>\n  </div>\n</template>\n\n<script lang=\"ts\" setup name=\"Person\">\n  import {reactive,watch} from 'vue'\n  // æ•°æ®\n  let person = reactive({\n    name:'å¼ ä¸‰',\n    age:18\n  })\n  let obj = reactive({\n    a:{\n      b:{\n        c:666\n      }\n    }\n  })\n  // æ–¹æ³•\n  function changeName(){\n    person.name += '~'\n  }\n  function changeAge(){\n    person.age += 1\n  }\n  function changePerson(){\n    Object.assign(person,{name:'æå››',age:80})\n  }\n  function test(){\n    obj.a.b.c = 888\n  }\n\n  // ç›‘è§†ï¼Œæƒ…å†µä¸‰ï¼šç›‘è§†ã€reactiveã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼Œä¸”é»˜è®¤æ˜¯å¼€å¯æ·±åº¦ç›‘è§†çš„\n  watch(person,(newValue,oldValue)=>{\n    console.log('personå˜åŒ–äº†',newValue,oldValue)\n  })\n  watch(obj,(newValue,oldValue)=>{\n    console.log('Objå˜åŒ–äº†',newValue,oldValue)\n  })\n</script>\n```\n### * æƒ…å†µå››\nç›‘è§†`ref`æˆ–`reactive`å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ä¸­çš„**æŸä¸ªå±æ€§**ï¼Œæ³¨æ„ç‚¹å¦‚ä¸‹ï¼š\n\n1. è‹¥è¯¥å±æ€§å€¼**ä¸æ˜¯**ã€å¯¹è±¡ç±»å‹ã€‘ï¼Œéœ€è¦å†™æˆå‡½æ•°å½¢å¼ã€‚\n2. è‹¥è¯¥å±æ€§å€¼æ˜¯**ä¾ç„¶**æ˜¯ã€å¯¹è±¡ç±»å‹ã€‘ï¼Œå¯ç›´æ¥ç¼–ï¼Œä¹Ÿå¯å†™æˆå‡½æ•°ï¼Œå»ºè®®å†™æˆå‡½æ•°ã€‚\n\nç»“è®ºï¼šç›‘è§†çš„è¦æ˜¯å¯¹è±¡é‡Œçš„å±æ€§ï¼Œé‚£ä¹ˆæœ€å¥½å†™å‡½æ•°å¼ï¼Œæ³¨æ„ç‚¹ï¼šè‹¥æ˜¯å¯¹è±¡ç›‘è§†çš„æ˜¯åœ°å€å€¼ï¼Œéœ€è¦å…³æ³¨å¯¹è±¡å†…éƒ¨ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯æ·±åº¦ç›‘è§†ã€‚\n\n```html\n<template>\n  <div class=\"person\">\n    <h1>æƒ…å†µå››ï¼šç›‘è§†ã€refã€‘æˆ–ã€reactiveã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ä¸­çš„æŸä¸ªå±æ€§</h1>\n    <h2>å§“åï¼š{{ person.name }}</h2>\n    <h2>å¹´é¾„ï¼š{{ person.age }}</h2>\n    <h2>æ±½è½¦ï¼š{{ person.car.c1 }}ã€{{ person.car.c2 }}</h2>\n    <button @click=\"changeName\">ä¿®æ”¹åå­—</button>\n    <button @click=\"changeAge\">ä¿®æ”¹å¹´é¾„</button>\n    <button @click=\"changeC1\">ä¿®æ”¹ç¬¬ä¸€å°è½¦</button>\n    <button @click=\"changeC2\">ä¿®æ”¹ç¬¬äºŒå°è½¦</button>\n    <button @click=\"changeCar\">ä¿®æ”¹æ•´ä¸ªè½¦</button>\n  </div>\n</template>\n\n<script lang=\"ts\" setup name=\"Person\">\n  import {reactive,watch} from 'vue'\n\n  // æ•°æ®\n  let person = reactive({\n    name:'å¼ ä¸‰',\n    age:18,\n    car:{\n      c1:'å¥”é©°',\n      c2:'å®é©¬'\n    }\n  })\n  // æ–¹æ³•\n  function changeName(){\n    person.name += '~'\n  }\n  function changeAge(){\n    person.age += 1\n  }\n  function changeC1(){\n    person.car.c1 = 'å¥¥è¿ª'\n  }\n  function changeC2(){\n    person.car.c2 = 'å¤§ä¼—'\n  }\n  function changeCar(){\n    person.car = {c1:'é›…è¿ª',c2:'çˆ±ç›'}\n  }\n\n  // ç›‘è§†ï¼Œæƒ…å†µå››ï¼šç›‘è§†å“åº”å¼å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ï¼Œä¸”è¯¥å±æ€§æ˜¯åŸºæœ¬ç±»å‹çš„ï¼Œè¦å†™æˆå‡½æ•°å¼\n  /* watch(()=> person.name,(newValue,oldValue)=>{\n    console.log('person.nameå˜åŒ–äº†',newValue,oldValue)\n  }) */\n\n  // ç›‘è§†ï¼Œæƒ…å†µå››ï¼šç›‘è§†å“åº”å¼å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ï¼Œä¸”è¯¥å±æ€§æ˜¯å¯¹è±¡ç±»å‹çš„ï¼Œå¯ä»¥ç›´æ¥å†™ï¼Œä¹Ÿèƒ½å†™å‡½æ•°ï¼Œæ›´æ¨èå†™å‡½æ•°\n  watch(()=>person.car,(newValue,oldValue)=>{\n    console.log('person.carå˜åŒ–äº†',newValue,oldValue)\n  },{deep:true})\n</script>\n```\n### * æƒ…å†µäº”\nç›‘è§†ä¸Šè¿°çš„å¤šä¸ªæ•°æ®\n```html\n<template>\n  <div class=\"person\">\n    <h1>æƒ…å†µäº”ï¼šç›‘è§†ä¸Šè¿°çš„å¤šä¸ªæ•°æ®</h1>\n    <h2>å§“åï¼š{{ person.name }}</h2>\n    <h2>å¹´é¾„ï¼š{{ person.age }}</h2>\n    <h2>æ±½è½¦ï¼š{{ person.car.c1 }}ã€{{ person.car.c2 }}</h2>\n    <button @click=\"changeName\">ä¿®æ”¹åå­—</button>\n    <button @click=\"changeAge\">ä¿®æ”¹å¹´é¾„</button>\n    <button @click=\"changeC1\">ä¿®æ”¹ç¬¬ä¸€å°è½¦</button>\n    <button @click=\"changeC2\">ä¿®æ”¹ç¬¬äºŒå°è½¦</button>\n    <button @click=\"changeCar\">ä¿®æ”¹æ•´ä¸ªè½¦</button>\n  </div>\n</template>\n\n<script lang=\"ts\" setup name=\"Person\">\n  import {reactive,watch} from 'vue'\n\n  // æ•°æ®\n  let person = reactive({\n    name:'å¼ ä¸‰',\n    age:18,\n    car:{\n      c1:'å¥”é©°',\n      c2:'å®é©¬'\n    }\n  })\n  // æ–¹æ³•\n  function changeName(){\n    person.name += '~'\n  }\n  function changeAge(){\n    person.age += 1\n  }\n  function changeC1(){\n    person.car.c1 = 'å¥¥è¿ª'\n  }\n  function changeC2(){\n    person.car.c2 = 'å¤§ä¼—'\n  }\n  function changeCar(){\n    person.car = {c1:'é›…è¿ª',c2:'çˆ±ç›'}\n  }\n\n  // ç›‘è§†ï¼Œæƒ…å†µäº”ï¼šç›‘è§†ä¸Šè¿°çš„å¤šä¸ªæ•°æ®\n  watch([()=>person.name,person.car],(newValue,oldValue)=>{\n    console.log('person.carå˜åŒ–äº†',newValue,oldValue)\n  },{deep:true})\n\n</script>\n```\n## 3.10. ã€watchEffectã€‘\n\n* å®˜ç½‘ï¼šç«‹å³è¿è¡Œä¸€ä¸ªå‡½æ•°ï¼ŒåŒæ—¶å“åº”å¼åœ°è¿½è¸ªå…¶ä¾èµ–ï¼Œå¹¶åœ¨ä¾èµ–æ›´æ”¹æ—¶é‡æ–°æ‰§è¡Œè¯¥å‡½æ•°ã€‚\n\n* `watch`å¯¹æ¯”`watchEffect`\n\n  > 1. éƒ½èƒ½ç›‘å¬å“åº”å¼æ•°æ®çš„å˜åŒ–ï¼Œä¸åŒçš„æ˜¯ç›‘å¬æ•°æ®å˜åŒ–çš„æ–¹å¼ä¸åŒ\n  >\n  > 2. `watch`ï¼šè¦æ˜ç¡®æŒ‡å‡ºç›‘è§†çš„æ•°æ®\n  >\n  > 3. `watchEffect`ï¼šä¸ç”¨æ˜ç¡®æŒ‡å‡ºç›‘è§†çš„æ•°æ®ï¼ˆå‡½æ•°ä¸­ç”¨åˆ°å“ªäº›å±æ€§ï¼Œé‚£å°±ç›‘è§†å“ªäº›å±æ€§ï¼‰ã€‚\n\n* ç¤ºä¾‹ä»£ç ï¼š\n\n  ```html\n  <template>\n    <div class=\"person\">\n      <h1>éœ€æ±‚ï¼šæ°´æ¸©è¾¾åˆ°50â„ƒï¼Œæˆ–æ°´ä½è¾¾åˆ°20cmï¼Œåˆ™è”ç³»æœåŠ¡å™¨</h1>\n      <h2 id=\"demo\">æ°´æ¸©ï¼š{{temp}}</h2>\n      <h2>æ°´ä½ï¼š{{height}}</h2>\n      <button @click=\"changePrice\">æ°´æ¸©+1</button>\n      <button @click=\"changeSum\">æ°´ä½+10</button>\n    </div>\n  </template>\n  \n  <script lang=\"ts\" setup name=\"Person\">\n    import {ref,watch,watchEffect} from 'vue'\n    // æ•°æ®\n    let temp = ref(0)\n    let height = ref(0)\n  \n    // æ–¹æ³•\n    function changePrice(){\n      temp.value += 10\n    }\n    function changeSum(){\n      height.value += 1\n    }\n  \n    // ç”¨watchå®ç°ï¼Œéœ€è¦æ˜ç¡®çš„æŒ‡å‡ºè¦ç›‘è§†ï¼štempã€height\n    watch([temp,height],(value)=>{\n      // ä»valueä¸­è·å–æœ€æ–°çš„tempå€¼ã€heightå€¼\n      const [newTemp,newHeight] = value\n      // å®¤æ¸©è¾¾åˆ°50â„ƒï¼Œæˆ–æ°´ä½è¾¾åˆ°20cmï¼Œç«‹åˆ»è”ç³»æœåŠ¡å™¨\n      if(newTemp >= 50 || newHeight >= 20){\n        console.log('è”ç³»æœåŠ¡å™¨')\n      }\n    })\n  \n    // ç”¨watchEffectå®ç°ï¼Œä¸ç”¨\n    const stopWtach = watchEffect(()=>{\n      // å®¤æ¸©è¾¾åˆ°50â„ƒï¼Œæˆ–æ°´ä½è¾¾åˆ°20cmï¼Œç«‹åˆ»è”ç³»æœåŠ¡å™¨\n      if(temp.value >= 50 || height.value >= 20){\n        console.log(document.getElementById('demo')?.innerText)\n        console.log('è”ç³»æœåŠ¡å™¨')\n      }\n      // æ°´æ¸©è¾¾åˆ°100ï¼Œæˆ–æ°´ä½è¾¾åˆ°50ï¼Œå–æ¶ˆç›‘è§†\n      if(temp.value === 100 || height.value === 50){\n        console.log('æ¸…ç†äº†')\n        stopWtach()\n      }\n    })\n  </script>\n  ```\n  \n  \n\n## 3.11. ã€æ ‡ç­¾çš„ ref å±æ€§ã€‘\n\nä½œç”¨ï¼šç”¨äºæ³¨å†Œæ¨¡æ¿å¼•ç”¨ã€‚\n\n> * ç”¨åœ¨æ™®é€š`DOM`æ ‡ç­¾ä¸Šï¼Œè·å–çš„æ˜¯`DOM`èŠ‚ç‚¹ã€‚\n>\n> * ç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šï¼Œè·å–çš„æ˜¯ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚\n\nç”¨åœ¨æ™®é€š`DOM`æ ‡ç­¾ä¸Šï¼š\n\n```html\n<template>\n  <div class=\"person\">\n    <h1 ref=\"title1\">å°šç¡…è°·</h1>\n    <h2 ref=\"title2\">å‰ç«¯</h2>\n    <h3 ref=\"title3\">Vue</h3>\n    <input type=\"text\" ref=\"inpt\"> <br><br>\n    <button @click=\"showLog\">ç‚¹æˆ‘æ‰“å°å†…å®¹</button>\n  </div>\n</template>\n\n<script lang=\"ts\" setup name=\"Person\">\n  import {ref} from 'vue'\n\t\n  let title1 = ref()\n  let title2 = ref()\n  let title3 = ref()\n\n  function showLog(){\n    // é€šè¿‡idè·å–å…ƒç´ \n    const t1 = document.getElementById('title1')\n    // æ‰“å°å†…å®¹\n    console.log((t1 as HTMLElement).innerText)\n    console.log((<HTMLElement>t1).innerText)\n    console.log(t1?.innerText)\n    \n\t\t/************************************/\n\t\t\n    // é€šè¿‡refè·å–å…ƒç´ \n    console.log(title1.value)\n    console.log(title2.value)\n    console.log(title3.value)\n  }\n</script>\n```\n\nç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šï¼š\n\n```html\n<!-- çˆ¶ç»„ä»¶App.vue -->\n<template>\n  <Person ref=\"ren\"/>\n  <button @click=\"test\">æµ‹è¯•</button>\n</template>\n\n<script lang=\"ts\" setup name=\"App\">\n  import Person from './components/Person.vue'\n  import {ref} from 'vue'\n\n  let ren = ref()\n\n  function test(){\n    console.log(ren.value.name)\n    console.log(ren.value.age)\n  }\n</script>\n\n\n<!-- å­ç»„ä»¶Person.vueä¸­è¦ä½¿ç”¨defineExposeæš´éœ²å†…å®¹ -->\n<script lang=\"ts\" setup name=\"Person\">\n  import {ref,defineExpose} from 'vue'\n\t// æ•°æ®\n  let name = ref('å¼ ä¸‰')\n  let age = ref(18)\n  /****************************/\n  /****************************/\n  // ä½¿ç”¨defineExposeå°†ç»„ä»¶ä¸­çš„æ•°æ®äº¤ç»™å¤–éƒ¨\n  defineExpose({name,age})\n</script>\n```\n\n\n\n## 3.12. ã€propsã€‘\n\n> ```js\n> // å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œé™åˆ¶æ¯ä¸ªPersonå¯¹è±¡çš„æ ¼å¼\n> export interface PersonInter {\n> id:string,\n> name:string,\n>  age:number\n> }\n> \n> // å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹Persons\n> export type Persons = Array<PersonInter>\n> ```\n>\n> `App.vue`ä¸­ä»£ç ï¼š\n>\n> ```html\n> <template>\n> \t<Person :list=\"persons\"/>\n> </template>\n> \n> <script lang=\"ts\" setup name=\"App\">\n> import Person from './components/Person.vue'\n> import {reactive} from 'vue'\n>  import {type Persons} from './types'\n> \n>  let persons = reactive<Persons>([\n>   {id:'e98219e12',name:'å¼ ä¸‰',age:18},\n>    {id:'e98219e13',name:'æå››',age:19},\n>     {id:'e98219e14',name:'ç‹äº”',age:20}\n>   ])\n> </script>\n> \n> ```\n>\n> `Person.vue`ä¸­ä»£ç ï¼š\n>\n> ```html\n> <template>\n> <div class=\"person\">\n> <ul>\n>   <li v-for=\"item in list\" :key=\"item.id\">\n>      {{item.name}}--{{item.age}}\n>    </li>\n>  </ul>\n> </div>\n> </template>\n> \n> <script lang=\"ts\" setup name=\"Person\">\n> import {defineProps} from 'vue'\n> import {type PersonInter} from '@/types'\n> \n> // ç¬¬ä¸€ç§å†™æ³•ï¼šä»…æ¥æ”¶\n> // const props = defineProps(['list'])\n> \n> // ç¬¬äºŒç§å†™æ³•ï¼šæ¥æ”¶+é™åˆ¶ç±»å‹\n> // defineProps<{list:Persons}>()\n> \n> // ç¬¬ä¸‰ç§å†™æ³•ï¼šæ¥æ”¶+é™åˆ¶ç±»å‹+æŒ‡å®šé»˜è®¤å€¼+é™åˆ¶å¿…è¦æ€§\n> let props = withDefaults(defineProps<{list?:Persons}>(),{\n>   list:()=>[{id:'asdasg01',name:'å°çŒªä½©å¥‡',age:18}]\n> })\n> console.log(props)\n> </script>\n> ```\n>\n\n## 3.13. ã€ç”Ÿå‘½å‘¨æœŸã€‘\n\n* æ¦‚å¿µï¼š`Vue`ç»„ä»¶å®ä¾‹åœ¨åˆ›å»ºæ—¶è¦ç»å†ä¸€ç³»åˆ—çš„åˆå§‹åŒ–æ­¥éª¤ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­`Vue`ä¼šåœ¨åˆé€‚çš„æ—¶æœºï¼Œè°ƒç”¨ç‰¹å®šçš„å‡½æ•°ï¼Œä»è€Œè®©å¼€å‘è€…æœ‰æœºä¼šåœ¨ç‰¹å®šé˜¶æ®µè¿è¡Œè‡ªå·±çš„ä»£ç ï¼Œè¿™äº›ç‰¹å®šçš„å‡½æ•°ç»Ÿç§°ä¸ºï¼šç”Ÿå‘½å‘¨æœŸé’©å­\n\n* è§„å¾‹ï¼š\n\n  > ç”Ÿå‘½å‘¨æœŸæ•´ä½“åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼Œåˆ†åˆ«æ˜¯ï¼š**åˆ›å»ºã€æŒ‚è½½ã€æ›´æ–°ã€é”€æ¯**ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰ä¸¤ä¸ªé’©å­ï¼Œä¸€å‰ä¸€åã€‚\n\n* `Vue2`çš„ç”Ÿå‘½å‘¨æœŸ\n\n  > åˆ›å»ºé˜¶æ®µï¼š`beforeCreate`ã€`created`\n  >\n  > æŒ‚è½½é˜¶æ®µï¼š`beforeMount`ã€`mounted`\n  >\n  > æ›´æ–°é˜¶æ®µï¼š`beforeUpdate`ã€`updated`\n  >\n  > é”€æ¯é˜¶æ®µï¼š`beforeDestroy`ã€`destroyed`\n\n* `Vue3`çš„ç”Ÿå‘½å‘¨æœŸ\n\n  > åˆ›å»ºé˜¶æ®µï¼š`setup`\n  >\n  > æŒ‚è½½é˜¶æ®µï¼š`onBeforeMount`ã€`onMounted`\n  >\n  > æ›´æ–°é˜¶æ®µï¼š`onBeforeUpdate`ã€`onUpdated`\n  >\n  > å¸è½½é˜¶æ®µï¼š`onBeforeUnmount`ã€`onUnmounted`\n\n* å¸¸ç”¨çš„é’©å­ï¼š`onMounted`(æŒ‚è½½å®Œæ¯•)ã€`onUpdated`(æ›´æ–°å®Œæ¯•)ã€`onBeforeUnmount`(å¸è½½ä¹‹å‰)\n\n* ç¤ºä¾‹ä»£ç ï¼š\n\n  ```html\n  <template>\n    <div class=\"person\">\n      <h2>å½“å‰æ±‚å’Œä¸ºï¼š{{ sum }}</h2>\n      <button @click=\"changeSum\">ç‚¹æˆ‘sum+1</button>\n    </div>\n  </template>\n  \n  <!-- vue3å†™æ³• -->\n  <script lang=\"ts\" setup name=\"Person\">\n    import { \n      ref, \n      onBeforeMount, \n      onMounted, \n      onBeforeUpdate, \n      onUpdated, \n      onBeforeUnmount, \n      onUnmounted \n    } from 'vue'\n  \n    // æ•°æ®\n    let sum = ref(0)\n    // æ–¹æ³•\n    function changeSum() {\n      sum.value += 1\n    }\n    console.log('setup')\n    // ç”Ÿå‘½å‘¨æœŸé’©å­\n    onBeforeMount(()=>{\n      console.log('æŒ‚è½½ä¹‹å‰')\n    })\n    onMounted(()=>{\n      console.log('æŒ‚è½½å®Œæ¯•')\n    })\n    onBeforeUpdate(()=>{\n      console.log('æ›´æ–°ä¹‹å‰')\n    })\n    onUpdated(()=>{\n      console.log('æ›´æ–°å®Œæ¯•')\n    })\n    onBeforeUnmount(()=>{\n      console.log('å¸è½½ä¹‹å‰')\n    })\n    onUnmounted(()=>{\n      console.log('å¸è½½å®Œæ¯•')\n    })\n  </script>\n  ```\n\n## 3.14. ã€è‡ªå®šä¹‰hookã€‘\n\n- ä»€ä¹ˆæ˜¯`hook`ï¼Ÿâ€”â€” æœ¬è´¨æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠ`setup`å‡½æ•°ä¸­ä½¿ç”¨çš„`Composition API`è¿›è¡Œäº†å°è£…ï¼Œç±»ä¼¼äº`vue2.x`ä¸­çš„`mixin`ã€‚\n\n- è‡ªå®šä¹‰`hook`çš„ä¼˜åŠ¿ï¼šå¤ç”¨ä»£ç , è®©`setup`ä¸­çš„é€»è¾‘æ›´æ¸…æ¥šæ˜“æ‡‚ã€‚\n\nç¤ºä¾‹ä»£ç ï¼š\n\n- `useSum.ts`ä¸­å†…å®¹å¦‚ä¸‹ï¼š\n\n  ```html\n  import {ref,onMounted} from 'vue'\n  \n  export default function(){\n    let sum = ref(0)\n  \n    const increment = ()=>{\n      sum.value += 1\n    }\n    const decrement = ()=>{\n      sum.value -= 1\n    }\n    onMounted(()=>{\n      increment()\n    })\n  \n    //å‘å¤–éƒ¨æš´éœ²æ•°æ®\n    return {sum,increment,decrement}\n  }\t\t\n  ```\n  \n- `useDog.ts`ä¸­å†…å®¹å¦‚ä¸‹ï¼š\n\n  ```js\n  import {reactive,onMounted} from 'vue'\n  import axios,{AxiosError} from 'axios'\n  \n  export default function(){\n    let dogList = reactive<string[]>([])\n  \n    // æ–¹æ³•\n    async function getDog(){\n      try {\n        // å‘è¯·æ±‚\n        let {data} = await axios.get('https://dog.ceo/api/breed/pembroke/images/random')\n        // ç»´æŠ¤æ•°æ®\n        dogList.push(data.message)\n      } catch (error) {\n        // å¤„ç†é”™è¯¯\n        const err = <AxiosError>error\n        console.log(err.message)\n      }\n    }\n  \n    // æŒ‚è½½é’©å­\n    onMounted(()=>{\n      getDog()\n    })\n  \t\n    //å‘å¤–éƒ¨æš´éœ²æ•°æ®\n    return {dogList,getDog}\n  }\n  ```\n\n- ç»„ä»¶ä¸­å…·ä½“ä½¿ç”¨ï¼š\n\n  ```html\n  <template>\n    <h2>å½“å‰æ±‚å’Œä¸ºï¼š{{sum}}</h2>\n    <button @click=\"increment\">ç‚¹æˆ‘+1</button>\n    <button @click=\"decrement\">ç‚¹æˆ‘-1</button>\n    <hr>\n    <img v-for=\"(u,index) in dogList.urlList\" :key=\"index\" :src=\"(u as string)\"> \n    <span v-show=\"dogList.isLoading\">åŠ è½½ä¸­......</span><br>\n    <button @click=\"getDog\">å†æ¥ä¸€åªç‹—</button>\n  </template>\n  \n  <script lang=\"ts\">\n    import {defineComponent} from 'vue'\n  \n    export default defineComponent({\n      name:'App',\n    })\n  </script>\n  \n  <script setup lang=\"ts\">\n    import useSum from './hooks/useSum'\n    import useDog from './hooks/useDog'\n  \t\n    let {sum,increment,decrement} = useSum()\n    let {dogList,getDog} = useDog()\n  </script>\n  ```\n\n    \n\n---\n\n# 4. è·¯ç”±\n\n## 4.1. ã€å¯¹è·¯ç”±çš„ç†è§£ã€‘\n\n<img src=\"https://s2.loli.net/2024/02/22/DwoFp1lznKBvS5R.png\" alt=\"image-20231018144351536\" style=\"zoom:20%;border-radius:40px\" /> \n\n## 4.2. ã€åŸºæœ¬åˆ‡æ¢æ•ˆæœã€‘\n\n- `Vue3`ä¸­è¦ä½¿ç”¨`vue-router`çš„æœ€æ–°ç‰ˆæœ¬ï¼Œç›®å‰æ˜¯`4`ç‰ˆæœ¬ã€‚\n\n- è·¯ç”±é…ç½®æ–‡ä»¶ä»£ç å¦‚ä¸‹ï¼š\n\n  ```js\n  import {createRouter,createWebHistory} from 'vue-router'\n  import Home from '@/pages/Home.vue'\n  import News from '@/pages/News.vue'\n  import About from '@/pages/About.vue'\n  \n  const router = createRouter({\n  \thistory:createWebHistory(),\n  \troutes:[\n  \t\t{\n  \t\t\tpath:'/home',\n  \t\t\tcomponent:Home\n  \t\t},\n  \t\t{\n  \t\t\tpath:'/about',\n  \t\t\tcomponent:About\n  \t\t}\n  \t]\n  })\n  export default router\n  ```\n* `main.ts`ä»£ç å¦‚ä¸‹ï¼š\n\n  ```js\n  import router from './router/index'\n  app.use(router)\n  \n  app.mount('#app')\n  ```\n\n- `App.vue`ä»£ç å¦‚ä¸‹\n\n  ```html\n  <template>\n    <div class=\"app\">\n      <h2 class=\"title\">Vueè·¯ç”±æµ‹è¯•</h2>\n      <!-- å¯¼èˆªåŒº -->\n      <div class=\"navigate\">\n        <RouterLink to=\"/home\" active-class=\"active\">é¦–é¡µ</RouterLink>\n        <RouterLink to=\"/news\" active-class=\"active\">æ–°é—»</RouterLink>\n        <RouterLink to=\"/about\" active-class=\"active\">å…³äº</RouterLink>\n      </div>\n      <!-- å±•ç¤ºåŒº -->\n      <div class=\"main-content\">\n        <RouterView></RouterView>\n      </div>\n    </div>\n  </template>\n  \n  <script lang=\"ts\" setup name=\"App\">\n    import {RouterLink,RouterView} from 'vue-router'  \n  </script>\n  ```\n\n## 4.3. ã€ä¸¤ä¸ªæ³¨æ„ç‚¹ã€‘\n\n> 1. è·¯ç”±ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨`pages` æˆ– `views`æ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨`components`æ–‡ä»¶å¤¹ã€‚\n>\n> 2. é€šè¿‡ç‚¹å‡»å¯¼èˆªï¼Œè§†è§‰æ•ˆæœä¸Šâ€œæ¶ˆå¤±â€ äº†çš„è·¯ç”±ç»„ä»¶ï¼Œé»˜è®¤æ˜¯è¢«**å¸è½½**æ‰çš„ï¼Œéœ€è¦çš„æ—¶å€™å†å»**æŒ‚è½½**ã€‚\n\n## 4.4.ã€è·¯ç”±å™¨å·¥ä½œæ¨¡å¼ã€‘\n\n1. `history`æ¨¡å¼\n\n   > ä¼˜ç‚¹ï¼š`URL`æ›´åŠ ç¾è§‚ï¼Œä¸å¸¦æœ‰`#`ï¼Œæ›´æ¥è¿‘ä¼ ç»Ÿçš„ç½‘ç«™`URL`ã€‚\n   >\n   > ç¼ºç‚¹ï¼šåæœŸé¡¹ç›®ä¸Šçº¿ï¼Œéœ€è¦æœåŠ¡ç«¯é…åˆå¤„ç†è·¯å¾„é—®é¢˜ï¼Œå¦åˆ™åˆ·æ–°ä¼šæœ‰`404`é”™è¯¯ã€‚\n   >\n   > ```js\n   > const router = createRouter({\n   > \thistory:createWebHistory(), //historyæ¨¡å¼\n   > \t/******/\n   > })\n   > ```\n\n2. `hash`æ¨¡å¼\n\n   > ä¼˜ç‚¹ï¼šå…¼å®¹æ€§æ›´å¥½ï¼Œå› ä¸ºä¸éœ€è¦æœåŠ¡å™¨ç«¯å¤„ç†è·¯å¾„ã€‚\n   >\n   > ç¼ºç‚¹ï¼š`URL`å¸¦æœ‰`#`ä¸å¤ªç¾è§‚ï¼Œä¸”åœ¨`SEO`ä¼˜åŒ–æ–¹é¢ç›¸å¯¹è¾ƒå·®ã€‚\n   >\n   > ```js\n   > const router = createRouter({\n   > \thistory:createWebHashHistory(), //hashæ¨¡å¼\n   > \t/******/\n   > })\n   > ```\n\n## 4.5. ã€toçš„ä¸¤ç§å†™æ³•ã€‘\n\n```html\n<!-- ç¬¬ä¸€ç§ï¼štoçš„å­—ç¬¦ä¸²å†™æ³• -->\n<router-link active-class=\"active\" to=\"/home\">ä¸»é¡µ</router-link>\n\n<!-- ç¬¬äºŒç§ï¼štoçš„å¯¹è±¡å†™æ³• -->\n<router-link active-class=\"active\" :to=\"{path:'/home'}\">Home</router-link>\n```\n\n## 4.6. ã€å‘½åè·¯ç”±ã€‘\n\nä½œç”¨ï¼šå¯ä»¥ç®€åŒ–è·¯ç”±è·³è½¬åŠä¼ å‚ï¼ˆåé¢å°±è®²ï¼‰ã€‚\n\nç»™è·¯ç”±è§„åˆ™å‘½åï¼š\n\n```js\nroutes:[\n  {\n    name:'zhuye',\n    path:'/home',\n    component:Home\n  },\n  {\n    name:'xinwen',\n    path:'/news',\n    component:News,\n  },\n  {\n    name:'guanyu',\n    path:'/about',\n    component:About\n  }\n]\n```\n\nè·³è½¬è·¯ç”±ï¼š\n\n```html\n<!--ç®€åŒ–å‰ï¼šéœ€è¦å†™å®Œæ•´çš„è·¯å¾„ï¼ˆtoçš„å­—ç¬¦ä¸²å†™æ³•ï¼‰ -->\n<router-link to=\"/news/detail\">è·³è½¬</router-link>\n\n<!--ç®€åŒ–åï¼šç›´æ¥é€šè¿‡åå­—è·³è½¬ï¼ˆtoçš„å¯¹è±¡å†™æ³•é…åˆnameå±æ€§ï¼‰ -->\n<router-link :to=\"{name:'guanyu'}\">è·³è½¬</router-link>\n```\n\n\n\n## 4.7. ã€åµŒå¥—è·¯ç”±ã€‘\n\n1. ç¼–å†™`News`çš„å­è·¯ç”±ï¼š`Detail.vue`\n\n2. é…ç½®è·¯ç”±è§„åˆ™ï¼Œä½¿ç”¨`children`é…ç½®é¡¹ï¼š\n\n   ```ts\n   const router = createRouter({\n     history:createWebHistory(),\n   \troutes:[\n   \t\t{\n   \t\t\tname:'zhuye',\n   \t\t\tpath:'/home',\n   \t\t\tcomponent:Home\n   \t\t},\n   \t\t{\n   \t\t\tname:'xinwen',\n   \t\t\tpath:'/news',\n   \t\t\tcomponent:News,\n   \t\t\tchildren:[\n   \t\t\t\t{\n   \t\t\t\t\tname:'xiang',\n   \t\t\t\t\tpath:'detail',\n   \t\t\t\t\tcomponent:Detail\n   \t\t\t\t}\n   \t\t\t]\n   \t\t},\n   \t\t{\n   \t\t\tname:'guanyu',\n   \t\t\tpath:'/about',\n   \t\t\tcomponent:About\n   \t\t}\n   \t]\n   })\n   export default router\n   ```\n   \n3. è·³è½¬è·¯ç”±ï¼ˆè®°å¾—è¦åŠ å®Œæ•´è·¯å¾„ï¼‰ï¼š\n\n   ```html\n   <router-link to=\"/news/detail\">xxxx</router-link>\n   <!-- æˆ– -->\n   <router-link :to=\"{path:'/news/detail'}\">xxxx</router-link>\n   ```\n\n4. è®°å¾—å»`Home`ç»„ä»¶ä¸­é¢„ç•™ä¸€ä¸ª`<router-view>`\n\n   ```html\n   <template>\n     <div class=\"news\">\n       <nav class=\"news-list\">\n         <RouterLink v-for=\"news in newsList\" :key=\"news.id\" :to=\"{path:'/news/detail'}\">\n           {{news.name}}\n         </RouterLink>\n       </nav>\n       <div class=\"news-detail\">\n         <RouterView/>\n       </div>\n     </div>\n   </template>\n   ```\n\n   \n\n## 4.8. ã€è·¯ç”±ä¼ å‚ã€‘\n\n### queryå‚æ•°\n\n   1. ä¼ é€’å‚æ•°\n\n      ```html\n      <!-- è·³è½¬å¹¶æºå¸¦queryå‚æ•°ï¼ˆtoçš„å­—ç¬¦ä¸²å†™æ³•ï¼‰ -->\n      <router-link to=\"/news/detail?a=1&b=2&content=æ¬¢è¿ä½ \">\n      \tè·³è½¬\n      </router-link>\n      \t\t\t\t\n      <!-- è·³è½¬å¹¶æºå¸¦queryå‚æ•°ï¼ˆtoçš„å¯¹è±¡å†™æ³•ï¼‰ -->\n      <RouterLink \n        :to=\"{\n          //name:'xiang', //ç”¨nameä¹Ÿå¯ä»¥è·³è½¬\n          path:'/news/detail',\n          query:{\n            id:news.id,\n            title:news.title,\n            content:news.content\n          }\n        }\"\n      >\n        {{news.title}}\n      </RouterLink>\n      ```\n\n   2. æ¥æ”¶å‚æ•°ï¼š\n\n      ```js\n      import {useRoute} from 'vue-router'\n      const route = useRoute()\n      // æ‰“å°queryå‚æ•°\n      console.log(route.query)\n      ```\n\n\n### paramså‚æ•°\n\n   1. ä¼ é€’å‚æ•°\n\n      ```html\n      <!-- è·³è½¬å¹¶æºå¸¦paramså‚æ•°ï¼ˆtoçš„å­—ç¬¦ä¸²å†™æ³•ï¼‰ -->\n      <RouterLink :to=\"`/news/detail/001/æ–°é—»001/å†…å®¹001`\">{{news.title}}</RouterLink>\n      \t\t\t\t\n      <!-- è·³è½¬å¹¶æºå¸¦paramså‚æ•°ï¼ˆtoçš„å¯¹è±¡å†™æ³•ï¼‰ -->\n      <RouterLink \n        :to=\"{\n          name:'xiang', //ç”¨nameè·³è½¬\n          params:{\n            id:news.id,\n            title:news.title,\n            content:news.title\n          }\n        }\"\n      >\n        {{news.title}}\n      </RouterLink>\n      ```\n\n   2. æ¥æ”¶å‚æ•°ï¼š\n\n      ```js\n      import {useRoute} from 'vue-router'\n      const route = useRoute()\n      // æ‰“å°paramså‚æ•°\n      console.log(route.params)\n      ```\n\n> å¤‡æ³¨1ï¼šä¼ é€’`params`å‚æ•°æ—¶ï¼Œè‹¥ä½¿ç”¨`to`çš„å¯¹è±¡å†™æ³•ï¼Œå¿…é¡»ä½¿ç”¨`name`é…ç½®é¡¹ï¼Œä¸èƒ½ç”¨`path`ã€‚\n>\n> å¤‡æ³¨2ï¼šä¼ é€’`params`å‚æ•°æ—¶ï¼Œéœ€è¦æå‰åœ¨è§„åˆ™ä¸­å ä½ã€‚\n\n## 4.9. ã€è·¯ç”±çš„propsé…ç½®ã€‘\n\nä½œç”¨ï¼šè®©è·¯ç”±ç»„ä»¶æ›´æ–¹ä¾¿çš„æ”¶åˆ°å‚æ•°ï¼ˆå¯ä»¥å°†è·¯ç”±å‚æ•°ä½œä¸º`props`ä¼ ç»™ç»„ä»¶ï¼‰\n\n```js\n{\n\tname:'xiang',\n\tpath:'detail/:id/:title/:content',\n\tcomponent:Detail,\n\n  // propsçš„å¯¹è±¡å†™æ³•ï¼Œä½œç”¨ï¼šæŠŠå¯¹è±¡ä¸­çš„æ¯ä¸€ç»„key-valueä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶\n  // props:{a:1,b:2,c:3}, \n\n  // propsçš„å¸ƒå°”å€¼å†™æ³•ï¼Œä½œç”¨ï¼šæŠŠæ”¶åˆ°äº†æ¯ä¸€ç»„paramså‚æ•°ï¼Œä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶\n  // props:true\n  \n  // propsçš„å‡½æ•°å†™æ³•ï¼Œä½œç”¨ï¼šæŠŠè¿”å›çš„å¯¹è±¡ä¸­æ¯ä¸€ç»„key-valueä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶\n  props(route){\n    return route.query\n  }\n}\n```\n\n## 4.10. ã€ replaceå±æ€§ã€‘\n\n  1. ä½œç”¨ï¼šæ§åˆ¶è·¯ç”±è·³è½¬æ—¶æ“ä½œæµè§ˆå™¨å†å²è®°å½•çš„æ¨¡å¼ã€‚\n\n  2. æµè§ˆå™¨çš„å†å²è®°å½•æœ‰ä¸¤ç§å†™å…¥æ–¹å¼ï¼šåˆ†åˆ«ä¸º```push```å’Œ```replace```ï¼š\n\n     - ```push```æ˜¯è¿½åŠ å†å²è®°å½•ï¼ˆé»˜è®¤å€¼ï¼‰ã€‚\n     - `replace`æ˜¯æ›¿æ¢å½“å‰è®°å½•ã€‚\n\n  3. å¼€å¯`replace`æ¨¡å¼ï¼š\n\n     ```html\n     <RouterLink replace .......>News</RouterLink>\n     ```\n\n## 4.11. ã€ç¼–ç¨‹å¼å¯¼èˆªã€‘\n\nè·¯ç”±ç»„ä»¶çš„ä¸¤ä¸ªé‡è¦çš„å±æ€§ï¼š`$route`å’Œ`$router`å˜æˆäº†ä¸¤ä¸ª`hooks`\n\n```js\nimport {useRoute,useRouter} from 'vue-router'\n\nconst route = useRoute()\nconst router = useRouter()\n\nconsole.log(route.query)\nconsole.log(route.parmas)\nconsole.log(router.push)\nconsole.log(router.replace)\n```\n\n## 4.12. ã€é‡å®šå‘ã€‘\n\n1. ä½œç”¨ï¼šå°†ç‰¹å®šçš„è·¯å¾„ï¼Œé‡æ–°å®šå‘åˆ°å·²æœ‰è·¯ç”±ã€‚\n\n2. å…·ä½“ç¼–ç ï¼š\n\n   ```js\n   {\n       path:'/',\n       redirect:'/about'\n   }\n   ```\n\n\n\n# 5. pinia \n\n## 5.1ã€å‡†å¤‡ä¸€ä¸ªæ•ˆæœã€‘\n\n<img src=\"https://s2.loli.net/2024/02/22/GbKyu4poHJZtgw2.gif\" alt=\"pinia_example\" style=\"zoom:30%;border:3px solid\" /> \n\n## 5.2ã€æ­å»º pinia ç¯å¢ƒã€‘\n\nç¬¬ä¸€æ­¥ï¼š`npm install pinia`\n\nç¬¬äºŒæ­¥ï¼šæ“ä½œ`src/main.ts`\n\n```ts\nimport { createApp } from 'vue'\nimport App from './App.vue'\n\n/* å¼•å…¥createPiniaï¼Œç”¨äºåˆ›å»ºpinia */\nimport { createPinia } from 'pinia'\n\n/* åˆ›å»ºpinia */\nconst pinia = createPinia()\nconst app = createApp(App)\n\n/* ä½¿ç”¨æ’ä»¶ */{}\napp.use(pinia)\napp.mount('#app')\n```\n\næ­¤æ—¶å¼€å‘è€…å·¥å…·ä¸­å·²ç»æœ‰äº†`pinia`é€‰é¡¹\n\n<img src=\"https://s2.loli.net/2024/02/22/avODA9IErUTojih.png\" style=\"zoom:80%;border:1px solid black;border-radius:10px\" />\n\n## 5.3ã€å­˜å‚¨+è¯»å–æ•°æ®ã€‘\n\n1. `Store`æ˜¯ä¸€ä¸ªä¿å­˜ï¼š**çŠ¶æ€**ã€**ä¸šåŠ¡é€»è¾‘** çš„å®ä½“ï¼Œæ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥**è¯»å–**ã€**å†™å…¥**å®ƒã€‚\n\n2. å®ƒæœ‰ä¸‰ä¸ªæ¦‚å¿µï¼š`state`ã€`getter`ã€`action`ï¼Œç›¸å½“äºç»„ä»¶ä¸­çš„ï¼š `data`ã€ `computed` å’Œ `methods`ã€‚\n\n3. å…·ä½“ç¼–ç ï¼š`src/store/count.ts`\n\n   ```ts\n   // å¼•å…¥defineStoreç”¨äºåˆ›å»ºstore\n   import {defineStore} from 'pinia'\n   \n   // å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstore\n   export const useCountStore = defineStore('count',{\n     // åŠ¨ä½œ\n     actions:{},\n     // çŠ¶æ€\n     state(){\n       return {\n         sum:6\n       }\n     },\n     // è®¡ç®—\n     getters:{}\n   })\n   ```\n\n4. å…·ä½“ç¼–ç ï¼š`src/store/talk.ts`\n\n   ```js\n   // å¼•å…¥defineStoreç”¨äºåˆ›å»ºstore\n   import {defineStore} from 'pinia'\n   \n   // å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstore\n   export const useTalkStore = defineStore('talk',{\n     // åŠ¨ä½œ\n     actions:{},\n     // çŠ¶æ€\n     state(){\n       return {\n         talkList:[\n           {id:'yuysada01',content:'ä½ ä»Šå¤©æœ‰ç‚¹æ€ªï¼Œå“ªé‡Œæ€ªï¼Ÿæ€ªå¥½çœ‹çš„ï¼'},\n        \t\t{id:'yuysada02',content:'è‰è“ã€è“è“ã€è”“è¶Šè“ï¼Œä½ æƒ³æˆ‘äº†æ²¡ï¼Ÿ'},\n           {id:'yuysada03',content:'å¿ƒé‡Œç»™ä½ ç•™äº†ä¸€å—åœ°ï¼Œæˆ‘çš„æ­»å¿ƒå¡Œåœ°'}\n         ]\n       }\n     },\n     // è®¡ç®—\n     getters:{}\n   })\n   ```\n   \n5. ç»„ä»¶ä¸­ä½¿ç”¨`state`ä¸­çš„æ•°æ®\n\n   ```html\n   <template>\n     <h2>å½“å‰æ±‚å’Œä¸ºï¼š{{ sumStore.sum }}</h2>\n   </template>\n   \n   <script setup lang=\"ts\" name=\"Count\">\n     // å¼•å…¥å¯¹åº”çš„useXxxxxStore\t\n     import {useSumStore} from '@/store/sum'\n     \n     // è°ƒç”¨useXxxxxStoreå¾—åˆ°å¯¹åº”çš„store\n     const sumStore = useSumStore()\n   </script>\n   ```\n\n   ```html\n   <template>\n   \t<ul>\n       <li v-for=\"talk in talkStore.talkList\" :key=\"talk.id\">\n         {{ talk.content }}\n       </li>\n     </ul>\n   </template>\n   \n   <script setup lang=\"ts\" name=\"Count\">\n     import axios from 'axios'\n     import {useTalkStore} from '@/store/talk'\n   \n     const talkStore = useTalkStore()\n   </script>\n   ```\n\n   \n\n## 5.4.ã€ä¿®æ”¹æ•°æ®ã€‘(ä¸‰ç§æ–¹å¼)\n\n1. ç¬¬ä¸€ç§ä¿®æ”¹æ–¹å¼ï¼Œç›´æ¥ä¿®æ”¹\n\n   ```ts\n   countStore.sum = 666\n   ```\n\n2. ç¬¬äºŒç§ä¿®æ”¹æ–¹å¼ï¼šæ‰¹é‡ä¿®æ”¹\n\n   ```ts\n   countStore.$patch({\n     sum:999,\n     school:'atguigu'\n   })\n   ```\n\n3. ç¬¬ä¸‰ç§ä¿®æ”¹æ–¹å¼ï¼šå€ŸåŠ©`action`ä¿®æ”¹ï¼ˆ`action`ä¸­å¯ä»¥ç¼–å†™ä¸€äº›ä¸šåŠ¡é€»è¾‘ï¼‰\n\n   ```js\n   import { defineStore } from 'pinia'\n   \n   export const useCountStore = defineStore('count', {\n     /*************/\n     actions: {\n       //åŠ \n       increment(value:number) {\n         if (this.sum < 10) {\n           //æ“ä½œcountStoreä¸­çš„sum\n           this.sum += value\n         }\n       },\n       //å‡\n       decrement(value:number){\n         if(this.sum > 1){\n           this.sum -= value\n         }\n       }\n     },\n     /*************/\n   })\n   ```\n\n4. ç»„ä»¶ä¸­è°ƒç”¨`action`å³å¯\n\n   ```js\n   // ä½¿ç”¨countStore\n   const countStore = useCountStore()\n   \n   // è°ƒç”¨å¯¹åº”action\n   countStore.incrementOdd(n.value)\n   ```\n\n\n## 5.5.ã€storeToRefsã€‘\n\n- å€ŸåŠ©`storeToRefs`å°†`store`ä¸­çš„æ•°æ®è½¬ä¸º`ref`å¯¹è±¡ï¼Œæ–¹ä¾¿åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ã€‚\n- æ³¨æ„ï¼š`pinia`æä¾›çš„`storeToRefs`åªä¼šå°†æ•°æ®åšè½¬æ¢ï¼Œè€Œ`Vue`çš„`toRefs`ä¼šè½¬æ¢`store`ä¸­æ•°æ®ã€‚\n\n```html\n<template>\n\t<div class=\"count\">\n\t\t<h2>å½“å‰æ±‚å’Œä¸ºï¼š{{sum}}</h2>\n\t</div>\n</template>\n\n<script setup lang=\"ts\" name=\"Count\">\n  import { useCountStore } from '@/store/count'\n  /* å¼•å…¥storeToRefs */\n  import { storeToRefs } from 'pinia'\n\n\t/* å¾—åˆ°countStore */\n  const countStore = useCountStore()\n  /* ä½¿ç”¨storeToRefsè½¬æ¢countStoreï¼Œéšåè§£æ„ */\n  const {sum} = storeToRefs(countStore)\n</script>\n\n```\n\n## 5.6.ã€gettersã€‘\n\n  1. æ¦‚å¿µï¼šå½“`state`ä¸­çš„æ•°æ®ï¼Œéœ€è¦ç»è¿‡å¤„ç†åå†ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨`getters`é…ç½®ã€‚\n\n  2. è¿½åŠ ```getters```é…ç½®ã€‚\n\n     ```js\n     // å¼•å…¥defineStoreç”¨äºåˆ›å»ºstore\n     import {defineStore} from 'pinia'\n     \n     // å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstore\n     export const useCountStore = defineStore('count',{\n       // åŠ¨ä½œ\n       actions:{\n         /************/\n       },\n       // çŠ¶æ€\n       state(){\n         return {\n           sum:1,\n           school:'atguigu'\n         }\n       },\n       // è®¡ç®—\n       getters:{\n         bigSum:(state):number => state.sum *10,\n         upperSchool():string{\n           return this. school.toUpperCase()\n         }\n       }\n     })\n     ```\n\n  3. ç»„ä»¶ä¸­è¯»å–æ•°æ®ï¼š\n\n     ```js\n     const {increment,decrement} = countStore\n     let {sum,school,bigSum,upperSchool} = storeToRefs(countStore)\n     ```\n\n     \n\n## 5.7.ã€$subscribeã€‘\n\né€šè¿‡ store çš„ `$subscribe()` æ–¹æ³•ä¾¦å¬ `state` åŠå…¶å˜åŒ–\n\n```ts\ntalkStore.$subscribe((mutate,state)=>{\n  console.log('LoveTalk',mutate,state)\n  localStorage.setItem('talk',JSON.stringify(talkList.value))\n})\n```\n\n\n\n## 5.8. ã€storeç»„åˆå¼å†™æ³•ã€‘\n\n```ts\nimport {defineStore} from 'pinia'\nimport axios from 'axios'\nimport {nanoid} from 'nanoid'\nimport {reactive} from 'vue'\n\nexport const useTalkStore = defineStore('talk',()=>{\n  // talkListå°±æ˜¯state\n  const talkList = reactive(\n    JSON.parse(localStorage.getItem('talkList') as string) || []\n  )\n\n  // getATalkå‡½æ•°ç›¸å½“äºaction\n  async function getATalk(){\n    // å‘è¯·æ±‚ï¼Œä¸‹é¢è¿™è¡Œçš„å†™æ³•æ˜¯ï¼šè¿ç»­è§£æ„èµ‹å€¼+é‡å‘½å\n    let {data:{content:title}} = await axios.get('https://api.uomg.com/api/rand.qinghua?format=json')\n    // æŠŠè¯·æ±‚å›æ¥çš„å­—ç¬¦ä¸²ï¼ŒåŒ…è£…æˆä¸€ä¸ªå¯¹è±¡\n    let obj = {id:nanoid(),title}\n    // æ”¾åˆ°æ•°ç»„ä¸­\n    talkList.unshift(obj)\n  }\n  return {talkList,getATalk}\n})\n```\n\n\n\n# 6. ç»„ä»¶é€šä¿¡\n\n**`Vue3`ç»„ä»¶é€šä¿¡å’Œ`Vue2`çš„åŒºåˆ«ï¼š**\n\n* ç§»å‡ºäº‹ä»¶æ€»çº¿ï¼Œä½¿ç”¨`mitt`ä»£æ›¿ã€‚\n\n- `vuex`æ¢æˆäº†`pinia`ã€‚\n- æŠŠ`.sync`ä¼˜åŒ–åˆ°äº†`v-model`é‡Œé¢äº†ã€‚\n- æŠŠ`$listeners`æ‰€æœ‰çš„ä¸œè¥¿ï¼Œåˆå¹¶åˆ°`$attrs`ä¸­äº†ã€‚\n- `$children`è¢«ç æ‰äº†ã€‚\n\n**å¸¸è§æ­é…å½¢å¼ï¼š**\n\n<img src=\"https://s2.loli.net/2024/02/22/WZaSR8Mor15mfIT.png\" alt=\"image-20231119185900990\" style=\"zoom:60%;\" /> \n\n## 6.1. ã€propsã€‘\n\næ¦‚è¿°ï¼š`props`æ˜¯ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„ä¸€ç§é€šä¿¡æ–¹å¼ï¼Œå¸¸ç”¨ä¸ ï¼š**çˆ¶ â†” å­**ã€‚\n\n- è‹¥ **çˆ¶ä¼ å­**ï¼šå±æ€§å€¼æ˜¯**éå‡½æ•°**ã€‚\n- è‹¥ **å­ä¼ çˆ¶**ï¼šå±æ€§å€¼æ˜¯**å‡½æ•°**ã€‚\n\nçˆ¶ç»„ä»¶ï¼š\n\n```html\n<template>\n  <div class=\"father\">\n    <h3>çˆ¶ç»„ä»¶ï¼Œ</h3>\n\t\t<h4>æˆ‘çš„è½¦ï¼š{{ car }}</h4>\n\t\t<h4>å„¿å­ç»™çš„ç©å…·ï¼š{{ toy }}</h4>\n\t\t<Child :car=\"car\" :getToy=\"getToy\"/>\n  </div>\n</template>\n\n<script setup lang=\"ts\" name=\"Father\">\n\timport Child from './Child.vue'\n\timport { ref } from \"vue\";\n\t// æ•°æ®\n\tconst car = ref('å¥”é©°')\n\tconst toy = ref()\n\t// æ–¹æ³•\n\tfunction getToy(value:string){\n\t\ttoy.value = value\n\t}\n</script>\n```\n\nå­ç»„ä»¶\n\n```html\n<template>\n  <div class=\"child\">\n    <h3>å­ç»„ä»¶</h3>\n\t\t<h4>æˆ‘çš„ç©å…·ï¼š{{ toy }}</h4>\n\t\t<h4>çˆ¶ç»™æˆ‘çš„è½¦ï¼š{{ car }}</h4>\n\t\t<button @click=\"getToy(toy)\">ç©å…·ç»™çˆ¶äº²</button>\n  </div>\n</template>\n\n<script setup lang=\"ts\" name=\"Child\">\n\timport { ref } from \"vue\";\n\tconst toy = ref('å¥¥ç‰¹æ›¼')\n\t\n\tdefineProps(['car','getToy'])\n</script>\n```\n\n## 6.2. ã€è‡ªå®šä¹‰äº‹ä»¶ã€‘\n\n1. æ¦‚è¿°ï¼šè‡ªå®šä¹‰äº‹ä»¶å¸¸ç”¨äºï¼š**å­ => çˆ¶ã€‚**\n2. æ³¨æ„åŒºåˆ†å¥½ï¼šåŸç”Ÿäº‹ä»¶ã€è‡ªå®šä¹‰äº‹ä»¶ã€‚\n\n- åŸç”Ÿäº‹ä»¶ï¼š\n  - äº‹ä»¶åæ˜¯ç‰¹å®šçš„ï¼ˆ`click`ã€`mosueenter`ç­‰ç­‰ï¼‰\t\n  - äº‹ä»¶å¯¹è±¡`$event`: æ˜¯åŒ…å«äº‹ä»¶ç›¸å…³ä¿¡æ¯çš„å¯¹è±¡ï¼ˆ`pageX`ã€`pageY`ã€`target`ã€`keyCode`ï¼‰\n- è‡ªå®šä¹‰äº‹ä»¶ï¼š\n  - äº‹ä»¶åæ˜¯ä»»æ„åç§°\n  - <strong style=\"color:red\">äº‹ä»¶å¯¹è±¡`$event`: æ˜¯è°ƒç”¨`emit`æ—¶æ‰€æä¾›çš„æ•°æ®ï¼Œå¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼ï¼ï¼</strong >\n\n3. ç¤ºä¾‹ï¼š\n\n   ```html\n   <!--åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œç»™å­ç»„ä»¶ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼š-->\n   <Child @send-toy=\"toy = $event\"/>\n   \n   <!--æ³¨æ„åŒºåˆ†åŸç”Ÿäº‹ä»¶ä¸è‡ªå®šä¹‰äº‹ä»¶ä¸­çš„$event-->\n   <button @click=\"toy = $event\">æµ‹è¯•</button>\n   ```\n\n   ```js\n   //å­ç»„ä»¶ä¸­ï¼Œè§¦å‘äº‹ä»¶ï¼š\n   this.$emit('send-toy', å…·ä½“æ•°æ®)\n   ```\n\n## 6.3. ã€mittã€‘\n\næ¦‚è¿°ï¼šä¸æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒï¼ˆ`pubsub`ï¼‰åŠŸèƒ½ç±»ä¼¼ï¼Œå¯ä»¥å®ç°ä»»æ„ç»„ä»¶é—´é€šä¿¡ã€‚\n\nå®‰è£…`mitt`\n\n```shell\nnpm i mitt\n```\n\næ–°å»ºæ–‡ä»¶ï¼š`src\\utils\\emitter.ts`\n\n```javascript\n// å¼•å…¥mitt \nimport mitt from \"mitt\";\n\n// åˆ›å»ºemitter\nconst emitter = mitt()\n\n/*\n  // ç»‘å®šäº‹ä»¶\n  emitter.on('abc',(value)=>{\n    console.log('abcäº‹ä»¶è¢«è§¦å‘',value)\n  })\n  emitter.on('xyz',(value)=>{\n    console.log('xyzäº‹ä»¶è¢«è§¦å‘',value)\n  })\n\n  setInterval(() => {\n    // è§¦å‘äº‹ä»¶\n    emitter.emit('abc',666)\n    emitter.emit('xyz',777)\n  }, 1000);\n\n  setTimeout(() => {\n    // æ¸…ç†äº‹ä»¶\n    emitter.all.clear()\n  }, 3000); \n*/\n\n// åˆ›å»ºå¹¶æš´éœ²mitt\nexport default emitter\n```\n\næ¥æ”¶æ•°æ®çš„ç»„ä»¶ä¸­ï¼šç»‘å®šäº‹ä»¶ã€åŒæ—¶åœ¨é”€æ¯å‰è§£ç»‘äº‹ä»¶ï¼š\n\n```typescript\nimport emitter from \"@/utils/emitter\";\nimport { onUnmounted } from \"vue\";\n\n// ç»‘å®šäº‹ä»¶\nemitter.on('send-toy',(value)=>{\n  console.log('send-toyäº‹ä»¶è¢«è§¦å‘',value)\n})\n\nonUnmounted(()=>{\n  // è§£ç»‘äº‹ä»¶\n  emitter.off('send-toy')\n})\n```\n\nã€ç¬¬ä¸‰æ­¥ã€‘ï¼šæä¾›æ•°æ®çš„ç»„ä»¶ï¼Œåœ¨åˆé€‚çš„æ—¶å€™è§¦å‘äº‹ä»¶\n\n```javascript\nimport emitter from \"@/utils/emitter\";\n\nfunction sendToy(){\n  // è§¦å‘äº‹ä»¶\n  emitter.emit('send-toy',toy.value)\n}\n```\n\n**æ³¨æ„è¿™ä¸ªé‡è¦çš„å†…ç½®å…³ç³»ï¼Œæ€»çº¿ä¾èµ–ç€è¿™ä¸ªå†…ç½®å…³ç³»**\n\n## 6.4.ã€v-modelã€‘\n\n1. æ¦‚è¿°ï¼šå®ç° **çˆ¶â†”å­** ä¹‹é—´ç›¸äº’é€šä¿¡ã€‚\n\n2. å‰åºçŸ¥è¯† â€”â€” `v-model`çš„æœ¬è´¨\n\n   ```html\n   <!-- ä½¿ç”¨v-modelæŒ‡ä»¤ -->\n   <input type=\"text\" v-model=\"userName\">\n   \n   <!-- v-modelçš„æœ¬è´¨æ˜¯ä¸‹é¢è¿™è¡Œä»£ç  -->\n   <input \n     type=\"text\" \n     :value=\"userName\" \n     @input=\"userName =(<HTMLInputElement>$event.target).value\"\n   >\n   ```\n\n3. ç»„ä»¶æ ‡ç­¾ä¸Šçš„`v-model`çš„æœ¬è´¨ï¼š`:moldeValue` ï¼‹ `update:modelValue`äº‹ä»¶ã€‚\n\n   ```html\n   <!-- ç»„ä»¶æ ‡ç­¾ä¸Šä½¿ç”¨v-modelæŒ‡ä»¤ -->\n   <AtguiguInput v-model=\"userName\"/>\n   \n   <!-- ç»„ä»¶æ ‡ç­¾ä¸Šv-modelçš„æœ¬è´¨ -->\n   <AtguiguInput :modelValue=\"userName\" @update:model-value=\"userName = $event\"/>\n   ```\n\n   `AtguiguInput`ç»„ä»¶ä¸­ï¼š\n\n   ```html\n   <template>\n     <div class=\"box\">\n       <!--å°†æ¥æ”¶çš„valueå€¼èµ‹ç»™inputå…ƒç´ çš„valueå±æ€§ï¼Œç›®çš„æ˜¯ï¼šä¸ºäº†å‘ˆç°æ•°æ® -->\n   \t\t<!--ç»™inputå…ƒç´ ç»‘å®šåŸç”Ÿinputäº‹ä»¶ï¼Œè§¦å‘inputäº‹ä»¶æ—¶ï¼Œè¿›è€Œè§¦å‘update:model-valueäº‹ä»¶-->\n       <input \n          type=\"text\" \n          :value=\"modelValue\" \n          @input=\"emit('update:model-value',$event.target.value)\"\n       >\n     </div>\n   </template>\n   \n   <script setup lang=\"ts\" name=\"AtguiguInput\">\n     // æ¥æ”¶props\n     defineProps(['modelValue'])\n     // å£°æ˜äº‹ä»¶\n     const emit = defineEmits(['update:model-value'])\n   </script>\n   ```\n\n4. ä¹Ÿå¯ä»¥æ›´æ¢`value`ï¼Œä¾‹å¦‚æ”¹æˆ`abc`\n\n   ```html\n   <!-- ä¹Ÿå¯ä»¥æ›´æ¢valueï¼Œä¾‹å¦‚æ”¹æˆabc-->\n   <AtguiguInput v-model:abc=\"userName\"/>\n   \n   <!-- ä¸Šé¢ä»£ç çš„æœ¬è´¨å¦‚ä¸‹ -->\n   <AtguiguInput :abc=\"userName\" @update:abc=\"userName = $event\"/>\n   ```\n\n   `AtguiguInput`ç»„ä»¶ä¸­ï¼š\n\n   ```html\n   <template>\n     <div class=\"box\">\n       <input \n          type=\"text\" \n          :value=\"abc\" \n          @input=\"emit('update:abc',$event.target.value)\"\n       >\n     </div>\n   </template>\n   \n   <script setup lang=\"ts\" name=\"AtguiguInput\">\n     // æ¥æ”¶props\n     defineProps(['abc'])\n     // å£°æ˜äº‹ä»¶\n     const emit = defineEmits(['update:abc'])\n   </script>\n   ```\n\n5. å¦‚æœ`value`å¯ä»¥æ›´æ¢ï¼Œé‚£ä¹ˆå°±å¯ä»¥åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šå¤šæ¬¡ä½¿ç”¨`v-model`\n\n   ```html\n   <AtguiguInput v-model:abc=\"userName\" v-model:xyz=\"password\"/>\n   ```\n\n   \n\n\n## 6.5.ã€$attrs ã€‘\n\n1. æ¦‚è¿°ï¼š`$attrs`ç”¨äºå®ç°**å½“å‰ç»„ä»¶çš„çˆ¶ç»„ä»¶**ï¼Œå‘**å½“å‰ç»„ä»¶çš„å­ç»„ä»¶**é€šä¿¡ï¼ˆ**ç¥–â†’å­™**ï¼‰ã€‚\n\n2. å…·ä½“è¯´æ˜ï¼š`$attrs`æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰çˆ¶ç»„ä»¶ä¼ å…¥çš„æ ‡ç­¾å±æ€§ã€‚\n\n   >  æ³¨æ„ï¼š`$attrs`ä¼šè‡ªåŠ¨æ’é™¤`props`ä¸­å£°æ˜çš„å±æ€§(å¯ä»¥è®¤ä¸ºå£°æ˜è¿‡çš„ `props` è¢«å­ç»„ä»¶è‡ªå·±â€œæ¶ˆè´¹â€äº†)\n\nçˆ¶ç»„ä»¶ï¼š\n\n```html\n<template>\n  <div class=\"father\">\n    <h3>çˆ¶ç»„ä»¶</h3>\n\t\t<Child :a=\"a\" :b=\"b\" :c=\"c\" :d=\"d\" v-bind=\"{x:100,y:200}\" :updateA=\"updateA\"/>\n  </div>\n</template>\n\n<script setup lang=\"ts\" name=\"Father\">\n\timport Child from './Child.vue'\n\timport { ref } from \"vue\";\n\tlet a = ref(1)\n\tlet b = ref(2)\n\tlet c = ref(3)\n\tlet d = ref(4)\n\n\tfunction updateA(value){\n\t\ta.value = value\n\t}\n</script>\n```\n\nå­ç»„ä»¶ï¼š\n\n```html\n<template>\n\t<div class=\"child\">\n\t\t<h3>å­ç»„ä»¶</h3>\n\t\t<GrandChild v-bind=\"$attrs\"/>\n\t</div>\n</template>\n\n<script setup lang=\"ts\" name=\"Child\">\n\timport GrandChild from './GrandChild.vue'\n</script>\n```\n\nå­™ç»„ä»¶ï¼š\n\n```html\n<template>\n\t<div class=\"grand-child\">\n\t\t<h3>å­™ç»„ä»¶</h3>\n\t\t<h4>aï¼š{{ a }}</h4>\n\t\t<h4>bï¼š{{ b }}</h4>\n\t\t<h4>cï¼š{{ c }}</h4>\n\t\t<h4>dï¼š{{ d }}</h4>\n\t\t<h4>xï¼š{{ x }}</h4>\n\t\t<h4>yï¼š{{ y }}</h4>\n\t\t<button @click=\"updateA(666)\">ç‚¹æˆ‘æ›´æ–°A</button>\n\t</div>\n</template>\n\n<script setup lang=\"ts\" name=\"GrandChild\">\n\tdefineProps(['a','b','c','d','x','y','updateA'])\n</script>\n```\n\n## 6.6. ã€$refsã€$parentã€‘\n\n1. æ¦‚è¿°ï¼š\n\n   * `$refs`ç”¨äº ï¼š**çˆ¶â†’å­ã€‚**\n   * `$parent`ç”¨äºï¼š**å­â†’çˆ¶ã€‚**\n\n2. åŸç†å¦‚ä¸‹ï¼š\n\n   | å±æ€§      | è¯´æ˜                                                     |\n   | --------- | -------------------------------------------------------- |\n   | `$refs`   | å€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰è¢«`ref`å±æ€§æ ‡è¯†çš„`DOM`å…ƒç´ æˆ–ç»„ä»¶å®ä¾‹ã€‚ |\n   | `$parent` | å€¼ä¸ºå¯¹è±¡ï¼Œå½“å‰ç»„ä»¶çš„çˆ¶ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚                     |\n\n## 6.7. ã€provideã€injectã€‘\n\n1. æ¦‚è¿°ï¼šå®ç°**ç¥–å­™ç»„ä»¶**ç›´æ¥é€šä¿¡\n\n2. å…·ä½“ä½¿ç”¨ï¼š\n\n   * åœ¨ç¥–å…ˆç»„ä»¶ä¸­é€šè¿‡`provide`é…ç½®å‘åä»£ç»„ä»¶æä¾›æ•°æ®\n   * åœ¨åä»£ç»„ä»¶ä¸­é€šè¿‡`inject`é…ç½®æ¥å£°æ˜æ¥æ”¶æ•°æ®\n\n4. å…·ä½“ç¼–ç ï¼š\n\n   ã€ç¬¬ä¸€æ­¥ã€‘çˆ¶ç»„ä»¶ä¸­ï¼Œä½¿ç”¨`provide`æä¾›æ•°æ®\n\n   ```html\n   <template>\n     <div class=\"father\">\n       <h3>çˆ¶ç»„ä»¶</h3>\n       <h4>èµ„äº§ï¼š{{ money }}</h4>\n       <h4>æ±½è½¦ï¼š{{ car }}</h4>\n       <button @click=\"money += 1\">èµ„äº§+1</button>\n       <button @click=\"car.price += 1\">æ±½è½¦ä»·æ ¼+1</button>\n       <Child/>\n     </div>\n   </template>\n   \n   <script setup lang=\"ts\" name=\"Father\">\n     import Child from './Child.vue'\n     import { ref,reactive,provide } from \"vue\";\n     // æ•°æ®\n     let money = ref(100)\n     let car = reactive({\n       brand:'å¥”é©°',\n       price:100\n     })\n     // ç”¨äºæ›´æ–°moneyçš„æ–¹æ³•\n     function updateMoney(value:number){\n       money.value += value\n     }\n     // æä¾›æ•°æ®\n     provide('moneyContext',{money,updateMoney})\n     provide('car',car)\n   </script>\n   ```\n   \n   > æ³¨æ„ï¼šå­ç»„ä»¶ä¸­ä¸ç”¨ç¼–å†™ä»»ä½•ä¸œè¥¿ï¼Œæ˜¯ä¸å—åˆ°ä»»ä½•æ‰“æ‰°çš„\n   \n   ã€ç¬¬äºŒæ­¥ã€‘å­™ç»„ä»¶ä¸­ä½¿ç”¨`inject`é…ç½®é¡¹æ¥å—æ•°æ®ã€‚\n   \n   ```html\n   <template>\n     <div class=\"grand-child\">\n       <h3>æˆ‘æ˜¯å­™ç»„ä»¶</h3>\n       <h4>èµ„äº§ï¼š{{ money }}</h4>\n       <h4>æ±½è½¦ï¼š{{ car }}</h4>\n       <button @click=\"updateMoney(6)\">ç‚¹æˆ‘</button>\n     </div>\n   </template>\n   \n   <script setup lang=\"ts\" name=\"GrandChild\">\n     import { inject } from 'vue';\n     // æ³¨å…¥æ•°æ®\n    let {money,updateMoney} = inject('moneyContext',{money:0,updateMoney:(x:number)=>{}})\n     let car = inject('car')\n   </script>\n   ```\n\n\n## 6.8. ã€piniaã€‘\n\nå‚è€ƒä¹‹å‰`pinia`éƒ¨åˆ†çš„è®²è§£\n\n## 6.9. ã€slotã€‘\n\n### 1. é»˜è®¤æ’æ§½\n\n![img](https://s2.loli.net/2024/02/22/KDmNvArchICu3PF.png)\n\n```html\nçˆ¶ç»„ä»¶ä¸­ï¼š\n        <Category title=\"ä»Šæ—¥çƒ­é—¨æ¸¸æˆ\">\n          <ul>\n            <li v-for=\"g in games\" :key=\"g.id\">{{ g.name }}</li>\n          </ul>\n        </Category>\nå­ç»„ä»¶ä¸­ï¼š\n        <template>\n          <div class=\"item\">\n            <h3>{{ title }}</h3>\n            <!-- é»˜è®¤æ’æ§½ -->\n            <slot></slot>\n          </div>\n        </template>\n```\n\n### 2. å…·åæ’æ§½\n\n```html\nçˆ¶ç»„ä»¶ä¸­ï¼š\n        <Category title=\"ä»Šæ—¥çƒ­é—¨æ¸¸æˆ\">\n          <template v-slot:s1>\n            <ul>\n              <li v-for=\"g in games\" :key=\"g.id\">{{ g.name }}</li>\n            </ul>\n          </template>\n          <template #s2>\n            <a href=\"\">æ›´å¤š</a>\n          </template>\n        </Category>\nå­ç»„ä»¶ä¸­ï¼š\n        <template>\n          <div class=\"item\">\n            <h3>{{ title }}</h3>\n            <slot name=\"s1\"></slot>\n            <slot name=\"s2\"></slot>\n          </div>\n        </template>\n```\n\n### 3. ä½œç”¨åŸŸæ’æ§½ \n\n1. ç†è§£ï¼š<span style=\"color:red\">æ•°æ®åœ¨ç»„ä»¶çš„è‡ªèº«ï¼Œä½†æ ¹æ®æ•°æ®ç”Ÿæˆçš„ç»“æ„éœ€è¦ç»„ä»¶çš„ä½¿ç”¨è€…æ¥å†³å®šã€‚</span>ï¼ˆæ–°é—»æ•°æ®åœ¨`News`ç»„ä»¶ä¸­ï¼Œä½†ä½¿ç”¨æ•°æ®æ‰€éå†å‡ºæ¥çš„ç»“æ„ç”±`App`ç»„ä»¶å†³å®šï¼‰\n\n3. å…·ä½“ç¼–ç ï¼š\n\n   ```html\n   çˆ¶ç»„ä»¶ä¸­ï¼š\n         <Game v-slot=\"params\">\n         <!-- <Game v-slot:default=\"params\"> -->\n         <!-- <Game #default=\"params\"> -->\n           <ul>\n             <li v-for=\"g in params.games\" :key=\"g.id\">{{ g.name }}</li>\n           </ul>\n         </Game>\n   \n   å­ç»„ä»¶ä¸­ï¼š\n         <template>\n           <div class=\"category\">\n             <h2>ä»Šæ—¥æ¸¸æˆæ¦œå•</h2>\n             <slot :games=\"games\" a=\"å“ˆå“ˆ\"></slot>\n           </div>\n         </template>\n   \n         <script setup lang=\"ts\" name=\"Category\">\n           import {reactive} from 'vue'\n           let games = reactive([\n             {id:'asgdytsa01',name:'è‹±é›„è”ç›Ÿ'},\n             {id:'asgdytsa02',name:'ç‹è€…è£è€€'},\n             {id:'asgdytsa03',name:'çº¢è‰²è­¦æˆ’'},\n             {id:'asgdytsa04',name:'æ–—ç½—å¤§é™†'}\n           ])\n         </script>\n   ```\n\n\n\n# 7. å…¶å®ƒ API\n\n## 7.1.ã€shallowRef ä¸ shallowReactive ã€‘\n\n### `shallowRef`\n\n1. ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªå“åº”å¼æ•°æ®ï¼Œä½†åªå¯¹é¡¶å±‚å±æ€§è¿›è¡Œå“åº”å¼å¤„ç†ã€‚\n\n2. ç”¨æ³•ï¼š\n\n   ```js\n   let myVar = shallowRef(initialValue);\n   ```\n\n3. ç‰¹ç‚¹ï¼šåªè·Ÿè¸ªå¼•ç”¨å€¼çš„å˜åŒ–ï¼Œä¸å…³å¿ƒå€¼å†…éƒ¨çš„å±æ€§å˜åŒ–ã€‚\n\n### `shallowReactive`\n\n1. ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªæµ…å±‚å“åº”å¼å¯¹è±¡ï¼Œåªä¼šä½¿å¯¹è±¡çš„æœ€é¡¶å±‚å±æ€§å˜æˆå“åº”å¼çš„ï¼Œå¯¹è±¡å†…éƒ¨çš„åµŒå¥—å±æ€§åˆ™ä¸ä¼šå˜æˆå“åº”å¼çš„\n\n2. ç”¨æ³•ï¼š\n\n   ```js\n   const myObj = shallowReactive({ ... });\n   ```\n\n3. ç‰¹ç‚¹ï¼šå¯¹è±¡çš„é¡¶å±‚å±æ€§æ˜¯å“åº”å¼çš„ï¼Œä½†åµŒå¥—å¯¹è±¡çš„å±æ€§ä¸æ˜¯ã€‚\n\n### æ€»ç»“\n\n> é€šè¿‡ä½¿ç”¨ [`shallowRef()`](https://cn.vuejs.org/api/reactivity-advanced.html#shallowref) å’Œ [`shallowReactive()`](https://cn.vuejs.org/api/reactivity-advanced.html#shallowreactive) æ¥ç»•å¼€æ·±åº¦å“åº”ã€‚æµ…å±‚å¼ `API` åˆ›å»ºçš„çŠ¶æ€åªåœ¨å…¶é¡¶å±‚æ˜¯å“åº”å¼çš„ï¼Œå¯¹æ‰€æœ‰æ·±å±‚çš„å¯¹è±¡ä¸ä¼šåšä»»ä½•å¤„ç†ï¼Œé¿å…äº†å¯¹æ¯ä¸€ä¸ªå†…éƒ¨å±æ€§åšå“åº”å¼æ‰€å¸¦æ¥çš„æ€§èƒ½æˆæœ¬ï¼Œè¿™ä½¿å¾—å±æ€§çš„è®¿é—®å˜å¾—æ›´å¿«ï¼Œå¯æå‡æ€§èƒ½ã€‚\n\n\n\n## 7.2.ã€readonly ä¸ shallowReadonlyã€‘\n\n### **`readonly`**\n\n1. ä½œç”¨ï¼šç”¨äºåˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æ·±åªè¯»å‰¯æœ¬ã€‚\n\n2. ç”¨æ³•ï¼š\n\n   ```js\n   const original = reactive({ ... });\n   const readOnlyCopy = readonly(original);\n   ```\n\n3. ç‰¹ç‚¹ï¼š\n\n   * å¯¹è±¡çš„æ‰€æœ‰åµŒå¥—å±æ€§éƒ½å°†å˜ä¸ºåªè¯»ã€‚\n   * ä»»ä½•å°è¯•ä¿®æ”¹è¿™ä¸ªå¯¹è±¡çš„æ“ä½œéƒ½ä¼šè¢«é˜»æ­¢ï¼ˆåœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œè¿˜ä¼šåœ¨æ§åˆ¶å°ä¸­å‘å‡ºè­¦å‘Šï¼‰ã€‚\n\n4. åº”ç”¨åœºæ™¯ï¼š\n   * åˆ›å»ºä¸å¯å˜çš„çŠ¶æ€å¿«ç…§ã€‚\n   * ä¿æŠ¤å…¨å±€çŠ¶æ€æˆ–é…ç½®ä¸è¢«ä¿®æ”¹ã€‚\n\n### **`shallowReadonly`**\n\n1. ä½œç”¨ï¼šä¸ `readonly` ç±»ä¼¼ï¼Œä½†åªä½œç”¨äºå¯¹è±¡çš„é¡¶å±‚å±æ€§ã€‚\n\n2. ç”¨æ³•ï¼š\n\n   ```js\n   const original = reactive({ ... });\n   const shallowReadOnlyCopy = shallowReadonly(original);\n   ```\n\n3. ç‰¹ç‚¹ï¼š\n\n   * åªå°†å¯¹è±¡çš„é¡¶å±‚å±æ€§è®¾ç½®ä¸ºåªè¯»ï¼Œå¯¹è±¡å†…éƒ¨çš„åµŒå¥—å±æ€§ä»ç„¶æ˜¯å¯å˜çš„ã€‚\n\n   * é€‚ç”¨äºåªéœ€ä¿æŠ¤å¯¹è±¡é¡¶å±‚å±æ€§çš„åœºæ™¯ã€‚\n\n     \n\n## 7.3.ã€toRaw ä¸ markRawã€‘\n\n### `toRaw`\n\n1. ä½œç”¨ï¼šç”¨äºè·å–ä¸€ä¸ªå“åº”å¼å¯¹è±¡çš„åŸå§‹å¯¹è±¡ï¼Œ `toRaw` è¿”å›çš„å¯¹è±¡ä¸å†æ˜¯å“åº”å¼çš„ï¼Œä¸ä¼šè§¦å‘è§†å›¾æ›´æ–°ã€‚\n\n   > å®˜ç½‘æè¿°ï¼šè¿™æ˜¯ä¸€ä¸ªå¯ä»¥ç”¨äºä¸´æ—¶è¯»å–è€Œä¸å¼•èµ·ä»£ç†è®¿é—®/è·Ÿè¸ªå¼€é”€ï¼Œæˆ–æ˜¯å†™å…¥è€Œä¸è§¦å‘æ›´æ”¹çš„ç‰¹æ®Šæ–¹æ³•ã€‚ä¸å»ºè®®ä¿å­˜å¯¹åŸå§‹å¯¹è±¡çš„æŒä¹…å¼•ç”¨ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚\n\n   > ä½•æ—¶ä½¿ç”¨ï¼Ÿ â€”â€” åœ¨éœ€è¦å°†å“åº”å¼å¯¹è±¡ä¼ é€’ç»™é `Vue` çš„åº“æˆ–å¤–éƒ¨ç³»ç»Ÿæ—¶ï¼Œä½¿ç”¨ `toRaw` å¯ä»¥ç¡®ä¿å®ƒä»¬æ”¶åˆ°çš„æ˜¯æ™®é€šå¯¹è±¡\n\n2. å…·ä½“ç¼–ç ï¼š\n\n   ```js\n   import { reactive,toRaw,markRaw,isReactive } from \"vue\";\n   \n   /* toRaw */\n   // å“åº”å¼å¯¹è±¡\n   let person = reactive({name:'tony',age:18})\n   // åŸå§‹å¯¹è±¡\n   let rawPerson = toRaw(person)\n   \n   \n   /* markRaw */\n   let citysd = markRaw([\n     {id:'asdda01',name:'åŒ—äº¬'},\n     {id:'asdda02',name:'ä¸Šæµ·'},\n     {id:'asdda03',name:'å¤©æ´¥'},\n     {id:'asdda04',name:'é‡åº†'}\n   ])\n   // æ ¹æ®åŸå§‹å¯¹è±¡cityså»åˆ›å»ºå“åº”å¼å¯¹è±¡citys2 â€”â€” åˆ›å»ºå¤±è´¥ï¼Œå› ä¸ºcitysè¢«markRawæ ‡è®°äº†\n   let citys2 = reactive(citys)\n   console.log(isReactive(person))\n   console.log(isReactive(rawPerson))\n   console.log(isReactive(citys))\n   console.log(isReactive(citys2))\n   ```\n\n### `markRaw`\n\n1. ä½œç”¨ï¼šæ ‡è®°ä¸€ä¸ªå¯¹è±¡ï¼Œä½¿å…¶**æ°¸è¿œä¸ä¼š**å˜æˆå“åº”å¼çš„ã€‚\n\n   > ä¾‹å¦‚ä½¿ç”¨`mockjs`æ—¶ï¼Œä¸ºäº†é˜²æ­¢è¯¯æŠŠ`mockjs`å˜ä¸ºå“åº”å¼å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ `markRaw` å»æ ‡è®°`mockjs`\n\n2. ç¼–ç ï¼š\n\n   ```js\n   /* markRaw */\n   let citys = markRaw([\n     {id:'asdda01',name:'åŒ—äº¬'},\n     {id:'asdda02',name:'ä¸Šæµ·'},\n     {id:'asdda03',name:'å¤©æ´¥'},\n     {id:'asdda04',name:'é‡åº†'}\n   ])\n   // æ ¹æ®åŸå§‹å¯¹è±¡cityså»åˆ›å»ºå“åº”å¼å¯¹è±¡citys2 â€”â€” åˆ›å»ºå¤±è´¥ï¼Œå› ä¸ºcitysè¢«markRawæ ‡è®°äº†\n   let citys2 = reactive(citys)\n   ```\n\n## 7.4.ã€customRefã€‘\n\nä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„`ref`ï¼Œå¹¶å¯¹å…¶ä¾èµ–é¡¹è·Ÿè¸ªå’Œæ›´æ–°è§¦å‘è¿›è¡Œé€»è¾‘æ§åˆ¶ã€‚\n\nå®ç°é˜²æŠ–æ•ˆæœï¼ˆ`useSumRef.ts`ï¼‰ï¼š\n\n```typescript\nimport {customRef } from \"vue\";\n\nexport default function(initValue:string,delay:number){\n  let msg = customRef((track,trigger)=>{\n    let timer:number\n    return {\n      get(){\n        track() // å‘Šè¯‰Vueæ•°æ®msgå¾ˆé‡è¦ï¼Œè¦å¯¹msgæŒç»­å…³æ³¨ï¼Œä¸€æ—¦å˜åŒ–å°±æ›´æ–°\n        return initValue\n      },\n      set(value){\n        clearTimeout(timer)\n        timer = setTimeout(() => {\n          initValue = value\n          trigger() //é€šçŸ¥Vueæ•°æ®msgå˜åŒ–äº†\n        }, delay);\n      }\n    }\n  }) \n  return {msg}\n}\n```\n\nç»„ä»¶ä¸­ä½¿ç”¨ï¼š\n\n\n\n\n\n# 8. Vue3æ–°ç»„ä»¶\n\n## 8.1. ã€Teleportã€‘\n\n- ä»€ä¹ˆæ˜¯Teleportï¼Ÿâ€”â€” Teleport æ˜¯ä¸€ç§èƒ½å¤Ÿå°†æˆ‘ä»¬çš„**ç»„ä»¶htmlç»“æ„**ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®çš„æŠ€æœ¯ã€‚\n\n```html\n<teleport to='body' >\n    <div class=\"modal\" v-show=\"isShow\">\n      <h2>æˆ‘æ˜¯ä¸€ä¸ªå¼¹çª—</h2>\n      <p>æˆ‘æ˜¯å¼¹çª—ä¸­çš„ä¸€äº›å†…å®¹</p>\n      <button @click=\"isShow = false\">å…³é—­å¼¹çª—</button>\n    </div>\n</teleport>\n```\n\n## 8.2. ã€Suspenseã€‘\n\n-  ç­‰å¾…å¼‚æ­¥ç»„ä»¶æ—¶æ¸²æŸ“ä¸€äº›é¢å¤–å†…å®¹ï¼Œè®©åº”ç”¨æœ‰æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ \n-  ä½¿ç”¨æ­¥éª¤ï¼š \n   -  å¼‚æ­¥å¼•å…¥ç»„ä»¶\n   -  ä½¿ç”¨`Suspense`åŒ…è£¹ç»„ä»¶ï¼Œå¹¶é…ç½®å¥½`default` ä¸ `fallback`\n\n```tsx\nimport { defineAsyncComponent,Suspense } from \"vue\";\nconst Child = defineAsyncComponent(()=>import('./Child.vue'))\n```\n\n```html\n<template>\n    <div class=\"app\">\n        <h3>æˆ‘æ˜¯Appç»„ä»¶</h3>\n        <Suspense>\n          <template v-slot:default>\n            <Child/>\n          </template>\n          <template v-slot:fallback>\n            <h3>åŠ è½½ä¸­.......</h3>\n          </template>\n        </Suspense>\n    </div>\n</template>\n```\n\n\n\n## 8.3.ã€å…¨å±€APIè½¬ç§»åˆ°åº”ç”¨å¯¹è±¡ã€‘\n\n- `app.component`\n- `app.config`\n- `app.directive`\n- `app.mount`\n- `app.unmount`\n- `app.use`\n\n## 8.4.ã€å…¶ä»–ã€‘\n\n- è¿‡æ¸¡ç±»å `v-enter` ä¿®æ”¹ä¸º `v-enter-from`ã€è¿‡æ¸¡ç±»å `v-leave` ä¿®æ”¹ä¸º `v-leave-from`ã€‚\n\n\n- `keyCode` ä½œä¸º `v-on` ä¿®é¥°ç¬¦çš„æ”¯æŒã€‚\n\n- `v-model` æŒ‡ä»¤åœ¨ç»„ä»¶ä¸Šçš„ä½¿ç”¨å·²ç»è¢«é‡æ–°è®¾è®¡ï¼Œæ›¿æ¢æ‰äº† `v-bind.syncã€‚`\n\n- `v-if` å’Œ `v-for` åœ¨åŒä¸€ä¸ªå…ƒç´ èº«ä¸Šä½¿ç”¨æ—¶çš„ä¼˜å…ˆçº§å‘ç”Ÿäº†å˜åŒ–ã€‚\n\n- ç§»é™¤äº†`$on`ã€`$off` å’Œ `$once` å®ä¾‹æ–¹æ³•ã€‚\n\n- ç§»é™¤äº†è¿‡æ»¤å™¨ `filter`ã€‚\n\n- ç§»é™¤äº†`$children` å®ä¾‹ `propert`ã€‚\n\n  ......\n","tags":["å­¦ä¹ ç¬”è®°","vue3.0"],"categories":["_A2-å‰ç«¯","vue3.0"]},{"title":"JavaScript Vueåˆ›å»ºè¿è¡Œé¡¹ç›®","url":"/2024/02/16/JavaScript-Vueåˆ›å»ºè¿è¡Œé¡¹ç›®/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>JavaScript Vueåˆ›å»ºè¿è¡Œé¡¹ç›®ï¼š</strong></font>\n\n<!--more-->\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>å·²ç»å®‰è£…å¹¶ä¸” `node ç‰ˆæœ¬ >= 15.0`</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>åˆ›å»º `Vue`é¡¹ç›®ï¼š</strong></font>\n\n```shell\nnpm init vue@latest   # å®‰è£…vueæœ€æ–°ç‰ˆæœ¬\n\n# åˆ›å»ºå‘½ä»¤\nnpm create vue@latest\n\n\n\nâœ” è¯·è¾“å…¥é¡¹ç›®åç§°ï¼š â€¦ hello_vue3\nâœ” æ˜¯å¦ä½¿ç”¨ TypeScript è¯­æ³•ï¼Ÿ â€¦ å¦ / æ˜¯\nâœ” æ˜¯å¦å¯ç”¨ JSX æ”¯æŒï¼Ÿ â€¦ å¦ / æ˜¯\nâœ” æ˜¯å¦å¼•å…¥ Vue Router è¿›è¡Œå•é¡µé¢åº”ç”¨å¼€å‘ï¼Ÿ â€¦ å¦ / æ˜¯\nâœ” æ˜¯å¦å¼•å…¥ Pinia ç”¨äºçŠ¶æ€ç®¡ç†ï¼Ÿ â€¦ å¦ / æ˜¯\nâœ” æ˜¯å¦å¼•å…¥ Vitest ç”¨äºå•å…ƒæµ‹è¯•ï¼Ÿ â€¦ å¦ / æ˜¯\nâœ” æ˜¯å¦è¦å¼•å…¥ä¸€æ¬¾ç«¯åˆ°ç«¯ï¼ˆEnd to Endï¼‰æµ‹è¯•å·¥å…·ï¼Ÿ â€º ä¸éœ€è¦\nâœ” æ˜¯å¦å¼•å…¥ ESLint ç”¨äºä»£ç è´¨é‡æ£€æµ‹ï¼Ÿ â€¦ å¦ / æ˜¯\n```\n\n![vue3.0 é¡¹ç›®ä»‹ç»](https://s2.loli.net/2024/02/16/wSTFEjm5pqZRvih.png)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong></strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong></strong></font>\n\n \n","tags":["javascript","å‰ç«¯"],"categories":["_A2-å‰ç«¯","Vue3.0"]},{"title":"CentOS 7 ç¼–è¯‘å®‰è£… Python 3.12.0_CentOS7å‡çº§Python3","url":"/2024/02/16/CentOS-7-ç¼–è¯‘å®‰è£…-Python-3-12-0-CentOS7å‡çº§Python3/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>CentOS 7 ç¼–è¯‘å®‰è£… Python 3.12.0_CentOS7</strong></font>\n\n<!--more-->\n\n## <font color=#f26522 size=5 face=å®‹ä½“><strong>å‰è¨€</strong></font>\n\n### <font color=#00b2c2 size=4 face=å®‹ä½“><strong>æœ¬æ–‡ä¸»æ—¨</strong></font>\n\n+ åŸæœ¬ CentOS 7 ä¸‹é€šè¿‡ Yum å®‰è£…çš„ Python3 ç‰ˆæœ¬ä¸º 3.6ã€‚ç”±äºç‰ˆæœ¬å¤ªä½ï¼Œä¸æ»¡è¶³ä¸€äº›åº”ç”¨ç¨‹åºå¯¹ Python ç‰ˆæœ¬çš„æœ€ä½è¦æ±‚ã€‚\n\n+ å› æ­¤ï¼Œæœ¬æ–‡è¦åœ¨ CentOS 7 ä»¥ç¼–è¯‘å®‰è£…çš„æ–¹å¼å‡çº§ Python çš„ç‰ˆæœ¬åˆ°å½“å‰ï¼ˆ2023-12ï¼‰çš„æœ€æ–°ç‰ˆæœ¬â€”â€” Python 3.12.0ã€‚\n\n+ å› ä¸º CentOS 7 åŸå…ˆçš„ OpenSSL ç‰ˆæœ¬å¤ªæ—§ï¼Œä¸æ»¡è¶³é«˜ç‰ˆæœ¬ Python ç¼–è¯‘å®‰è£…çš„æœ€ä½è¦æ±‚ï¼Œå› è€Œè¦å…ˆå‡çº§ OpenSSL ç‰ˆæœ¬åˆ° v1.1.1xï¼ŒåŒæ ·æ˜¯é€šè¿‡ç¼–è¯‘çš„æ–¹å¼ã€‚\n\n+ è¦å®‰è£…é«˜ç‰ˆæœ¬çš„è½¯ä»¶ï¼Œæœ€å¥½å…ˆå‡çº§ GCC çš„ç‰ˆæœ¬ï¼Œæœ¬æ–‡å°†å‡çº§ GCC å·¥å…·åŒ…åˆ° v11ã€‚\n\n+ æ‰€æœ‰ Python æºä»£ç å­˜æ¡£äºï¼šhttps://www.python.org/ftp/python/\n\n### <font color=#00b2c2 size=4 face=å®‹ä½“><strong>ä»€ä¹ˆæ˜¯ Python</strong></font>\n\n+ **Python** æ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„è§£é‡Šå‹çš„é«˜çº§ä¸”é€šè¿‡çš„è®¡ç®—æœºç¼–ç¨‹è¯­è¨€ã€‚\n\n### <font color=#00b2c2 size=4 face=å®‹ä½“><strong>Python çš„ç‰¹ç‚¹</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>**python** æœ‰ä»¥ä¸‹çš„ç‰¹ç‚¹ï¼š</strong></font>\n\n+ 1. å®ƒåŒæ—¶æ”¯æŒç»“æ„åŒ–ã€è¿‡ç¨‹å¼ã€åå°„å¼ã€é¢å‘å¯¹è±¡å‡½æ•°å¼ç¼–ç¨‹ã€‚\n+ 2. å®ƒæ˜¯åŠ¨æ€çš„è„šæœ¬ç¼–ç¨‹è¯­è¨€ï¼Œå¹¶å…·æœ‰åƒåœ¾å›æ”¶åŠŸèƒ½ï¼Œèƒ½å¤Ÿè‡ªåŠ¨ç®¡ç†å†…å­˜çš„ä½¿ç”¨ã€‚\n+ 3. å®ƒç®€æ´çš„è¯­æ³•èƒ½å¤Ÿè®©å¼€å‘è€…ä»¥æ›´å°‘æ›´æ¸…æ™°çš„ä»£ç æ¥è¡¨è¾¾æƒ³æ³•ï¼›\n+ 4. Python ä»£ç ä½¿ç”¨ç©ºæ ¼ç¼©è¿›è€Œéç¬¦å·çš„æ–¹å¼æ¥åŒºåˆ†ä»£ç å—ï¼Œè¿™ä½¿å¾—ç”¨å®ƒå†™çš„ä»£ç ç›¸æ¯”ä¹‹ä¸‹æ›´å…·æœ‰å¯è¯»æ€§ï¼›\n+ 5. Python è‹¥æœ‰æå¼ºçš„è·¨å¹³å°èƒ½åŠ›ï¼Œå¯åœ¨å‡ ä¹æ‰€æœ‰çš„æ“ä½œç³»ç»Ÿä¸­ä½¿ç”¨ï¼›\n+ 6. Python æ˜¯è‡ªç”±çš„å¼€æºçš„ä¸”ç”±ç¤¾ç¾¤é©±åŠ¨çš„è½¯ä»¶ï¼Œç›®å‰ç”± â€œPyhton è½¯ä»¶åŸºé‡‘ä¼šâ€ ç®¡ç†ï¼›\n+ 7. Python æ˜¯è¿‘å¹´æ¥æœ€å—æ¬¢è¿çš„ç¼–ç¨‹è¯­è¨€ä¹‹ä¸€ï¼Œå½“å‰ï¼ˆ2023å¹´12æœˆï¼‰ï¼Œå®ƒä»¥è¿‘ 15% çš„å¸‚åœºå æœ‰ç‡åœ¨ä¸–ç•Œæ’åç¬¬ä¸€ï¼Œç¢¾å‹ Cè¯­è¨€ã€CPP å’Œ Java ç­‰ä¼ ç»Ÿå—æ¬¢è¿çš„ç¼–ç¨‹è¯­è¨€ã€‚\n\nä»¥ä¸Šèµ„æ–™æ¥æºäºç½‘ä¸Šã€‚\n\n![CentOS 7 å‡çº§ Python 3.12.0](https://s2.loli.net/2024/02/16/bw9PR8FTEVGf1Ax.png)\n\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>å‡çº§ GCC</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å®‰è£…å¼€å‘å·¥å…·åŒ…</strong></font>\n\né¦–å…ˆè¦å®‰è£… CentOS 7 çš„å¼€å‘å·¥å…·åŒ…ï¼Œä»¥å…åˆ°æ—¶è¦†ç›–æ‰æ–°çš„ GCC å¯æ‰§è¡Œæ–‡ä»¶ã€‚\n\n```shell\nyum update -y\nyum group install -y \"development tools\"\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>å®‰è£… GCC-11</strong></font>\n\n```bash\nyum update -y\nyum install -y centos-release-scl\nyum install -y devtoolset-11\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>å¯ç”¨ GCC-11 ç›¸å…³çš„ç»„ä»¶</strong></font>\n\n```bash\ncat /etc/bashrc | grep -i \"/opt/rh/devtoolset-11/enable\"\n\nif [ $? -gt 0  ]; then\n    echo \"source /opt/rh/devtoolset-11/enable\" >>/etc/bashrc\nfi\nsource /etc/bashrc\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>åˆ›å»ºè½¯é“¾æ¥åˆ°ç³»ç»Ÿå¯æ‰§è¡Œç›®å½•</strong></font>\n\n```bash\nln -vsf /opt/rh/devtoolset-11/root/bin/* /usr/bin/\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>æ£€éªŒ GCC-11 æ˜¯å¦å®‰è£…æˆåŠŸ</strong></font>\n\n```bash\n/usr/bin/gcc --version | grep \"gcc (GCC) 11.\"\ncode=$?\n\nif [ $code -gt 0 ]; then\n    echo \"+++++++++++++++++++++++++++++++++GCC-11 å®‰è£…å¤±è´¥ï¼\"\n    echo \"é”™è¯¯ç ï¼š $code\"\nelse\n    echo \"+++++++++++++++++++++++++++++++++GCC-11 å®‰è£…æˆåŠŸï¼\"\nfi\n```\n\n## <font color=#f26522 size=4 face=å®‹ä½“><strong>å‡çº§ OpenSSL åˆ° 1.1.1</strong></font>\n\nç”±äºå½“å‰çš„ OpenSSL v1.1.1 æœ€é«˜ç‰ˆæœ¬æ˜¯ v1.1.1wï¼Œäºæ˜¯ä¾¿å®‰è£…è¿™ä¸ªã€‚\n\næœ€æ–°ç‰ˆåœ¨å³è¾¹é“¾æ¥çš„ç½‘é¡µï¼š https://ftp.openssl.org/source/ã€‚\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>å®‰è£… OpenSSL ç¼–è¯‘è¦æ±‚çš„ä¾èµ–</strong></font>\n\n```bash\nyum install -y wget zlib-devel perl-IPC-Cmd perl-Test-Simple\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>è®¾å®šä¸€ä¸ªå˜é‡ï¼Œç”¨æ¥å®‰æ”¾ OpenSSL æ–°ç‰ˆæœ¬åç§°</strong></font>\n\nä¸€å®šè¦æ‰§è¡Œè¿™ä¸€æ­¥ï¼Œå› ä¸ºè¿™å…³ç³»åˆ°åé¢ä¸‹è½½å’Œæ–‡ä»¶ç›®å½•çš„åå­—ã€‚\n\n```bash\nOPENSSL_VER=1.1.1w\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>è¿›å…¥ /tmp ç›®å½•</strong></font>\n\nä»¥åçš„æ“ä½œå‡åœ¨æ­¤ç›®å½•åŠå…¶å­ç›®å½•è¿›è¡Œã€‚\n\n```bash\ncd /tmp\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ OpenSSL æºä»£ç </strong></font>\n\n```bash\n# ä¸‹è½½å¯èƒ½å¾ˆæ…¢ï¼Œç”šè‡³ä¼šè¶…æ—¶\n# è¿™æ—¶å¯ä»¥åˆ é™¤åŸæ–‡ä»¶ï¼Œå†é‡æ–°ä¸‹è½½\nwget https://ftp.openssl.org/source/openssl-${OPENSSL_VER}.tar.gz\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>è§£å‹ç¼©å’Œè¿›å…¥æºç ç›®å½•</strong></font>\n\n```bash\ntar zxf openssl-${OPENSSL_VER}.tar.gz\ncode=$?\n\nif [ $code -gt 0 ]; then\n    echo \"+++++++++++++++++++++++++++++++++OpenSSL æºç å‹ç¼©åŒ…è§£å‹å¤±è´¥ï¼\"\n    echo \"é”™è¯¯ä»£ç ï¼š $code\"\nelse\n    cd openssl-${OPENSSL_VER}/\nfi\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>é…ç½®å’Œç¼–è¯‘</strong></font>\n\n```bash\n./config --prefix=/usr/local/openssl-${OPENSSL_VER} --openssldir=/etc/ssl-${OPENSSL_VER} shared zlib\ncode=$?\n\nif [ $code -gt 0 ]; then\n    echo \"+++++++++++++++++++++++++++++++++é…ç½®æºç å¤±è´¥ï¼\"\n    echo \"é”™è¯¯ä»£ç : $code\"\nelse\n    echo \"+++++++++++++++++++++++++++++++++å¼€å§‹ç¼–è¯‘ OpenSSL v${OPENSSL_VER}\"\n    make -j2\n    code=$?\n    if [ $code -gt 0 ]; then\n        echo \"+++++++++++++++++++++++++++++++++ç¼–è¯‘ OpenSSL å¤±è´¥ï¼\"\n        echo \"é”™è¯¯ä»£ç : $code\"\n    else\n        echo \"+++++++++++++++++++++++++++++++++ç¼–è¯‘ OpenSSL æˆåŠŸï¼\"\n    fi\nfi\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>å®‰è£… OpenSSL</strong></font>\n\nç¼–è¯‘æˆåŠŸåçš„ä¸€æ­¥æ˜¯æ‰§è¡Œå®‰è£…å‘½ä»¤ï¼š\n\n```bash\nif [ $code -eq 0 ]; then\n    echo \"+++++++++++++++++++++++++++++++++å¼€å§‹å®‰è£… OpenSSL v${OPENSSL_VER}\"\n    make install\n    code=$?\n    if [ $code -gt 0 ]; then\n        echo \"+++++++++++++++++++++++++++++++++OpenSSL v${OPENSSL_VER} å®‰è£…å¤±è´¥ï¼\"\n        echo \"é”™è¯¯ä»£ç ï¼š $code\"\n    else\n        echo \"+++++++++++++++++++++++++++++++++æˆåŠŸå®‰è£… OpenSSL v${OPENSSL_VER}ï¼\"\n    fi\nfi\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>å°†æ–°å®‰è£…çš„ OpenSSL åº“æ–‡ä»¶ç›®å½•è·¯å¾„æ”¾è¿›ç³»ç»Ÿä¸­</strong></font>\n\n```bash\nif [ $code -eq 0 ]; then\n    bash -c \"echo '/usr/local/openssl-${OPENSSL_VER}/lib' >> /etc/ld.so.conf\"\n    ldconfig -v\nfi\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>æŸ¥çœ‹æ–°å®‰è£…çš„ libssl åŠ¨æ€åº“æ˜¯å¦å­˜åœ¨</strong></font>\n\n```bash\nldconfig -v |grep -i \"libssl\"\n```\n\næ‰§è¡Œç»“æœï¼š\n\n```bash\nlibssl.so.1.1 -> libssl.so.1.1\nlibssl3.so -> libssl3.so\nlibssl.so.10 -> libssl.so.1.0.2k\n```\n\nè‡³æ­¤ï¼Œå®Œæˆå¯¹ OpenSSL çš„å‡çº§å®‰è£…ã€‚\n\næ¥ä¸‹æ¥å®‰è£…å½“å‰æœ€æ–°ç‰ˆæœ¬çš„ Pythonã€‚\n\n## <font color=#f26522 size=4 face=å®‹ä½“><strong>ç¼–è¯‘å‡çº§ Python</strong></font>\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>å®‰è£…ä¾èµ–</strong></font>\n\n```bash\nyum install -y wget bzip2-devel libffi-devel \\\n    ncurses-devel gdbm-devel xz-devel sqlite-devel \\\n    tk-devel uuid-devel readline-devel\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>è®¾ç½®ç‰ˆæœ¬å·</strong></font>\n\næœ€æ–°æºç åŒ…å¯åœ¨ https://www.python.org/ftp/python/ æ‰¾åˆ°ã€‚\n\n```bash\nPYTHON_VERSION=3.12.0\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>ä¸‹è½½ Python æºä»£ç å‹ç¼©åŒ…</strong></font>\n\n```bash\ncd /tmp\nwget https://www.python.org/ftp/python/${PYTHON_VERSION}/Python-${PYTHON_VERSION}.tar.xz\ncode=$?\nif [ $code -gt 0 ]; then\n    # ä¸‹è½½å¤±è´¥è¯·é‡è¯•\n    echo \"+++++++++++++++++++++++++++++++++Python æºä»£ç ä¸‹è½½å¤±è´¥ï¼\"\n    echo \"é”™è¯¯ä»£ç ï¼š $code\"\nelse\n    echo \"+++++++++++++++++++++++++++++++++Python æºä»£ç åŒ…ä¸‹è½½æˆåŠŸï¼\"\nfi\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>è§£å‹ç¼©</strong></font>\n\n```bash\ntar Jxf Python-${PYTHON_VERSION}.tar.xz\ncode=$?\n\nif [ $code -gt 0 ]; then\n    echo \"+++++++++++++++++++++++++++++++++è§£å‹ç¼©å¤±è´¥ï¼\"\n    echo \"é”™è¯¯ä»£ç ï¼š $code\"\nelse\n    echo \"+++++++++++++++++++++++++++++++++è§£å‹ç¼©æˆåŠŸï¼\"\nfi\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>è¿›å…¥ Python æºç ç›®å½•</strong></font>\n\n```bash\necho \"+++++++++++++++++++++++++++++++++cd Python-${PYTHON_VERSION}\"\ncd Python-${PYTHON_VERSION}\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>ç¡®è®¤å½“å‰ç¼–è¯‘å®‰è£…çš„ç¯å¢ƒæ¡ä»¶</strong></font>\n\n```bash\necho \"OpenSSL ver: ${OPENSSL_VER}\"\necho \"Python ver: ${PYTHON_VERSION}\"\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>è¿›è¡Œç¼–è¯‘æ¡ä»¶æ“ä½œ</strong></font>\n\n```bash\n./configure --prefix=/usr/local/python-${PYTHON_VERSION} --with-openssl=/usr/local/openssl-${OPENSSL_VER} --with-openssl-rpath=/usr/local/openssl-${OPENSSL_VER}/lib --enable-shared --enable-ipv6 ax_cv_c_float_words_bigendian=no --enable-optimizations\ncode=$?\n\nif [ $code -gt 0 ]; then\n    echo \"+++++++++++++++++++++++++++++++++Python ç¼–è¯‘æ¡ä»¶é…ç½®æ‰§è¡Œå¤±è´¥ï¼\"\n    echo \"é”™è¯¯ä»£ç ï¼š $code\"\nelse\n    echo \"+++++++++++++++++++++++++++++++++Python ç¼–è¯‘æ¡ä»¶é…ç½®æ‰§è¡ŒæˆåŠŸï¼\"\nfi\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>è¿›è¡Œ Python çš„ç¼–è¯‘æ“ä½œ</strong></font>\n\n```bash\nmake -j2\ncode=$?\n\nif [ $code -gt 0 ]; then\n    echo \"+++++++++++++++++++++++++++++++++Python ç¼–è¯‘å¤±è´¥\"\n    echo \"é”™è¯¯ä»£ç ï¼š $code\"\nelse\n    echo \"+++++++++++++++++++++++++++++++++æˆåŠŸè¿›è¡Œ Python ç¼–è¯‘æ“ä½œï¼\"\nfi\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>å®‰è£… Python v1.12</strong></font>\n\n```bash\nmake altinstall\ncode=$?\n\nif [ $code -gt 0 ]; then\n    echo \"+++++++++++++++++++++++++++++++++Python å®‰è£…å¤±è´¥ï¼\"\n    echo \"é”™è¯¯ä»£ç ï¼š $code\"\nelse\n    echo \"+++++++++++++++++++++++++++++++++Python å®‰è£…æˆåŠŸï¼\"\nfi\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>æŠŠæ–° Python çš„åº“ç›®å½•æ”¾è¿›ç³»ç»Ÿ</strong></font>\n\n```bash\nbash -c \"echo \\\"/usr/local/python-${PYTHON_VERSION}/lib\\\" >> /etc/ld.so.conf\"\nldconfig -v\n## ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥å®åº“ç›®å½•æ˜¯å¦å·²æ·»åŠ \nldconfig -v | grep -i \"python\"\n```\n\næ‰§è¡Œç»“æœï¼š\n\n```bash\nlibpython3.so -> libpython3.so\nlibpython3.12.so.1.0 -> libpython3.12.so.1.0\nlibpython2.7.so.1.0 -> libpython2.7.so.1.0\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>è®¾ç½®æ–° Python çš„ç¯å¢ƒå˜é‡</strong></font>\n\n```bash\necho \"export PATH=\\\"${PATH}:/usr/local/python-${PYTHON_VERSION}/bin\\\"\" >>/etc/bashrc\nsource /etc/bashrc\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>å°†æ–° Python çš„å¯æ‰§è¡Œæ–‡ä»¶è¦†ç›–ç³»ç»ŸåŸæœ‰çš„æ–‡ä»¶</strong></font>\n\n```bash\nln -sf /usr/local/python-${PYTHON_VERSION}/bin/python3.12 /usr/bin/python3\nln -sf /usr/local/python-${PYTHON_VERSION}/bin/pip3.12 /usr/bin/pip3\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>è®¾ç½® PyPI çš„å›½å†…è½¯ä»¶æºå¹¶å‡çº§è‡ªèº«</strong></font>\n\n```bash\n# è®¾ç½®å›½å†…æº\nmkdir ~/.pip\ncat >~/.pip/pip.conf <<EOF\n[global]\nindex-url = https://pypi.tuna.tsinghua.edu.cn/simple\nEOF\n\n# å‡çº§ PyPI\npython3 -m pip install --upgrade pip\n```\n","tags":["linux","python","å®‰è£…"],"categories":["_A5-å®‰è£…æ•™ç¨‹","Python"]},{"title":"Centos7 å¼€å¯è¿œç¨‹SSHç™»å½•ã€å¼€å¯ç½‘å¡","url":"/2024/02/15/Centos7-å¼€å¯è¿œç¨‹SSHç™»å½•ã€å¼€å¯ç½‘å¡/","content":"\n### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>[CentOS7å¼€å¯SSHè¿œç¨‹ç™»é™†](https://www.cnblogs.com/travis-li/p/12550370.html)</strong></font>\n\n<!--more-->\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>åœ¨è™šæ‹Ÿæœºï¼ˆ[Vmware](https://so.csdn.net/so/search?q=Vmware&spm=1001.2101.3001.7020) Workstationï¼‰ä¸‹ï¼Œå®‰è£…äº†`CentOS7`ï¼Œç°åœ¨æƒ³é€šè¿‡SSHå·¥å…·è¿æ¥è™šæ‹Ÿæœºä¸­çš„CentOS7</strong></font>\n\n1ã€  é¦–å…ˆï¼Œè¦ç¡®ä¿`CentOS7`å®‰è£…äº†  `openssh-server`ï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥  `yum list installed | grep openssh-server`\n\n ![img](https://s2.loli.net/2024/02/15/BjxbiRzYFfLOHwP.png)\n\næ­¤å¤„æ˜¾ç¤ºå·²ç»å®‰è£…äº†  `openssh-server`ï¼Œå¦‚æœåˆæ²¡ä»»ä½•è¾“å‡ºæ˜¾ç¤ºè¡¨ç¤ºæ²¡æœ‰å®‰è£…  `openssh-server`ï¼Œé€šè¿‡è¾“å…¥  `yum install openssh-server`\n\n ![img](https://s2.loli.net/2024/02/15/ascQCiwotzjdSrR.png)\n\næ¥è¿›è¡Œå®‰è£…openssh-server\n\n2ã€  æ‰¾åˆ°äº† ` /etc/ssh/`  ç›®å½•ä¸‹çš„sshdæœåŠ¡é…ç½®æ–‡ä»¶ `sshd_config`ï¼Œç”¨Vimç¼–è¾‘å™¨æ‰“å¼€\n\nå°†æ–‡ä»¶ä¸­ï¼Œå…³äºç›‘å¬ç«¯å£ã€ç›‘å¬åœ°å€å‰çš„ # å·å»é™¤\n\n ![img](https://s2.loli.net/2024/02/15/uX3tFzO5YbLJAZQ.png)\n\nç„¶åå¼€å¯å…è®¸è¿œç¨‹ç™»å½•\n\n ![img](https://s2.loli.net/2024/02/15/89kQdlumbaErKPD.png)\n\næœ€åï¼Œå¼€å¯ä½¿ç”¨ç”¨æˆ·åå¯†ç æ¥ä½œä¸ºè¿æ¥éªŒè¯\n\n ![img](https://s2.loli.net/2024/02/15/312hzSq7sPUjEAr.png)\n\nä¿å­˜æ–‡ä»¶ï¼Œé€€å‡º\n\n \n\n3ã€  å¼€å¯  sshd  æœåŠ¡ï¼Œè¾“å…¥ `sudo service sshd start`\n\n ![img](https://s2.loli.net/2024/02/15/MdFH25S3zuRkYXL.png)\n\næ£€æŸ¥  sshd  æœåŠ¡æ˜¯å¦å·²ç»å¼€å¯ï¼Œè¾“å…¥`ps -e | grep sshd`\n\n ![img](https://s2.loli.net/2024/02/15/ERLSi5ntIubMsp2.png)\n\næˆ–è€…è¾“å…¥`netstat -an | grep 22`  æ£€æŸ¥  22 å·ç«¯å£æ˜¯å¦å¼€å¯ç›‘å¬\n\n ![img](https://s2.loli.net/2024/02/15/6bpkOMCdFqHzUls.png)\n\n \n\n4ã€ä¸ºäº†å…å»æ¯æ¬¡å¼€å¯ CentOS æ—¶ï¼Œéƒ½è¦æ‰‹åŠ¨å¼€å¯  sshd æœåŠ¡ï¼Œå¯ä»¥å°† sshd æœåŠ¡æ·»åŠ è‡³è‡ªå¯åŠ¨åˆ—è¡¨ä¸­ï¼Œè¾“å…¥\n\n ![img](https://s2.loli.net/2024/02/15/dtIuKZGW4FbDx9A.png)\n\nå¯ä»¥é€šè¿‡è¾“å…¥`systemctl list-unit-files | grep sshd`ï¼ŒæŸ¥çœ‹æ˜¯å¦å¼€å¯äº†sshd æœåŠ¡è‡ªå¯åŠ¨\n\n![img](https://s2.loli.net/2024/02/15/Do46kFpKlIagPYf.png)\n\n---\n\n---\n\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Â å¦‚æœIfconfig æ— æ³•ä½¿ç”¨ï¼Œåˆæ— æ³•å®‰è£…çš„æƒ…å†µä¸‹ï¼š</strong></font>\n\n# CentOSä¸‹æŸ¥çœ‹æœ¬æœºipåœ°å€æ–¹æ³•\n\nè¾“å…¥ifconfigï¼ˆåŸæ¥ifconfigå·²å¤±æ•ˆï¼‰\n\n ![img](https://s2.loli.net/2024/02/15/cdQTvRO6SYkqVzI.png)\n\næˆ‘ä»¬å¯ä»¥è¾“å…¥`ip address`ï¼Œå‘½ä»¤æ˜¯å­˜åœ¨çš„,ä½†æ˜¯åªèƒ½æŸ¥çœ‹åˆ°æœ¬æœºip 127.0.0.1\n\n![img](https://s2.loli.net/2024/02/15/H8ALyPJpI2B4f5C.png)\n\n è‹¥éœ€è¦å…·ä½“æœ¬æœºIPåˆ™æŒ‰ç…§ä¸‹é¢è¿›è¡Œæ“ä½œ\n\nä½ éœ€è¦æ‰“å¼€ç½‘å¡é…ç½®æ–‡ä»¶ `/etc/sysconfig/network-scripts/ifcfg-ens33` ï¼Œå°†`ONBOOT` ä¿®æ”¹ä¸º`yes`ï¼Œä¹Ÿå°±æ˜¯å¯åŠ¨ç½‘å¡\n\n![img](https://s2.loli.net/2024/02/15/vilmH9w7Wn8sbxg.png)\n\nç„¶åé‡å¯ç½‘ç»œæœåŠ¡\n\n```shell\nsudo service network restart\n```\n\nå†æ¬¡è¾“å…¥ `ip address`å°±å¯ä»¥çœ‹åˆ°ipåœ°å€äº†\n\n![img](https://s2.loli.net/2024/02/15/fVui2QdN7skrYhv.png)\n","tags":["centos7","ssh","è¿œç¨‹ç™»å½•"],"categories":["_A5-å®‰è£…æ•™ç¨‹","SSH"]},{"title":"centos7å®‰è£…openVPNæ•™ç¨‹","url":"/2024/02/14/centos7å®‰è£…openVPNæ•™ç¨‹/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>centos7å®‰è£…openVPNæ•™ç¨‹ï¼š</strong></font>\n\n<!--more-->\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>æ”¯æŒ `Debian 9`æˆ– `Centos 7/8`æˆ– `Ubuntu 18`æˆ–æ›´é«˜ç‰ˆæœ¬</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>OpenVPNæ­å»ºä»£ç ï¼š</strong></font>\n\n```bash\nwget https://git.io/vpn -O openvpn-install.sh && bash openvpn-install.sh\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>FinalShellä¸‹è½½</strong></font>\n\n```bash\nhttps://wa6.lanzoui.com/ihjg2y3h14j\n\nFinalShellå¤‡ç”¨ä¸‹è½½ï¼ˆå«MACç‰ˆï¼‰ï¼šhttps://drive.google.com/drive/folders/1yUKRCn58kzDM6FRIadIWO8e5cDLz1mrx?usp=sharing\n```\n","tags":["ä»£ç†","æ¢¯å­"],"categories":["_A8-å·¥å…·","æ¢¯å­"]},{"title":"è§£å‹å¯†ç æ˜¯ä¸­æ–‡ æ€ä¹ˆåŠï¼Ÿ","url":"/2024/02/04/è§£å‹å¯†ç æ˜¯ä¸­æ–‡-æ€ä¹ˆåŠï¼Ÿ/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>è§£å‹å¯†ç æ˜¯ä¸­æ–‡ æ€ä¹ˆåŠï¼Ÿ</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä¸€ã€å®‰è£…unarè½¯ä»¶åŒ…ï¼š</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>Linuxï¼ˆDebianç³»åˆ—ï¼‰ï¼š</strong></font>\n\n```shell\napt install unar\n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>Linuxï¼ˆRedHatç³»åˆ—ï¼‰ï¼š</strong></font>\n\n```shell\nyum install unar\n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>MacOSï¼š</strong></font>\n\n```shell\nbrew install unar \n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>äºŒã€ä½¿ç”¨unaræ¥è§£å‹ï¼š</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>ä¾‹å¦‚ï¼šä½¿ç”¨å¯†ç â€œæ•°æ®ç§‘å­¦äº¤æµç¾¤189158789â€è§£å‹â€œæœºå™¨å­¦ä¹ .zipâ€åˆ°ç›®å½•â€œæœºå™¨å­¦ä¹ 2â€çš„å‘½ä»¤å¦‚ä¸‹ï¼š</strong></font>\n\n```\nunar -e GBK -E GBK -p æ•°æ®ç§‘å­¦äº¤æµç¾¤189158789 -o ./æœºå™¨å­¦ä¹ 2 æœºå™¨å­¦ä¹ .zip\n```\n\n","tags":["ä¸­æ–‡è§£å‹å¯†ç "],"categories":["_A9-é”™è¯¯è§£å†³","ä¸­æ–‡è§£å‹å¯†ç "]},{"title":"Linuxç³»ç»Ÿä¸Šä¼ å‘½ä»¤rzå’Œä¸‹è½½å‘½ä»¤sz","url":"/2024/02/01/Linuxç³»ç»Ÿä¸Šä¼ å‘½ä»¤rzå’Œä¸‹è½½å‘½ä»¤sz/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Linuxç³»ç»Ÿä¸Šä¼ å‘½ä»¤rzå’Œä¸‹è½½å‘½ä»¤szï¼š</strong></font>\n\n<!--more-->\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>éå¸¸æ–¹ä¾¿çš„ä¸Šä¼ å’Œä¸‹è½½å‘½ä»¤</strong></font>\n\n```shell\n# 1.å®‰è£…\nyum install lrzsz -y\n\n# 2.ä¸Šä¼ ï¼ˆrzï¼‰\nrz -E\n\n# 3.ä¸‹è½½ï¼ˆszï¼‰\nsz filename\n```\n","tags":["linux","ç³»ç»Ÿ","è¿ç»´"],"categories":["_A3-linux","å‘½ä»¤"]},{"title":"Docker éƒ¨ç½² å¯åŠ¨ç±» å‘½ä»¤","url":"/2024/02/01/Docker-éƒ¨ç½²-å¯åŠ¨ç±» å‘½ä»¤/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Docker éƒ¨ç½² å¯åŠ¨ç±» å‘½ä»¤ï¼š</strong></font>\n\n<!--more-->\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>ç¯å¢ƒå‡†å¤‡ï¼š</strong></font>\n\nDockeræ”¯æŒ64ä½ç‰ˆæœ¬çš„CentOS 7å’ŒCentOS 8åŠæ›´é«˜ç‰ˆæœ¬ï¼Œå®ƒè¦æ±‚Linuxå†…æ ¸ç‰ˆæœ¬ä¸ä½äº3.10ï¼Œä½¿ç”¨Xshellè¿æ¥è¿œç¨‹æœåŠ¡å™¨è¿›è¡Œæ“ä½œï¼\n\n```python\n# ç¯å¢ƒæŸ¥çœ‹ï¼ˆæŸ¥çœ‹Linuxç‰ˆæœ¬çš„å‘½ä»¤ï¼‰\n\nlsb_release -a    # Linux ç³»ç»Ÿä¿¡æ¯æŸ¥çœ‹å‘½ä»¤\ncat /etc/redhat-release\n\n# å¦‚æœæç¤ºæœªæ‰¾åˆ°å‘½ä»¤ï¼š\n## -bash: lsb_release: æœªæ‰¾åˆ°å‘½ä»¤\n\nyum provides */lsb_release   # å®‰è£… lsb_release\n```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬å‘½ä»¤ï¼š</strong></font>\n\n```shell\n# ç³»ç»Ÿå†…æ ¸æ˜¯3.10ä»¥ä¸Šçš„\n#    cat /proc/version\n#    uname -a\n#    uname -r\n\n[root&liudl /]& uname -r\n# 3.10.0-1062.12.1.e17.x86_64\n```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>å¸®åŠ©å¯åŠ¨ç±»å‘½ä»¤ï¼š</strong></font>\n\n```shell\nsystemctl start docker   # å¯åŠ¨docker\nsystemctl stop docker    # åœæ­¢docker\nsystemctl restart docker    # é‡å¯docker\nsystemctl status docker    # æŸ¥çœ‹dockerçŠ¶æ€\nsystemctl enable docker    # å¼€å¯è‡ªåŠ¨å¯åŠ¨\ndocker info   # æŸ¥çœ‹dockeræ¦‚è¦ä¿¡æ¯\ndocker --help  # æŸ¥çœ‹docker `æ€»`ä½“å¸®åŠ©æ–‡æ¡£\ndocker <å…·ä½“å‘½ä»¤> --help  # æŸ¥çœ‹ docker `å‘½ä»¤`å¸®åŠ©æ–‡æ¡£\n```\n\n+ <font color=#00b2c2 size=4 face=å®‹ä½“><strong>é•œåƒå‘½ä»¤ï¼š</strong></font>\n\n```python\ndocker images  # åˆ—å‡º æœ¬åœ°ä¸»æœºä¸Š çš„é•œåƒ\ndocker images -a  # åˆ—å‡º æœ¬åœ°ä¸»æœºä¸Š çš„é•œåƒ(å«å†å²æ˜ åƒå±‚)\ndocker images -q  # åˆ—å‡º æœ¬åœ°ä¸»æœºä¸Š çš„é•œåƒ(åªæ˜¾ç¤ºé•œåƒID)\n\n# docker search æŸ¥è¯¢å‘½ä»¤\ndocker search redis   # æœç´¢æ˜¯å¦å­˜åœ¨redisé•œåƒ(é»˜è®¤è¿”å›æ‰€æœ‰)\ndocker search --limit 5 redis   # æœç´¢å¹¶è¿”å›å‰5æ¡ redisçš„é€‰é¡¹\n\n# docker pull æ‹‰å–é•œåƒå‘½ä»¤\ndocker pull redis:latest   # æ‹‰å–æœ€æ–°ç‰ˆæœ¬ redis  (:latestï¼Œå¯ä»¥ä¸å†™)\n\n# æŸ¥çœ‹é•œåƒ/å®¹å™¨/æ•°æ®å·æ‰€å çš„ç©ºé—´\ndocker system df\n\n# docker åˆ é™¤é•œåƒå‘½ä»¤ï¼š\ndocker rmi -f <é•œåƒID>   # å¼ºåˆ¶åˆ é™¤å•ä¸ªé•œåƒ\ndocker rmi -f <é•œåƒå1>:TAG <é•œåƒå2>:TAG  # åˆ é™¤å¤šä¸ªé•œåƒ\ndocker rmi -f $(docker images -qa)   # åˆ é™¤å…¨éƒ¨çš„é•œåƒ\n```\n\n![image-20240201224626977](https://s2.loli.net/2024/02/01/d1p5ZrlcwDbGRFs.png)\n","tags":["centos7","docker","å·¥å…·"],"categories":["Docker","éƒ¨ç½²"]},{"title":"Centos7ä¸‹ï¼Œä½¿ç”¨dockeréƒ¨ç½²docker-selenium,è¿œç¨‹è¯·æ±‚chrome_drive","url":"/2024/01/29/centos7ä¸‹ï¼Œä½¿ç”¨dockeréƒ¨ç½²docker-selenium-è¿œç¨‹è¯·æ±‚chrome-drive/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Centos7ä¸‹ï¼Œä½¿ç”¨dockeréƒ¨ç½²docker-selenium,è¿œç¨‹è¯·æ±‚chrome_driveï¼š</strong></font>\n\n<!--more-->\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>[è¿œç¨‹WebDriver | Selenium](https://www.selenium.dev/zh-cn/documentation/webdriver/drivers/remote_webdriver/)</strong></font>\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>å®˜æ–¹Githubï¼š</strong></font>[SeleniumHQ/docker-selenium: Provides a simple way to run Selenium Grid with Chrome, Firefox, and Edge using Docker, making it easier to perform browser automation (github.com)](https://github.com/SeleniumHQ/docker-selenium)\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>VNC å¯†ç ï¼š`secret`</strong></font>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>æ‹‰å–é•œåƒï¼š</strong></font>\n\n```shell\ndocker pull standalone-chrome\n```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>éƒ¨ç½²docker_seleniumï¼š</strong></font>\n+ <font color=#00b2c2 size=4 face=å®‹ä½“><strong>å‚è€ƒï¼š</strong></font>[seleniumbaseå­¦ä¹ æ€»ç»“5 - docker-composeé›†æˆéƒ¨ç½²æ‰§è¡Œç¯å¢ƒ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7087386683062108196)\n\n```shell\ndocker run -d -p 3786:4444 -e SE_NODE_MAX_SESSIONS=100 -e NODE_MAX_INSTANCES=100 -e SE_NODE_OVERRIDE_MAX_SESSIONS=true -e E_SESSION_REQUEST_TIMEOUT=35 --name selenium-node-chrme1 -v /dev/shm:/dev/shm selenium/standalone-chrome\n\n# --restart  \nå‚æ•°ä¼šåœ¨å®¹å™¨å¼‚å¸¸æ—¶é‡å¯ï¼Œæ¯”å¦‚hubè¢«å‹æŒ‚äº†ç­‰ï¼Œåœ¨æ­å»ºé‡è¦é¡¹ç›®æ˜¯éƒ½æ˜¯åŠ ä¸Šè¯¥å‚æ•°\n\n# --scale chrome=num\ndocker-compose up -d --scale chrome=num //numæ˜¯è¦å¯åŠ¨èŠ‚ç‚¹çš„æ•°é‡ï¼Œchromeæ˜¯docker-composeæ–‡ä»¶ä¸­èŠ‚ç‚¹çš„åç§°\n\n# è‹¥éœ€å¤šä¸ªnodeï¼Œå¯é‡å¤æ‰§è¡Œä»¥ä¸Šå‘½ä»¤ï¼Œä¿®æ”¹--nameå³å¯ã€‚\n\n# --shm-size=\"2g\"\næ¥ä½¿ç”¨ä¸»æœºçš„å…±äº«å†…å­˜ï¼Œé˜²æ­¢å®¹å™¨å´©æºƒ,è¿™æ˜¯é¿å…æµè§ˆå™¨åœ¨ docker å®¹å™¨å†…å´©æºƒçš„å·²çŸ¥è§£å†³æ–¹æ³•ï¼Œè¿™é‡Œæ˜¯ Chromeå’ŒFirefoxçš„è®°å½•é—®é¢˜ã€‚2gb çš„ shm å¤§å°æ˜¯ä»»æ„çš„ï¼Œä½†å·²çŸ¥æ•ˆæœå¾ˆå¥½ï¼Œæ‚¨çš„ç‰¹å®šç”¨ä¾‹å¯èƒ½éœ€è¦ä¸åŒçš„å€¼ï¼Œå»ºè®®æ ¹æ®æ‚¨çš„éœ€è¦è°ƒæ•´æ­¤å€¼ã€‚\n\n# VNC_NO_PASSWORD=1\næ²¡æœ‰å¯†ç éªŒè¯çš„æƒ…å†µä¸‹è¿è¡Œ VNC\n\n# VNC_VIEW_ONLY=1\nä»…æŸ¥çœ‹æ¨¡å¼ä¸‹è¿è¡Œ VNC\n\n# -e SE_EVENT_BUS_HOST= < event_bus_ip | event_bus_name >\n# -e SE_EVENT_BUS_PUBLISH_PORT=4442\n# -e SE_EVENT_BUS_SUBSCRIBE_PORT=4443\nèŠ‚ç‚¹é…ç½®é€‰é¡¹ï¼š å‘Šè¯‰èŠ‚ç‚¹äº‹ä»¶æ€»çº¿åœ¨å“ªé‡Œï¼Œä»¥ä¾¿å®ƒå¯ä»¥æ³¨å†Œè‡ªå·±ã€‚\n\n# -e SE_NODE_MAX_SESSIONS=10\nå¢åŠ æ¯ä¸ªå®¹å™¨çš„ä¼šè¯å¹¶å‘æ€§\n\n# -v /home/ubuntu/files:/home/seluser/files\næ³¨æ„ï¼šmkdir /home/ubuntu/files\nchown 1200:1201 /home/ubuntu/files\næŒ‚è½½æ•°æ®å·å‰æ“ä½œ\n\n# -e SE_OPTS= \"--log-level FINE\"\nå¯ä»¥é€šè¿‡å°†ç¯å¢ƒå˜é‡ä¼ é€’ç»™å®¹å™¨æ¥å¢åŠ æ—¥å¿—è¾“å‡º\n\n# docker logs -f <å®¹å™¨ ID | å®¹å™¨åç§°>\næ‰€æœ‰è¾“å‡ºéƒ½å‘é€åˆ°æ ‡å‡†è¾“å‡ºï¼Œå› æ­¤å¯ä»¥é€šè¿‡è¿è¡Œæ£€æŸ¥\n\n# -e JAVA_OPTS=-Xmx512m\nå‘Šè¯‰èŠ‚ç‚¹äº‹ä»¶æ€»çº¿åœ¨å“ªé‡Œï¼Œä»¥ä¾¿å®ƒå¯ä»¥æ³¨å†Œè‡ªå·±ã€‚\n\n# -e SE_EVENT_BUS_SUBSCRIBE_PORT=4443\n# -e SCREEN_WIDTH=1366\n# -e SCREEN_HEIGHT=768\n# -e SCREEN_DEPTH=24\n# -e SCREEN_DPI=74\nè®¾ç½®å±å¹•åˆ†è¾¨ç‡\n\n# -e SE_NODE_SESSION_TIMEOUT\nç½‘æ ¼ URL å’Œä¼šè¯è¶…æ—¶ï¼Œé»˜è®¤300ç§’\n\n# -e E_SESSION_REQUEST_TIMEOUT=500\nè¶…æ—¶ä¸º 500 ç§’\n\n# -e SE_SESSION_RETRY_INTERVAL=2\né‡è¯•é—´éš”ä¸º 2 ç§’\n\n# -e SE_NODE_OVERRIDE_MAX_SESSIONS true\nå¯ç”¨è§†é¢‘å½•åˆ¶\n\n# -e START_XVFB=false\nä»¥æ— å¤´æ¨¡å¼è¿è¡Œ,é»˜è®¤æ˜¯true\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>UIé¢æ¿åœ°å€ï¼š</strong></font>\n\n```\nhttp://127.0.0.1:3786/ui#\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>python è¿è¡Œäº‹ä¾‹ï¼š</strong></font>\n\n```python\nfrom selenium import webdriver\n\noptions = webdriver.ChromeOptions()\ndriver = webdriver.Remote(command_executor=\"http://xxxxx:3786/wd/hub\", options=options)\ndriver.get(\"https://www.baidu.com\")\nprint(driver.page_source)\ndriver.close()\n\n```\n\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>å¥½å¤„ï¼š</strong></font>\n\n```txt\né‚£è¿™æ ·åšçš„æ„ä¹‰åœ¨å“ªé‡Œå‘¢ï¼Ÿ\næˆ‘ä»¬éƒ½çŸ¥é“ï¼Œselenium é€šå¸¸æ˜¯åªéœ€è¦ä¸‹è½½ä¸€ä¸ªé©±åŠ¨ï¼Œç„¶åå°±å¯ä»¥æœ¬åœ°ä½¿ç”¨äº†\n\t- ç‰¹åˆ«éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œseleniumä¸‹çš„é©±åŠ¨å’Œæµè§ˆå™¨çš„ç‰ˆæœ¬æ˜¯å¯¹åº”çš„ï¼Œå¦‚æœç‰ˆæœ¬ä¸å¯¹åº”ï¼Œé‚£ä¹ˆæ˜¯æ²¡åŠæ³•è¯·æ±‚çš„\n\nä½†æ˜¯docker selenium å°±ä¸ä¼šæœ‰è¿™ç§é—®é¢˜äº†ï¼Œä½¿ç”¨dockerè¿œç¨‹è¯·æ±‚ï¼Œä¼šè‡ªåŠ¨åŒ¹é…\n```\n\n","tags":["centos7","docker","å·¥å…·"],"categories":["Docker","éƒ¨ç½²"]},{"title":"ä½¿ç”¨coder-serveræ‰“é€ åœ¨çº¿IDE","url":"/2024/01/27/ä½¿ç”¨coder-serveræ‰“é€ åœ¨çº¿IDE/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ä½¿ç”¨coder-serveræ‰“é€ åœ¨çº¿IDEï¼š</strong></font>\n\n<!--more-->\n\n## <font color=#f26522 size=4 face=å®‹ä½“><strong>å‰è¨€ï¼š</strong></font>\n\nåœ¨å¹³æ—¶çš„å­¦ä¹ å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šç”¨åˆ°ä»£ç ç¼–è¾‘å™¨ï¼ŒVscodeå·²ç»æˆä¸ºæˆ‘ä»¬çš„é¦–é€‰ã€‚ä½†æ˜¯æœ¬åœ°ç¼–è¾‘å™¨æœ‰ä¸ªå¼Šç«¯å°±æ˜¯å½“æˆ‘ä»¬åœ¨å®¶åº­å’Œå…¬å¸ä¹‹é—´ç§»åŠ¨çš„æ—¶å€™ï¼Œæ— æ³•è¿ç»­ç¼–ç ã€‚è¿™ä¸ªæ—¶å€™å°±æœ‰å¾ˆå¤šæ–°å…´çš„åœ¨çº¿ç¼–è¾‘å™¨ï¼ˆweb IDEï¼‰å‡ºç°äº†ï¼Œç›®å‰æˆ‘æœ€å¸¸ç”¨çš„å°±æ˜¯è…¾è®¯çš„cloudstudioï¼Œä½†æ˜¯å…¶æ¯å¤©å…è´¹4å°æ—¶çš„ä½¿ç”¨æ—¶é•¿åœ¨æŸäº›æ—¶å€™å¯èƒ½ä¸å¤Ÿç”¨ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦æ‹¥æœ‰è‡ªå·±çš„åœ¨çº¿ç¼–è¾‘å™¨äº†ã€‚ä»Šå¤©æˆ‘ä»¬å°±ä¸€èµ·æ¥ä»‹ç»ä¸‹åœ¨çº¿ç¼–è¾‘å™¨coder-serverç¯å¢ƒçš„æ­å»ºå’ŒåŸºç¡€ä½¿ç”¨ã€‚\n\n## <font color=#f26522 size=4 face=å®‹ä½“><strong>å…³äºcloud_studio</strong></font>\n\né¦–å…ˆå£°æ˜ï¼Œè¿™ä¸æ˜¯å¹¿å‘Šã€‚ä»…ä»…å› ä¸ºå…¶å…è´¹å¥½ç”¨ã€‚\n\næˆ‘ä»¬å¯ä»¥åœ¨[coding.net](https://coding.net/)æ³¨å†Œè´¦å·ï¼Œç™»å½•åï¼Œç‚¹å‡»å¯¼èˆªæ çš„Cloud Studioå³å¯è¿›å…¥ã€‚\n![cloudstudio](https://s2.loli.net/2024/01/27/xsLaieJVWdAmqNP.png)\n\nç„¶åæˆ‘ä»¬æ ¹æ®è‡ªå·±éœ€è¦çš„ç¯å¢ƒç±»å‹åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå³å¯ã€‚\n\n![ç¯å¢ƒç±»å‹](https://s2.loli.net/2024/01/27/S3OjfvNbCHYm9hK.png)\n\nç„¶åä½ å°±å¾—åˆ°äº†ä¸€ä¸ªéå¸¸æ–¹ä¾¿å¥½ç”¨çš„åœ¨çº¿ç¼–è¾‘å™¨ã€‚\n\n![cloudstudio8c4g](https://s2.loli.net/2024/01/27/ClBLONA4EgbaZH5.png)\n\n> ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œè¿™å°æœåŠ¡å™¨çš„æ€§èƒ½è¿˜æ˜¯å¾ˆä¸é”™çš„ï¼Œ8æ ¸4Gå¾ˆå¼ºäº†ï¼Œå…è´¹çš„è¿˜è¦ä»€ä¹ˆè‡ªè¡Œè½¦ã€‚\n\ncloudstudioéå¸¸é€‚åˆç™½å«–å…šï¼Œä½†æ˜¯ä»Šå¤©å®ƒä¸æ˜¯ä¸»è§’ã€‚\n\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>coder-serverï¼š</strong></font>\n\ncoder-serverä¸€ä¸ªå¼€æºçš„åŸºäºvscodeå¼€å‘çš„åœ¨çº¿ç¼–è¾‘å™¨å·¥å…·ã€‚å…¶æ”¯æŒäºŒè¿›åˆ¶éƒ¨ç½²ã€Dockeréƒ¨ç½²ã€HemlChartéƒ¨ç½²ï¼Œç›®å‰è¿˜ä¸æ”¯æŒwindowséƒ¨ç½²ï¼Œä½†æ˜¯å·²ç»è¶³å¤Ÿæˆ‘ä»¬ä½¿ç”¨äº†ã€‚\n\nå…·ä½“éƒ¨ç½²å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼šhttps://coder.com/docs/code-server/latest/installã€‚\n\nè¿™é‡Œæˆ‘ä»¬é€‰æ‹©ç›¸å¯¹ç®€å•å¿«æ·çš„æ–¹å¼ï¼ŒDockeréƒ¨ç½²ã€‚\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>å‰ç½®æ¡ä»¶</strong></font>\n\nåœ¨éƒ¨ç½²coder-serverå‰ï¼Œä½ éœ€è¦å‡†å¤‡ä¸€å°Linuxè™šæœºï¼ˆå»ºè®®CentOS 7ï¼‰ï¼Œä½ å¯ä»¥å»äº‘å‚å•†è´­ä¹°ï¼ˆç”¨äºç”Ÿäº§ï¼‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨VMwareåœ¨ä¸ªäººç”µè„‘åˆ›å»ºè™šæœºï¼ˆç”¨äºå­¦ä¹ ï¼‰ã€‚\n\næˆ‘æ˜¯è´­ä¹°çš„è…¾è®¯äº‘çš„è½»é‡åº”ç”¨æœåŠ¡å™¨ã€‚\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>æ‹‰å–coder-serveré•œåƒ</strong></font>\n\n```bash\ndocker pull codercom/code-server\n```\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>å¯åŠ¨coder-server</strong></font>\n\n```bash\ndocker run -d  --name coder-server -p 8082:8080 -e PASSWORD=123 codercom/code-server:latest\n```\n\nå¯åŠ¨å®Œæˆåï¼Œæˆ‘ä»¬éœ€è¦åœ¨äº‘æœåŠ¡å™¨çš„é˜²ç«å¢™èœå•ä¸­æ‰“å¼€8082ç«¯å£ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨äº‘æœåŠ¡å™¨çš„å…¬ç½‘ipè¿›è¡Œç™»å½•ä½¿ç”¨äº†ã€‚ï¼ˆå¦‚æœä½ æ˜¯æœ¬åœ°è™šæ‹Ÿæœºï¼Œä¸éœ€è¦å¤„ç†é˜²ç«å¢™ï¼Œç›´æ¥åœ¨æµè§ˆå™¨è®¿é—®è™šæ‹Ÿæœºçš„ip:8082å³å¯ï¼‰\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>è®¿é—®coder-server</strong></font>\n\næˆ‘ä»¬åœ¨æµè§ˆå™¨è®¿é—®äº‘æœåŠ¡å™¨çš„å…¬ç½‘ip:8082ã€‚\n\n![coder-serverç™»å½•ç•Œé¢](https://s2.loli.net/2024/01/27/pkbsfB8w5rvVyM1.png)\n\nè¾“å…¥å¯†ç 123ç™»å½•ã€‚\n![loginok](https://s2.loli.net/2024/01/27/1HuUbnL8NZvj62T.png)\n\nå“‡å“¦ï¼Œè¿™ä¸å°±æ˜¯vscodeæœ¬vscodeå˜›ã€‚\n\n### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>å®‰è£…æ’ä»¶ï¼š</strong></font>\n\ncoder-serverå’Œvscodeä¸€æ ·ï¼Œæ”¯æŒå®‰è£…æ’ä»¶ï¼Œæˆ‘é€‰æ‹©äº†å‡ ä¸ªå¸¸ç”¨çš„æ’ä»¶å®‰è£…æµ‹è¯•ï¼Œå‡å®Œç¾æ”¯æŒã€‚\n\n![plugin](https://s2.loli.net/2024/01/27/luRLOitqv37s1I2.png)\n\nç¼–ç ä½“éªŒ\n\nç®€å•ä½“éªŒäº†ä¸‹ï¼Œå®é™…ç¼–ç ä½“éªŒå’Œvscodeæ²¡æœ‰å·®åˆ«ã€‚å¤§å®¶å¯ä»¥æ”¾å¿ƒä½¿ç”¨ã€‚\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>Tips</strong></font>\n\nå› ä¸ºcoder-serverä¸“æ³¨äºç¼–è¾‘å™¨è€Œå¯¹è¯­è¨€æœ¬èº«ç¨æœ‰å¿½ç•¥ï¼Œæ¯”å¦‚å…¶å†…ç½®çš„pythonæ²¡æœ‰pip3å·¥å…·ï¼Œéœ€è¦è‡ªå·±å®‰è£…ï¼›è€Œä¸”å†…ç½®çš„debæºé€Ÿåº¦è¾ƒæ…¢ï¼Œéœ€è¦è‡ªè¡Œæ›¿æ¢ã€‚\n\n#### <font color=#f26522 size=4 face=å®‹ä½“><strong>ä¿®æ”¹debæº</strong></font>\n\nå› ä¸ºè‡ªå¸¦çš„viä¸è¦ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ä¿®æ”¹debæºï¼Œå‚è€ƒï¼š[å¸¸ç”¨å·¥å…·å¤§å…¨](https://www.u1s1.vip/archives/tools)ã€‚\n\n1. å¤åˆ¶å›½å†…æºåœ°å€åˆ°ç¼–è¾‘å™¨çš„æ–‡ä»¶aaaä¸­\n2. ä½¿ç”¨å‘½ä»¤ `cat aaa > /etc/apt/sources.list`\n3. ä½¿ç”¨å‘½ä»¤`apt update`æ›´æ–°æº\n\n#### <font color=#f26522 size=4 face=å®‹ä½“><strong>å®‰è£…pip3</strong></font>\n\nåœ¨å®Œæˆäº†ä¿®æ”¹debæºå’Œæ›´æ–°debæºä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å‘½ä»¤`apt install python3-pip`æ¥å®‰è£…pip3äº†ã€‚\n\nå®‰è£…å®Œæˆåï¼Œä½ å°±å¯ä»¥å®‰è£…ä½ æ‰€éœ€è¦çš„åº“äº†ã€‚\n\näº²æµ‹å¯è¡Œã€‚èµ¶å¿«è¡ŒåŠ¨èµ·æ¥å§ã€‚\n\nåˆ°æ­¤ï¼Œç»“æŸã€‚\n","tags":["éƒ¨ç½²","åœ¨çº¿ç¼–è¾‘","å¼€å‘"],"categories":["_A8-å·¥å…·","åœ¨çº¿ç¼–è¾‘å™¨"]},{"title":"Dockerå®‰è£…CentOS7é•œåƒ","url":"/2024/01/25/Dockerå®‰è£…CentOS7é•œåƒ/","content":"\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>Dockerå®‰è£…CentOS7é•œåƒ</strong></font>\n\n<!--more-->\n\nåœ¨ä½¿ç”¨Dockerè¿›è¡Œå®¹å™¨åŒ–å¼€å‘æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä½¿ç”¨CentOS7ä½œä¸ºåŸºç¡€é•œåƒã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•å®‰è£…CentOS7é•œåƒå¹¶è¿è¡Œå®¹å™¨ã€‚\n\n##### <font color=#f26522 size=4 face=å®‹ä½“><strong>æ­¥éª¤ä¸€ï¼šå®‰è£…Docker</strong></font>\n\né¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä¸»æœºä¸Šå®‰è£…Dockerã€‚Dockeræ˜¯ä¸€ä¸ªå¼€æºçš„å®¹å™¨åŒ–å¹³å°ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿæ„å»ºã€å‘å¸ƒå’Œè¿è¡Œåº”ç”¨ç¨‹åºã€‚ä»¥ä¸‹æ˜¯åœ¨CentOS7ä¸Šå®‰è£…Dockerçš„æ­¥éª¤ï¼š\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>1ã€æ›´æ–°ç³»ç»Ÿè½¯ä»¶åŒ…ï¼š</strong></font>\n\n```shell\nsudo yum update\n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>2ã€æ·»åŠ Dockerçš„å®˜æ–¹ä»“åº“ï¼š</strong></font>\n\n```shell\n$ sudo yum install -y yum-utils\n$ sudo yum-config-manager --add-repo \n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>3ã€å®‰è£…Dockerå¼•æ“ï¼š</strong></font>\n\n```shell\nsudo yum install docker-ce docker-ce-cli containerd.io\n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>4ã€å¯åŠ¨DockeræœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯ï¼š</strong></font>\n\n```shell\n$ sudo systemctl start docker\n$ sudo systemctl enable docker\n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>5ã€éªŒè¯Dockeræ˜¯å¦å®‰è£…æˆåŠŸï¼š</strong></font>\n\n```shell\n$ docker version\n```\n\nå¦‚æœè¾“å‡ºDockerç‰ˆæœ¬ä¿¡æ¯ï¼Œåˆ™è¯´æ˜å®‰è£…æˆåŠŸã€‚\n\n##### <font color=#f26522 size=4 face=å®‹ä½“><strong>æ­¥éª¤äºŒï¼šä¸‹è½½CentOS7é•œåƒ</strong></font>\n\nä¸‹è½½å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œä¸€ä¸ªåŸºäºCentOS7çš„å®¹å™¨ï¼š\n\n```shell\ndocker run -itd --name=centos --privileged=true -p 39022:22 -p 39023:39023 centos:7 /usr/sbin/init\n\n# å¤šç«¯å£æ˜ å°„\ndocker run -itd --name=centos --privileged=true -p 39022:22 -p 39023:39023 -p 39443:443 -p 39080:80 -p 39888:8888 -p 39306:3306 -p 39011:39011 centos:7 /usr/sbin/init\n```\n\n<font color=red size=4 face=å®‹ä½“><strong>è¿›å…¥å®¹å™¨ï¼š</strong></font>\nè¦è¿›å…¥å·²ç»è¿è¡Œçš„å®¹å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n\n```shell\n$ docker exec -it mycentos /bin/bash\n```\n\nè¿™ä¸ªå‘½ä»¤å°†ä¼šåœ¨å®¹å™¨å†…éƒ¨å¯åŠ¨ä¸€ä¸ªæ–°çš„ç»ˆç«¯ï¼Œå¹¶è¿›å…¥åˆ°å®¹å™¨çš„å‘½ä»¤è¡Œç•Œé¢ã€‚\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>åœæ­¢å’Œåˆ é™¤å®¹å™¨</strong></font>\n  + å¦‚æœä½ æƒ³åœæ­¢è¿è¡Œçš„å®¹å™¨ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n\n```shell\n$ docker stop mycentos\n```\n\n   + å¦‚æœä½ æƒ³åœæ­¢è¿è¡Œçš„å®¹å™¨ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n\n```shell\n$ docker rm mycentos\n```\n\n### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>å®‰è£…sshè¿œç¨‹ç™»å½•</strong></font>\n\n```shell\nyum install net-tools.x86_64 -y\nyum install -y openssh-server\nyum install passwd -y\n```\n\n##### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>ä¿®æ”¹sshæœåŠ¡é…ç½®</strong></font>\n\n```shell\nvi /etc/ssh/sshd_config \n     UsePAM yes  æ”¹ä¸º UsePAM no\n     UsePrivilegeSeparation å»æ‰#ï¼Œsandbox æ”¹ä¸º no\n     ç«¯å£ Port:22 æ”¹æˆ 22\n```\n\n##### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>å¯åŠ¨sshæœåŠ¡&å¼€æœºå¯åŠ¨  </strong></font>\n\n```shell\nsystemctl start sshd\nsystemctl enable sshd\n```\n\n","tags":["centos7","docker","å·¥å…·"],"categories":["Docker","éƒ¨ç½²"]},{"title":"Shadowsocks ä¸€é”®å®‰è£…è„šæœ¬ï¼ˆå››åˆä¸€ï¼‰","url":"/2024/01/25/Shadowsocks-ä¸€é”®å®‰è£…è„šæœ¬ï¼ˆå››åˆä¸€ï¼‰/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>[Shadowsocks ä¸€é”®å®‰è£…è„šæœ¬ï¼ˆå››åˆä¸€ï¼‰](https://teddysun.com/486.html)</strong></font>\n\n<!--more-->\n\n\n\næœ¬æ–‡æ¬è¿è‡ªç§‹æ°´å¤§ç¥çš„[Shadowsocks ä¸€é”®å®‰è£…è„šæœ¬ï¼ˆå››åˆä¸€ï¼‰ | ç§‹æ°´é€¸å†° (teddysun.com)](https://teddysun.com/486.html)\n\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>æœ¬è„šæœ¬é€‚ç”¨ç¯å¢ƒ :</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>ç³»ç»Ÿæ”¯æŒï¼šCentOS 6+ï¼ŒDebian 7+ï¼ŒUbuntu 12+</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>å†…å­˜è¦æ±‚ï¼šâ‰¥128M</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>æ—¥æœŸã€€ã€€ï¼š2019 å¹´ 01 æœˆ 11 æ—¥</strong></font>\n\n### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>å…³äºæœ¬è„šæœ¬ :</strong></font> \n\n+ 1ã€ä¸€é”®å®‰è£… Shadowsocks-Pythonï¼Œ ShadowsocksRï¼Œ Shadowsocks-Goï¼Œ Shadowsocks-libev ç‰ˆï¼ˆå››é€‰ä¸€ï¼‰æœåŠ¡ç«¯ï¼›\n+ 2ã€å„ç‰ˆæœ¬çš„å¯åŠ¨è„šæœ¬åŠé…ç½®æ–‡ä»¶åä¸å†é‡åˆï¼›\n+ 3ã€æ¯æ¬¡è¿è¡Œå¯å®‰è£…ä¸€ç§ç‰ˆæœ¬ï¼›\n+ 4ã€æ”¯æŒä»¥å¤šæ¬¡è¿è¡Œæ¥å®‰è£…å¤šä¸ªç‰ˆæœ¬ï¼Œä¸”å„ä¸ªç‰ˆæœ¬å¯ä»¥å…±å­˜ï¼ˆæ³¨æ„ç«¯å£å·éœ€è®¾æˆä¸åŒï¼‰ï¼›\n\n+ 5ã€è‹¥å·²å®‰è£…å¤šä¸ªç‰ˆæœ¬ï¼Œåˆ™å¸è½½æ—¶ä¹Ÿéœ€å¤šæ¬¡è¿è¡Œï¼ˆæ¯æ¬¡å¸è½½ä¸€ç§ï¼‰ï¼›\n+ **å‹æƒ…æç¤ºï¼š**å¦‚æœä½ æœ‰é—®é¢˜ï¼Œè¯·å…ˆé˜…è¯»è¿™ç¯‡ã€Š[Shadowsocks Troubleshooting](https://teddysun.com/399.html)ã€‹ä¹‹åå†è¯¢é—®ã€‚\n\n### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>é»˜è®¤é…ç½®  :</strong></font> \n\n+ æœåŠ¡å™¨ç«¯å£ï¼šè‡ªå·±è®¾å®šï¼ˆå¦‚ä¸è®¾å®šï¼Œé»˜è®¤ä» 9000-19999 ä¹‹é—´éšæœºç”Ÿæˆï¼‰\n+ å¯†ç ï¼šè‡ªå·±è®¾å®šï¼ˆå¦‚ä¸è®¾å®šï¼Œé»˜è®¤ä¸º teddysun.comï¼‰\n+ åŠ å¯†æ–¹å¼ï¼šè‡ªå·±è®¾å®šï¼ˆå¦‚ä¸è®¾å®šï¼ŒPython å’Œ libev ç‰ˆé»˜è®¤ä¸º aes-256-gcmï¼ŒR å’Œ Go ç‰ˆé»˜è®¤ä¸º aes-256-cfbï¼‰\n+ åè®®ï¼ˆprotocolï¼‰ï¼šè‡ªå·±è®¾å®šï¼ˆå¦‚ä¸è®¾å®šï¼Œé»˜è®¤ä¸º originï¼‰ï¼ˆä»…é™ ShadowsocksR ç‰ˆï¼‰\n+ æ··æ·†ï¼ˆobfsï¼‰ï¼šè‡ªå·±è®¾å®šï¼ˆå¦‚ä¸è®¾å®šï¼Œé»˜è®¤ä¸º plainï¼‰ï¼ˆä»…é™ ShadowsocksR ç‰ˆï¼‰\n+ **å¤‡æ³¨ï¼š**è„šæœ¬é»˜è®¤åˆ›å»ºå•ç”¨æˆ·é…ç½®æ–‡ä»¶ï¼Œå¦‚éœ€é…ç½®å¤šç”¨æˆ·ï¼Œè¯·æ‰‹åŠ¨ä¿®æ”¹ç›¸åº”çš„é…ç½®æ–‡ä»¶åé‡å¯å³å¯ã€‚\n\n### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>å®¢æˆ·ç«¯ä¸‹è½½   :</strong></font> \n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å¸¸è§„ç‰ˆ Windows å®¢æˆ·ç«¯</strong></font>\nhttps://github.com/shadowsocks/shadowsocks-windows/releases\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ShadowsocksR ç‰ˆ Windows å®¢æˆ·ç«¯</strong></font>\nhttps://github.com/shadowsocksrr/shadowsocksr-csharp/releases\n\n### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>ä½¿ç”¨æ–¹æ³•    :</strong></font> \n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä½¿ç”¨rootç”¨æˆ·ç™»å½•ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</strong></font>\n\n```bash\nwget --no-check-certificate -O shadowsocks-all.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-all.sh\nchmod +x shadowsocks-all.sh\n./shadowsocks-all.sh 2>&1 | tee shadowsocks-all.log\n```\n\n### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>å®‰è£…å®Œæˆåï¼Œè„šæœ¬æç¤ºå¦‚ä¸‹    :</strong></font>  \n\n```bash\nCongratulations, your_shadowsocks_version install completed!\nYour Server IP        :your_server_ip\nYour Server Port      :your_server_port\nYour Password         :your_password\nYour Encryption Method:your_encryption_method\n\nYour QR Code: (For Shadowsocks Windows, OSX, Android and iOS clients)\n ss://your_encryption_method:your_password@your_server_ip:your_server_port\nYour QR Code has been saved as a PNG file path:\n your_path.png\n\nWelcome to visit:https://teddysun.com/486.html\nEnjoy it!\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>å¸è½½æ–¹æ³•     :</strong></font>  \n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>è‹¥å·²å®‰è£…å¤šä¸ªç‰ˆæœ¬ï¼Œåˆ™å¸è½½æ—¶ä¹Ÿéœ€å¤šæ¬¡è¿è¡Œï¼ˆæ¯æ¬¡å¸è½½ä¸€ç§ï¼‰ï¼š</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä½¿ç”¨rootç”¨æˆ·ç™»å½•ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</strong></font>\n\n```bash\n./shadowsocks-all.sh uninstall\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>å¯åŠ¨è„šæœ¬     :</strong></font>  \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å¯åŠ¨è„šæœ¬åé¢çš„å‚æ•°å«ä¹‰ï¼Œä»å·¦è‡³å³ä¾æ¬¡ä¸ºï¼šå¯åŠ¨ï¼Œåœæ­¢ï¼Œé‡å¯ï¼ŒæŸ¥çœ‹çŠ¶æ€ã€‚</strong></font>\n\n```bash\n# Shadowsocks-Python ç‰ˆï¼š\n/etc/init.d/shadowsocks-python start | stop | restart | status\n\n# ShadowsocksR ç‰ˆï¼š\n/etc/init.d/shadowsocks-r start | stop | restart | status\n\n# Shadowsocks-Go ç‰ˆï¼š\n/etc/init.d/shadowsocks-go start | stop | restart | status\n\n# Shadowsocks-libev ç‰ˆï¼š\n/etc/init.d/shadowsocks-libev start | stop | restart | status\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>å„ç‰ˆæœ¬é»˜è®¤é…ç½®æ–‡ä»¶      :</strong></font>  \n\n```bash\n# Shadowsocks-Python ç‰ˆï¼š\n/etc/shadowsocks-python/config.json\n\n# ShadowsocksR ç‰ˆï¼š\n/etc/shadowsocks-r/config.json\n\n# Shadowsocks-Go ç‰ˆï¼š\n/etc/shadowsocks-go/config.json\n\n# Shadowsocks-libev ç‰ˆï¼š\n/etc/shadowsocks-libev/config.json\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong></strong></font>  \n\n<font color=#f26522 size=4 face=å®‹ä½“><strong></strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong></strong></font>\n\n### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>æ›´æ–°æ—¥å¿— </strong></font>  \n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>2019 å¹´ 01 æœˆ 11 æ—¥ï¼š</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>1ã€å‡çº§ï¼šlibsodium åˆ°æœ€æ–°ç‰ˆæœ¬ 1.0.17ï¼›</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>2ã€å‡çº§ï¼šmbedtls åˆ°æœ€æ–°ç‰ˆæœ¬ 2.16.0ï¼›</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>2018 å¹´ 11 æœˆ 05 æ—¥ï¼š</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>1ã€å‡çº§ï¼šä½¿ç”¨ Github ä¸Šæœ€æ–°ä»£ç ç¼–è¯‘å‡º Go ç‰ˆäºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ï¼Œç‰ˆæœ¬å· 1.2.2ã€‚</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>2018 å¹´ 06 æœˆ 01 æ—¥ï¼š</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>1ã€ä¿®æ­£ï¼šåœ¨å¯ç”¨äº†æ’ä»¶ simple-obfs çš„æƒ…å†µä¸‹ï¼Œlibev ç‰ˆå¯åŠ¨å¤±è´¥çš„é—®é¢˜ï¼›</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>2ã€ä¿®æ­£ï¼šåœ¨ä½¿ç”¨ /etc/init.d/shadowsocks-libev restart å‘½ä»¤é‡å¯ libev ç‰ˆæœåŠ¡ç«¯æ—¶ï¼Œå¶å°”å‡ºç°çš„ â€œbind: Address already in useâ€ é—®é¢˜ï¼›</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>3ã€ä¿®æ­£ï¼šç§»é™¤ libev ç‰ˆé…ç½®æ–‡ä»¶ä¸­çš„ local_address å­—æ®µï¼›</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>4ã€ä¿®æ”¹ï¼šä¸å†é»˜è®¤ä½¿ç”¨ root ç”¨æˆ·å¯åŠ¨ï¼Œæ”¹ä¸ºä½¿ç”¨ nobody ç”¨æˆ·å¯åŠ¨ libev ç‰ˆæœåŠ¡ç«¯ ss-serverï¼›</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>5ã€å‡çº§ï¼šmbedtls åˆ°ç‰ˆæœ¬ 2.9.0ï¼›</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>6ã€ä¿®æ”¹ï¼šlibev ç‰ˆå¯åŠ¨è„šæœ¬ä¸­çš„ -u å‚æ•°ï¼ˆå³åŒæ—¶å¯ç”¨ TCP å’Œ UDP æ¨¡å¼ï¼‰ï¼Œæ”¹åˆ°é…ç½®æ–‡ä»¶é‡Œé…ç½®ä¸º â€œmodeâ€: â€œtcp_and_udpâ€ï¼›</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>7ã€ä¿®æ”¹ï¼šlibev ç‰ˆé…ç½®æ–‡ä»¶çš„å†…ç½® NameServers ä¸º 8.8.8.8ï¼Œé»˜è®¤æ˜¯ä» /etc/resolv.conf ä¸­å–å¾—ã€‚</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>2018 å¹´ 02 æœˆ 07 æ—¥ï¼š</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>1ã€ä¿®æ”¹ï¼šå°†é»˜è®¤ç«¯å£ä» 8989 æ”¹ä¸ºä» 9000-19999 ä¹‹é—´éšæœºç”Ÿæˆã€‚</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>2018 å¹´ 02 æœˆ 06 æ—¥ï¼š</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>1ã€ä¿®æ”¹ï¼šShadowsocksR ç‰ˆä¸º [ShadowsocksRR](https://github.com/shadowsocksrr/shadowsocksr) æœ€æ–°ç‰ˆï¼›</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>2ã€æ–°å¢ï¼šShadowsocksR ç‰ˆçš„åè®®ï¼ˆprotocolï¼‰å¢åŠ äº† 4 ä¸ªï¼Œåˆ†åˆ«ä¸ºï¼š</strong></font>\n\n```bash\nauth_chain_c\nauth_chain_d\nauth_chain_e\nauth_chain_f\n```\n\n2017 å¹´ 12 æœˆ 29 æ—¥ï¼š\n1ã€å‡çº§ï¼šlibsodium åˆ° 1.0.16ã€‚\n\n2017 å¹´ 11 æœˆ 25 æ—¥ï¼š\n1ã€å¦‚æœ Linux å†…æ ¸ç‰ˆæœ¬å¤§äº 3.7.0ï¼Œåˆ™é…ç½®æ–‡ä»¶é»˜è®¤æ”¯æŒ TCP fast openï¼›\n2ã€æ–°å¢ï¼šlibev ç‰ˆå¯åŠ¨æ—¶æ”¯æŒ verbose modeï¼Œä¹Ÿå°±æ˜¯é»˜è®¤å†™ log åˆ° /var/log/messages æ–¹ä¾¿æŸ¥çœ‹ã€‚\n\n2017 å¹´ 11 æœˆ 12 æ—¥ï¼š\n1ã€æ–°å¢ç”Ÿæˆ ss:// æˆ– ssr:// é“¾æ¥ï¼Œä»¥åŠå…¶äºŒç»´ç å›¾ç‰‡ã€‚\nâ€» è„šæœ¬ä¼šæ ¹æ®å½“å‰å®‰è£…çš„ç‰ˆæœ¬ä»¥åŠè¾“å…¥çš„å„é¡¹é…ç½®ï¼Œè‡ªåŠ¨ç”Ÿæˆ ss:// æˆ– ssr:// çš„é“¾æ¥å¹¶åœ¨å®‰è£…æˆåŠŸåæ˜¾ç¤ºï¼Œç›´æ¥å¤åˆ¶å³å¯è¢«å®¢æˆ·ç«¯è¯†åˆ«ã€‚åŒæ—¶ç”Ÿæˆå…¶äºŒç»´ç å›¾ç‰‡ï¼Œå¹¶ä¿å­˜åœ¨å½“å‰ç›®å½•ä¸‹ï¼Œä¸‹è½½åç”¨çœ‹å›¾è½¯ä»¶æ‰“å¼€ï¼Œä¹Ÿèƒ½è¢«å®¢æˆ·ç«¯è¯†åˆ«ã€‚\n\nå¤åˆ¶äºŒç»´ç é“¾æ¥å Shadowsocks å®¢æˆ·ç«¯è¯†åˆ«ç¤ºä¾‹ï¼š\n![Shadowsocks å®¢æˆ·ç«¯ç¤ºä¾‹](https://teddysun.com/wp-content/uploads/2017/ss_client.png)\n\nå¤åˆ¶äºŒç»´ç é“¾æ¥å ShadowsocksR å®¢æˆ·ç«¯è¯†åˆ«ç¤ºä¾‹ï¼š\n![ShadowsocksR å®¢æˆ·ç«¯ç¤ºä¾‹](https://teddysun.com/wp-content/uploads/2017/ssr_client.png)\n\näºŒç»´ç ï¼ˆQR Codeï¼‰å‚è€ƒé“¾æ¥ï¼š\nhttps://github.com/shadowsocks/shadowsocks/wiki/Generate-QR-Code-for-Android-or-iOS-Clients\nhttps://github.com/shadowsocksr-backup/shadowsocks-rss/wiki/SSR-QRcode-scheme\n\n2017 å¹´ 10 æœˆ 22 æ—¥ï¼š\n1ã€å‡çº§ï¼šlibsodium åˆ° 1.0.15ã€‚\n\n2017 å¹´ 10 æœˆ 14 æ—¥ï¼š\n1ã€æ–°å¢ï¼šåœ¨å®‰è£… Shadowsocks-libev ç‰ˆæ—¶**å¯é€‰å®‰è£…** simple-obfs æœåŠ¡ç«¯ã€‚\nâ€» è„šæœ¬é€šè¿‡åˆ¤æ–­ autoconf ç‰ˆæœ¬æ˜¯å¦å¤§äºæˆ–ç­‰äº 2.67 æ¥ä¸€é”®å®‰è£… simple-obfs æœåŠ¡ç«¯ã€‚å¹¶ä¸”ï¼Œæ”¯æŒåœ¨å®‰è£…è¿‡ç¨‹ä¸­é€‰æ‹© obfs ä¸º http æˆ– tlsã€‚\nâ€» ä½¿ç”¨æ–¹æ³•å‚è€ƒï¼šhttps://teddysun.com/511.html\n\n2017 å¹´ 09 æœˆ 16 æ—¥ï¼š\n1ã€ä¿®æ­£ï¼šShadowsocks-libev ç‰ˆ v3.1.0 ä½¿ç”¨ libc-ares æ›¿æ¢ libudns ä¾èµ–åŒ…ï¼Œè§£å†³äº†ä¾èµ–é—®é¢˜ï¼›\n2ã€å‡çº§ï¼šmbedtls åˆ°ç‰ˆæœ¬ 2.6.0ã€‚\n\n2017 å¹´ 07 æœˆ 27 æ—¥ï¼š\n1ã€æ–°å¢ï¼šShadowsocksR ç‰ˆå¯é€‰åè®®ï¼ˆprotocolï¼‰auth_chain_b ã€‚ä½¿ç”¨è¯¥åè®®éœ€æ›´æ–°åˆ°æœ€æ–°ï¼ˆ4.7.0ï¼‰ [ShadowsocksR ç‰ˆå®¢æˆ·ç«¯](http://dl.teddysun.com/files/ShadowsocksR-4.7.0-win.7z)ï¼›\n2ã€ä¿®æ”¹ï¼šæ›´æ–° ShadowsocksR æºç ä¸‹è½½åœ°å€ã€‚\n\n2017 å¹´ 07 æœˆ 23 æ—¥ï¼š\n1ã€ä¿®æ­£ï¼šå¸è½½æ—¶å¯è‡ªè¡Œé€‰æ‹©æŸä¸ªç‰ˆæœ¬å¸è½½ï¼Œè‹¥è¯¥ç‰ˆæœ¬ä¸å­˜åœ¨åˆ™æŠ¥é”™é€€å‡ºã€‚\n\n2017 å¹´ 07 æœˆ 22 æ—¥ï¼š\n1ã€ä¿®æ­£ï¼šé»˜è®¤åŠ å¯†æ–¹å¼ä» aes-256-cfb æ”¹ä¸º aes-256-gcmï¼ˆPython å’Œ libev ç‰ˆï¼‰ï¼›\n2ã€æ–°å¢ï¼šå®‰è£…æ—¶å¯é€‰ 16 ç§åŠ å¯†æ–¹å¼çš„å…¶ä¸­ä¹‹ä¸€ï¼ˆPython å’Œ libev ç‰ˆï¼‰ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š\n\n```bsh\naes-256-gcm\naes-192-gcm\naes-128-gcm\naes-256-ctr\naes-192-ctr\naes-128-ctr\naes-256-cfb\naes-192-cfb\naes-128-cfb\ncamellia-128-cfb\ncamellia-192-cfb\ncamellia-256-cfb\nchacha20-ietf-poly1305\nchacha20-ietf\nchacha20\nrc4-md5\n```\n\n3ã€æ–°å¢ï¼šå®‰è£…æ—¶å¯é€‰ 9 ç§åŠ å¯†æ–¹å¼çš„å…¶ä¸­ä¹‹ä¸€ï¼ˆGo ç‰ˆï¼‰ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š\n\n```bsh\naes-256-cfb\naes-192-cfb\naes-128-cfb\naes-256-ctr\naes-192-ctr\naes-128-ctr\nchacha20-ietf\nchacha20\nrc4-md5\n```\n\n4ã€æ–°å¢ï¼šå®‰è£…æ—¶å¯é€‰ 15 ç§åŠ å¯†æ–¹å¼çš„å…¶ä¸­ä¹‹ä¸€ï¼ˆnone æ˜¯ä¸åŠ å¯†ï¼ŒShadowsocksR ç‰ˆï¼‰ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š\n\n```bsh\nnone\naes-256-cfb\naes-192-cfb\naes-128-cfb\naes-256-cfb8\naes-192-cfb8\naes-128-cfb8\naes-256-ctr\naes-192-ctr\naes-128-ctr\nchacha20-ietf\nchacha20\nsalsa20\nxchacha20\nxsalsa20\nrc4-md5\n```\n\n5ã€æ–°å¢ï¼šå®‰è£…æ—¶å¯é€‰ 7 ç§åè®®ï¼ˆprotocolï¼‰çš„å…¶ä¸­ä¹‹ä¸€ï¼ˆä»…é™ ShadowsocksR ç‰ˆï¼‰ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š\n\n```bsh\norigin\nverify_deflate\nauth_sha1_v4\nauth_sha1_v4_compatible\nauth_aes128_md5\nauth_aes128_sha1\nauth_chain_a\nauth_chain_b\n```\n\n6ã€æ–°å¢ï¼šå®‰è£…æ—¶å¯é€‰ 9 ç§æ··æ·†ï¼ˆobfsï¼‰çš„å…¶ä¸­ä¹‹ä¸€ï¼ˆä»…é™ ShadowsocksR ç‰ˆï¼‰ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š\n\n```bsh\nplain\nhttp_simple\nhttp_simple_compatible\nhttp_post\nhttp_post_compatible\ntls1.2_ticket_auth\ntls1.2_ticket_auth_compatible\ntls1.2_ticket_fastauth\ntls1.2_ticket_fastauth_compatible\n```\n\n2017 å¹´ 02 æœˆ 24 æ—¥ï¼š\n1ã€æ¢å¤ï¼š é€šè¿‡ Github API è‡ªåŠ¨è·å– Shadowsocks-libev çš„æœ€æ–° release ç‰ˆæœ¬çš„åŠŸèƒ½ï¼ˆv3.0.3ï¼‰ã€‚\n\n2017 å¹´ 02 æœˆ 13 æ—¥ï¼š\n1ã€å‡çº§ï¼š Shadowsocks-libev ç‰ˆåˆ°ç‰ˆæœ¬ 3.0.2ï¼›\n2ã€å‡çº§ï¼š Shadowsocks-go ç‰ˆåˆ°ç‰ˆæœ¬ 1.2.1ï¼ˆåŸºäº [Github æœ€æ–°ä»£ç ](https://github.com/shadowsocks/shadowsocks-go)ï¼Œç”¨ go 1.8 ç¼–è¯‘å®Œæˆçš„ x86 å’Œ x86_64 äºŒè¿›åˆ¶æ–‡ä»¶ï¼‰ï¼›\n3ã€ä¿®å¤ï¼šåœ¨ Debian 7 ä¸‹é»˜è®¤æ²¡æœ‰ libudns-dev ä¾èµ–åŒ…çš„é—®é¢˜ã€‚\n\n2017 å¹´ 02 æœˆ 12 æ—¥ï¼š\n1ã€å‡çº§ï¼š Shadowsocks-libev ç‰ˆåˆ°ç‰ˆæœ¬ 3.0.1ã€‚\n\n2017 å¹´ 01 æœˆ 27 æ—¥ï¼š\n1ã€å‡çº§ï¼š Shadowsocks-go ç‰ˆåˆ°ç‰ˆæœ¬ 1.2.1 ï¼ˆä»…é€‚ç”¨äº x86_64 ç³»ç»Ÿï¼‰\n\n### æ›´å¤šå•ç‰ˆæœ¬ Shadowsocks æœåŠ¡ç«¯ä¸€é”®å®‰è£…è„šæœ¬ \n\n[Shadowsocks Python ç‰ˆä¸€é”®å®‰è£…è„šæœ¬ï¼ˆCentOSï¼ŒDebianï¼ŒUbuntuï¼‰](https://teddysun.com/342.html)\n[ShadowsocksR ç‰ˆä¸€é”®å®‰è£…è„šæœ¬ï¼ˆCentOSï¼ŒDebianï¼ŒUbuntuï¼‰](https://shadowsocks.be/9.html)\n[CentOS ä¸‹ Shadowsocks-libev ä¸€é”®å®‰è£…è„šæœ¬](https://teddysun.com/357.html)\n[Debian ä¸‹ Shadowsocks-libev ä¸€é”®å®‰è£…è„šæœ¬](https://teddysun.com/358.html)\n[Shadowsocks-go ä¸€é”®å®‰è£…è„šæœ¬ï¼ˆCentOSï¼ŒDebianï¼ŒUbuntuï¼‰](\n","tags":["ä»£ç†","æ¢¯å­"],"categories":["_A8-å·¥å…·","æ¢¯å­"]},{"title":"æ¸…é™¤ å®å¡”é¢æ¿ + Linux ssh ç™»é™†æ—¥å¿—","url":"/2024/01/16/æ¸…é™¤-å®å¡”é¢æ¿-Linux-ssh-ç™»é™†æ—¥å¿—/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>æ¸…é™¤ å®å¡”é¢æ¿ + Linux ssh ç™»é™†æ—¥å¿—ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**1ã€ç™»å½•å®å¡”é¢æ¿ï¼Œä¼šåœ¨â€œé¢æ¿æ“ä½œæ—¥å¿—â€é‡Œï¼Œç•™ä¸‹æˆ‘ä»¬çš„ç™»å½•ä¿¡æ¯**</strong></font>\n\n```python\n/www/server/panel/data/default.db    # ç”¨navicatæ‰“å¼€æ¸…é™¤\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**2ã€æ¸…é™¤ Linux SSH ç™»é™†çš„ æ—¥å¿—ä¿¡æ¯**</strong></font>\n\n```python\n# ä¸‹é¢çš„å‘½ä»¤ ç›´æ¥æ‰§è¡Œå³å¯\ncat /dev/null > /var/log/wtmp\ncat /dev/null > /var/log/btmp\ncat /dev/null > /var/log/lastlog\ncat /dev/null > /var/log/secure\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**3ã€Windows æ¸…é™¤è¿œç¨‹æ¡Œé¢ç™»é™†**</strong></font>\n\n```python\n# æ­¥éª¤1. æŒ‰â€œWin + Râ€é”®ï¼Œç„¶åè¾“å…¥â€œCMDâ€æ‰“å¼€å‘½ä»¤æç¤ºç¬¦\n# æ­¥éª¤2. ç„¶åä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œå¹¶åœ¨æ¯ä¸ªå‘½ä»¤è¾“å…¥å®ŒæˆæŒ‰ä¸‹å›è½¦é”®\nreg delete â€œHKEY_CURRENT_USER\\Software\\Microsoft\\Terminal Server Client\\Defaultâ€ /va /f\nreg delete â€œHKEY_CURRENT_USER\\Software\\Microsoft\\Terminal Server Client\\Serversâ€ /f\nreg add â€œHKEY_CURRENT_USER\\Software\\Microsoft\\Terminal Server Client\\Serversâ€\ndel /ah %homepath%\\documents\\default.rdp\n```\n\n","tags":["ç³»ç»Ÿ","è¿ç»´","å®å¡”"],"categories":["_A3-linux","å®å¡”é¢æ¿"]},{"title":"å­—ç¬¦ä¸²çš„æ“ä½œ","url":"/2024/01/14/å­—ç¬¦ä¸²çš„æ“ä½œ/","content":"\n### å­—ç¬¦ä¸²çš„æ“ä½œï¼š\n\n<!--more-->\n\n```python\n## å­—ç¬¦ä¸²è½¬ä¹‰\n\"\\n\"     # æ¢è¡Œç¬¦å·\n\"\\'\"     # è¡¨ç¤ºå•å¼•å·\n'\\\"'     # è¡¨ç¤ºåŒå¼•å·\n\"\\\\\"     # åæ–œæ \n\"\\t\"     # åˆ¶è¡¨ç¬¦\n\"\\r\"     # å›è½¦ç¬¦\n\n## å­—ç¬¦ä¸²çš„æ ¼å¼åŒ–è¾“å‡º\nname = \"å°æ˜\"\nage = 19\n# æ–¹å¼1:\n\tprint(\"æˆ‘çš„åå­—æ˜¯ï¼š%s, ä»Šå¹´%d\" % (name, age))\n# æ–¹å¼2:\n\t# python3.6ç‰ˆæœ¬+ è§£é‡Šå™¨å¯ç”¨\n\tprint(f\"æˆ‘çš„åå­—æ˜¯ï¼š{name}, ä»Šå¹´{age}\")\n  \n\nstr_ = \"hello world\"\nprint(len(str_))    `# å­—ç¬¦ä¸²é•¿åº¦  è¾“å‡º: 11\n```\n\n\n\n### å­—ç¬¦ä¸²çš„å†…ç½®å‡½æ•°ï¼š\n\n| **æ–¹æ³•**     | **ä½œç”¨**                           | **ç¤ºä¾‹**                               | **è¾“å‡º**                 |\n| ------------ | ---------------------------------- | -------------------------------------- | ------------------------ |\n| upper        | å…¨éƒ¨å¤§å†™                           | \"Hello\".upper()                        | \"HELLO\"                  |\n| lower        | å…¨éƒ¨å°å†™                           | \"Hello\".lower()                        | \"hello\"                  |\n| startswith() | æ˜¯å¦ä»¥aå¼€å¤´                        | \"å¼ ä¸‰â€.startswith(\"å¼ â€)                | True                     |\n| endswith()   | æ˜¯å¦ä»¥aç»“å°¾                        | \"meinv.pngâ€.endswith(\".jpgâ€)           | False                    |\n| isdigit()    | æ˜¯å¦å…¨æ•°å­—                         | '123â€™.isdigit()                        | True                     |\n| strip()      | å»ä¸¤è¾¹ç©ºæ ¼                         | \" hi yuan  \\n\".strip()                 | \"hi yuan\"                |\n| join()       | å°†å¤šä¸ªå­—ç¬¦ä¸²è¿æ¥åœ¨ä¸€èµ·             | \"-â€.join(['åŒ—äº¬â€™, 'ä¸Šæµ·', 'æ·±åœ³â€™])     | \"åŒ—äº¬-ä¸Šæµ·-æ·±åœ³\"         |\n| split()      | æŒ‰æŸå­—ç¬¦åˆ†å‰²å­—ç¬¦ä¸²ï¼Œé»˜è®¤æŒ‰ç©ºæ ¼åˆ†éš” | \"åŒ—äº¬-ä¸Šæµ·-æ·±åœ³\".split(\"-\")            | ['åŒ—äº¬', 'ä¸Šæµ·', 'æ·±åœ³'] |\n| find()       | æœç´¢æŒ‡å®šå­—ç¬¦ä¸²ï¼Œæ²¡æœ‰è¿”å›-1         | \"hello yuanâ€.find(\"yuan\")              | 6                        |\n| index()      | åŒä¸Šï¼Œä½†æ˜¯æ‰¾ä¸åˆ°ä¼šæŠ¥é”™             | \"hello yuanâ€.index(\"yuan\")             | 6                        |\n| count()      | ç»Ÿè®¡æŒ‡å®šçš„å­—ç¬¦ä¸²å‡ºç°çš„æ¬¡æ•°         | \"hello world\".count(\"l\")               | 3                        |\n| replace()    | æ›¿æ¢oldä¸ºnew                       | hello world'.replace(â€˜world',â€˜python') | \"hello python\"           |\n\n![image-20240114001507783](https://s2.loli.net/2024/01/14/t8sCS2kbD4QTBvJ.png)\n\n![image-20240114001542239](https://s2.loli.net/2024/01/14/aEjk71MpCwGNefb.png)\n\n![image-20240114001800127](https://s2.loli.net/2024/01/14/ISas9KCBZw1YReo.png)\n\n![image-20240114001853053](https://s2.loli.net/2024/01/14/zvaBIZyG4gf6ePp.png)\n","tags":["python","åŸºç¡€"],"categories":["Python","åŸºç¡€"]},{"title":"python socketæ¨¡å—çš„ç®€å•åº”ç”¨","url":"/2024/01/14/python-socketæ¨¡å—çš„ç®€å•åº”ç”¨/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>python socketæ¨¡å—çš„ç®€å•åº”ç”¨ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>serverç«¯ï¼š</strong></font>\n\n```python\nimport socket\n\n# ç½‘ç»œä¸‰è¦ç´ ï¼š IP PORT åè®®ï¼ˆTCPï¼ŒUDPï¼‰\nsock = socket.socket()\nsock.bind((\"127.0.0.1\", 8899))\nsock.listen(5)     # æœ€å¤§è¿æ¥æ•°\n\n\"\"\"\n    sock æ˜¯ä¸€ä¸ªsocketå¯¹è±¡ã€‚\n    listen æ˜¯socketå¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºä½¿socketå¯¹è±¡å¼€å§‹ç›‘å¬è¿›å…¥çš„è¿æ¥è¯·æ±‚ã€‚\n    5 æ˜¯listenæ–¹æ³•çš„å‚æ•°ï¼Œè¡¨ç¤ºåœ¨æ¥å—æ–°çš„è¿æ¥è¯·æ±‚ä¹‹å‰ï¼Œè¯¥socketå¯ä»¥æ’é˜Ÿçš„æœ€å¤§è¿æ¥æ•°ã€‚\n\"\"\"\n\n#  ç­‰å¾…å®¢æˆ·ç«¯é“¾æ¥\nprint(\"server is waiting....\")\nconn, addr = sock.accept()    # connï¼šè¿æ¥  addrï¼šç«¯å£\nprint(\"conn\", conn)\nprint(\"addr\", addr)\n\ndata = conn.recv(1024)       # æœ€å¤§æ¥æ”¶å­—èŠ‚ 1024\nprint(\"data\", data)\nconn.send(b\"message has received\")    # å›æ¶ˆæ¯\n\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å®¢æˆ·ç«¯ï¼š</strong></font>\n\n```python\nimport socket\n\nsock = socket.socket()\n\nsock.connect((\"127.0.0.1\", 8899))\nsock.send(b\"hello world\")\n\nres = sock.recv(1024)\nprint(\"æœåŠ¡ç«¯å“åº”æ•°æ®ï¼š\",res.decode())\n\n```\n\n","tags":["python","django","åŸºç¡€"],"categories":["Python","Socket"]},{"title":"AI_è®¡ç®—æœºè§†è§‰_01_9*9ä¹˜æ³•è¡¨&éšæœºæ•°ç”Ÿæˆä¸æ’åº","url":"/2023/12/29/AI-è®¡ç®—æœºè§†è§‰-01-9-9ä¹˜æ³•è¡¨-éšæœºæ•°ç”Ÿæˆä¸æ’åº/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>AI_è®¡ç®—æœºè§†è§‰_01ï¼š 9*9ä¹˜æ³•è¡¨&éšæœºæ•°ç”Ÿæˆä¸æ’åºï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong></strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong></strong></font>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>Python Number æ•°æ®ç±»å‹ç”¨äºå­˜å‚¨æ•°å€¼ï¼ŒåŒ…æ‹¬intã€longã€floatã€doubleã€complex</strong></font>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>Python ä¸­æ•°å­¦è¿ç®—å¸¸ç”¨çš„å‡½æ•°åŸºæœ¬éƒ½åœ¨mathæ¨¡å—</strong></font>\n\n\n```python\nimport math\n\nprint(math.ceil(4.1))    # è¿”å›æ•°å­—çš„ä¸Šå…¥æ•´æ•°   5\nprint(math.floor(4.9))   # è¿”å›æ•°å­—çš„ä¸‹èˆæ•´æ•°   4\nprint(math.fabs(-10))    # è¿”å›æ•°å­—çš„ç»å¯¹å€¼     10.0\nprint(math.sqrt(9))      # è¿”å›æ•°å­—çš„å¹³æ–¹æ ¹     3.0\nprint(math.exp(1))       # è¿”å›eçš„xæ¬¡å¹‚        2.718281828459045\n```\n\n+ 2ã€<font color=#f26522 size=4 face=å®‹ä½“><strong>Python ä¸­éšæœºæ•°ï¼š</strong></font>\n\n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>éšæœºç”Ÿæˆä¸€ä¸ªï¼»0,1ï¼‰èŒƒå›´å†…çš„å®æ•°</strong></font>\n\n    ```python\n    import random\n    \n    ran = random.random()\n    print(rar)\n    \n    0.39523871821810574\n    ```\n\n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>éšæœºç”Ÿæˆä¸€ä¸ªï¼»1,20ï¼‰èŒƒå›´å†…çš„æ•´æ•°</strong></font>\n\n    ```python\n    import random\n    ran = random.randint(1,20)\n    print(ran)\n    \n    14\n    ```\n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>å½“ä½¿ç”¨random.seedï¼ˆxï¼‰è®¾å®šå¥½ç§å­ä¹‹åï¼Œrandomï¼ˆï¼‰ç”Ÿæˆçš„éšæœºæ•°å°†ä¼šæ˜¯åŒä¸€ä¸ªã€‚</strong></font>\n\n    ```python\n    import random\n    \n    print(\"--è®¾ç½®ç§å­ seed-------ï¼‚ï¼‰\n    random.seed(10)\n    print(\"Random number with seed 10:\", random.random())\n    \n    # ç”ŸæˆåŒä¸€ä¸ªéšæœºæ•°\n    print(\"Random number with seed 10:\", random.random())\n          \n    \n    # è®¾ç½®ç§å­ seed\n    # Random number with seed 10: 0.5714025946899135\n    # Random number with seed 10: 0.5714025946899135\n    ```\n  \n+ 3ã€<font color=#f26522 size=4 face=å®‹ä½“><strong>åˆ—è¡¨çš„å…ƒç´ æ·»åŠ ã€åˆå¹¶ï¼š</strong></font>\n\n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>extend(): åˆå¹¶åˆ—è¡¨:Â </strong></font>\n    \n    ```python\n    girls = [\"æ¨è¶…è¶Š\"]\n    models = [\"åˆ˜é›¯\", \"å¥šæ¢¦ç‘¶\"ï¼½\n    girls.extend(models)\n    \n    [\"æ¨è¶…è¶Š\", \"åˆ˜é›¯\", \"å¥šæ¢¦ç‘¶\"]\n    ```\n  \n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>insert(): åœ¨æŒ‡å®šä½ç½®æ·»åŠ : </strong></font>\n  \n    ```python\n    girle.insert(1, \"è™ä¹¦æ¬£\")\n    \n    [\"æ¨è¶…è¶Š\", \"è™ä¹¦æ¬£\", \"åˆ˜é›¯\", \"å¥šæ¢¦ç‘¶\"]\n    ```\n  \n+ 4ã€<font color=#f26522 size=4 face=å®‹ä½“><strong>åˆ—è¡¨åˆ é™¤ï¼š</strong></font>\n\n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>del(): Â </strong></font>\n    \n    ```python\n    words = ['cat', 'hello' , 'pen', 'pencil', 'ruler']\n    del words[1]\n    print(words)\n    ```\n    \n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>remove(): Â </strong></font>\n    \n    ```python\n    words = ['cat', 'hello' , 'pen', 'pencil', 'ruler']\n    words.remove(\"cat\")\n    print(words)\n    ```\n    + <font color=#b0171f size=2 face=å®‹ä½“><strong>pop(): Â </strong></font>\n    \n    ```python\n    words = ['cat', 'hello' , 'pen', 'pencil', 'ruler']\n    words.remove(1)\n    print(words)\n    ```\n  \n+ 5ã€<font color=#f26522 size=4 face=å®‹ä½“><strong>osåŸºç¡€åº“ï¼š</strong></font>\n\n  ```python\n  path = \"/home/mypath/python_learn\"\n  os.path.exists(path)   # åˆ¤æ–­æ‹¬å·é‡Œçš„æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œæ‹¬å·å†…å¯ä»¥æ˜¯æ–‡ä»¶è·¯å¾„ã€‚è¿”å›å¸ƒå°”å‹ã€‚\n  \n  os.path.split(path)   # åˆ¤æ–­æ‹¬å·é‡Œçš„æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œæ‹¬å·å†…å¯ä»¥æ˜¯æ–‡ä»¶è·¯å¾„ã€‚è¿”å›å¸ƒå°”å‹ã€‚\n  [\"/home/mypath\", \"python_learn\"]\n  \n  os.path.splitext(path)   # å°†pathçš„æ–‡ä»¶åå’Œæ‰©å±•ååˆ†å¼€ã€‚\n  [\"python\", \"py\"]\n  \n  os.path.isdir(path)  # åˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶å¤¹ \n  \n  # æ–‡ä»¶æ“ä½œï¼š\n  os.listdir(path)  # åˆ—å‡ºè·¯å¾„ä¸‹æ‰€æœ‰æ–‡ä»¶,å°†è·¯å¾„ä¸‹æ‰€æœ‰æ–‡ä»¶å­˜åˆ°listä¸­ã€‚\n  os.mkdir(path, mode)  # åˆ›å»ºç›®å½•  pathä¸ºè¦åˆ›å»ºçš„ç›®å½•ã€‚modeä¸ºç›®å½•è®¾ç½®çš„æ•°å­—æƒé™ã€‚\n  os.makedirs(path, mode)   # é€’å½’åˆ›å»ºç›®å½•  pathä¸ºéœ€è¦é€’å½’åˆ›å»ºçš„ç›®å½•ã€‚\n  \n  os.walkï¼ˆï¼‰ # æ˜¾ç¤ºæŒ‡å®šç›®å½•ï¼Œ è¿”å›ä¸‰ä¸ªå…ƒç´ \n  \t- root   # æ‰€æŒ‡çš„æ˜¯å½“å‰æ­£åœ¨éå†çš„è¿™ä¸ªæ–‡ä»¶å¤¹æœ¬èº«çš„è·¯å¾„ï¼›\n    - dirs   # æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå†…å®¹æ˜¯è¯¥æ–‡ä»¶å¤¹ä¸­æ‰€æœ‰æ–‡ä»¶å¤¹çš„åå­—ï¼ˆä¸åŒ…æ‹¬å­ç›®å½•ï¼‰\n    - files  # åˆ—è¡¨ï¼Œå†…å®¹æ˜¯è¯¥æ–‡ä»¶å¤¹ä¸­æ‰€æœ‰æ–‡ä»¶çš„åå­—ï¼ˆä¸åŒ…æ‹¬å­ç›®å½•ï¼‰\n  \n  # æ–‡ä»¶é‡å‘½å\n  os.rename(src, dst)  # ç”¨äºå‘½åæ–‡ä»¶æˆ–ç›®å½•ï¼Œä»srcåˆ°dstï¼Œå¦‚æœdstæ˜¯ä¸€ä¸ªå­˜åœ¨çš„ç›®å½•ï¼Œå°†æŠ›å‡ºOSErrorã€‚\n  ```\n  \n  ![shutil_osæ‹“å±•åº“](https://s2.loli.net/2023/12/29/aVjNvDOsCZQBpRA.png)\n\n![shutil_osæ‹“å±•åº“](https://s2.loli.net/2023/12/29/LmAIporOdlPtNbT.png)","tags":["AI","è®¡ç®—æœºè§†è§‰","å­¦ä¹ "],"categories":["Python","åŸºç¡€"]},{"title":"DeepNude ç ´è§£ï¼Œè·å¾—é«˜çº§ç‰ˆå»æ‰æ°´å°","url":"/2023/12/26/DeepNude-ç ´è§£ï¼Œè·å¾—é«˜çº§ç‰ˆå»æ‰æ°´å°/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>DeepNude ç ´è§£ï¼Œè·å¾—é«˜çº§ç‰ˆå»æ‰æ°´å°ï¼š</strong></font>\n\n<!--more-->\n\n## <font color=#f26522 size=4 face=å®‹ä½“><strong>å‰è¨€</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å‰æ®µæ—¶é—´DeepNudeå¤§ç«ï¼Œå®˜ç½‘è¢«æŒ¤çˆ†ï¼Œç„¶ååˆå› ä¸ºèˆ†è®ºåŸå› è¢«è¿«å…³é—­äº†å®˜ç½‘ä¸å†æ›´æ–°ï¼Œå…¶é«˜çº§ç‰ˆä¹Ÿä¸èƒ½å†è´­ä¹°ï¼Œå½“ç„¶æœ¬èº«é«˜çº§ç‰ˆ50$çš„ä»·æ ¼ä¹Ÿè®©äººæœ›è€Œå´æ­¥ã€‚æœ¬æ–‡å°±å‘Šè¯‰ä½ å¦‚ä½•ç ´è§£è·å–é«˜çº§ç‰ˆã€‚è¿‡ç¨‹ååˆ†ç®€å•</strong></font>\n\n\n\n## <font color=#f26522 size=4 face=å®‹ä½“><strong>è¿‡ç¨‹</strong></font>\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>åªæœ‰ç®€å•çš„ä¸¤æ­¥</strong></font>\n\n+ 1ã€æ‰“å¼€DeepNudeæ ¹ç›®å½•ï¼Œæ‰¾åˆ°â€œcolor.cp36-win_amd64.pydâ€æ–‡ä»¶å¹¶åˆ é™¤ã€‚\n\n+ 2ã€ä¸‹è½½â€œcolor.pyâ€æ–‡ä»¶ï¼Œå¹¶æ”¾åˆ°æ ¹ç›®å½•ã€‚\n  + ç‚¹å‡»ä¸‹è½½ï¼š[color.py](https://api.isoyu.com/Deepnude/color.py)\n  + è“å¥äº‘ä¸‹è½½ï¼š[color.py.zip](https://wwwqe.lanzoul.com/iJi6u1j0womj)\n\n+ å¦‚æœä¸èƒ½è‡ªåŠ¨ä¸‹è½½è¯·æŒ‰`Ctrl`+`S`ä¿å­˜\n\n---\n\n\n\n<font color=#00b2c2 size=3 face=å®‹ä½“><strong>åˆ°æ­¤å°±ç®—ç ´è§£å®Œæˆï¼Œè·å¾—é«˜çº§ç‰ˆäº†ã€‚</strong></font>\n\n<font color=#00b2c2 size=3 face=å®‹ä½“><strong>å¦‚æœå‡ºç°é—ªé€€å¯èƒ½æ˜¯å›¾ç‰‡è·¯å¾„æœ‰ä¸­æ–‡ã€‚</strong></font>\n","tags":["AI","æ¢è„¸","æ•™ç¨‹","centos7"],"categories":["Python","AI"]},{"title":"Deepnude V3ä¸­æ–‡ä»˜è´¹ç ´è§£å»æ°´å°AIç®—æ³•â€œè„±â€è¡£å·¥å…·","url":"/2023/12/26/Deepnude-V3ä¸­æ–‡ä»˜è´¹ç ´è§£å»æ°´å°AIç®—æ³•â€œè„±â€è¡£å·¥å…·/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>Deepnude V3ä¸­æ–‡ä»˜è´¹ç ´è§£å»æ°´å°AIç®—æ³•â€œè„±â€è¡£å·¥å…·ï¼š</strong></font>\n\n<!--more-->\n\n+ [Deepnude V3ä¸­æ–‡ä»˜è´¹ç ´è§£å»æ°´å°AIç®—æ³•â€œè„±â€è¡£å·¥å…· - å¸¸ç”¨è½¯ä»¶ - QQç¥æ•™ç¨‹ç½‘ (qqshen.cn)](https://www.qqshen.cn/article-3131-1.html)\n+  **ä¸‹è½½åœ°å€ï¼šhttps://pan.baidu.com/s/1pINFPIABoTJs83NYLsEEQw æå–ç : bep4**  \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>**PSï¼š** åŸå›¾ç‰‡æ³³è£…ç…§æ•ˆæœæœ€ä½³ï¼Œå¯ç™¾åº¦æˆ–TBæœç´¢æ­»åº“æ°´</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong> ä¸€ã€DeepNude V3æ”¹è¿›è¯´æ˜ï¼š</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>1ã€è°ƒæ•´çª—ä½“å°ºå¯¸ï¼ŒåŸå°ºå¯¸ä¸º800\\*800ï¼Œä½†å¾ˆå¤šäººçš„å±å¹•åˆ†è¾¨ç‡ä¸é«˜ï¼Œç›´æ¥å¯¼è‡´è½¯ä»¶ç•Œé¢ä¸‹æ–¹è¢«æ•´ä½“æŒ¡ä½ï¼Œæ— æ³•è¿›è¡Œä»»ä½•æ“ä½œã€‚æœ¬æ¬¡ä¿®æ”¹çª—ä½“å°ºå¯¸ä¸º800\\*600ï¼Œè¶³ä»¥æ˜¾ç¤ºDeepNude[ç ´è§£](https://www.52pojie.cn/)ç‰ˆçª—ä½“çš„ä¸‹æ–¹æŒ‰é’®ã€‚</strong></font>\n+  <font color=#b0171f size=2 face=å®‹ä½“><strong>2ã€å…¨é¢ä¸­æ–‡æ”¯æŒï¼šå±è”½åˆçº§ç‰ˆæ°´å°ï¼Œç›´æ¥æ˜¾ç¤ºé«˜çº§ç‰ˆã€‚é«˜çº§ç‰ˆç•Œé¢ä¸­çš„æ‰€æœ‰æ–‡å­—å‡ä¸ºä¸­æ–‡ã€‚ </strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>3ã€è§£å†³æŸäº›æƒ…å†µä¸‹çš„é—ªé€€ï¼šå½“å›¾ç‰‡å°ºå¯¸è¢«æ‰‹åŠ¨è°ƒæ•´ï¼Œå¹¶ä¸”å°ºå¯¸å˜å¾—ä¸åˆè¦æ±‚æ—¶ï¼Œä¼šå‘ç”Ÿé—ªé€€ï¼Œå¢åŠ äº†è¿™éƒ¨åˆ†çš„é”™è¯¯æç¤ºï¼Œä»è€Œä¸å†è«åå…¶å¦™é—ªé€€ã€‚  </strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>äºŒã€DeepNudeé«˜çº§ç‰ˆç ´è§£ç‰ˆçš„ä½¿ç”¨è¯´æ˜ï¼š</strong></font>\n\n<font color=red size=4 face=å®‹ä½“><strong>è®°ä½ï¼š</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>1ã€å¦‚æœè½¯ä»¶è£…åœ¨Cç›˜ï¼Œå¯åŠ¨æ—¶ï¼Œä¸€å®šè¦åœ¨è½¯ä»¶å›¾æ ‡ä¸Šå³é”®ï¼Œé€‰æ‹©ã€ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œã€‘</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>2ã€DeepNudeé—ªé€€çš„è§£å†³åŠæ³•å½“å‰è½¯ä»¶åŸºæœ¬ä¸Šåªæœ‰ä¸€ç§ç¡®å®šæ€§çš„é—ªé€€æƒ…å†µï¼šå½“å›¾ç‰‡è·¯å¾„ä¸­æœ‰ä¸­æ–‡æˆ–è€…å›¾ç‰‡åå¸¦ä¸­æ–‡æ—¶ï¼Œæ˜ç¡®ä¼šæœ‰é—ªé€€ï¼æ­¤æ—¶ï¼Œéœ€è¦æ›´æ”¹è·¯å¾„æˆ–æ›´æ”¹æ–‡ä»¶åä¸ºå­—æ¯æˆ–æ•°å­—ã€‚</strong></font> \n+  <font color=#b0171f size=2 face=å®‹ä½“><strong>3ã€DeepNudeè½¬æ¢æ—¶æŠ¥é”™çš„è§£å†³åŠæ³•é”™è¯¯å¦‚ä¸‹å›¾ï¼šè½¯ä»¶åº”è¯¥æ”¾åœ¨Cç›˜äº†ï¼Œç”±äºä½¿ç”¨è¿‡ç¨‹ä¸­æ¨¡å‹ä¼šæœ‰æ–°çš„å†™å…¥ï¼Œå› æ­¤éœ€è¦ç»™äºˆç®¡ç†å‘˜æƒé™ã€‚</strong></font>\n\n![Deepnude V3ä¸­æ–‡ä»˜è´¹ç ´è§£å»æ°´å°AIç®—æ³•â€œè„±â€è¡£å·¥å…·](https://s2.loli.net/2023/12/26/l5UhxDg14jkHbeT.png)**\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong> ä¸‰ã€DeepNudeä¸‹è½½ç›®å‰æœ‰2ä¸ªç‰ˆæœ¬å¯ä¾›ä¸‹è½½ï¼š</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>1ã€DeepNudeå®‰è£…åŒ…â€”æ— æ¨¡å‹ï¼ˆé€‚åˆä¸‹è½½è¿‡åŸå§‹ç‰ˆæœ¬çš„äººï¼‰.exeã€107Mã€‘ï¼šè¿™ä¸ªåŒ…é‡Œæ²¡æœ‰æ¨¡å‹æ–‡ä»¶å’Œå›¾æ ‡æ–‡ä»¶ï¼Œå®‰è£…åï¼Œå°†åŸæ¥è§£å‹å‡ºæ¥çš„DeepNudeæ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°ç›®å½•pyqtlibã€qtbinï¼Œç§»åŠ¨åˆ°æ–°å®‰è£…çš„è·¯å¾„ä¸­ï¼ŒDeepNudeå†…éƒ¨è·¯å¾„ä¿æŒä¸å˜ã€‚ </strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>2ã€DeepNudeä¸­æ–‡å®‰è£…åŒ…â€”å®Œæ•´åŒ…ï¼ˆé€‚åˆæ²¡ä¸‹è¿‡çš„äººï¼‰.exeã€2.01Gã€‘ï¼šè¿™ä¸ªåŒ…é‡ŒåŒ…å«å…¨éƒ¨æ–‡ä»¶ï¼Œå®‰è£…åå³å¯ä½¿ç”¨ã€‚æ‰“å¼€è½¯ä»¶æ—¶ï¼Œä¸€å®šè¦åœ¨å›¾æ ‡ä¸Šå³é”®ï¼Œé€‰æ‹©ã€ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œã€‘ï¼Œå¦åˆ™å‡ºé”™ã€‚</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å››ã€DeepNudeèƒŒæ™¯åŠå†å²ï¼š</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>æ®å›½å¤–çš„è¯„æµ‹æœºæ„MotherboardæŠ¥é“è¯´ï¼Œæœ‰å¤–å›½ç½‘å‹å¼€å‘å‡ºä¸€æ¬¾åå«DeepNudeçš„PCè½¯ä»¶ï¼Œåªè¦ç»™DeepNudeä¸€å¼ å¥³æ€§ç…§ç‰‡ï¼Œå€ŸåŠ©ç¥ç»ç½‘ç»œæŠ€æœ¯ï¼Œè½¯ä»¶å¯ä»¥è‡ªåŠ¨â€œè„±æ‰â€å¥³æ€§èº«ä¸Šçš„è¡£æœï¼Œæ˜¾ç¤ºå‡ºLUOä½“ç…§ç‰‡ã€‚</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>ç›®å‰DeepNudeåªèƒ½å¤„ç†å¥³æ€§ç…§ç‰‡ï¼Œå¦‚æœåŸå›¾éœ²å‡ºæ¥çš„çš®è‚¤è¶Šå¤šï¼Œé‚£ä¹ˆå¤„ç†çš„æ•ˆæœå°±ä¼šè¶Šå¥½ï¼›è€Œå¯¹äºç”·äººçš„ç…§ç‰‡ï¼Œæœ€åå¾—å‡ºçš„ç»“æœè¿˜æ˜¯å¥³æ€§éƒ¨ä½ã€‚</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>ç›®å‰æ¥çœ‹ï¼Œæœ€æ–°æ¶ˆæ¯æ˜¯DeepNudeå®˜ç½‘è™½ç„¶è¿˜å¯ä»¥è®¿é—®ï¼Œä½†æ˜¯å·²ç»æ²¡æœ‰ä»»ä½•ä¸‹è½½å’Œåœ¨çº¿å¤„ç†åŠŸèƒ½äº†ã€‚</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>è¯„æµ‹æœºæ„Motherboardè¿˜è”ç³»äº†DeepNudeçš„å¼€å‘äººå‘˜ï¼Œåº”è¦æ±‚ï¼Œå…¶é‡‡ç”¨åŒ¿åï¼ŒåŒ–åä¸ºâ€œé˜¿å°”è´æ‰˜â€ï¼ˆAlbertoï¼‰ã€‚</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>é˜¿å°”è´æ‰˜è¯´ï¼ŒDeepNudeåŸºäºåŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡ç ”ç©¶è€…å¼€å‘çš„å¼€æºç®—æ³•pix2pixåˆ›å»ºï¼Œåº”ç”¨äºPytorchå¹¶ä¸”ç‰ˆæœ¬è¦é‡‡ç”¨æœ€æ–°çš„1.1.0ç‰ˆæœ¬ï¼Œå¯¹ä»–ä»¬æ¥è¯´ï¼Œæ•´ä¸ªå¼€å‘è¿‡ç¨‹å…±ä½¿ç”¨1ä¸‡å¼ å¥³æ€§LUOå›¾åŠ ä»¥è®­ç»ƒï¼Œè€Œä¸”ä»¥è¥¿æ–¹äººçš„å›¾ç‰‡ä¸ºä¸»ã€‚è¿™ä¸€ç®—æ³•ä¸ä¹‹å‰çš„äººå·¥æ™ºèƒ½æ¢è„¸æŠ€æœ¯deepfakeç®—æ³•ç›¸ä¼¼ï¼Œä¹Ÿå’Œæ— äººè½¦æŠ€æœ¯æ‰€ä½¿ç”¨çš„ç®—æ³•ç›¸ä¼¼ã€‚</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>â€œé˜¿å°”è´æ‰˜â€è¡¨ç¤ºï¼Œè¯¥è½¯ä»¶ç›®å‰ä¹‹æ‰€ä»¥åªèƒ½ç”¨äºå¥³æ€§ç…§ç‰‡ï¼Œæ˜¯å› ä¸ºå¥³æ€§LUOä½“å›¾åƒæ›´å®¹æ˜“åœ¨ç½‘ä¸Šæ‰¾åˆ°ï¼Œä½†ä»–å¸Œæœ›èƒ½åˆ›å»ºä¸€ä¸ªç”·æ€§ç‰ˆæœ¬çš„è½¯ä»¶ã€‚</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>ä»–è¿˜è¡¨ç¤ºï¼Œä»–ç»§ç»­è¿™ä¸€å®éªŒæ˜¯å‡ºäºâ€œæœ‰æ„æ€â€å’Œå¥½å¥‡å¿ƒã€‚</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>â€œæˆ‘ä¸æ˜¯å·çª¥ç‹‚ã€‚æˆ‘æ˜¯æŠ€æœ¯çš„çˆ±å¥½è€…ï¼Œâ€ä»–è¯´ï¼Œâ€œç»§ç»­æå‡è¿™ä¸ªç®—æ³•ï¼Œæœ€è¿‘ä¹Ÿæ˜¯å¸å–äº†ä¹‹å‰çš„æ•™è®­ï¼ˆæ¥è‡ªå…¶å®ƒåˆ›ä¸šå…¬å¸ï¼‰å’Œç»æµä¸Šçš„é—®é¢˜ï¼Œæˆ‘é—®æˆ‘è‡ªå·±æ˜¯å¦å¯ä»¥åœ¨è¿™ä¸ªç®—æ³•ä¸Šè·å¾—ç»æµå›æŠ¥ã€‚è¿™å°±æ˜¯æˆ‘åˆ›å»ºDeepNudeçš„åŸå› ã€‚â€ä½†MotherboardæŒ‡å‡ºï¼Œä¹‹å‰å°±æœ‰deepfakeåœ¨ç½‘ç»œä¸Šæµä¼ ï¼Œä½†è¿™ç§æŠ€æœ¯å¾ˆå®¹æ˜“å°±ä¼šæˆä¸ºä¼¤å®³å¥³æ€§çš„å·¥å…·â€”â€”è¦ä¹ˆåœ¨æœªç»åŒæ„çš„å‰æä¸‹ä½¿ç”¨å¥³æ€§ç…§ç‰‡ï¼Œè¦ä¹ˆåœ¨ç½‘ä¸Šæ¶æ„æ•£å¸ƒSQå†…å®¹ã€‚</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>è€ŒDeepNudeç›¸å½“äºdeepfakeæŠ€æœ¯çš„è¿›åŒ–ç‰ˆï¼Œæ“ä½œæ›´ç®€å•ï¼Œå¤„ç†é€Ÿåº¦æ›´å¿«ã€‚</strong></font>\n![Deepnude V3ä¸­æ–‡ä»˜è´¹ç ´è§£å»æ°´å°AIç®—æ³•â€œè„±â€è¡£å·¥å…·](https://www.qqshen.cn/data/attachment/forum/201907/22/010344st6599910fz300yi.png)\n![Deepnude V3ä¸­æ–‡ä»˜è´¹ç ´è§£å»æ°´å°AIç®—æ³•â€œè„±â€è¡£å·¥å…·](https://www.qqshen.cn/data/attachment/forum/201907/22/010344nknf464tj4ng22vt.png)\n![Deepnude V3ä¸­æ–‡ä»˜è´¹ç ´è§£å»æ°´å°AIç®—æ³•â€œè„±â€è¡£å·¥å…·](https://www.qqshen.cn/data/attachment/forum/201907/22/010343uuboo7wvfejqqdr9.png)\n","tags":["AI","æ¢è„¸","æ•™ç¨‹","centos7"],"categories":["Python","AI"]},{"title":"Deepnude â€œè„±â€ è¡£åŸç†åˆ†æåŠä¸‹è½½","url":"/2023/12/26/Deepnude-è„±_è¡£åŸç†åˆ†æåŠä¸‹è½½/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>Deepnude â€œè„±â€ è¡£åŸç†åˆ†æåŠä¸‹è½½</strong></font>\n\n<!--more-->\n\n- [Deepnude â€œè„±â€ è¡£åŸç†åˆ†æåŠä¸‹è½½ - æ— ä¸»ç•Œ (idleleo.com)](https://www.idleleo.com/07/2496)\n\næ‰€å±åˆ†ç±»: [æ¸¸æˆ/æŠ€æœ¯](https://www.idleleo.com/category/yxjs/)\n\nDeepnudeå‰æ®µæ—¶é—´å¯è°“ç«çš„ä¸è¡Œï¼Œè™½ç„¶ä½œè€…å¾ˆå¿«å…³é—­äº†ç½‘ç«™å’Œappï¼Œä½†æ˜¯å…¶ä½¿ç”¨çš„åŸç†æ˜¯å€¼å¾—ä¸€æ¢ç©¶ç«Ÿçš„ã€‚å†åŠ ä¸Šæœ‰äº›å°ä¼™ä¼´å¯èƒ½ä¹Ÿæƒ³æ·±å…¥äº†è§£ç›¸å…³æŠ€æœ¯ï¼Œç¬”è€…ä¾¿è½¬è½½äº†ç›¸å…³æ–‡ç« ä»¥åŠä¸‹è½½åœ°å€ä¾›å¤§å®¶å‚è€ƒã€‚\n\n![Deepnude â€œè„±â€ è¡£åŸç†åˆ†æåŠä¸‹è½½](https://s2.loli.net/2023/12/26/hPZwxbd6SXjez3r.webp)\n\nå¯ä»¥å‚è€ƒNVIDIAè®ºæ–‡ä½¿ç”¨éƒ¨åˆ†å·ç§¯å’ŒåŸºäºéƒ¨åˆ†å·ç§¯çš„å¡«å……æ¥ä¿®å¤ä¸è§„åˆ™å­”çš„å›¾åƒã€‚çº¸è´¨ä»£ç éƒ¨åˆ†è½¬æ¢ã€‚è®ºæ–‡åœ°å€: [https://arxiv.org/abs/1804.07723å’Œhttps://arxiv.org/abs/1811.11718](https://www.idleleo.com/go?url=https://arxiv.org/abs/1804.07723å’Œhttps://arxiv.org/abs/1811.11718)\n\n![Deepnude â€œè„±â€ è¡£åŸç†åˆ†æåŠä¸‹è½½](https://s2.loli.net/2023/12/26/mioqkFd7VQ2nU5N.webp)\n\nåœ¨Image_Inpaintingå®éªŒæµ‹è¯•ï¼ˆ[https://api.isoyu.com/Deepnude/Image_Inpainting(NVIDIA_2018).mp4](https://www.idleleo.com/go?url=https://api.isoyu.com/Deepnude/Image_Inpainting(NVIDIA_2018).mp4))è§†é¢‘çš„å›¾åƒç•Œé¢ä¸­ï¼Œæ‚¨åªéœ€ä½¿ç”¨å·¥å…·ç®€å•åœ°æ¶‚æŠ¹å›¾åƒä¸­ä¸éœ€è¦çš„å†…å®¹ã€‚å³ä½¿å½¢çŠ¶éå¸¸ä¸è§„åˆ™ï¼ŒNVIDIAçš„æ¨¡å‹ä¹Ÿå¯ä»¥éå¸¸é€¼çœŸåœ°â€œæ¢å¤â€å›¾åƒã€‚å›¾ç‰‡å¡«å……äº†æ¶‚æŠ¹çš„ç©ºç™½ã€‚å®ƒå¯ä»¥è¢«æè¿°ä¸ºä¸€é”®å¼På›¾ç‰‡ï¼Œå¹¶ä¸”â€œæ²¡æœ‰psç—•è¿¹â€ã€‚è¯¥ç ”ç©¶åŸºäºNvidiaçš„æ¡‚æ—åˆ˜å¤§ä½¬çš„å›¢é˜Ÿã€‚ä»–ä»¬å‘å¸ƒäº†ä¸€ç§å¯ä»¥ç¼–è¾‘å›¾åƒæˆ–é‡å»ºå·²æŸåå›¾åƒçš„æ·±åº¦å­¦ä¹ æ–¹æ³•ï¼Œå³ä½¿å›¾åƒç©¿äº†ä¸ªæ´æˆ–ä¸¢å¤±äº†åƒç´ ã€‚è¿™æ˜¯ç›®å‰2018å›½å®¶æœ€å…ˆè¿›çš„æ–¹æ³•ã€‚\n\n### Pix2Pix(éœ€è¦é…å¯¹æ•°æ®)\n\nè®ºæ–‡å‚è€ƒ: [https://arxiv.org/abs/1611.07004](https://www.idleleo.com/go?url=https://arxiv.org/abs/1611.07004)ä¸‹é¢æ˜¯è®­ç»ƒPix2Pixæ¨¡å‹200ä¸ªepochsåäº§ç”Ÿçš„è¾“å‡ºã€‚\n\n![Deepnude â€œè„±â€ è¡£åŸç†åˆ†æåŠä¸‹è½½](https://s2.loli.net/2023/12/26/posX7kaHelgELI8.webp)\n\näº†è§£æ›´å¤šä¿¡æ¯å¯ä»¥æŸ¥çœ‹[https://github.com/tensorflow/docs/blob/master/site/en/r2/tutorials/generative/pix2pix.ipynb](https://www.idleleo.com/go?url=https://blog.isoyu.com/go.php?url=https://github.com/tensorflow/docs/blob/master/site/en/r2/tutorials/generative/pix2pix.ipynb)\n\n### CycleGANï¼ˆæ— éœ€é…å¯¹æ•°æ®ï¼‰\n\nCycleGANä½¿ç”¨å¾ªç¯ä¸€è‡´æ€§æŸå¤±å‡½æ•°æ¥å®ç°è®­ç»ƒï¼Œè€Œæ— éœ€é…å¯¹æ•°æ®ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒå¯ä»¥ä»ä¸€ä¸ªåŸŸè½¬æ¢åˆ°å¦ä¸€ä¸ªåŸŸï¼Œè€Œæ— éœ€åœ¨æºåŸŸå’Œç›®æ ‡åŸŸä¹‹é—´è¿›è¡Œä¸€å¯¹ä¸€æ˜ å°„ã€‚è¿™å¼€å¯äº†æ‰§è¡Œè®¸å¤šæœ‰è¶£ä»»åŠ¡çš„å¯èƒ½æ€§ï¼Œä¾‹å¦‚ç…§ç‰‡å¢å¼ºï¼Œå›¾åƒç€è‰²ï¼Œæ ·å¼ä¼ è¾“ç­‰ã€‚åªéœ€è¦æºå’Œç›®æ ‡æ•°æ®é›†ã€‚å‚è€ƒè®ºæ–‡[https://arxiv.org/abs/1703.10593](https://www.idleleo.com/go?url=https://arxiv.org/abs/1703.10593)\n\n![Deepnude â€œè„±â€ è¡£åŸç†åˆ†æåŠä¸‹è½½](https://s2.loli.net/2023/12/26/rWGI7ZT8sDMwLPm.webp)\n\näº†è§£æ›´å¤šä¿¡æ¯[https://github.com/tensorflow/docs/blob/master/site/en/r2/tutorials/generative/cyclegan.ipynb](https://www.idleleo.com/go?url=https://github.com/tensorflow/docs/blob/master/site/en/r2/tutorials/generative/cyclegan.ipynb)\n\n## Windowsç‰ˆDeepNudeä½¿ç”¨è¿‡ç¨‹\n\nDeepNudeå¯ä»¥çœŸæ­£å®ç°å›¾åƒåˆ°å›¾åƒçš„ç›®çš„ï¼Œå¹¶ä¸”ç”Ÿæˆçš„å›¾åƒæ›´åŠ çœŸå®ã€‚\n\n![Deepnude â€œè„±â€ è¡£åŸç†åˆ†æåŠä¸‹è½½](https://s2.loli.net/2023/12/26/VUdStfTG3hmvel5.webp)\n\n![Deepnude â€œè„±â€ è¡£åŸç†åˆ†æåŠä¸‹è½½](https://s2.loli.net/2023/12/26/saO7UR8krt2cQAL.webp)\n\n![Deepnude â€œè„±â€ è¡£åŸç†åˆ†æåŠä¸‹è½½](https://s2.loli.net/2023/12/26/MGjNz8bq9ufvOrs.webp)\n\n![Deepnude â€œè„±â€ è¡£åŸç†åˆ†æåŠä¸‹è½½](https://s2.loli.net/2023/12/26/wYiRo7JsNh5IWDt.webp)\n\nPS: åˆ é™¤deepnudeæ ¹ç›®å½•ä¸­çš„color.cp36-win_amd64.pydæ–‡ä»¶ï¼Œç„¶åæ·»åŠ color.py([https://api.isoyu.com/Deepnude/color.py](https://www.idleleo.com/go?url=https://api.isoyu.com/Deepnude/color.py))æ–‡ä»¶ä»¥è·å–deepnudeçš„é«˜çº§ç‰ˆæœ¬ã€‚\n\n## å¯¹deepnudeä¸‹æ¶äº‰å–å†é‡æ–°ä¸Šæ¶çš„å»ºè®®\n\n1. **å°ºå¯¸** åŒ…æ‹¬156M DeepNude_Windows_v2.0.0.zipå’Œ1.90G pyqtlib.rarã€‚\n2. **é€Ÿåº¦** è½¬æ¢å›¾ç‰‡éœ€è¦30ç§’ã€‚\n3. **å†…å®¹** ä½¿ç”¨å›¾åƒåˆ°å›¾åƒç¥ç»ç½‘ç»œè‡ªåŠ¨ä»å¥³æ€§èº«ä¸Šç§»é™¤è¡£æœä»¥æ­ç¤ºå¥¹ä»¬çš„è£¸éœ²ã€‚æ­¤åº”ç”¨ç¨‹åºé€‚ç”¨äºæ·±åº¦å­¦ä¹ çš„é”™è¯¯åº”ç”¨ã€‚\n\n\\* DeepNudeå¯ä»¥ä½¿ç”¨Tensorflowå®ç°ï¼Œå¹¶ä½¿ç”¨æ¨¡å‹å‹ç¼©æŠ€æœ¯ã€‚\n\n\\* DeepNudeåº”è¯¥æ”¹å˜ç›®å‰ä¸å°Šé‡å¥³æ€§çš„åšæ³•ã€‚**æ€»ç»“**å®é™…ä¸Šï¼Œå¯ä»¥ä¸éœ€è¦Image-to-Imageã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨GANç›´æ¥ä»éšæœºå€¼ç”Ÿæˆå›¾åƒæˆ–ä»æ–‡æœ¬ç”Ÿæˆå›¾åƒã€‚ \n\nObj-GAN: [https://github.com/jamesli1618/](https://www.idleleo.com/go?url=https://github.com/jamesli1618/)\n\nObj-GANStoryGAN: [https://github.com/yitong91/StoryGAN](https://www.idleleo.com/go?url=https://github.com/yitong91/StoryGAN)\n\nå¾®è½¯äººå·¥æ™ºèƒ½ç ”ç©¶é™¢ï¼ˆMicrosoft Research AIï¼‰å¼€å‘çš„æ–° AI æŠ€æœ¯å¯ä»¥ç†è§£è‡ªç„¶è¯­è¨€æè¿°ã€ç»˜åˆ¶è‰å›¾ã€åˆæˆå›¾åƒï¼Œç„¶åæ ¹æ®è‰å›¾æ¡†æ¶å’Œæ–‡å­—æä¾›çš„ä¸ªåˆ«å•è¯ç»†åŒ–ç»†èŠ‚ã€‚æ¢å¥è¯è¯´ï¼Œè¿™ä¸ªç½‘ç»œå¯ä»¥æ ¹æ®æè¿°æ—¥å¸¸åœºæ™¯çš„æ–‡å­—æè¿°ç”ŸæˆåŒæ ·åœºæ™¯çš„å›¾åƒã€‚\n\n![Deepnude â€œè„±â€ è¡£åŸç†åˆ†æåŠä¸‹è½½](https://s2.loli.net/2023/12/26/xOfBpQZ1TjC5XqL.webp)\n\n![Deepnude â€œè„±â€ è¡£åŸç†åˆ†æåŠä¸‹è½½](https://s2.loli.net/2023/12/26/8QgA23iacxNHnIL.webp)\n\nå½“å‰æœ€ä¼˜çš„æ–‡æœ¬åˆ°å›¾åƒç”Ÿæˆæ¨¡å‹å¯ä»¥åŸºäºå•å¥æè¿°ç”Ÿæˆé€¼çœŸçš„é¸Ÿç±»å›¾åƒã€‚ç„¶è€Œï¼Œæ–‡æœ¬åˆ°å›¾åƒç”Ÿæˆå™¨è¿œè¿œä¸æ­¢ä»…å¯¹ä¸€ä¸ªå¥å­ç”Ÿæˆå•ä¸ªå›¾åƒã€‚ç»™å®šä¸€ä¸ªå¤šå¥æ®µè½ï¼Œç”Ÿæˆä¸€ç³»åˆ—å›¾åƒï¼Œæ¯ä¸ªå›¾åƒå¯¹åº”ä¸€ä¸ªå¥å­ï¼Œå®Œæ•´åœ°å¯è§†åŒ–æ•´ä¸ªæ•…äº‹ã€‚\n\n![Deepnude â€œè„±â€ è¡£åŸç†åˆ†æåŠä¸‹è½½](https://s2.loli.net/2023/12/26/1VdW74oHOhRv6k2.webp)\n\n## Deepnudeä¸‹è½½\n\nç½‘å‹æä¾›ï¼š [magnet:?xt=urn:btih:7be4eb8d640742d2ffebd6495e9392e9e2c399bc](magnet:?xt=urn:btih:7be4eb8d640742d2ffebd6495e9392e9e2c399bc)\n\nä¹Ÿæœ‰GitHubå¼€æºåœ°å€ï¼š [https://github.com/open-deepnude/open-deepnude](https://www.idleleo.com/go?url=https://github.com/open-deepnude/open-deepnude)\n","tags":["AI","æ¢è„¸","æ•™ç¨‹","centos7"],"categories":["Python","AI"]},{"title":"é€†å‘ å‚è€ƒç«™ç‚¹è®°å½•","url":"/2023/12/25/é€†å‘ å‚è€ƒç«™ç‚¹è®°å½•/","content":"\n#### é€†å‘ JS å‚è€ƒéå¸¸å…·æœ‰æŒ‡å¯¼æ€§ ï¼š[æ•°æ®ç§‘å­¦SourceResearch](https://www.resourch.com/)\n\n<!--more-->\n\n#### 12 ç§æ–¹æ³•æ¥éšè—æ‚¨çš„æœºå™¨äººè‡ªåŠ¨åŒ–æ£€æµ‹ï¼Œå¦‚ä½•ä½¿ Selenium ä¸å¯æ£€æµ‹å’Œéšèº«ï¼šhttps://www.itblogcn.com/article/2034.html\n\n#### ç¶²çµ¡çˆ¬èŸ²-cloudflareäº”ç§’ç­‰å¾…é©—è­‰é€†å‘ç ´è§£ï¼šhttps://www.twblogs.net/a/5d8c8d4fbd9eee5327001af8\n\n##### é€†å‘linç‹— å¤§ä½¬ =>https://developer.aliyun.com/profile/iaxsqtcumsgky/highScore_1?spm=a2c6h.24874632.expert-profile.5.27efd78f3t7PF1\n\n#### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>Cloudflare å°è®°ï¼š</strong></font>https://blog.csdn.net/weixin_58584029/article/details/128719446\n\n##### [     SeleniumçœŸæ­£ç»•è¿‡webdriveræ£€æµ‹         ](https://www.cnblogs.com/Wl55387370/p/16553574.html)             https://www.cnblogs.com/Wl55387370/p/16553574.html\n\n\n\n\n\n\n\n###### å…³é”®è¯æœç´¢ï¼šseleniumç»•è¿‡æ£€æµ‹\n","tags":["é€†å‘","Cloudflare","è®°å½•"],"categories":["_A7-é€†å‘","å‚è€ƒ"]},{"title":"Faceswapï¼šAIè§†é¢‘æ¢è„¸æ•™ç¨‹, æ¢è„¸è½¯ä»¶ä½¿ç”¨æ•™ç¨‹ Faceswap for windows","url":"/2023/12/02/Faceswap AIè§†é¢‘æ¢è„¸æ•™ç¨‹-æ¢è„¸è½¯ä»¶ä½¿ç”¨æ•™ç¨‹-Faceswap-for-windows/","content":"\n# <font color=#00b2c2 size=6 face=å®‹ä½“><strong>Faceswapï¼šAIè§†é¢‘æ¢è„¸æ•™ç¨‹, æ¢è„¸è½¯ä»¶ä½¿ç”¨æ•™ç¨‹ Faceswap for windowsï¼š</strong></font>\n\n<!--more-->\n\næœ¬æ–‡æ¬è¿è‡ªï¼šBy [Gideon](https://justcode.ikeepstudying.com/author/gideon/) [AI æœºå™¨å­¦ä¹ ](https://justcode.ikeepstudying.com/category/ai-machine-learning/) [0 Comments](https://justcode.ikeepstudying.com/2020/10/faceswapï¼šaiè§†é¢‘æ¢è„¸æ•™ç¨‹-æ¢è„¸è½¯ä»¶ä½¿ç”¨æ•™ç¨‹-faceswap-for-windows/#disqus_thread)\n\n------\n\n------\n\n### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>æœ€ç»ˆæ•ˆæœæ¼”ç¤ºï¼š</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æ­¤è§†é¢‘æ˜¯åŸè§†é¢‘å’Œæ¢è„¸åçš„è§†é¢‘æ‹¼æ¥åçš„ç»“æœï¼š</strong></font> https://objrecong.oss-cn-shanghai.aliyuncs.com/output.mp4\n\n \n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>1ã€å®‰è£…ï¼š</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å®˜æ–¹ä¸‹è½½åœ°å€ï¼š</strong></font>https://github.com/deepfakes/faceswap/releases\n\n![Faceswapï¼šAIè§†é¢‘æ¢è„¸æ•™ç¨‹, æ¢è„¸è½¯ä»¶ä½¿ç”¨æ•™ç¨‹ Faceswap for windows](https://s2.loli.net/2023/12/02/KJSUOoRgtmac5XQ.png)\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ä¸‹è½½ååŒå‡»exeå®‰è£…ï¼Œå¦‚æœæ²¡æœ‰ç‹¬æ˜¾ï¼Œå°±é€‰ Setup for CPU</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æœ‰è‹±ä¼Ÿè¾¾æ˜¾å¡ï¼Œå°±é€‰ Setup for NVIDIA GPU</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æœ‰AMDæ˜¾å¡ï¼Œå°±é€‰ Setup for AMD GPU</strong></font>\n\n---\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æœ€å¥½é€‰æ‹©ç”¨GPUè®¡ç®—ï¼Œå› ä¸ºCPUè®¡ç®—èµ·æ¥è¶…çº§æ…¢ï¼Œå°±ç®—æ˜¯i9, ä¹Ÿä¸å¦‚ä¸€ä¸ªæ™®é€šGPUçš„è®¡ç®—èƒ½åŠ›</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ä¸€ä¸ªæ™®é€šçš„çŸ­è§†é¢‘ï¼Œå°±ç®—æ˜¯å¼ºå¦‚RTX-2070ï¼Œå¯èƒ½éƒ½è¦ä¸é—´æ–­è®¡ç®—ä¸€ä¸ªæ˜ŸæœŸ</strong></font>\n\n![Faceswapï¼šAIè§†é¢‘æ¢è„¸æ•™ç¨‹, æ¢è„¸è½¯ä»¶ä½¿ç”¨æ•™ç¨‹ Faceswap for windows](https://s2.loli.net/2023/12/02/F1gZUlkdjCPx76s.png)\n\n \n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>2.è·å–è§†é¢‘åºåˆ—å¸§ï¼š</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å‡†å¤‡ä¸¤æ®µåŒ…å«äººè„¸çš„è§†é¢‘ï¼Œæœ€å¥½æ˜¯æ­£è„¸</strong></font>\n\n![Faceswapï¼šAIè§†é¢‘æ¢è„¸æ•™ç¨‹, æ¢è„¸è½¯ä»¶ä½¿ç”¨æ•™ç¨‹ Faceswap for windows](https://s2.loli.net/2023/12/02/bGZnKwHqJRYS9Nd.png)\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ç„¶åæˆ‘ä»¬éœ€è¦æŠŠè§†é¢‘è½¬åŒ–ä¸ºåºåˆ—å¸§ï¼Œéšä¾¿ç”¨ä»€ä¹ˆæ–¹æ³•ã€ä»€ä¹ˆè½¯ä»¶éƒ½è¡Œï¼Œåœ¨æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨opencv-pythonå»å¤„ç†</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æ–°å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹p1_Inputå’Œp2_Input ï¼ˆå‘½åéšæ„ï¼‰ p1_Inputç”¨æ¥å­˜ç¬¬ä¸€ä¸ªè§†é¢‘çš„åºåˆ—å¸§ï¼Œ</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>p2_Inputç”¨æ¥å­˜ç¬¬äºŒä¸ªè§†é¢‘çš„åºåˆ—å¸§ï¼Œç„¶åè¿è¡Œpythonè„šæœ¬</strong></font>\n\n```python\n# äº‹å…ˆ pip install opencv-python\nimport cv2\n\ncap=cv2.VideoCapture(r'E:\\PyCharmProjects\\FaceswapFiles\\ç‡ƒå‘çƒ­è¡€é«˜æ ¡_å°æ —æ—¬å¸…ç‚¸.mp4')\nindex=0\n \nwhile True:\n    _,frame=cap.read()\n    if not _:\n        break\n    cv2.imshow('frame',frame)\n    cv2.imwrite(r'E:\\PyCharmProjects\\FaceswapFiles\\p1_Input\\\\'+'p'+str(index)+'.jpg',frame)\n    index += 1\n    c=cv2.waitKey(30)\n    if c==27:\n        break\n```\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å¦ä¸€ä¸ªè§†é¢‘åŒç†ï¼Œæ”¹ä¸‹è·¯å¾„å³å¯</strong></font> \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å¤„ç†å®Œåï¼Œå¯¹åº”çš„åºåˆ—å¸§ä¼šå­˜åœ¨å¯¹åº”çš„æ–‡ä»¶å¤¹ä¸‹</strong></font> \n\n \n\n![Faceswapï¼šAIè§†é¢‘æ¢è„¸æ•™ç¨‹, æ¢è„¸è½¯ä»¶ä½¿ç”¨æ•™ç¨‹ Faceswap for windows](https://s2.loli.net/2023/12/02/V65I9CrfBjsUoeS.png)\n\n### <font color=#f26522 size=4 face=å®‹ä½“><strong>3.æå–åºåˆ—å¸§ä¸­çš„äººè„¸ï¼š</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>é¦–å…ˆæ–°å»ºä¸¤ä¸ªç©ºæ–‡ä»¶å¤¹ï¼Œç”¨æ¥å­˜æ”¾æå–çš„äººè„¸å›¾ï¼Œä¾‹å¦‚p1_Outputå’Œp2_Output</strong></font> \n\n![Faceswapï¼šAIè§†é¢‘æ¢è„¸æ•™ç¨‹, æ¢è„¸è½¯ä»¶ä½¿ç”¨æ•™ç¨‹ Faceswap for windows](https://s2.loli.net/2023/12/02/Jw5akuy1bAx7pZX.png)\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ç„¶åæ‰“å¼€faceswapè½¯ä»¶</strong></font> \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>é€‰ä¸­Extract</strong></font> \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>Input Dir é€‰ä¸ºä¸Šæ–‡çš„p1_Inputæ–‡ä»¶å¤¹</strong></font> \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>Output Dir é€‰ä¸ºä¸Šæ–‡çš„p1_Outputæ–‡ä»¶å¤¹</strong></font> \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ç‚¹å‡»ä¸‹æ–¹çš„Extractå¼€å§‹æå–äººè„¸</strong></font> \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è¿è¡Œï¼Œç‚¹å‡»Extractåä¼šå®‰è£…å„ç§åº“ï¼Œä¼šæ¯”è¾ƒæ…¢</strong></font> \n\n \n\n![Faceswapï¼šAIè§†é¢‘æ¢è„¸æ•™ç¨‹, æ¢è„¸è½¯ä»¶ä½¿ç”¨æ•™ç¨‹ Faceswap for windows](https://s2.loli.net/2023/12/02/TvywV3knZ8HhlM1.png)\n\n \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æ‰§è¡Œå®Œåï¼Œ</strong></font> \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ä¼šåœ¨p1_Outputæ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆäººè„¸å›¾ï¼Œç„¶åæ£€æŸ¥ä¸€ä¸‹ï¼Œç±»ä¼¼p0044_0.jpgå’Œp0045_0.jpgè¿™ç§æœ‰é—®é¢˜çš„å›¾ç‰‡ï¼Œæ‰‹åŠ¨åˆ æ‰</strong></font> \n\n \n\n![Faceswapï¼šAIè§†é¢‘æ¢è„¸æ•™ç¨‹, æ¢è„¸è½¯ä»¶ä½¿ç”¨æ•™ç¨‹ Faceswap for windows](https://justcode.ikeepstudying.com/wp-content/uploads/2020/10/6dc8ef60e12f4eb88a14c658761ed77b.jpg)\n\n <font color=#b0171f size=2 face=å®‹ä½“><strong>ç„¶åå¦ä¸€ä¸ªè§†é¢‘åŒç†</strong></font> \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æ›´æ”¹ä¸€ä¸‹è·¯å¾„ï¼Œè¾“å…¥å’Œè¾“å‡ºè·¯å¾„åˆ†åˆ«æ”¹ä¸ºp2_Inputå’Œp2_Output ï¼Œé‡å¤ä¸Šè¿°æ“ä½œ</strong></font> \n\n <font color=#00b2c2 size=5 face=å®‹ä½“><strong>4.è®­ç»ƒï¼š</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æ–°å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ï¼Œå–åmodelsï¼Œç”¨æ¥å­˜æ”¾è®­ç»ƒåçš„æ¨¡å‹</strong></font> \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æ­¤æ—¶é€‰æ‹©Trainä¸€æ </strong></font> \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong> Input A é€‰æ‹© p1_Output</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong> Input B é€‰æ‹© p2_Output</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong> Model Dir é€‰æ‹© åˆšæ‰æ–°å»ºçš„modelsæ–‡ä»¶å¤¹</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ç„¶åç‚¹å‡»ä¸‹æ–¹çš„TrainæŒ‰é’®å¼€å§‹è®­ç»ƒ</strong></font> \n\n![274a2a0d9a0f4e289a430b88e363123e](https://s2.loli.net/2023/12/03/7ZRES23MQ4j1TXU.png)\n\n \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>è®­ç»ƒæ˜¯ä¸ªæ¼«é•¿çš„è¿‡ç¨‹ï¼Œæ ¹æ®å¤„ç†çš„å†…å®¹çš„å¤æ‚åº¦ï¼Œå®˜æ–¹æç¤ºéœ€è¦24å°æ—¶è‡³ä¸€ä¸ªæ˜ŸæœŸæˆ–è€…æ›´é•¿ï¼Œè¦æœ‰è€å¿ƒ</strong></font> \n\n![10ee056811764bce8f1a71f0de63fe81](https://s2.loli.net/2023/12/03/SFa2UvxMizmcwIW.png)\n\n \n\n \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æ ¹æ®ç”µè„‘çš„æ€§èƒ½ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´ï¼Œä¸‹æ–¹æ§åˆ¶å°ä¼šåˆ·æ–°ä¸€ä¸‹æŸå¤±å‡½æ•°çš„å€¼ï¼Œè®­ç»ƒå¯ä»¥æ ¹æ®éœ€æ±‚éšæ—¶ä¸­æ–­ï¼Œå®˜æ–¹å»ºè®®ï¼Œå½“å€¼å°äº0.02æ•ˆæœä¼šæ¯”è¾ƒç†æƒ³</strong></font> \n\n \n\n![Faceswapï¼šAIè§†é¢‘æ¢è„¸æ•™ç¨‹, æ¢è„¸è½¯ä»¶ä½¿ç”¨æ•™ç¨‹ Faceswap for windows](https://s2.loli.net/2023/12/03/dfQDTe6aUg4SCsm.png)\n\n \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>éšæ—¶å¯ä¸­æ–­è®­ç»ƒï¼Œæ­¤æ—¶æ¨¡å‹çš„ç²¾åº¦ï¼Œå°±æ˜¯ä½ ä¸­æ–­æ—¶æ§åˆ¶å°ä¸Šæ˜¾ç¤ºçš„æŸå¤±å‡½æ•°çš„å€¼ï¼Œä¸­æ–­åï¼Œè®­ç»ƒçš„æ¨¡å‹ä¼šå­˜åœ¨ä¸Šæ–‡æ–°å»ºçš„modelsæ–‡ä»¶å¤¹ä¸‹</strong></font> \n\n![Faceswapï¼šAIè§†é¢‘æ¢è„¸æ•™ç¨‹, æ¢è„¸è½¯ä»¶ä½¿ç”¨æ•™ç¨‹ Faceswap for windows](https://s2.loli.net/2023/12/03/mx6cqk4OfKzej8H.png)\n\n \n\n###  <font color=#00b2c2 size=5 face=å®‹ä½“><strong>5.æ¢è„¸ï¼š</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æ–°å»ºä¸ªç©ºæ–‡ä»¶å¤¹ï¼Œå–åFinal_Outputï¼Œç”¨æ¥å­˜æ”¾æ¢è„¸åçš„æœ€ç»ˆçš„åºåˆ—å¸§</strong></font> \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>é€‰æ‹©Convertä¸€æ </strong></font> \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å‡å¦‚æƒ³æŠŠèµµå››çš„è„¸æ¢åˆ°æ¢åˆ°æ³·è°·æºæ²»ä¸Š</strong></font> \n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>åˆ™ï¼š</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong> Input Dir éœ€è¦é€‰æ‹© p1_Inputè·¯å¾„ï¼Œå³è§†é¢‘1çš„åŸå§‹åºåˆ—å¸§</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>Output Dir é€‰æ‹©åˆšæ‰åˆ›å»ºçš„Final_Outputæ–‡ä»¶å¤¹è·¯å¾„</strong></font> \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>Model Dir é€‰æ‹©ç¬¬4æ­¥ä¿å­˜æ¨¡å‹çš„modelsæ–‡ä»¶å¤¹è·¯å¾„</strong></font> \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æœ€åç‚¹å‡»ä¸‹æ–¹çš„ConvertæŒ‰é’®å¼€å§‹æ¢è„¸</strong></font> \n\n \n\n![Faceswapï¼šAIè§†é¢‘æ¢è„¸æ•™ç¨‹, æ¢è„¸è½¯ä»¶ä½¿ç”¨æ•™ç¨‹ Faceswap for windows](https://s2.loli.net/2023/12/03/UXdA7RtmwsZfQ3q.png)\n\n###   <font color=#00b2c2 size=5 face=å®‹ä½“><strong>6.åºåˆ—å¸§è½¬ä¸ºè§†é¢‘ï¼š</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ç¬¬5æ­¥æ‰§è¡Œå®Œåï¼Œå¯åœ¨Final_Outputæ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°æœ€ç»ˆæ¢è„¸åçš„åºåˆ—å¸§</strong></font> \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æ­¤æ—¶æˆ‘ä»¬å†æŠŠåºåˆ—å¸§è½¬åŒ–ä¸ºè§†é¢‘ï¼Œç”¨ä»€ä¹ˆæ–¹å¼è½¬æ¢éƒ½è¡Œ</strong></font> \n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>åœ¨æ­¤ï¼Œæˆ‘ä»¬åŒæ ·ç”¨opencv-pythonå»å¤„ç†</strong></font> \n\n\n\n![Faceswapï¼šAIè§†é¢‘æ¢è„¸æ•™ç¨‹, æ¢è„¸è½¯ä»¶ä½¿ç”¨æ•™ç¨‹ Faceswap for windows](https://justcode.ikeepstudying.com/wp-content/uploads/2020/10/ef29626e818b499492a5e139c913fd7d.jpg)\n\n \n\n <font color=#00b2c2 size=5 face=å®‹ä½“><strong>æœ€ç»ˆæ•ˆæœï¼š</strong></font>\n\nhttps://objrecong.oss-cn-shanghai.aliyuncs.com/output.mp4\n","tags":["AI","æ¢è„¸","æ•™ç¨‹","windows10"],"categories":["Python","AI"]},{"title":"DeepFaceLab3ï¼šè§†é¢‘æ¢è„¸å®Œæ•´æµç¨‹","url":"/2023/11/25/DeepFaceLab3 è§†é¢‘æ¢è„¸å®Œæ•´æµç¨‹/","content":"\n\n\n# DeepFaceLab3ï¼šè§†é¢‘æ¢è„¸å®Œæ•´æµç¨‹\n\n<!--more-->\n\næœ¬æ–‡æ¬è¿è‡ªï¼š[DeepFaceLab3ï¼šè§†é¢‘æ¢è„¸å®Œæ•´æµç¨‹ â€“ DeepFakeä¸­æ–‡ç½‘ (deepfaker.xyz)](https://www.deepfaker.xyz/?p=2272)\n\nå¯¹äºåˆšå…¥é—¨çš„æœ‹å‹æ¥è¯´ï¼Œä½ ç»™ä»–ç›´æ¥ä¸Šå¿ƒæ³•è‚¯å®šæ²¡å•¥æœ‰ï¼Œæœ€ç›´æ¥çš„è¿˜æ˜¯æ•™æ‹›å¼ã€‚å®æ“ï¼Œæ‰æœ‰æ„Ÿè§‰å˜›ï¼DeepFaceLabè™½ç„¶ç‰ˆæœ¬ä¸€ç›´åœ¨å‡çº§ï¼Œä½†æ˜¯æ•´ä½“æ­¥éª¤å’Œæ‰§è¡Œé€»è¾‘å¹¶æ²¡æœ‰å¤ªå¤§å˜åŒ–ã€‚æ‰€ä»¥è€æ•™ç¨‹ç°åœ¨ä¸€æ ·èƒ½ç”¨äº†ã€‚ä½†æ˜¯ä¸ºäº†æ•™ç¨‹çš„å®Œæ•´æ€§ï¼Œæˆ‘å°±å…¨éƒ¨é‡å†™ä¸€éï¼Œç¨ä½œæ”¹è¿›ã€‚\n\n## å®‰è£…è½¯ä»¶\n\nå®‰è£…è¿‡ç¨‹å…¶å®éå¸¸ç®€å•ã€‚ä¸€èˆ¬å‘å¸ƒçš„è½¯ä»¶åŒ…éƒ½æ˜¯.exeç»“å°¾ï¼Œæœ¬è´¨ä¸Šå…¶å®å°±æ˜¯ä¸€ä¸ªç”¨7zå‹ç¼©çš„å‹ç¼©åŒ…è€Œå·²ã€‚æ‰€ä»¥å®‰è£…åªè¦åŒå‡»å°±å¥½äº†ï¼Œå¤§å®¶éƒ½ä¼šçš„ï¼\n\nå®‰è£…çš„æ—¶å€™éœ€è¦æ³¨æ„å‡ ä¸ªç‚¹ã€‚\n\n \n\n**ç¬¬ä¸€ï¼š**æ€æ¯’è½¯ä»¶å¯èƒ½ä¼šæœ‰æœ¨é©¬è­¦æŠ¥ï¼Œæ·»åŠ ä¿¡ä»»å°±å¥½ã€‚æ€æ¯’è½¯ä»¶å¯èƒ½ä¼šæ— è­¦æŠ¥åˆ æ–‡ä»¶ï¼Œå¯¼è‡´æ‰§è¡Œçš„æ—¶å€™å‡ºç°æœªçŸ¥é”™è¯¯ã€‚è¿™ç§æƒ…å†µå¯ä»¥å…ˆé€€æ€æ¯’è½¯ä»¶ï¼Œå®‰è£…å®Œäº†å°±ä¸å—å½±å“ã€‚\n\n**ç¬¬äºŒ**ï¼šå®‰è£…çš„æ—¶å€™è®°å¾—é€‰å¥½è·¯å¾„\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426155730.jpg@!full)\n\nè·¯å¾„å¹¶æ²¡æœ‰ç¡¬æ€§è¦æ±‚ï¼Œé»˜è®¤æ˜¯è§£å‹åˆ°å®‰è£…åŒ…æ‰€åœ¨è·¯å¾„ã€‚æœ‰ä¸å°‘äººå¯¹è·¯å¾„å¹¶ä¸æ˜¯å¾ˆæ•æ„Ÿã€‚æ¯”å¦‚é€šè¿‡QQç¾¤æ–‡ä»¶ä¸‹è½½çš„ï¼Œå°±ç›´æ¥è§£å‹åœ¨è·¯å¾„è¶…æ·±çš„QQç¼“å­˜ç›®å½•ä¸­ï¼Œè¿™æ ·å¯èƒ½ä¼šå‡ºé—®é¢˜ï¼Œè€Œä¸”ä¸å¥½æ‰¾ã€‚æœ€å¥½æ˜¯æ”¾åœ¨Cç›˜å¤–çš„å…¶ä»–ç›˜çš„æ ¹ç›®å½•ã€‚æ–‡ä»¶è·¯å¾„ä¸å¼ºåˆ¶è‹±æ–‡ï¼Œä½†æ˜¯ä¾æ—§ä¸æ¨èä¸­æ–‡ã€‚æ–‡ä»¶åä¸è¦ç”¨ç‰¹æ®Šå­—ç¬¦ï¼Œé™ä½å‡ºé”™æ¦‚ç‡ã€‚\n\n**ç¬¬ä¸‰ï¼š**\n\nè¾“å…¥å¯†ç \n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426155742.jpg@!full)\n\næˆ‘å‘å¸ƒçš„æ–‡ä»¶å¦‚æœæœ‰å¯†ç ï¼Œå°±éƒ½æ˜¯deepfaker.xyzã€‚ä¸ç®¡å“ªä¸ªç‰ˆæœ¬ç›´æ¥è¾“å…¥å°±å¥½äº†ã€‚å½“ç„¶ï¼Œä½ ä»»æ€§ï¼Œä¹Ÿå¯ä»¥ä¸è¾“å…¥ã€‚\n\n \n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426155754.jpg@!full)\n\nä¸è¾“å…¥å°±æ˜¯ä¸Šé¢è¿™ç§ç»“æœã€‚ç„¶åä½ ç‚¹1ï¼Œ2ï¼Œ3ï¼Œ4æ¯ä¸ªæ­¥éª¤éƒ½ç‚¹ä¸åŠ¨ã€‚å› ä¸ºä¸çœ‹è‹±æ–‡æˆ–è€…å¤§æ„ï¼ŒçŠ¯è¿™ä¸ªé”™è¯¯çš„ä¹Ÿä¸å°‘ã€‚\n\n \n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426155755.jpg@!full)\n\næ­£ç¡®çš„æ‰“å¼€æ–¹å¼æ˜¯è¿™æ ·çš„ã€‚é‡Œé¢ä¼šæœ‰_internalå’Œworkplaceæ–‡ä»¶å¤¹ã€‚å‰è€…æ”¾çš„æ˜¯æºä»£ç å’Œè½¯ä»¶ç›¸å…³çš„å†…å®¹ï¼Œåè€…æ˜¯å·¥ä½œç›®å½•ï¼Œä¸Šä¸€ç¯‡æœ‰è®²è¿‡ã€‚é™¤æ­¤ä¹‹å¤–è¿˜æœ‰ä¸€å †.batç»“å°¾çš„æ–‡ä»¶ã€‚å¯ä»¥æŠŠè¿™äº›ç§°ä¸ºè„šæœ¬æˆ–è€…æ‰¹å¤„ç†æ–‡ä»¶ã€‚é‡Œé¢æ˜¯ä¸€è¡Œè¡Œçš„DOSå‘½ä»¤ã€‚\n\næ‰¹å¤„ç†æ–‡ä»¶æ‰“å¼€æ–¹å¼å’ŒEXEä¸€æ¨¡ä¸€æ ·ï¼ŒDouble kill ~~Double click  åŒå‡»æ‰“å¼€ï¼æ¯ä¸€ä¸ªæ‰¹å¤„ç†æ–‡ä»¶éƒ½å¹²ä¸€ä»¶äº‹æƒ…ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯æŒ‰ä¸€å®šçš„é¡ºåºç‚¹å‡»è¿™äº›æ–‡ä»¶ï¼Œå°±èƒ½å®Œæˆæ¢è„¸ã€‚æ˜¯ä¸æ˜¯æŒºç®€å•ï¼Ÿ\n\n## **æ‰§è¡Œæ­¥éª¤**\n\nDFLæ¢è„¸çš„æ€è·¯æ˜¯ï¼Œæƒ³å°†è§†é¢‘è½¬æ¢æˆå›¾ï¼Œä»å›¾ç‰‡ä¸­æå–äººè„¸ï¼Œä»äººè„¸ä¸­å­¦ä¹ ç‰¹å¾ã€‚ç„¶ååº”ç”¨æ¨¡å‹ï¼Œå…ˆå¯¹å›¾ç‰‡è¿›è¡Œæ¢è„¸ï¼Œç„¶åæŠŠå›¾ç‰‡åˆæˆè§†é¢‘ï¼ŒåŒæ—¶å¸¦ä¸ŠåŸè§†é¢‘çš„éŸ³è½¨ã€‚\n\nå…·ä½“æ¥è¯´å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹å‡ æ­¥ï¼š\n\n- æºè§†é¢‘è½¬å›¾ç‰‡\n- ç›®æ ‡è§†é¢‘è½¬å›¾ç‰‡\n- æå–æºå¤´åƒ\n- æå–ç›®æ ‡å¤´åƒ\n- è®­ç»ƒæ¨¡å‹\n- åº”ç”¨æ¨¡å‹\n- åˆæˆè§†é¢‘\n\næ‰¹å¤„ç†æ–‡ä»¶æ­¥éª¤å¦‚ä¸‹ï¼š\n\n- æºè§†é¢‘è½¬å›¾ç‰‡ extract images from video data_src.bat\n- ç›®æ ‡è§†é¢‘è½¬å›¾ç‰‡ extract images from video data_dst FULL FPS.bat\n- æå–æºå¤´åƒ data_src faceset extract.bat\n- ç›®æ ‡å¤´åƒæå– data_dst faceset extract.bat\n- è®­ç»ƒè½»é‡çº§æ¨¡å‹ train Quick96.bat/SAE/AMP\n- åº”ç”¨è½»é‡çº§æ¨¡å‹ merge Quick96.bat /SAE/AMP\n- åˆæˆ MP4 è§†é¢‘ merged to mp4.bat\n\næ‚ä¸ƒæ‚å…«äº¤ä»£æ¸…æ¥šäº†å°±å¯ä»¥å¼€å§‹æ“ä½œï¼Œæœ¬æ–‡ä¼šå°†æ¯ä¸€ä¸ªæ­¥éª¤æˆªå›¾è¯´æ˜ã€‚ä½†æ˜¯ä¸ºäº†æ§åˆ¶æ–‡ç« çš„ä½“å‹ï¼Œä»¥æ“ä½œä¸ºä¸»ã€‚ä¸€äº›å¸¸è§é”™è¯¯æˆ–è€…å‚æ•°è¯¦è§£ï¼Œä¼šåœ¨åç»­æ–‡ç« ä¸­å®Œæˆã€‚å…³äºæ“ä½œï¼Œè¿™é‡Œåšä¸€ä¸ªé‡ç‚¹æç¤ºï¼šé‡äº‹ä¸å†³æŒ‰å›è½¦ï¼\n\n### Step1ï¼šæºè§†é¢‘è½¬å›¾ç‰‡\n\nåŒå‡»æ‰¹å¤„ç†æ–‡ä»¶æºè§†é¢‘è½¬å›¾ç‰‡ extract images from video data_src.bat\n\n \n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426160224.jpg@!full)\n\nè·³å‡ºé»‘è‰²çª—å£ï¼Œè¾“å…¥10å›è½¦ï¼Œç„¶åè¾“å…¥jpgå›è½¦ï¼Œå°±ä¼šè‡ªåŠ¨å¼€å§‹å°†è§†é¢‘åˆ†è§£ä¸ºå›¾ç‰‡ã€‚\n\nFPSï¼šè§†é¢‘æœ‰ä¸€ä¸ªæŒ‡æ ‡å«å¸§ç‡ï¼Œå¸¸è§æœ‰24ï¼Œ30ï¼Œ60ç­‰ï¼Œä»£è¡¨ä¸€ç§’é’Ÿæœ‰å‡ å¼ ã€‚ç¬¬ä¸€ä¸ªå‚æ•°è¾“å…¥10æŒ‡çš„æ˜¯ä¸€ç§’é’Ÿåªå–10å¼ ï¼›ä¸è¾“å…¥ç›´æ¥å›è½¦ï¼Œé»˜è®¤å¸§ç‡æ˜¯30å°±å–30å¼ ã€‚å› ä¸ºå¾ˆå¤šå½±è§†å‰§ç”»é¢ç›¸å¯¹å›ºå®šï¼Œæ²¡å¿…è¦å…¨éƒ¨å–ï¼Œå¦åˆ™åé¢ä¼šæµªè´¹å¤§é‡æå–æ—¶é—´ï¼Œè€Œä¸”æ¨¡å‹è®­ç»ƒå‹åŠ›ä¹Ÿä¼šåŠ å¤§ã€‚\n\nFormat:  å›¾ç‰‡æ ¼å¼ï¼Œä¸»è¦æ˜¯jpgå’Œpngã€‚pngæ˜¯æ— æŸæ ¼å¼ï¼Œä½†æ˜¯JPGèƒ½åœ¨ä¿è¯ç”»è´¨çš„æƒ…å†µä¸‹å‡å°‘å·¨é‡çš„ç©ºé—´ã€‚æ‰€ä»¥å¦‚æœä¸æ˜¯è¦æ±‚ç‰¹åˆ«å˜æ€ï¼Œä¸€èˆ¬éƒ½ç”¨jpgã€‚è¿™æ ·å¯ä»¥å‡å°‘ç©ºé—´ï¼ŒèŠ‚çœæ—¶é—´\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426160233.jpg@!full)\n\næ­£å¸¸æƒ…å†µä¸‹ï¼Œè¿™ä¸ªæ­¥éª¤æ‰§è¡Œéå¸¸å¿«ï¼Œå‡ºç°â€œæå®š/doneâ€ çš„å­—æ ·å°±æ˜¯æ‰§è¡Œå®Œæˆäº†ã€‚å®Œæˆåï¼Œworkplace/data_srcä¸‹é¢å°±ä¼šå‡ºç°å¾ˆå¤šå›¾ç‰‡ï¼Œè¿™å°±æ˜¯ä»è§†é¢‘é‡Œåˆ†è§£å‡ºæ¥çš„å›¾ç‰‡ã€‚æ–‡ä»¶åä¸€èˆ¬ä¸º0000x.jpgï¼Œå…¶å®è¿™é‡Œé¢å‘½åå¯ä»¥éšæ„ï¼Œæ²¡æœ‰å¼ºåˆ¶è¦æ±‚ã€‚è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªalignedçš„æ–‡ä»¶å¤¹ï¼Œæ˜¯ä¸ºåé¢æ­¥éª¤å‡†å¤‡çš„ã€‚\n\n### Step2ï¼šç›®æ ‡è§†é¢‘è½¬å›¾ç‰‡\n\nåŒå‡»æ‰¹å¤„ç†æ–‡ä»¶ç›®æ ‡è§†é¢‘è½¬å›¾ç‰‡ extract images from video data_dst FULL FPS.bat\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426160244-1.jpg@!full)\n\nå’Œä¸Šé¢çš„æ­¥éª¤ç±»ä¼¼ï¼Œè¿™æ¬¡å¤„ç†çš„æ˜¯dstè§†é¢‘ã€‚å› ä¸ºdstå¿…é¡»ä¸€å¸§ä¸è½ï¼Œæ‰€ä»¥æ²¡æœ‰FPSé€‰é¡¹ï¼Œåªæœ‰å›¾ç‰‡æ ¼å¼è¿™ä¸€ä¸ªé€‰é¡¹ã€‚\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426160254.jpg@!full)\n\nå¤„ç†å®Œåçš„å›¾ç‰‡ä¿å­˜åœ¨workspace/data_dsté‡Œé¢ã€‚\n\n### Step3ï¼šæå–æºå¤´åƒ\n\nåŒå‡»æ‰¹å¤„ç†æ–‡ä»¶æå–æºå¤´åƒ data_src faceset extract.bat\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426160310.jpg@!full)\n\nè¿™ä¸€æ­¥çš„ä½œç”¨æ˜¯æå–æºç´ æå›¾ç‰‡ä¸­çš„äººè„¸ã€‚è¿™é‡Œæœ‰å…­ä¸ªå‚æ•°ï¼Œä¸€èˆ¬åªéœ€ä¸€è·¯å›è½¦å³å¯ã€‚ç¬¬ä¸€æ¬¡ä½¿ç”¨éœ€è¦ç¼“å­˜GPUå†…æ ¸ï¼Œéœ€è¦ç¨å¾®ç­‰ä¸€ç­‰ã€‚å¼€å§‹æå–ååº•éƒ¨æœ‰æ˜¾ç¤ºè¿›åº¦ï¼Œå½“è¿›åº¦åˆ°100%ï¼Œä¼šæ˜¾ç¤ºå›¾ç‰‡æ•°é‡å’Œæå–åˆ°çš„äººè„¸æ•°é‡ï¼Œå¹¶å‡ºç°â€œæå®šï¼ï¼ï¼â€ å°±è¯æ˜å·²ç»å‡ºæ¥æˆåŠŸå¹¶ä¸”å¤„ç†å®Œæˆã€‚\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426160320.jpg@!full)\n\nå¤„ç†å®Œæˆåï¼Œå¤´åƒä¿å­˜åœ¨data_src/alignedä¸‹é¢ã€‚\n\nä¸å°‘äººåœ¨è¿™ä¸ªç¯èŠ‚ä¼šé‡åˆ°é—®é¢˜ã€‚\n\nå¸¸è§é—®é¢˜æ˜¯ï¼š\n\n- é©±åŠ¨ä¸å¤Ÿæ–°ï¼Œå»å®˜ç½‘ä¸‹è½½æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬å³å¯ã€‚\n- è½¯ä»¶ä¸å¤Ÿæ–°ï¼Œdeepfaker.xyz ä¸Šè·å–æ–°ç‰ˆ\n- æ˜¾å¡è½¯ä»¶ä¸åŒ¹é…ï¼Œ Aå¡ç”¨Directx12ï¼Œä¸è¦ç”¨rtx3000ç‰ˆã€‚\n\næå–å®Œä¹‹åï¼Œå¦‚æœsrcç´ ææ¯”è¾ƒå¤æ‚ï¼Œå°±éœ€è¦åšä¸€äº›ç­›é€‰ã€‚è¿™ä¸ªç­›é€‰å¯ä»¥å†™ä¸€ç¯‡å¾ˆé•¿çš„æ–‡ç« ã€‚è¿™é‡Œç®€è¦è¯´ä¸€ä¸‹ã€‚ä¸»è¦æ˜¯æŠŠä¸€äº›ä¸éœ€è¦çš„ç´ æåˆ é™¤ï¼š\n\n- å¾ˆæ¨¡ç³Šçš„å¯ä»¥ç›´æ¥åˆ é™¤\n- ä¸æ˜¯ç›®æ ‡äººç‰©çš„å¯ä»¥ç›´æ¥åˆ é™¤\n- å›¾ç‰‡æ®‹ç¼ºçš„åˆ é™¤\n- è„¸éƒ¨æœ‰é®æŒ¡çš„åˆ é™¤\n- è„¸éƒ¨å…‰ç…§å·®å¼‚ç‰¹åˆ«å¤§çš„åˆ é™¤\n- â€¦..\n\n### Step4ï¼šæå–ç›®æ ‡å¤´åƒ\n\nåŒå‡»æ‰¹å¤„ç†æ–‡ä»¶ç›®æ ‡å¤´åƒæå– data_dst faceset extract.bat\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426160335.jpg@!full)\n\nè¿™ä¸€æ­¥çš„ä½œç”¨æ˜¯æå–ç›®æ ‡ç´ æå›¾ç‰‡ä¸­çš„äººè„¸ã€‚å’Œä¸Šä¸€æ­¥éå¸¸ç±»ä¼¼ï¼Œè¿™é‡Œå°±æ˜¯å°‘äº†ä¸€ä¸ªâ€œä¿å­˜è°ƒè¯•å›¾ç‰‡â€çš„å‚æ•°ã€‚å…¶å®ä¹Ÿä¸æ˜¯å°‘äº†ï¼Œè€Œæ˜¯é»˜è®¤å°±æ‰§è¡Œäº†ã€‚\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426160320-1.jpg@!full)\n\næå–çš„å¤´åƒä¿å­˜åœ¨data_dst/alignedçš„æ–‡ä»¶å¤¹é‡Œã€‚\n\næå–å®Œä¹‹åä¹Ÿè¦å¯¹ç´ æè¿›è¡Œä¸€ä¸ªç­›é€‰ã€‚\n\næŠŠä¸æ˜¯ç›®æ ‡äººç‰©çš„ç´ æåˆ æ‰ï¼ŒæŠŠå¤´åƒæ—‹è½¬çš„å›¾ç‰‡åˆ æ‰ã€‚ä¸€èˆ¬æ¥è¯´æ–‡ä»¶ååç¼€_1çš„éƒ½å¯ä»¥åˆ æ‰ã€‚dstçš„åˆ é™¤æ ¸å¿ƒåŸåˆ™æ˜¯è¦æ¢çš„äººè„¸ç•™ä¸‹ï¼Œä¸è¦æ¢çš„ç»Ÿç»Ÿåˆ æ‰ã€‚\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426160344.jpg@!full)\n\nè¿™äº›å›¾æ ‡ä¿å­˜åœ¨aligned_debugé‡Œé¢\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426160939.jpg@!full)\n\nå¤§æ¦‚å…¶ä¸­ä¸€å¼ å›¾ç‰‡ï¼Œå¯ä»¥çœ‹åˆ°äººè„¸ä¸Šæœ‰ä¸‰ç§é¢œè‰²çš„çº¿æ¡†ã€‚\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426161011.jpg@!full)\n\nçº¢è‰²å°±æ˜¯å¤´åƒæˆªå–çš„åŒºåŸŸï¼Œè“è‰²æ˜¯é¢éƒ¨åŒºåŸŸï¼Œç»¿è‰²æ˜¯äººè„¸è½®å»“ï¼Œä»¥åŠäº”å®˜å®šä½çš„ç‚¹ã€‚å…¶å®å°±æ˜¯äººè„¸çš„landmarkã€‚é€šè¿‡debugä½ å¯ä»¥ç›´è§‚çš„çœ‹åˆ°äººè„¸è¯†åˆ«ç®—æ³•è¯†åˆ«äº†å“ªäº›åŒºåŸŸï¼Œæœ‰æ²¡æœ‰è¯†åˆ«æ­£ç¡®ã€‚\n\n### Step5ï¼šè®­ç»ƒæ¨¡å‹\n\nåŒå‡»æ‰¹å¤„ç†æ–‡ä»¶ è®­ç»ƒè½»é‡çº§æ¨¡å‹ train Quick96.bat\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426161024.jpg@!full)\n\nè¿™ä¸€æ­¥æ˜¯è®­ç»ƒæ¨¡å‹ï¼Œæ‰€æœ‰æ­¥éª¤ä¸­æœ€é‡è¦ï¼Œæœ€éš¾ï¼Œä¹Ÿæ˜¯æœ€è€—æ—¶é—´çš„éƒ¨åˆ†ã€‚ç›®å‰æ–°ç‰ˆæœ¬ä¸­ä¸»è¦åŒ…å«ä¸‰ç±»æ¨¡å‹ï¼Œåˆ†åˆ«æ˜¯Quick96,SAEHD,AMP ã€‚\n\næˆ‘æŠŠQuick96ç¿»è¯‘ä¸ºè½»é‡çº§æ¨¡å‹ï¼Œä¼˜ç‚¹æ˜¯æ‰€éœ€é…ç½®ä½ï¼Œæ˜¾å­˜ä½ï¼Œé€Ÿåº¦å¿«ï¼Œæ“ä½œç®€å•ã€‚ç¼ºç‚¹æ˜¯ä¸èƒ½è‡ªå®šä¹‰ï¼Œåƒç´ æ¯”è¾ƒä½ï¼Œåˆæˆæ•ˆæœå·®ä¸€äº›ã€‚\n\nè¿™ä¸ªæ¨¡å‹å¾ˆç®€å•ï¼Œæ‰€ä»¥ä¹Ÿéå¸¸é€‚åˆæ‹¿æ¥å…¥é—¨ã€‚æ‰€ä»¥æœ¬æ–‡å°±ç”¨è¿™ä¸ªæ¥ä¸¾ä¾‹ã€‚SAEHDå’ŒAMPæ¨¡å‹å’Œæ¨¡å‹è®­ç»ƒçš„çŸ¥è¯†ä¼šå¦èµ·ä¸€ç¯‡æ–‡ç« æ¥ä»‹ç»ã€‚\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426161034.jpg@!full)\n\nQuick96ä½¿ç”¨éå¸¸ç®€å•ï¼ŒåŒå‡»æ‰¹å¤„ç†æ–‡ä»¶åï¼Œé€‰æ‹©æ‰§è¡Œè®¾å¤‡å³å¯ï¼Œè¿™é‡Œä¸€èˆ¬éƒ½æ˜¯é€‰æ˜¾å¡ï¼Œç›´æ¥å›è½¦å³å¯ã€‚è®¾å¤‡é€‰æ‹©å®Œæˆä¹‹åï¼Œç¨‹åºå°±ä¼šè‡ªåŠ¨åŠ è½½ç´ æï¼Œå¹¶æ˜¾ç¤ºæ¨¡å‹çš„å‚æ•°ï¼Œåº•éƒ¨ä¼šæœ‰è·³åŠ¨çš„æ•°å­—ï¼Œç„¶åä¼šè·³å‡ºä¸€ä¸ªé¢„è§ˆçª—å£ã€‚\n\nå…ˆæ¥è¯´è¯´åº•éƒ¨çš„æ•°å­—ï¼Œæ€»å…±äº”åˆ—ï¼Œåˆ†åˆ«ä»£è¡¨ï¼šæ¨¡å‹ä¿å­˜æ—¶é—´ï¼Œè¿­ä»£æ¬¡æ•°ï¼Œå•æ¬¡è¿­ä»£æ—¶é—´ï¼ŒæºæŸå¤±ï¼Œç›®æ ‡æŸå¤±ã€‚è¿­ä»£æ¬¡æ•°æ˜¯è¶Šå¤šè¶Šå¥½ï¼ŒæŸå¤±æ˜¯è¶Šä½è¶Šå¥½ï¼Œé›¶å°±æ˜¯æ— æŸäº†å˜›~ä¸è¿‡ï¼Œä¸å¯èƒ½è¾¾åˆ°ï¼\n\nä¸‹é¢æ¥è¯´è¯´é¢„è§ˆçª—å£\n\n \n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426161101.jpg@!full)\n\né¢„è§ˆçª—å£åŒ…å«æ“ä½œæç¤ºã€lossæ›²çº¿ï¼Œäººè„¸åŒºåŸŸã€‚äººè„¸åŒºåŸŸæ€»å…±äº”åˆ—ã€‚ç¬¬ä¸€åˆ—æ˜¯srcï¼Œç¬¬ä¸‰åˆ—æ˜¯dstã€‚ç¬¬äºŒï¼Œå››ï¼Œäº”åˆ—ä¸ºç®—æ³•ç”Ÿæˆåˆ—ï¼Œåˆšå¼€å§‹æ˜¯çº¯è‰²ï¼Œå•¥å¤´åƒéƒ½æ²¡æœ‰ã€‚éšç€è®­ç»ƒçš„è¿›è¡Œï¼Œä¼šæ…¢æ…¢å‡ºç°è½®å»“ï¼Œé¼»å­ï¼Œçœ¼ç›ï¼Œç„¶åæ…¢æ…¢å˜æ¸…æ™°ã€‚\n\nè®­ç»ƒçš„è¿‡ç¨‹å°±æ˜¯ç­‰å¾…è¿™å‡ åˆ—å˜æ¸…æ™°çš„è¿‡ç¨‹ï¼Œæœ€åä¸€åˆ—å°±æ˜¯æ¢è„¸åçš„æ•ˆæœã€‚\n\nè¿™ä¸€ä¸ªæ­¥éª¤å¹¶ä¸ä¼šè‡ªåŠ¨ç»“æŸï¼Œéœ€è¦è‡ªå·±åˆ¤æ–­ï¼Œç„¶åæ‰‹åŠ¨ç»“æŸã€‚å¯ä»¥é€šè¿‡æŸå¤±å€¼å’Œé¢„è§ˆå›¾æ¥è¿›è¡Œåˆ¤æ–­ã€‚ä¸€èˆ¬æ¥è¯´æŸå¤±å€¼ï¼ˆlossï¼‰å€¼åˆ°äº†0.1xå°±å·®ä¸å¤šäº†ã€‚ä½†æ˜¯ç´ æè´¨é‡å’Œæ•°é‡ä¸ä¸€æ ·ï¼Œä¼šå½±å“è¿™ä¸ªæŒ‡æ ‡çš„å˜åŒ–é€Ÿåº¦ã€‚æ¯”å¦‚ç´ æç‰¹åˆ«å°‘ï¼Œè¿™ä¸ªå€¼é™çš„ç‰¹åˆ«å¿«ï¼Œç‰¹åˆ«ä½ã€‚å›¾ç‰‡ä¸æ˜¯å¾ˆæ¸…æ™°ï¼Œè¿™ä¸ªå€¼ä¹Ÿé™çš„ç‰¹åˆ«å¿«ï¼Œç‰¹åˆ«ä½ã€‚åè¿‡æ¥ï¼Œå›¾ç‰‡è´¨é‡é«˜ï¼Œæ•°é‡å¤šï¼Œè¿™ä¸ªå°±å¾ˆéš¾é™ä½ã€‚ä½†æ˜¯è¿™æ ·æƒ…å†µä¸‹è®­ç»ƒå‡ºæ¥çš„æ¨¡å‹æ›´å¥½ã€‚\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426161116.jpg@!full)\n\nç›¸æ¯”æ•°å­—è€Œå·²ï¼Œé€šè¿‡é¢„è§ˆå›¾æ¥åˆ¤æ–­å°±æ›´åŠ ç›´è§‚äº†ã€‚åªè¦è§‚å¯Ÿç¬¬äºŒåˆ—æ˜¯å¦æ— é™æ¥è¿‘ç¬¬ä¸€åˆ—ï¼Œç¬¬å››åˆ—æ˜¯å¦æ— é™æ¥è¿‘ç¬¬ä¸‰åˆ—ã€‚ç¬¬äº”åˆ—çš„è¡¨æƒ…æ˜¯å¦æ— é™æ¥è¿‘ç¬¬å››åˆ—ã€‚æ‰€æœ‰åˆ—çš„å›¾ç‰‡æ˜¯å¦éƒ½è¶³å¤Ÿæ¸…æ™°ã€‚å¦‚æœç­”æ¡ˆæ˜¯â€œYesâ€ ï¼Œé‚£ä¹ˆæŒ‰å›è½¦æˆ–è€…ç›´æ¥å…³é—­çª—å£ï¼Œè¿›å…¥ä¸‹ä¸€æ­¥ã€‚\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426161246.jpg@!full)\n\næ­£å¸¸æƒ…å†µä¸‹æ¨¡å‹ä¼šè¿‡å‡ ååˆ†é’Ÿä¿å­˜ä¸€æ¬¡ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨æŒ‰Sç›´æ¥ä¿å­˜ã€‚å…³é—­åï¼Œå¯ä»¥é‡æ–°ç‚¹å‡»æ‰¹å¤„ç†æ–‡ä»¶ç»§ç»­è®­ç»ƒï¼Œä¸ç”¨æ‹…å¿ƒä¸¢å¤±è¿›åº¦ã€‚å½“ç„¶ï¼Œè¦é˜²æ­¢æ„å¤–å…³æœºå’Œé‡å¯ï¼Œå¯èƒ½ä¼šæŸåæ¨¡å‹ã€‚\n\n### Step6ï¼šåº”ç”¨æ¨¡å‹\n\nåŒå‡»æ‰¹å¤„ç†æ–‡ä»¶ åº”ç”¨è½»é‡çº§æ¨¡å‹ merge Quick96.bat\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426161315.jpg@!full)\n\nè¿™ä¸ªæ­¥éª¤è¦åšçš„æ˜¯å°†å›¾ç‰‡è¿›è¡Œæ¢è„¸ã€‚åº”ç”¨Quick96æ¨¡å‹ä¹Ÿå¾ˆç®€å•ã€‚å¯åŠ¨ç›´æ¥æŒ‰å›è½¦é€‰ä¸­æˆ–è€…è¾“å…¥å¯¹åº”çš„æ•°å­—é€‰ä¸­ä¸Šä¸€æ­¥å·²ç»è®­ç»ƒå¥½çš„æ¨¡å‹ã€‚ç„¶åè½¯ä»¶å°±ä¼šåŠ è½½æ¨¡å‹å¹¶æ˜¾ç¤ºæ¨¡å‹å‚æ•°ã€‚\n\nç„¶åéœ€è¦é…ç½®ä¸¤ä¸ªå‚æ•°ï¼š\n\nä¸€ä¸ªæ˜¯æ˜¯å¦å¯ç”¨äº¤äº’æ¨¡å¼ï¼Œç›´æ¥å›è½¦ï¼Œé»˜è®¤å¯ç”¨ã€‚\n\nä¸€ä¸ªæ˜¯çº¿ç¨‹æ•°é‡ï¼Œè¾“å…¥å°äºç­‰äº8çš„æ•°å­—ï¼Œå›è½¦ã€‚æ³¨æ„ï¼Œå¦‚æœä½ æ ¸å¿ƒç‰¹åˆ«å¤šï¼Œé»˜è®¤å›è½¦ä¼šæŠ¥é”™çš„ï¼\n\nç¨ç­‰ä¸€ä¼šå„¿ä¼šå¼¹å‡ºå¸®åŠ©ç•Œé¢ã€‚\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426161316.jpg@!full)\n\nè¿™ä¸ªç•Œé¢å¹¶æ²¡æœ‰ä»»ä½•åŠŸèƒ½ä¸Šçš„ç”¨å¤„ï¼Œåªæ˜¯æ˜¾ç¤ºäº†è¿™ä¸ªç¯èŠ‚å¯ä»¥ä½¿ç”¨çš„å¿«æ·é”®ã€‚æ¯ä¸ªå¿«æ·é”®æ—è¾¹éƒ½æœ‰ä¸­æ–‡æ³¨é‡Šï¼Œå¯ä»¥çœ‹ä¸ªå¤§æ¦‚ï¼Œå…·ä½“çš„å‚æ•°å«ä¹‰æˆ‘ä¼šåœ¨åé¢çš„æ–‡ç« ä¸­åšä¸€ä¸ªè¯¦ç»†çš„ä»‹ç»ã€‚\n\nç‚¹å‡»è¿™ä¸ªç•Œé¢ï¼Œç¡®ä¿è¾“å…¥æ³•ä¸ºè‹±æ–‡ï¼ŒæŒ‰ä¸‹é”®ç›˜ä¸Šçš„Tabï¼Œå°±å¯ä»¥è¿›å…¥åˆæˆé¢„è§ˆç•Œé¢\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426161413.jpg@!full)\n\nè¿›æ¥åï¼Œé»˜è®¤æƒ…å†µä¸‹éƒ½ä¼šæœ‰äººçš®é¢å…·çš„æ„Ÿè§‰ï¼Œè¿™æ˜¯æ­£å¸¸ç°è±¡ã€‚å› ä¸ºæˆ‘ä»¬å‚æ•°è¿˜æ²¡æœ‰è°ƒæ•´ï¼å°±è¿™ä¸ªç´ ææ¥è¯´ï¼Œåªè¦è°ƒæ•´W/Sï¼ŒE/D å¿«æ·é”®å³å¯ã€‚è°ƒæ•´åçš„æ•ˆæœå¦‚ä¸‹ï¼š\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426161414.jpg@!full)\n\nç¡®è®¤æ•ˆæœOKä¹‹åï¼ŒæŒ‰ä¸‹å¿«æ·é”®shift+ï¼Ÿï¼ˆå‘ååº”ç”¨åˆ°æ‰€æœ‰å¸§ï¼‰ ç„¶åå†æŒ‰ä¸‹shift+>ï¼ˆè‡ªåŠ¨åˆæˆï¼‰ å°±å¼€å§‹è‡ªåŠ¨åˆæˆäº†ã€‚ä¹Ÿå¯ä»¥é€šè¿‡é”®ç›˜ä¸Šçš„< å’Œ >è¿›è¡Œæ‰‹åŠ¨åˆ‡æ¢ï¼ŒæŸ¥çœ‹å‰åå¸§çš„åˆæˆæ•ˆæœã€‚\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426161515.jpg@!full)\n\né»‘è‰²çª—å£ä¼šæ˜¾ç¤ºæ‰€æœ‰çš„åˆæˆå‚æ•°ï¼Œå¹¶ä¸”æ˜¾ç¤ºè¿›åº¦æ¡ï¼Œç­‰100%å®Œæˆä¹‹åï¼Œæ‰‹åŠ¨å…³é—­çª—å£å³å¯ã€‚\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426161525.jpg@!full)\n\næ­¤æ—¶ï¼Œåœ¨data_dstä¸‹é¢å·²ç»å¤šäº†ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯mergedï¼Œä¸€ä¸ªæ˜¯merged_mask\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426161536.jpg@!full)\n\nè¿›å…¥mergedå¯ä»¥çœ‹åˆ°å¾ˆå¤šå›¾ï¼Œè¿™äº›å›¾ç‰‡ä¸­çš„äººè„¸å·²ç»å®Œå…¨æ¢è„¸ã€‚\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426161537.jpg@!full)\n\nè¿›å…¥merged_maskå¯ä»¥çœ‹åˆ°ä¸€äº›é»‘è‰²çš„å›¾ç‰‡ï¼Œä¸­é—´æœ‰ä¸€ä¸ªç™½è‰²çš„åŒºåŸŸã€‚è¿™äº›æ–‡ä»¶æ˜¯ä¸ºäº†æ–¹ä¾¿åæœŸåˆ¶ä½œã€‚æˆ‘ä»¬å•çº¯ä½¿ç”¨DFLçš„ä¸ç”¨å¤ªå…³å¿ƒã€‚\n\n### Step7ï¼šåˆæˆè§†é¢‘\n\nåŒå‡»æ‰¹å¤„ç†æ–‡ä»¶ åˆæˆ MP4 è§†é¢‘ merged to mp4.bat\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426161538.jpg@!full)\n\nè¿™ä¸ªæ­¥éª¤æ˜¯å°†å·²ç»æ¢å¥½è„¸çš„å›¾ç‰‡è½¬æ¢æˆè§†é¢‘ï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨è¯»å–æºè§†é¢‘çš„é…ç½®ä¿¡æ¯ï¼ŒåŒ…æ‹¬å¸§ç‡ï¼ŒéŸ³è½¨è¿™äº›ã€‚è¿™ä¸ªç¯èŠ‚åªæœ‰ä¸€ä¸ªè¾“å‡ºç ç‡çš„å‚æ•°ï¼Œå¸¸è§„æ¥è¯´3å°±å¤Ÿäº†ã€‚\n\né™¤äº†åˆæˆmp4ä¹‹å¤–ï¼Œè¿˜å¯ä»¥åˆæˆæ— æŸè§†é¢‘ï¼ŒAVI ï¼ŒMOVç­‰æ ¼å¼ï¼Œä¾¿äºåæœŸå¤„ç†ã€‚\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426161708.jpg@!full)\n\næ‰§è¡Œå®Œæˆåï¼Œworkspaceä¸‹é¢å¤šäº†ä¸¤ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯result.mp4 å’Œ result_mask.mp4 ã€‚å‰è€…å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„æœ€ç»ˆè§†é¢‘ï¼Œåè€…æ˜¯é®ç½©è§†é¢‘ï¼Œä¾›åæœŸä½¿ç”¨ã€‚\n\n![img](https://deepfakescn.oss-cn-hongkong.aliyuncs.com/2021/10/20230426161719.jpg@!full)\n\nåŒå‡»æ‰“å¼€è§†é¢‘ï¼Œå°±å¯ä»¥çœ‹åˆ°æœ€ç»ˆæ•ˆæœå•¦ã€‚\n\næ­¥éª¤å…¶å®ä¸éš¾ï¼Œç»†èŠ‚å¾ˆå¤šã€‚æœ‰äº›æ˜¯å¯ä»¥ç›´æ¥ç…§æ¬åˆ«äººç»éªŒçš„ã€‚æœ‰äº›éœ€è¦è‡ªå·±ä¸æ–­æ‘¸ç´¢ã€‚è¿™å¹¶ä¸æ˜¯ä»€ä¹ˆå‚»ç“œè½¯ä»¶ï¼Œè¦åšå‡ºå¥½çš„æ•ˆæœè‚¯å®šæ˜¯è¦èŠ±æ—¶é—´ç ”ç©¶ã€‚å°±åƒå³ä¾¿é€ä½ PSï¼ŒPRï¼Œä½ æ²¡æœ‰ä¸€å®šçš„å­¦ä¹ ç§¯ç´¯ä¸å¯èƒ½åšå‡ºé…·ç‚«çš„æ•ˆæœã€‚ä½†æ˜¯æˆ‘å¯ä»¥ä¿è¯ï¼Œå¸‚é¢ä¸Šå‡ ä¹æ‰€æœ‰ç¥ä¹å…¶æŠ€çš„æ¢è„¸è§†é¢‘éƒ½æ˜¯åŸºäºDFLï¼Œæœ‰äº›å¯èƒ½ä¸“é—¨å‡†å¤‡äº†é“å…·åœºæ™¯å¹¶ä½¿ç”¨äº†åæœŸåˆ¶ä½œã€‚\n\n \n\nDeepFaceLab3ç³»åˆ—\n\n[DeepFaceLab3ï¼šè½¯ç¡¬ä»¶ä»¥åŠç³»ç»Ÿè¦æ±‚](http://mp.weixin.qq.com/s?__biz=MzIzODA3NDAxMg==&mid=2247485262&idx=1&sn=c9a68694d262259524014b2ea840ab6f&chksm=e93fa6bdde482fabd2b2bfac280cdc5ca83bc142a6be25e1368bb14dd837d58be22d9ca4c800&scene=21#wechat_redirect)\n\n[DeepFaceLab3ï¼šå·¥ä½œç›®å½•å’ŒåŸºæœ¬æ¦‚å¿µ](http://mp.weixin.qq.com/s?__biz=MzIzODA3NDAxMg==&mid=2247485268&idx=1&sn=78e823524647646f5999c3cebad9f6ee&chksm=e93fa6a7de482fb14162f919875c84c769f7473594c5ccd62328b12e2517e72801d372164af2&scene=21#wechat_redirect)\n\n[DeepFaceLab3ï¼šè§†é¢‘æ¢è„¸å®Œæ•´æµç¨‹è¯¦è§£ï¼](http://mp.weixin.qq.com/s?__biz=MzIzODA3NDAxMg==&mid=2247485305&idx=1&sn=3df780a1f454f00044564fc22c148851&chksm=e93fa68ade482f9ca80ac3f70830f87bfd2b7df8dc8ef5be22eae00a8aadbbfb851ff11aec4c&scene=21#wechat_redirect)\n\n[DeepFaceLab3ï¼šæ¨¡å‹çš„å¼‚åŒï¼Œé€‰æ‹©ï¼ŒåŸºç¡€æ“ä½œï¼](http://mp.weixin.qq.com/s?__biz=MzIzODA3NDAxMg==&mid=2247485354&idx=1&sn=7dc90561bae425f879a19423de5603e8&chksm=e93fa659de482f4f4cdb96fd4c02d7ab68cc1a6330ea770a48c463e0f890b6245cfe54d08ec2&scene=21#wechat_redirect)\n\n\n\n  \n\n******************å°å°¾å·´*********************\n\n**ç”³æ˜ï¼šå›¾æ–‡å‡ç”±deepfakes ä¸­æ–‡ç½‘åŸåˆ›ï¼Œè½¬å‘è¯·æ³¨æ˜å‡ºå¤„ï¼Œè°¢è°¢ï¼æœ¬ç«™ä»…åˆ†äº«æŠ€æœ¯ï¼Œåˆ‡å‹¿ç”¨äºéæ³•ç”¨é€”**\n**å¾®ä¿¡å…¬ä¼—å·ï¼šæ‰˜å°¼ä¸æ˜¯å¡”å…‹ï¼ˆTonyNoStarkï¼‰ï¼Œå­¦ä¹ å„ç§AIé»‘ç§‘æŠ€ï¼**\n\n è½¯ä»¶ä¸‹è½½ï¼š[ç‚¹å‡»è¿›å…¥](https://www.deepfaker.xyz/?page_id=24)\n å…¥é—¨æ•™ç¨‹ï¼š[ç‚¹å‡»è¿›å…¥](https://www.deepfaker.xyz/?page_id=513)\n æ·±å…¥å­¦ä¹ ï¼š[çŸ¥è¯†æ˜Ÿçƒ](https://www.deepfaker.xyz/?p=2050)\n ä¸“ä¸šæœåŠ¡ï¼š[è„¸é­” F M](https://www.deepfaker.xyz/?page_id=1661) \n","tags":["AI","æ¢è„¸","æ•™ç¨‹","windows10"],"categories":["Python","AI"]},{"title":"é»‘å®¢å·¥å…·ä¹‹Google Hackingçš„ç®€å•ç”¨æ³•","url":"/2023/11/21/é»‘å®¢å·¥å…·ä¹‹Google-Hackingçš„ç®€å•ç”¨æ³•/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>é»‘å®¢å·¥å…·ä¹‹Google Hackingçš„ç®€å•ç”¨æ³•ï¼š</strong></font>\n\n<!--more-->\n\næœ¬æ–‡æ¬è¿è‡ªï¼š[é»‘å®¢å·¥å…·ä¹‹Google Hackingçš„ç®€å•ç”¨æ³• - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/400365865)\n\n+ æ„Ÿè°¢å¤§ç¥ï¼š[é»‘å®¢è€é¸Ÿ-ä¹é’](https://www.zhihu.com/people/shen-tou-ce-shi-yan-jiu-yuan-9ling) æ— ç§çš„æŠ€æœ¯åˆ†äº«\n\n[é»‘å®¢å·¥å…·ä¹‹Sqlmapè¯¦ç»†ä½¿ç”¨æ•™ç¨‹ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/394955217)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä¸€ã€Google Hackingç®€ä»‹</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>Google Hacking æ˜¯åˆ©ç”¨è°·æ­Œæœç´¢çš„å¼ºå¤§ï¼Œæ¥åœ¨æµ©ç€šçš„äº’è”ç½‘ä¸­æœç´¢åˆ°æˆ‘ä»¬éœ€è¦çš„ä¿¡æ¯ã€‚è½»é‡çº§çš„æœç´¢å¯ä»¥æœç´ å‡ºä¸€äº›é—ç•™åé—¨ï¼Œä¸æƒ³è¢«å‘ç°çš„åå°å…¥å£ï¼Œä¸­é‡çº§çš„æœç´¢å‡ºä¸€äº›ç”¨æˆ·ä¿¡æ¯æ³„éœ²ï¼Œæºä»£ç æ³„éœ²ï¼Œæœªæˆæƒè®¿é—®ç­‰ç­‰ï¼Œé‡é‡çº§çš„åˆ™å¯èƒ½æ˜¯mdbæ–‡ä»¶ä¸‹è½½ï¼ŒCMS æœªè¢«é”å®šinstallé¡µé¢ï¼Œç½‘ç«™é…ç½®å¯†ç ï¼Œphpè¿œç¨‹æ–‡ä»¶åŒ…å«æ¼æ´ç­‰é‡è¦ä¿¡æ¯ã€‚</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å·¥å…·æ–‡ç« åˆé›†ï¼š</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>åˆ©ç”¨Googleæœç´¢æˆ‘ä»¬æƒ³è¦çš„ä¿¡æ¯ï¼Œéœ€è¦é…åˆè°·æ­Œæœç´¢å¼•æ“çš„ä¸€äº›è¯­æ³•ï¼š</strong></font>\n\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>åŸºæœ¬æœç´¢ï¼š</strong></font>\n\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>é€»è¾‘ä¸ï¼šand</strong></font>\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>é€»è¾‘æˆ–ï¼š or</strong></font>\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>é€»è¾‘éï¼š -</strong></font>\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>å®Œæ•´åŒ¹é…ï¼š\"å…³é”®è¯\"</strong></font>\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>é€šé…ç¬¦ï¼š* ?</strong></font>\n\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>é«˜çº§æœç´¢ï¼š</strong></font>\n\n**`intext:`**\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å¯»æ‰¾æ­£æ–‡ä¸­å«æœ‰å…³é”®å­—çš„ç½‘é¡µï¼Œä¾‹å¦‚ï¼š **`intext:åå°ç™»å½•`** å°†åªè¿”å›æ­£æ–‡ä¸­åŒ…å« åå°ç™»å½• çš„ç½‘é¡µ</strong></font>\n\n![img](https://s2.loli.net/2023/11/21/NXACjRzpHneSYwQ.webp)\n\n**`intitle:`**\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å¯»æ‰¾æ ‡é¢˜ä¸­å«æœ‰å…³é”®å­—çš„ç½‘é¡µï¼Œä¾‹å¦‚ï¼š **`intitle:åå°ç™»å½•`** å°†åªè¿”å›æ ‡é¢˜ä¸­åŒ…å« åå°ç™»å½• çš„ç½‘é¡µï¼Œ**`intitle:åå°ç™»å½• å¯†ç `** å°†è¿”å›æ ‡é¢˜ä¸­åŒ…å«é»‘å®¢è€Œæ­£æ–‡ä¸­åŒ…å«ä¸­å›½çš„ç½‘é¡µ</strong></font>\n\n\n\n<img src=\"https://s2.loli.net/2023/11/21/3gvZFKjqV72Odth.webp\" alt=\"img\" style=\"zoom:80%;\" />\n\n**`allintitle:`**\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ç”¨æ³•å’Œintitleç±»ä¼¼ï¼Œåªä¸è¿‡å¯ä»¥æŒ‡å®šå¤šä¸ªè¯ï¼Œä¾‹å¦‚ï¼š **`alltitle:åå°ç™»å½• ç®¡ç†å‘˜`** å°†è¿”å›æ ‡é¢˜ä¸­åŒ…å«é»‘å®¢ å’Œä¸­å›½çš„ç½‘é¡µ</strong></font>\n\n![img](https://s2.loli.net/2023/11/21/9OmrYuAB7IQkanX.webp)\n\n**`inurlï¼š`**\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å°†è¿”å›urlä¸­å«æœ‰å…³é”®è¯çš„ç½‘é¡µï¼šä¾‹å¦‚ï¼š**`inurl:Login`** å°†è¿”å›urlä¸­å«æœ‰ Login çš„ç½‘é¡µ</strong></font>\n\n\n\n![img](https://s2.loli.net/2023/11/21/5iV9hNSIz8kXrRj.webp)\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æŸ¥æ‰¾ç®¡ç†å‘˜ç™»å½•é¡µé¢</strong></font>\n\n![img](https://s2.loli.net/2023/11/21/l7qb1jJod4PLUxi.webp)\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æŸ¥æ‰¾åå°æ•°æ®åº“ç®¡ç†é¡µé¢</strong></font>\n\n![img](https://s2.loli.net/2023/11/21/IpNlc1jhCStTdea.webp)\n\n**`allinurl:`**\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ç”¨æ³•å’Œinurlç±»ä¼¼ï¼Œåªä¸è¿‡å¯ä»¥æŒ‡å®šå¤šä¸ªè¯ï¼Œä¾‹å¦‚ï¼š**`inurl:Login admin`** å°†è¿”å›urlä¸­å«æœ‰ Login å’Œ admin çš„ç½‘é¡µ</strong></font>\n\n![img](https://s2.loli.net/2023/11/21/krHj4pNaDJLI1v3.webp)\n\n**`site:`**\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æŒ‡å®šè®¿é—®çš„ç«™ç‚¹ï¼Œä¾‹å¦‚ï¼š **site:[http://baidu.com](https://link.zhihu.com/?target=http%3A//baidu.com) inurl:Login** å°†åªåœ¨[http://baidu.com](https://link.zhihu.com/?target=http%3A//baidu.com) ä¸­æŸ¥æ‰¾urlä¸­å«æœ‰ Loginçš„ç½‘é¡µ</strong></font>\n\n![img](https://s2.loli.net/2023/11/21/EYzLCaeMoH6h7pF.webp)\n\n**`filetype:`**\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æŒ‡å®šè®¿é—®çš„æ–‡ä»¶ç±»å‹ï¼Œä¾‹å¦‚ï¼š**`site:baidu.com filetype:pdf`** å°†åªè¿”å›http://baidu.comç«™ç‚¹ä¸Šæ–‡ä»¶ç±»å‹ä¸ºpdfçš„ç½‘é¡µ</strong></font>\n\n![img](https://s2.loli.net/2023/11/21/IapXLzVETZdBcb2.webp)\n\n**`link:`**\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æŒ‡å®šé“¾æ¥çš„ç½‘é¡µï¼Œä¾‹å¦‚ï¼š**`link:http://www.baidu.com`** å°†è¿”å›æ‰€æœ‰åŒ…å«æŒ‡å‘ http://www.baidu.comçš„ç½‘é¡µ</strong></font>\n\n![img](https://s2.loli.net/2023/11/21/vUMQljuhrH39ICO.webp)\n\n**`related:`**\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ç›¸ä¼¼ç±»å‹çš„ç½‘é¡µï¼Œä¾‹å¦‚ï¼š**`related:http://www.xjtu.edu.cn`** å°†è¿”å›ä¸ http://www.xjtu.edu.cnç›¸ä¼¼çš„é¡µé¢ï¼Œç›¸ä¼¼æŒ‡çš„æ˜¯ç½‘é¡µçš„å¸ƒå±€ç›¸ä¼¼</strong></font>\n\n![img](https://s2.loli.net/2023/11/21/ZckzpHesimbP7OS.webp)\n\n**`cache:`**\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ç½‘é¡µå¿«ç…§ï¼Œè°·æ­Œå°†è¿”å›ç»™ä½ ä»–å­˜å‚¨ä¸‹æ¥çš„å†å²é¡µé¢ï¼Œå¦‚æœä½ åŒæ—¶åˆ¶å®šäº†å…¶ä»–æŸ¥è¯¢è¯ï¼Œå°†åœ¨æœç´¢ç»“æœé‡Œä»¥é«˜äº®æ˜¾ç¤ºï¼Œä¾‹å¦‚ï¼š**`cache:http://www.hackingspirits.com guest`** ï¼Œå°†è¿”å›æŒ‡å®šç½‘ç«™çš„ç¼“å­˜ï¼Œå¹¶ä¸”æ­£æ–‡ä¸­å«æœ‰guest</strong></font>\n\n\n\n**`info:`**\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>è¿”å›ç«™ç‚¹çš„æŒ‡å®šä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š`info:http://www.baidu.com` å°†è¿”å›ç™¾åº¦çš„ä¸€äº›ä¿¡æ¯</strong></font>\n\n**`define:`**\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>è¿”å›æŸä¸ªè¯è¯­çš„å®šä¹‰ï¼Œä¾‹å¦‚ï¼š`define:Hacker`ã€€ã€€å°†è¿”å›å…³äºHackerçš„å®šä¹‰</strong></font>\n\n**`phonebook:`**\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ç”µè¯ç°¿æŸ¥è¯¢ç¾å›½è¡—é“åœ°å€å’Œç”µè¯å·ç ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼š`phonebook:Lisa+CA` å°†è¿”å›åå­—é‡Œé¢åŒ…å«Lisaå¹¶ä½åœ¨åŠ å·çš„äººçš„æ‰€æœ‰åå­—</strong></font>\n\n**`æŸ¥æ‰¾ç½‘ç«™åå°`**\n\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>`site:http://xx.com intext:ç®¡ç†`</strong></font>\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>`site:http://xx.com inurl:login`</strong></font>\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>`site:http://xx.com intitle:åå°`</strong></font>\n\n**`æŸ¥çœ‹æœåŠ¡å™¨ä½¿ç”¨çš„ç¨‹åº`**\n\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>`site:http://xx.com filetype:asp`</strong></font>\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>`site:http://xx.com filetype:php`</strong></font>\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>`site:http://xx.com filetype:jsp`</strong></font>\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>`site:http://xx.com filetype:aspx`</strong></font>\n\n**`æŸ¥çœ‹ä¸Šä¼ æ¼æ´`**\n\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>`site:http://xx.com inurl:file`</strong></font>\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>`site:http://xx.com inurl:load`</strong></font>\n\n**`Index of`**\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>åˆ©ç”¨ `Index of`è¯­æ³•å»å‘ç°å…è®¸ç›®å½•æµè§ˆçš„webç½‘ç«™ï¼Œå°±åƒåœ¨æœ¬åœ°çš„æ™®é€šç›®å½•ä¸€æ ·ã€‚ä¸‹é¢æ˜¯ä¸€äº›æœ‰è¶£çš„æŸ¥è¯¢ï¼š</strong></font>\n\n- `index of /admin`\n- `index of /passwd`\n- `index of /passwd`\n- `index of /mail`\n- `\"index of /\" +passwd`\n- `\"index of /\" +password.txt`\n- `\"index of /\" +.htaccess`\n- `\"index of /root\"`\n- `\"index of /cgi-bin\"`\n- `\"index of /logs\"`\n- `\"index of /config\"`\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**`inurl`**</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>è€Œä¸Šé¢è¿™äº›å‘½ä»¤ä¸­ç”¨çš„æœ€å¤šçš„å°±æ˜¯ `inurl: `äº†ï¼Œåˆ©ç”¨è¿™ä¸ªå‘½ä»¤ï¼Œå¯ä»¥æŸ¥åˆ°å¾ˆå¤šæ„æƒ³ä¸åˆ°çš„ä¸œè¥¿</strong></font>\n\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>åˆ©ç”¨ allinurl:winnt/system32/ æŸ¥è¯¢ï¼šåˆ—å‡ºçš„æœåŠ¡å™¨ä¸Šæœ¬æ¥åº”è¯¥å—é™åˆ¶çš„è¯¸å¦‚â€œsystem32â€ ç­‰ç›®å½•ï¼Œå¦‚æœä½ è¿æ°”è¶³å¤Ÿå¥½ï¼Œä½ ä¼šå‘ç°â€œsystem32â€ ç›®å½•é‡Œçš„â€œcmd.exeâ€ æ–‡ä»¶ï¼Œå¹¶èƒ½æ‰§è¡Œä»–ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æå‡æƒé™å¹¶æ”»å…‹äº†ã€‚</strong></font>\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>æŸ¥è¯¢ allinurl:wwwboard/passwd.txt å°†åˆ—å‡ºæ‰€æœ‰æœ‰â€œWWWBoard Password vulnerabilityâ€æ¼æ´çš„æœåŠ¡å™¨ï¼Œé˜…è¯»æ›´å¤šè¯·å‚è§ä¸‹é¢é“¾æ¥ã€‚</strong></font>\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>æŸ¥è¯¢ inurl:.bash_history å°†åˆ—å‡ºäº’è”ç½‘ä¸Šå¯ä»¥çœ‹è§ â€œinurl:.bash_historyâ€ æ–‡ä»¶çš„æœåŠ¡å™¨ã€‚è¿™æ˜¯ä¸€ä¸ªå‘½ä»¤å†å²æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶åŒ…å«äº†ç®¡ç†å‘˜æ‰§è¡Œçš„å‘½ä»¤ï¼Œæœ‰æ—¶ä¼šåŒ…å«ä¸€äº›æ•æ„Ÿä¿¡æ¯æ¯”å¦‚ç®¡ç†å‘˜é”®å…¥çš„å¯†ç ã€‚</strong></font>\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>æŸ¥è¯¢ inurl:config.txt å°†çœ‹è§ç½‘ä¸Šæš´éœ²äº†â€œinurl:config.txtâ€æ–‡ä»¶çš„æœåŠ¡å™¨ï¼Œè¿™ä¸ªæ–‡ä»¶åŒ…å«äº†ç»è¿‡å“ˆå¸Œç¼–ç çš„ç®¡ç†å‘˜çš„å¯†ç å’Œæ•°æ®åº“å­˜å–çš„å…³é”®</strong></font>ä¿¡æ¯ã€‚\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>è¿˜æœ‰ä¸€äº›å…¶ä»–ä¸€äº›ä½¿ç”¨â€œ`inurl:`â€å’Œâ€œ`allinurl:`â€æŸ¥è¯¢ç»„åˆçš„ä¾‹å­ï¼š</strong></font>\n\n- `inurl:admin filetype:txt`\n- `inurl:admin filetype:db`\n- `inurl:admin filetype:cfg`\n- `inurl:mysql filetype:cfg`\n- `inurl:passwd filetype:txt`\n- `inurl:â€wwwroot/*.â€`\n- `inurl:adpassword.txt`\n- `inurl:webeditor.php`\n- `inurl:file_upload.php`\n- `inurl:gov filetype:xls â€œrestrictedâ€`\n- `index of ftp +.mdb allinurl:/cgi-bin/ +mailto`\n\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>æŸ¥æ‰¾æœ‰å¯èƒ½å­˜åœ¨SQLæ³¨å…¥çš„ç½‘ç«™ï¼š</strong></font>\n\n**`inurl:id=1`**\n\n![img](https://s2.loli.net/2023/11/21/LW1ycq9jo4hXItm.webp)\n\n\n\n\n\n","tags":["æ¸—é€","hack","è°·æ­Œæœç´¢å·¥å…·"],"categories":["_A6-æ¸—é€","æœç´¢å·¥å…·"]},{"title":"AIæ¢è„¸é¡¹ç›® - faceswap åŸºäºCentos7 çš„éƒ¨ç½²ã€é…ç½®ã€è®­ç»ƒã€æ›¿æ¢æ•™ç¨‹","url":"/2023/11/20/AIæ¢è„¸é¡¹ç›®-faceswap-åŸºäºCentos7-çš„éƒ¨ç½²ã€é…ç½®ã€è®­ç»ƒã€æ›¿æ¢æ•™ç¨‹/","content":"\n\n\n<br>\n\n---\n\n<br>\n\n### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>AIæ¢è„¸é¡¹ç›® - faceswap åŸºäºCentos7 çš„éƒ¨ç½²ã€é…ç½®ã€è®­ç»ƒã€æ›¿æ¢æ•™ç¨‹ï¼ˆåŸåˆ›ï¼‰</strong></font>\n\n<!--more-->\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>çŸ¥è¯†æ‹“å±•ï¼š</strong></font>\n\n+ [ã€ç²¾é€‰ã€‘Nvidia GPU æœ€æ–°è®¡ç®—èƒ½åŠ›è¡¨ï¼ˆCUDA Compute Capabilityï¼‰_cudaè®¡ç®—èƒ½åŠ›æ’è¡Œ_Dust_Evcçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/Dust_Evc/article/details/125019266)\n\n+ [è®­ç»ƒæŒ‡å—-deepfakes/faceswapï¼šè®­ç»ƒFaceswapï¼Œæ¨¡å‹æ¢å¤å’Œåˆ†æï¼Œæ‰‹æŠŠæ‰‹æ•™å­¦ï¼Œç®€å•å¿«é€Ÿä¸Šæ‰‹ï¼ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/377418009)\n\n+ [python - faceswapæ¢è„¸ç¨‹åºå®‰è£…åŠä½¿ç”¨ - ä¸ªäººæ–‡ç«  - SegmentFault æ€å¦](https://segmentfault.com/a/1190000042846780)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ç¯å¢ƒè¯´æ˜ï¼š</strong></font>\n\n+ ç³»ç»Ÿï¼šCentos7.9\n+ Intel(R) Xeon(R) CPU E5-2678 v3\n+ 2éƒ¨ç½²æ–¹å¼ï¼šCPU\n+ æŒ‡ä»¤é›†å¼ºåˆ¶è¦æ±‚ï¼ˆCPUæ–¹å¼å®‰è£…ï¼‰ï¼šAVX\n+ è½¯ä»¶ï¼šFFmpeg\n+ pythonç‰ˆæœ¬ï¼š3.10ï¼ˆå¼ºåˆ¶è¦æ±‚ï¼Œé3.10ï¼Œå¾ˆå¤šç¯å¢ƒä¸æ”¯æŒï¼‰\n\n<br>\n\n---\n\n<br>\n\n#### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>1ã€ç¼–è¯‘å®‰è£… python 3.10 ç¯å¢ƒï¼š</strong></font>\n\n```python\ncd /root\n\n#åªæ˜¯å°†python3.11çš„å®‰è£…åŒ…ä¸‹è½½åˆ° /rootç›®å½•ä¸‹\nwget https://www.python.org/ftp/python/3.10.9/Python-3.10.9.tgz\n\n#ä¸‹è½½æœ€æ–°çš„è½¯ä»¶å®‰è£…åŒ…\ntar -xzf Python-3.10.9.tgz\n\n#è§£å‹ç¼©å®‰è£…åŒ…\nyum -y install gcc zlib zlib-devel libffi libffi-devel\n\n#å®‰è£…æºç ç¼–è¯‘éœ€è¦çš„ç¼–è¯‘ç¯å¢ƒ\nyum install readline-devel\n\n#å¯ä»¥è§£å†³åæœŸå‡ºç°çš„æ–¹å‘é”®ã€åˆ é™¤é”®ä¹±ç é—®é¢˜ï¼Œè¿™é‡Œæå‰é¿å…ã€‚\nyum install openssl-devel openssl11 openssl11-devel\n\n#å®‰è£…openssl11ï¼ŒåæœŸçš„pip3å®‰è£…ç½‘ç»œç›¸å…³æ¨¡å—éœ€è¦ç”¨åˆ°sslæ¨¡å—ã€‚\nexport CFLAGS=$(pkg-config --cflags openssl11)\nexport LDFLAGS=$(pkg-config --libs openssl11)\n\n#è®¾ç½®ç¼–è¯‘FLAGï¼Œä»¥ä¾¿ä½¿ç”¨æœ€æ–°çš„opensslåº“\ncd /root/Python-3.10.9\n\n#è¿›å…¥åˆšè§£å‹ç¼©çš„ç›®å½•\n./configure --prefix=/usr/python --with-ssl\n\n#æŒ‡å®špython3çš„å®‰è£…ç›®å½•ä¸º /usr/python å¹¶ä½¿ç”¨sslæ¨¡å—ï¼ŒæŒ‡å®šç›®å½•å¥½å¤„æ˜¯\n#åæœŸåˆ é™¤æ­¤æ–‡ä»¶å¤¹å°±å¯ä»¥å®Œå…¨åˆ é™¤è½¯ä»¶äº†ã€‚\nmake\nmake install\n\n#å°±æ˜¯æºç ç¼–è¯‘å¹¶å®‰è£…äº†ï¼Œæ—¶é—´ä¼šæŒç»­å‡ åˆ†é’Ÿã€‚\n# å¦‚æœä¸‹é¢å‘½ä»¤æ‰§è¡Œï¼Œæç¤ºå·²ç»å­˜åœ¨/usr/bin/python3 å’Œ /usr/bin/pip3ï¼Œ å¯ä»¥åˆ é™¤ã€‚å»ºè®®åˆ é™¤ï¼Œåç»­ä¼šæ–¹ä¾¿å¾ˆå¤šï¼Œä¹Ÿå¯ä»¥ä¸åˆ é™¤ï¼Œåç»­æ‰§è¡Œpython3.10ä¹Ÿå¯\n# åˆ é™¤å‘½ä»¤ï¼šrm -rf /usr/bin/python3 /usr/bin/pip3  # ç„¶ååœ¨æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤\nln -s /usr/python/bin/python3 /usr/bin/python3\nln -s /usr/python/bin/pip3 /usr/bin/pip3\n#æŒ‡å®šé“¾æ¥ï¼Œæ­¤åæˆ‘ä»¬ç³»ç»Ÿçš„ä»»ä½•åœ°æ–¹è¾“å…¥python3å°±æ˜¯æˆ‘ä»¬å®‰è£…çš„\n```\n\n<br>\n\n---\n\n<br><font color=#00b2c2 size=5 face=å®‹ä½“><strong>2ã€yum å®‰è£… ffmpeg ç¯å¢ƒï¼š</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>yumå®˜æ–¹ä¸æ”¯æŒffmpegï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ·»åŠ ç¬¬ä¸‰æ–¹æº</strong></font>\n\n```python\n# å®‰è£…epel-releaseï¼Œå› ä¸ºå®‰è£…éœ€è¦ä½¿ç”¨å…¶ä»–çš„repoæºï¼Œæ‰€ä»¥éœ€è¦epelæ”¯æŒï¼š\nyum install -y epel-release rpm\n\n# å®‰è£…Nux-Dextopæºï¼š\nrpm --import http://li.nux.ro/download/nux/RPM-GPG-KEY-nux.ro\nrpm -Uvh http://li.nux.ro/download/nux/dextop/el7/x86_64/nux-dextop-release-0-1.el7.nux.noarch.rpm\nyum repolist\n\n# å¼€å§‹å®‰è£…\nyum install -y ffmpeg\n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>ffmpeg ç›¸å…³å¸¸ç”¨å‘½ä»¤ï¼š</strong></font>\n\n```python\n# ä»è§†é¢‘input.mp4ä¸­ï¼Œè£å‰ªå‡ºä»1åˆ†30ç§’å¼€å§‹çš„ä¸€åˆ†é’Ÿè§†é¢‘\nffmpeg -ss 0:1:30 -t 0:1:0 -i input.mp4 -vcodec copy -acodec copy out.mp4\n\n# è§†é¢‘è½¬å›¾ç‰‡ï¼Œ-r:æ¯ç§’é’Ÿæå–çš„å¸§æ•°ï¼Œé»˜è®¤ä¸º30\nffmpeg -i input.mp4 -r 10 output/video_%d.jpg\n\n# å›¾ç‰‡è½¬è§†é¢‘ï¼Œ-b:vï¼šæ§åˆ¶è§†é¢‘ç ç‡ï¼Œé»˜è®¤ä¸º200ï¼Œæ‰€ä»¥åˆæˆçš„è§†é¢‘åƒç´ å¾ˆä½\nffmpeg -i input/video_%04d.jpg -b:v 5626k out.mp4\n\n# è§†é¢‘åˆæˆï¼Œåˆ†ä¸ºä¸¤æ­¥ï¼Œå…ˆæŠŠæ¯ä¸ªè§†é¢‘è½¬æˆtsæµï¼Œå†åˆæˆä¸€ä¸ªè§†é¢‘\nffmpeg -i input1.mp4 -vcodec copy -acodec copy -vbsf h264_mp4toannexb input1.ts\nffmpeg -i input2.mp4 -vcodec copy -acodec copy -vbsf h264_mp4toannexb input2.ts\nffmpeg -i \"concat:input1.ts|input2.ts\" -acodec copy -vcodec copy -absf aac_adtstoasc concat.mp4\n```\n\n<br>\n\n---\n\n<br>\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>3ã€éƒ¨ç½²å®‰è£… faceswapï¼Œ åŸºäº Centos7ï¼š</strong></font>\n\n+ å®˜æ–¹æ–‡æ¡£è¯´æ˜ï¼š[faceswap/INSTALL.md at master Â· deepfakes/faceswap Â· GitHub](https://github.com/deepfakes/faceswap/blob/master/INSTALL.md)\n+ å®˜æ–¹é¡¹ç›®åœ°å€ï¼š[GitHub - deepfakes/faceswap: Deepfakes Software For All](https://github.com/deepfakes/faceswap)\n\n```python\n# è¿›å…¥root æ ¹ç›®å½•ï¼Œåˆ›å»ºä¸€ä¸ª ai æ–‡ä»¶å¤¹ ç”¨æ¥å­˜æ”¾æ‰€æœ‰çš„aiæ–‡ä»¶\ncd /root\nmkdir ai\n\n# è¿›å…¥ ai æ–‡ä»¶å¤¹\ncd /root/ai\n\n# å¼€å§‹ clone é¡¹ç›®åˆ°æœ¬åœ°\ngit clone --depth 1 https://github.com/deepfakes/faceswap.git\ncd faceswap\n\n# å®‰è£…é¡¹ç›®ç›¸å…³ä¾èµ–  ä¸æŠ¥é”™ï¼Œå°±è¯´æ˜æ²¡é—®é¢˜\npython3 install -r ./requirements/requirements_cpu.txt\n\n# å®‰è£…å®Œæˆï¼Œæ‰§è¡Œåˆå§‹åŒ–\ncd /root/ai/faceswap\npython3 faceswap.py -h\n\n# æ­¤æ—¶ä¼šè·³å‡ºè®©ä½ é€‰æ‹©çš„ç•Œé¢ï¼Œæˆ‘ä»¬æ˜¯cpuæ–¹å¼è¿è¡Œï¼Œå°±é€‰æ‹© cpuå°±å¥½\n```\n\n<br>\n\n---\n\n<br>\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>4ã€faceswap é¡¹ç›®è¿è¡Œï¼š</strong></font>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>åæœŸéƒ¨ç½²å‚è€ƒï¼š[æ¢è„¸å¼€æºé¡¹ç›®faceswapåœ¨centosçš„å®ç°-CSDNåšå®¢](https://blog.csdn.net/qq_42370471/article/details/107448694)</strong></font>\n\n+ ### <font color=#f26522 size=4 face=å®‹ä½“><strong>å·¥ä½œæµç¨‹(æ­¤å¤„è¦æŠŠ **gakki** çš„è„¸æ¢æˆ **åˆ˜äº¦è²**)ï¼š</strong></font>\n\n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>1ã€/root/ai/AiSetFiles/gakkiï¼š`è¦è¢«æ¢è„¸`çš„äººåŸå›¾ï¼Œå³ä»çˆ¬è™«çˆ¬çš„å›¾ç‰‡</strong></font>\n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>2ã€/root/ai/AiSetFiles/gakki_videoï¼š`è¦è¢«æ¢è„¸`çš„äººè§†é¢‘</strong></font>\n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>3ã€/root/ai/AiSetFiles/gakki_readyï¼š`è¦è¢«æ¢è„¸`çš„äººï¼ŒåŸå§‹å›¾ç‰‡/è§†é¢‘è¿›è¡Œè„¸éƒ¨ç‰¹å¾æŠ½å–åï¼Œæ”¾ç½®çš„æ–‡ä»¶å¤¹</strong></font>\n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>4ã€/root/ai/AiSetFiles/lyfï¼š`è¦æ¢æˆè°çš„è„¸`çš„äººåŸå›¾ï¼Œå³ä»çˆ¬è™«çˆ¬çš„å›¾ç‰‡</strong></font>\n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>5ã€/root/ai/AiSetFiles/lyf_videoï¼š`è¦æ¢æˆè°çš„è„¸` çš„äººè§†é¢‘</strong></font>\n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>6ã€/root/ai/AiSetFiles/lyf_readyï¼š`è¦æ¢æˆè°çš„è„¸`çš„äººï¼ŒåŸå§‹å›¾ç‰‡/è§†é¢‘è¿›è¡Œè„¸éƒ¨ç‰¹å¾æŠ½å–åï¼Œæ”¾ç½®çš„æ–‡ä»¶å¤¹</strong></font>\n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>7ã€/root/ai/AiSetFiles/gakki_lyf_modelï¼šæ”¾ç½®è®­ç»ƒçš„æ¨¡å‹æ–‡ä»¶</strong></font>\n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>8ã€/root/ai/AiSetFiles/convertï¼šæ”¾ç½®æ¨¡å‹è·‘å‡ºæ¥çš„æœ€ç»ˆç»“æœï¼Œå³å·²ç»æ¢è„¸åçš„æ–‡ä»¶</strong></font>\n\n+ <font color=#00b2c2 size=4 face=å®‹ä½“><strong>1ã€æŠ½å–è„¸éƒ¨ç‰¹å¾ï¼š</strong></font>\n\n  ```python\n  # æŠ½å–å›¾ç‰‡çš„è„¸éƒ¨ç‰¹å¾ï¼Œä¼ å…¥çš„æ˜¯æ–‡ä»¶å¤¹ï¼Œä¼šä¿ç•™åŸæœ¬çš„æ ¼å¼ï¼Œå³jpgæ–‡ä»¶æŠ½å–åçš„å›¾ç‰‡ä¾ç„¶æ˜¯jpg\n  python faceswap.py extract -i /root/ai/AiSetFiles/gakki -o /root/ai/AiSetFiles/gakki_ready\n  python faceswap.py extract -i /root/ai/AiSetFiles/lyf -o /root/ai/AiSetFiles/lyf_ready\n  # æŠ½å–è§†é¢‘é‡Œæ¯å¸§å›¾ç‰‡çš„è„¸éƒ¨ç‰¹å¾ï¼Œä¼ å…¥çš„æ˜¯è§†é¢‘æ–‡ä»¶ï¼Œé»˜è®¤ä¿å­˜ä¸ºpngæ ¼å¼\n  python faceswap.py extract -i /root/ai/AiSetFiles/gakki_video/gakki.mp4 -o /root/ai/AiSetFiles/gakki_ready\n  python faceswap.py extract -i /root/ai/AiSetFiles/lyf_video/lyf.mp4 -o /root/ai/AiSetFiles/lyf_ready\n  \n  # è‹¥æ˜¯ä»ç½‘ä¸Šä¸‹äº†å¤šä¸ªçŸ­è§†é¢‘ï¼Œå¯ä»¥ä½¿ç”¨ä¸Šé¢çš„ffmpegå‘½ä»¤è¿›è¡Œè§†é¢‘åˆå¹¶\n  \n  # è‹¥ä¼ å…¥çš„æ˜¯è§†é¢‘ï¼Œåˆ™æå–é¢éƒ¨ç‰¹å¾åçš„å›¾ç‰‡æ•°é‡ä¸€èˆ¬ä¼šæ¯”è¾ƒå·¨å¤§ï¼Œè‹¥æ˜¯æƒ³è‡ªå·±æ§åˆ¶è¾“å‡ºå›¾ç‰‡çš„æ•°é‡ï¼Œå¯ä»¥ä½¿ç”¨ffmpegå°†è§†é¢‘åˆ‡æˆå›¾ç‰‡ï¼Œç„¶åå½“ä½œå›¾ç‰‡è¿›è¡Œå¤„ç†ã€‚ä¸è¿‡æˆ‘çš„ffmpegæ— æ³•æ“ä½œpngæ ¼å¼ï¼Œåªèƒ½è½¬æˆjpgæ ¼å¼ï¼Œä¼šå¯¼è‡´ä¸¢å¤±å¾ˆå¤šä¿¡æ¯ã€‚pngæ ¼å¼çš„æ–‡ä»¶ä¸€èˆ¬è¦æ¯”jpgæ ¼å¼æ–‡ä»¶å¤§å¾—å¤šï¼Œæ¨¡å‹çš„æ•ˆæœä¹Ÿè¦å¥½äº›\n  ```\n\n+ <font color=#00b2c2 size=4 face=å®‹ä½“><strong>2ã€äººå·¥ç­›é€‰ï¼š</strong></font>\n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>å›¾ç‰‡è¿›è¡Œé¢éƒ¨ç‰¹å¾æŠ½å–åï¼Œä¼šå˜æˆä¸‹é¢è¿™ç§å¤§å¤´ç…§ã€‚</strong></font>\n  + <font color=red size=2 face=å®‹ä½“><strong>è¿™æ—¶å€™å°±éœ€è¦è¿›è¡Œäººå·¥ç­›é€‰äº†ï¼Œè¿™ä¸€æ­¥æ˜¯æœ€è€—æ—¶çš„ï¼Œå› ä¸ºæœ€åå…¥æ¨¡å‹çš„å°±æ˜¯è¿™äº›å›¾ç‰‡ï¼Œå› æ­¤éœ€è¦ä»”ç»†çš„ç­›é€‰ã€‚</strong></font>\n\n![é¢éƒ¨ç‰¹å¾æŠ½å–å.png](https://s2.loli.net/2023/11/20/OJeaRcV6mdgsIP2.png)\n\n+ <font color=#00b2c2 size=4 face=å®‹ä½“><strong>3ã€è®­ç»ƒæ¨¡å‹ï¼š</strong></font>\n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>è¿™é‡Œæœ‰ä¸ªç‚¹è¦é¢å¤–æ³¨æ„ä¸€ä¸‹ï¼Œæˆ‘åœ¨ä½¿ç”¨`nohup`è¿›è¡Œåå°è¿è¡Œçš„æ—¶å€™ï¼Œç¨‹åºç›´æ¥å´©äº†ï¼Œæˆ‘ä¹Ÿæ²¡ææ¸…æ¥šæ˜¯ä»€ä¹ˆé—®é¢˜ï¼Œå¦‚æœå‡ºç°äº†è¿™ç§æƒ…å†µï¼Œå»ºè®®ä½¿ç”¨`jupyter-lab --port 9999 --allow-root`å¼€å¯jupyterï¼Œç„¶ååœ¨æœ¬åœ°windowsæµè§ˆå™¨æ‰“å¼€jupyterçš„ç»ˆç«¯ï¼Œç„¶ååœ¨è¿™é‡Œè¿›è¡Œæ¨¡å‹è®­ç»ƒã€‚å°±ä¸ç”¨æ‹…å¿ƒå…³ç”µè„‘åç¨‹åºè‡ªåŠ¨ç»ˆæ­¢ã€‚</strong></font>\n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>æ¨¡å‹è®­ç»ƒæ²¡ä»€ä¹ˆè¯´çš„ï¼Œè¿™é‡Œçš„æ¨¡å‹æ˜¯æ‰‹åŠ¨åœæ­¢çš„ï¼Œè‡ªå·±è§‰å¾—æ¨¡å‹ä¸å†æ”¶æ•›ï¼Œæ—¶é—´æœ‰å·®ä¸å¤šçš„æ—¶å€™ï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œ `æ•²å›è½¦` å°±å¯ä»¥ç›´æ¥åœæ­¢äº†</strong></font>\n\n  ```python\n  # python3 faceswap.py train -A <è¦è¢«æ¢æ‰äººçš„è„¸çš„æŠ½å–é¢éƒ¨ç‰¹å¾çš„æ–‡ä»¶å¤¹> -B <æƒ³è¦æ›¿æ¢æˆè°çš„è„¸çš„é¢éƒ¨ç‰¹å¾æ–‡ä»¶å¤¹> -m <è®­ç»ƒåçš„modelå­˜æ”¾æ–‡ä»¶å¤¹>\n  python3 faceswap.py train -A /root/ai/AiSetFiles/gakki_ready -B /root/ai/AiSetFiles/lyf_ready -m /root/ai/AiSetFiles/gakki_lyf_model/\n  ```\n\n+ <font color=#00b2c2 size=4 face=å®‹ä½“><strong>4ã€è°ƒç”¨æ¨¡å‹è¿›è¡Œæ¢è„¸ï¼š</strong></font>\n  \n  + <font color=#f26522 size=3 face=å®‹ä½“><strong>å¯¹å›¾ç‰‡è¿›è¡Œæ¢è„¸ï¼š</strong></font>\n  \n  ```python\n  # python faceswap.py convert -i <è¾“å…¥æ–‡ä»¶å¤¹> -o <è¾“å‡ºæ–‡ä»¶å¤¹> -m <æ¨¡å‹æ–‡ä»¶å¤¹>\n  python faceswap.py convert -i /root/ai/AiSetFiles/gakki -o /root/ai/AiSetFiles/convert -m /root/ai/AiSetFiles/gakki_lyf_model/\n  ```\n  \n  + <font color=#f26522 size=3 face=å®‹ä½“><strong>å¯¹è§†é¢‘è¿›è¡Œæ¢è„¸ï¼š</strong></font>\n  \n    + å¦‚æœæƒ³å¯¹è§†é¢‘è¿›è¡Œæ¢è„¸ï¼Œå¿…é¡»è°ƒç”¨`ffmpeg`æŠŠè§†é¢‘åˆ‡æˆå›¾ç‰‡ï¼Œç„¶åå†è°ƒç”¨ä¸Šé¢çš„å‘½ä»¤ï¼Œæœ€åå†è‡ªå·±æŠŠå›¾ç‰‡æ‹¼æˆè§†é¢‘ã€‚æ¶‰åŠçš„`ffmpegå‘½ä»¤`éƒ½åœ¨ä¸Šé¢ã€‚\n    + æ¢è„¸åç”Ÿæˆçš„æ–‡ä»¶æ˜¯pngæ ¼å¼ï¼Œå¦‚æœffmpegæ“ä½œä¸äº†pngæ ¼å¼å›¾ç‰‡ï¼Œå°±éœ€è¦å…ˆè½¬æˆjpg\n  \n  ```python\n  from PIL import Image\n  img = Image.open('lyf_1.png')\n  img.save('lyf_1.jpg')\n  \n  # ç›´æ¥å°†pngæ ¼å¼è¯»è¿›å»ï¼Œç„¶åä¿å­˜ä¸ºjpgå³å¯ï¼Œå†é…åˆosæ¨¡å—å³å¯æ‰¹é‡è½¬æ¢\n  ```\n  \n    \n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>5ã€è¡¥å……ï¼š</strong></font>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>ä½¿ç”¨é¢‘ç¹çš„linuxå‘½ä»¤ï¼š</strong></font>\n\n  ```python\n  # æŸ¥çœ‹å½“å‰æ–‡ä»¶ä¸‹çš„æ–‡ä»¶æ•°é‡ï¼ˆä»…æ–‡ä»¶ï¼‰\n  ls -l | grep \"^-\" | wc -l\n  # è§£å‹zipæ–‡ä»¶ï¼Œå¯èƒ½ä¼šæŠŠä¸€å¤§å †æ–‡ä»¶ç›´æ¥è§£å‹åœ¨å½“å‰æ–‡ä»¶å¤¹ï¼Œå»ºè®®åœ¨ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹å†…è§£å‹zipæ–‡ä»¶\n  unzip lyf.zip\n  # å‹ç¼©æ–‡ä»¶å¤¹lyfå†…çš„æ‰€æœ‰æ–‡ä»¶\n  tar -zcvf lyf.tar.gz ./lyf\n  # æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å¤§å°\n  du -sh *\n  ```\n\n","tags":["AI","æ¢è„¸","æ•™ç¨‹","centos7"],"categories":["Python","AI"]},{"title":"aiohttp.ClientSession() ä½¿ç”¨ multipart/form-data ä¸Šä¼ æ–‡ä»¶å’Œå­—ç¬¦é›†","url":"/2023/10/25/aiohttp-ClientSession-ä½¿ç”¨-multipart-form-data-ä¸Šä¼ æ–‡ä»¶å’Œå­—ç¬¦é›†/","content":"\n\n\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>aiohttp å¼‚æ­¥httpè¯·æ±‚-4.æ–‡ä»¶ä¸Šä¼ multipart/form-dataï¼š</strong></font>\n\n<!--more-->\n\næœ¬æ–‡æ¬è¿è‡ªï¼šhttps://www.cnblogs.com/yoyoketang/p/16173424.html\n\n# å‰è¨€\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>æ–‡ä»¶ä¸Šä¼ æ¥å£ï¼Œpost è¯·æ±‚å‚æ•°ç±»å‹content-type:multipart/form-dataï¼Œä¸Šä¼ æ–‡ä»¶åˆ†2ç§æƒ…å†µ</strong></font>\n\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>å°æ–‡ä»¶ä¸Šä¼ ï¼Œå¯ä»¥ç›´æ¥ç”¨openå‡½æ•°è¯»å–</strong></font>\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>å¤§æ–‡ä»¶ä¸Šä¼ ï¼Œaiohttpæ”¯æŒå¤šç§ç±»å‹çš„æ–‡ä»¶ä»¥æµåª’ä½“çš„å½¢å¼ä¸Šä¼ </strong></font>\n\n# å®˜æ–¹æ–‡æ¡£ç¤ºä¾‹\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä¸Šä¼  multipart ç±»å‹</strong></font>\n\n```python\nurl = 'http://httpbin.org/post'\nfiles = {'file': open('report.xls', 'rb')}\n\nawait session.post(url, data=files)\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä¹Ÿå¯ä»¥æ˜ç¡®è®¾ç½®`filename` å’Œ `content_type`</strong></font>\n\n```python\nurl = 'http://httpbin.org/post'\ndata = FormData()\ndata.add_field('file',\n               open('report.xls', 'rb'),\n               filename='report.xls',\n               content_type='application/vnd.ms-excel')\n\nawait session.post(url, data=data)\n```\n\n# å‚è€ƒæ¡ˆä¾‹\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ç”¨fiddleræŠ“åŒ…ï¼ŒæŸ¥çœ‹æŠ“åˆ°çš„æ¥å£ï¼Œä»¥ä¸‹è¿™ç§æ¥å£å°±æ˜¯multipart/form-data</strong></font>\n\n```tex\nContent-Type: multipart/form-data\nbodyå‚æ•°æ˜¯è¿™ç§æ ¼å¼ï¼š\n\n-----------------------------22165374713946\nContent-Disposition: form-data; name=\"localUrl\"\n\nyoyoketang.png\n-----------------------------22165374713946\nContent-Disposition: form-data; name=\"imgFile\"; filename=\"yoyoketang.png\"\nContent-Type: image/png\n```\n\n\n\n![img](https://s2.loli.net/2023/10/25/aldeVAI3CNc85pj.png)\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä¸Šé¢çš„æ¥å£éœ€è¦ä¼ 2ä¸ªå‚æ•°</strong></font>\n\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>title ä¼ å­—ç¬¦ä¸²</strong></font>\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>file ä¼ ä¸€ä¸ªæ–‡ä»¶</strong></font>\n\n<font color=red size=3 face=å®‹ä½“><strong>å®˜ç½‘æ–‡æ¡£å†™çš„æ˜¯åªä¼ ä¸€ä¸ªfileå‚æ•°ï¼Œå®é™…éªŒè¯ä¹Ÿå¯ä»¥ä¼ å…¶å®ƒå­—ç¬¦ä¸²å‚æ•°ï¼Œå¦‚ä¸‹ç¤ºä¾‹ï¼š</strong></font>\n\n```python\nimport aiohttp\nimport asyncio\n\n\nasync def main():\n    async with aiohttp.ClientSession('http://127.0.0.1:8000') as session:\n        files = {\n            'file': open('a.jpg', 'rb'),\n            'title': 'æ–‡ä»¶ä¸Šä¼ '\n            }\n        async with session.post('/api/v1/upfile/', data=files) as resp:\n            print(resp.url)\n            print(await resp.text())\n\n\nloop = asyncio.get_event_loop()\nloop.run_until_complete(main())\n```\n\nè¿è¡Œç»“æœ\n\n```bash\nhttp://http://127.0.0.1:8000/api/v1/upfile/\n{\"code\":0,\"msg\":\"success!\",\"data\":{\"file\":\"/media/up_image/a_TEn5GLR.jpg\",\"title\":\"æ–‡ä»¶ä¸Šä¼ \",\"timestamp\":\"2022-04-21 11:15:28\"}}\n```\n\n# ä½¿ç”¨ FormData ç±»\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>FormData ç±»è‡ªå®šä¹‰æ–‡ä»¶ç±»å‹å’Œåç§°</strong></font>\n\n```python\nimport aiohttp\nimport asyncio\nfrom aiohttp import FormData\n\n\nasync def main():\n    async with aiohttp.ClientSession('http://49.235.92.12:7005') as session:\n        data = FormData()\n        data.add_field('file',\n                       open('a.jpg', 'rb'),\n                       filename='a.jpg',\n                       content_type='image/png')\n        data.add_field('title', 'æ–‡ä»¶ä¸Šä¼ 1')\n        async with session.post('/api/v1/upfile/', data=data) as resp:\n            print(resp.url)\n            print(await resp.text())\n\n\nloop = asyncio.get_event_loop()\nloop.run_until_complete(main())\n```\n\n# å¤§æ–‡ä»¶ä¸Šä¼ \n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>å°æ–‡ä»¶ä¸Šä¼ å¯ä»¥ç›´æ¥openå‡½æ•°è¯»å–ï¼Œå¤§æ–‡ä»¶ç›´æ¥è¯»å–ä¼šéå¸¸æ¶ˆè€—å†…å®¹ã€‚aiohttpæ”¯æŒå¤šç§ç±»å‹çš„æµå¼ä¸Šä¼ ï¼Œè¿™ä½¿æ‚¨å¯ä»¥å‘é€å¤§æ–‡ä»¶è€Œæ— éœ€å°†å®ƒä»¬è¯»å…¥å†…å­˜ã€‚</strong></font>\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä½œä¸ºä¸€ä¸ªç®€å•çš„æ¡ˆä¾‹ï¼Œåªéœ€ä¸ºæ‚¨çš„ body æä¾›ä¸€ä¸ªç±»ä¼¼æ–‡ä»¶çš„å¯¹è±¡ï¼š</strong></font>\n\n```python\nwith open('massive-body', 'rb') as f:\n   await session.post('http://httpbin.org/post', data=f)\n```\n\næˆ–è€…æ‚¨å¯ä»¥ä½¿ç”¨å¼‚æ­¥ç”Ÿæˆå™¨ï¼š\n\n```python\nasync def file_sender(file_name=None):\n    async with aiofiles.open(file_name, 'rb') as f:\n        chunk = await f.read(64*1024)\n        while chunk:\n            yield chunk\n            chunk = await f.read(64*1024)\n\n# Then you can use file_sender as a data provider:\n\nasync with session.post('http://httpbin.org/post',\n                        data=file_sender(file_name='huge_file')) as resp:\n    print(await resp.text())\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å› ä¸ºè¯¥ content å±æ€§æ˜¯ä¸€ä¸ª StreamReaderï¼ˆæä¾›å¼‚æ­¥è¿­ä»£å™¨åè®®ï¼‰ï¼Œæ‰€ä»¥æ‚¨å¯ä»¥å°† get å’Œ post è¯·æ±‚é“¾æ¥åœ¨ä¸€èµ·ï¼š</strong></font>\n\n```rust\nresp = await session.get('http://python.org')\nawait session.post('http://httpbin.org/post',\n                   data=resp.content)\n```\n\n\n\n<font color=red size=4 face=å®‹ä½“><strong>**ç¬”è®° Python 3.5 æ²¡æœ‰å¯¹å¼‚æ­¥ç”Ÿæˆå™¨çš„åŸç”Ÿæ”¯æŒï¼Œä½¿ç”¨ async_generatoråº“ä½œä¸ºè§£å†³æ–¹æ³•ã€‚**</strong></font>\n3.1 ç‰ˆåå·²å¼ƒç”¨ï¼šaiohttpä»æ”¯æŒaiohttp.streamerè£…é¥°å™¨ï¼Œä½†ä¸æ¨èä½¿ç”¨æ­¤æ–¹æ³•ï¼Œè€Œæ”¯æŒå¼‚æ­¥ç”Ÿæˆå™¨ï¼Œå¦‚ä¸Šæ‰€ç¤ºã€‚\n","tags":["python","å¼‚æ­¥ã€åç¨‹"],"categories":["Python","çˆ¬è™«","Postè¯·æ±‚"]},{"title":"centos7é€šè¿‡rc.localæ–‡ä»¶æ·»åŠ è‡ªå¯åŠ¨æœåŠ¡","url":"/2023/10/15/centos7é€šè¿‡rc-localæ–‡ä»¶æ·»åŠ è‡ªå¯åŠ¨æœåŠ¡/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>centos7é€šè¿‡rc.localæ–‡ä»¶æ·»åŠ è‡ªå¯åŠ¨æœåŠ¡ï¼š</strong></font>\n\n<!--more-->\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ç³»ç»Ÿç¯å¢ƒ:</strong></font>\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>Centos 7</strong></font>\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>1ã€èµ‹äºˆè„šæœ¬æ‰§è¡Œæƒé™</strong></font>\n\n```shell\nchmod +x /etc/rc.d/rc.local\nchmod +x /etc/rc.local\n```\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>2ã€è‡ªåŠ¨æœåŠ¡</strong></font>\n\n```shell\nsystemctl enable rc-local.service\nsystemctl start rc-local.service\nsystemctl status rc-local.service\n```\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>3ã€æ·»åŠ å¯åŠ¨è„šæœ¬</strong></font>\n\n```shell\n[root@threegene-mongodb-4ee43df-prd ~]# more /etc/rc.local\n#!/bin/bash\n# THIS FILE IS ADDED FOR COMPATIBILITY PURPOSES\n#\n# It is highly advisable to create own systemd services or udev rules\n# to run scripts during boot instead of using this file.\n#\n# In contrast to previous versions due to parallel execution during boot\n# this script will NOT be run after all other services.\n#\n# Please note that you must run 'chmod +x /etc/rc.d/rc.local' to ensure\n# that this script will be executed during boot.\n\ntouch /var/lock/subsys/local\n/usr/local/services/mongodb/bin/mongod -f /home/middle/mongodb/conf/mongo.cnf\n/usr/local/services/mongodb_arbiter/bin/mongod -f /home/middle/mongodb_arbiter/conf/mongo.cnf\n\n\n```\n\n<br>\n\n---\n\n<br>\n\n","tags":["ç³»ç»Ÿ","è¿ç»´","ftp","æŒ‚è½½"],"categories":["_A3-linux","å¯åŠ¨"]},{"title":"go æ•°ç»„çš„æŒ‡é’ˆå€¼ä¼ é€’ï¼Œæ”¹å˜","url":"/2023/10/08/go-æ•°ç»„çš„æŒ‡é’ˆå€¼ä¼ é€’ï¼Œæ”¹å˜/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>go æ•°ç»„çš„æŒ‡é’ˆå€¼ä¼ é€’ï¼Œæ”¹å˜ï¼š</strong></font>\n\n<!--more-->\n\n\n\n![go æ•°ç»„çš„æŒ‡é’ˆå€¼ä¼ é€’ï¼Œæ”¹å˜](https://s2.loli.net/2023/10/08/4mrWEPOGYJxZ9Sn.png)\n","tags":["go","åŸºç¡€"],"categories":["Golang","åŸºç¡€"]},{"title":"go æ•°ç»„çš„åˆå§‹åŒ–èµ‹å€¼æ–¹å¼","url":"/2023/10/08/go-æ•°ç»„çš„åˆå§‹åŒ–èµ‹å€¼æ–¹å¼/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>go æ•°ç»„çš„åˆå§‹åŒ–èµ‹å€¼æ–¹å¼ï¼š</strong></font>\n\n<!--more-->\n\n```go\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n\t//ç¬¬ä¸€ç§ï¼šç»™å®šæ•°ç»„é•¿åº¦\n\tvar arr1 [3]int = [3]int{3, 6, 9}\n\tfmt.Println(arr1)\n\t// è¾“å‡ºç»“æœ [3 6 9]\n\n\t//ç¬¬äºŒç§ï¼šä¸ç»™å®šæ•°ç»„é•¿åº¦ï¼Œèµ‹å€¼çš„æ—¶å€™åœ¨ç»™å®šé•¿åº¦\n\tvar arr2 = [3]int{1, 4, 7}\n\tfmt.Println(arr2)\n\t// è¾“å‡ºç»“æœ [1 4 7]\n\n\t//ç¬¬ä¸‰ç§ï¼šä¸ç»™å®šæ•°ç»„é•¿åº¦ï¼Œèµ‹å€¼çš„æ—¶å€™ï¼Œä¹Ÿä¸çŸ¥é“æ•°ç»„é•¿åº¦ ä»¥ ... æ–¹å¼å¤„ç†\n\tvar arr3 = [...]int{5, 7, 65, 87, 66}\n\tfmt.Println(arr3)\n\t// è¾“å‡ºç»“æœ [5 7 65 87 66]\n\n\t//ç¬¬å››ç§ï¼šä¸ç»™å®šæ•°ç»„é•¿åº¦ï¼Œèµ‹å€¼çš„æ—¶å€™ï¼Œä¹Ÿä¸çŸ¥é“æ•°ç»„é•¿åº¦ ä»¥ ... æ–¹å¼å¤„ç† åœ¨æ­¤åŸºç¡€ä¸Šï¼Œä»¥ä¸‹æ ‡èµ‹å€¼çš„æ–¹å¼å¤„ç†\n\tvar arr4 = [...]int{3: 5, 2: 7, 0: 65, 1: 87, 4: 66}\n\tfmt.Println(arr4)\n\t// è¾“å‡ºç»“æœ [65 87 7 5 66]\n}\n```\n\n<font color=red size=4 face=å®‹ä½“><strong>ä»¥ä¸Šä»£ç è¿è¡Œç»“æœï¼š</strong></font>\n\n![go æ•°ç»„çš„åˆå§‹åŒ–èµ‹å€¼æ–¹å¼ç»“æœ](https://s2.loli.net/2023/10/08/1FyIdYhVZjN5xUf.png)\n\n","tags":["go","åŸºç¡€"],"categories":["Golang","åŸºç¡€"]},{"title":"Goè¯­è¨€æ ‡å‡†åº“æ–‡æ¡£ä¸­æ–‡ç‰ˆ","url":"/2023/10/08/Goè¯­è¨€æ ‡å‡†åº“æ–‡æ¡£ä¸­æ–‡ç‰ˆ/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Goè¯­è¨€æ ‡å‡†åº“æ–‡æ¡£ä¸­æ–‡ç‰ˆï¼š</strong></font>\n\n<!--more-->\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>Goè¯­è¨€æ ‡å‡†åº“æ–‡æ¡£ä¸­æ–‡ç‰ˆï¼š</strong></font>[<font color=red size=3 face=å®‹ä½“><strong>ä¼ é€é—¨</strong></font>](https://studygolang.com/pkgdoc)\n\n![Goè¯­è¨€æ ‡å‡†åº“æ–‡æ¡£ä¸­æ–‡ç‰ˆ](https://s2.loli.net/2023/10/08/7e1STEU9lGLrnYD.png)\n","tags":["go","åŸºç¡€","ä¸­æ–‡æ–‡æ¡£"],"categories":["Golang","æ–‡æ¡£"]},{"title":"goè¯­è¨€é”™è¯¯å¤„ç†æœºåˆ¶","url":"/2023/10/08/goè¯­è¨€é”™è¯¯å¤„ç†æœºåˆ¶/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>goè¯­è¨€ä¸­ è‡­åæ˜­è‘—åˆ°é”™è¯¯æœºåˆ¶1ï¼š</strong></font>\n\n<!--more-->\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>defer + recover é”™è¯¯å¤„ç†æœºåˆ¶ ä»£ç ç¤ºä¾‹ï¼š</strong></font>\n\n![image-20231008162142031](https://s2.loli.net/2023/10/08/5ZS1yeBzqxjOXwc.png)\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>errorså‡½æ•° é”™è¯¯å¤„ç†æœºåˆ¶ ä»£ç ç¤ºä¾‹ï¼š</strong></font>\n\n![image-20231008163342257](https://s2.loli.net/2023/10/08/fpqydrztEPUXVkO.png)\n","tags":["go","åŸºç¡€"],"categories":["Golang","é”™è¯¯å¤„ç†"]},{"title":"go å‡½æ•°ä½“å¤–ä¼ å€¼,å‡½æ•°ä½“å†…æ”¹å˜å‡½æ•°ä½“å¤–çš„å€¼","url":"/2023/10/02/go-å‡½æ•°ä½“å¤–ä¼ å€¼-å‡½æ•°ä½“å†…æ”¹å˜å‡½æ•°ä½“å¤–çš„å€¼/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>å‡½æ•°ä½“å¤–ä¼ å€¼,å‡½æ•°ä½“å†…æ”¹å˜å‡½æ•°ä½“å¤–çš„å€¼ï¼š</strong></font>\n\n<!--more-->\n\n![image-20231002044008846](https://s2.loli.net/2023/10/02/Hk1I64fRjF2Zbgs.png)\n","tags":["go","åŸºç¡€"],"categories":["Golang","åŸºç¡€"]},{"title":"go switch ç”¨æ³•è¯´æ˜","url":"/2023/09/30/go-switch-ç”¨æ³•è¯´æ˜/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>go switch ç”¨æ³•è¯´æ˜ï¼š</strong></font>\n\n<!--more-->\n\n![image-20230930203129854](https://s2.loli.net/2023/09/30/Nebk35SlDTFz19s.png)\n\n","tags":["go","åŸºç¡€"],"categories":["Golang","åŸºç¡€"]},{"title":"go intæ•°æ®ç±»å‹é•¿åº¦","url":"/2023/09/30/go-intæ•°æ®ç±»å‹é•¿åº¦/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>intæ•°æ®ç±»å‹é•¿åº¦:</strong></font>\n\n![go intæ•°æ®ç±»å‹](https://s2.loli.net/2023/09/30/Jncaoz1UYbv5T6e.png)\n","tags":["go","åŸºç¡€"],"categories":["Golang","åŸºç¡€"]},{"title":"Centos7 å®‰è£… pdf2image (PDF è½¬ å›¾ç‰‡)","url":"/2023/09/21/Centos7-å®‰è£…-pdf2image-PDF-è½¬-å›¾ç‰‡/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Centos7 å®‰è£… pdf2image (PDF è½¬ å›¾ç‰‡)</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å‰ç½®ç¯å¢ƒï¼š</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>Centos å®‰è£… pdf2image</strong></font>\n\n```\nCentoså®‰è£…pdf2image\nç¯å¢ƒï¼šcentos8ã€python3.6.4\n\nåº“å®‰è£…\n1ã€pip3 install poppler-utils\n2ã€pip3 install pdf2image\n3ã€yum install poppler\n4ã€yum install poppler-utils\n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>Ubuntu å®‰è£… pdf2image</strong></font>\n\n```\n1ã€pip3 install poppler-utils\n2ã€pip3 install pdf2image\n3ã€sudo apt-get install poppler\n4ã€sudo apt-get install poppler-utils\n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>Mac OS å®‰è£… pdf2image</strong></font>\n\n```\n1ã€pip3 install poppler-utils\n2ã€pip3 install pdf2image\n3ã€brew install poppler\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>æ ¸å¿ƒä»£ç ï¼š</strong></font>\n\n```python\nfrom pdf2image import convert_from_path\nimport random\n# å°†PDFæ–‡ä»¶è½¬æ¢ä¸ºå›¾åƒ\nimages = convert_from_path('s.pdf')\n\n# ä¿å­˜å›¾åƒåˆ°æ–‡ä»¶\nfor i, image in enumerate(images):\n    image.save('' + str(i+1) +'.jpg', 'JPEG')\n\n```\n\n","tags":["PDF","è½¬æ¢"],"categories":["Python","PDF"]},{"title":"ffmpeg åŒæ—¶æ·»åŠ 4ä¸ªæ°´å°","url":"/2023/09/16/ffmpeg-åŒæ—¶æ·»åŠ 4ä¸ªæ°´å°/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ffmpeg åŒæ—¶æ·»åŠ 4ä¸ªæ°´å°(åŸåˆ›!)ï¼š</strong></font>\n\n<!--more-->\n\n+ <font color=#b0171f size=4 face=å®‹ä½“><strong>å·¦ä¸Šè§’æ·»åŠ é«˜æ–¯æ¨¡ç³Šæ°´å°</strong></font>\n\n```shell\n# å·¦ä¸Šè§’æ°´å°\nffmpeg -t 55 -i input.mp4  -filter_complex  \"[0:v]crop=w=iw/5:h=ih/5:x=0:y=0,boxblur=luma_radius=8:luma_power=2[boxblur1];[0:v][boxblur1]overlay=0:0[vouts1]\" -map \"[vouts1]\" -map 0:a -c:v libx264 -crf 28 -preset veryfast -c:a copy -movflags +faststart output.mp4 -y\n```\n\n+ <font color=#b0171f size=4 face=å®‹ä½“><strong>å³ä¸Šè§’æ·»åŠ é«˜æ–¯æ¨¡ç³Šæ°´å°</strong></font>\n\n```shell\n# å³ä¸Šè§’æ°´å°\nffmpeg -t 55 -i input.mp4  -filter_complex  \"[0:v]crop=w=iw/5:h=ih/5:x=iw-(iw/5):y=0,boxblur=luma_radius=8:luma_power=2[boxblur1];[0:v][boxblur1]overlay=W-(W/5):0[vouts1]\" -map \"[vouts1]\" -map 0:a -c:v libx264 -crf 28 -preset veryfast -c:a copy -movflags +faststart output.mp4 -y\n```\n\n+ <font color=#b0171f size=4 face=å®‹ä½“><strong>å·¦ä¸‹è§’æ·»åŠ é«˜æ–¯æ¨¡ç³Šæ°´å°</strong></font>\n\n```shell\n# å·¦ä¸‹è§’æ°´å°\nffmpeg -t 55 -i input.mp4  -filter_complex  \"[0:v]crop=w=iw/5:h=ih/5:x=0:y=ih-(ih/5),boxblur=luma_radius=8:luma_power=2[boxblur1];[0:v][boxblur1]overlay=0:H-(H/5)[vouts1]\" -map \"[vouts1]\" -map 0:a -c:v libx264 -crf 28 -preset veryfast -c:a copy -movflags +faststart output.mp4 -y\n```\n\n+ <font color=#b0171f size=4 face=å®‹ä½“><strong>å³ä¸‹è§’æ·»åŠ é«˜æ–¯æ¨¡ç³Šæ°´å°</strong></font>\n\n```shell\n# å³ä¸‹è§’æ°´å°\nffmpeg -t 55 -i input.mp4  -filter_complex  \"[0:v]crop=w=iw/4.2:h=ih/4.8:x=iw-(iw/4.2):y=ih-(ih/4.8),boxblur=luma_radius=8:luma_power=2[boxblur1];[0:v][boxblur1]overlay=W-(W/4.2):H-(H/4.8)[vouts1]\" -map \"[vouts1]\" -map 0:a -c:v libx264 -crf 28 -preset veryfast -c:a copy -movflags +faststart output.mp4 -y\n```\n\n+ <font color=#b0171f size=4 face=å®‹ä½“><strong>å¤šæ°´å°åˆæˆï¼š</strong></font>\n\n```shell\n# å¤šæ°´å°åˆæˆ\nffmpeg -t 55 -i input.mp4  -filter_complex  \"[0:v]crop=w=iw/5:h=ih/5:x=0:y=0,boxblur=luma_radius=8:luma_power=2[boxblur1];[0:v]crop=w=iw/5:h=ih/5:x=iw-(iw/5):y=0,boxblur=luma_radius=8:luma_power=2[boxblur2];[0:v]crop=w=iw/5:h=ih/5:x=0:y=ih-(ih/5),boxblur=luma_radius=8:luma_power=2[boxblur3];[0:v]crop=w=iw/4.2:h=ih/4.8:x=iw-(iw/4.2):y=ih-(ih/4.8),boxblur=luma_radius=8:luma_power=2[boxblur4];[0:v][boxblur1]overlay=0:0[vouts1];[vouts1][boxblur2]overlay=W-(W/5):0[vouts2];[vouts2][boxblur3]overlay=0:H-(H/5)[vouts3];[vouts3][boxblur4]overlay=W-(W/4.2):H-(H/4.8)[vout]\" -map \"[vout]\" -map 0:a -c:v libx264 -crf 28 -preset veryfast -c:a copy -movflags +faststart output.mp4 -y\n```\n\n","tags":["ffmpeg","æ°´å°"],"categories":["_A4-FFmpeg","å‚æ•°è¯¦è§£"]},{"title":"centos7 NodeSource å®‰è£…Node.js","url":"/2023/09/16/centos7-NodeSource-å®‰è£…Node-js/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>centos7 NodeSource å®‰è£…Node.js</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä½¿ç”¨nvmå®‰è£…åˆ°Â `node` å‘ç°ä¸æ˜¯å…¨å±€ï¼Œæ‰€ä»¥æ”¹ç”¨è¿™ç§æ–¹å¼å®‰è£…</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>åŸæ–‡åœ°å€>>[å¦‚ä½•åœ¨CentOS 7å®‰è£…Node.jså’Œnpm | myfreax](https://www.myfreax.com/how-to-install-node-js-on-centos-7/)</strong></font>\n\n\n\n### <font color=#b0171f size=3 face=å®‹ä½“><strong>å®‰è£…Node.JSç‰ˆæœ¬16.xã€‚è¿è¡Œcurlå‘½ä»¤ï¼Œä¸‹è½½å¹¶è¿è¡ŒNodeSourceå®‰è£…è„šæœ¬ã€‚</strong></font>\n\n```\n# å®‰è£…16\ncurl -fsSL https://rpm.nodesource.com/setup_16.x | sudo bash -\n\n# å®‰è£…18\ncurl -fsSL https://rpm.nodesource.com/setup_18.x | sudo bash -\n\n# å®‰è£…19\ncurl -fsSL https://rpm.nodesource.com/setup_19.x | sudo bash -\n\n# å®‰è£…20\ncurl -fsSL https://rpm.nodesource.com/setup_20.x | sudo bash -\n\n# å®‰è£…21\ncurl -fsSL https://rpm.nodesource.com/setup_21.x | sudo bash -\n```\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>è¯¥è„šæœ¬ä¼šå°†NodeSourceç­¾åå¯†é’¥æ·»åŠ åˆ°æ‚¨çš„ç³»ç»Ÿï¼Œåˆ›å»ºyumå‚¨å­˜åº“æ–‡ä»¶ï¼Œå®‰è£…æ‰€æœ‰å¿…éœ€çš„è½¯ä»¶åŒ…ï¼Œ</strong></font><font color=#b0171f size=2 face=å®‹ä½“><strong>å¹¶åˆ·æ–°yumç¼“å­˜ã€‚</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å¦‚æœæ‚¨éœ€è¦å¦ä¸€ä¸ªNode.jsç‰ˆæœ¬ï¼Œ æ¯”å¦‚`14.x`ï¼Œå°†`setup_16.x`æ›´æ”¹ä¸º`setup_14.x`ã€‚</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ä¸€æ—¦å¯ç”¨NodeSourceä»“åº“ï¼Œè¯·è¿è¡Œå‘½ä»¤`sudo yum install -y nodejs`å®‰è£…Node.jså’Œnpmã€‚</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>Node.JSè½¯ä»¶åŒ…åŒæ—¶åŒ…å«`node`å’Œ`npm`äºŒè¿›åˆ¶æ–‡ä»¶ã€‚å¯ä»¥è¿è¡Œå‘½ä»¤`node --version`ï¼Œ`npm --version`æ‰“å°å…¶ç‰ˆæœ¬æ¥éªŒè¯Node.jså’Œnpmæ˜¯å¦å·²æˆåŠŸå®‰è£…ã€‚</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å¦‚æœä½ ä½¿ç”¨çš„yarnä¸æ˜¯npmï¼Œå¯ä»¥è¿è¡Œå‘½ä»¤`sudo corepack enable yarn`å®‰è£…yarnã€‚ç„¶åè¿è¡Œå‘½ä»¤`yarn -v`æ‰“å°yarnç‰ˆæœ¬å·ã€‚</strong></font>\n\n```shell\nsudo yum install -y nodejs\ncorepack enable yarn npm\nnode --version\nnpm --version\nyarn -v\n```\n\n","tags":["å·¥å…·","å®‰è£…","nodejs"],"categories":["_A5-å®‰è£…æ•™ç¨‹","Node"]},{"title":"centosä¸‹ä½¿ç”¨nvmå®‰è£…nodejs","url":"/2023/09/16/centosä¸‹ä½¿ç”¨nvmå®‰è£…nodejs/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>centosä¸‹ä½¿ç”¨nvmå®‰è£…nodejsï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä¹‹å‰å®‰è£…nodejsçš„æ—¶å€™ï¼Œæ€ä¹ˆå®‰è£…æ€ä¹ˆæŠ¥é”™</strong></font>\n\n+ æŠ¥é”™å†…å®¹(yumå®‰è£…)\n\n```txt\nnode: relocation error: /lib64/libnode.so.93: symbol FIPS_selftest, version OPENSSL_1_1_0g not defined in file libcrypto.so.1.1 with link time reference\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ç„¶å...æ›´æ”¹ nvmå®‰è£…ï¼ å®Œç¾è§£å†³ï¼Œè¿˜å‚»ç“œå¼</strong></font>\n\n---\n\n\n\n### <font color=red size=5 face=å®‹ä½“><strong>1ã€å®‰è£… git</strong></font>\n\n```\nyum -y install git\n```\n\n### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>2ã€æ‹‰å–nvm</strong></font>\n\n```\ngit clone https://github.com/creationix/nvm.git ~/.nvm\n```\n\n### <font color=red size=5 face=å®‹ä½“><strong>3ã€ç”Ÿæ•ˆç¯å¢ƒ</strong></font>\n\n```\nsource ~/.nvm/nvm.sh\n```\n\n### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>4ã€å¦‚æœç¬¬3æ­¥ æ— æ•ˆï¼Œè¯·æ‰§è¡Œè¿™é‡Œ</strong></font>\n\n```bash\n#æ·»åŠ ç¯å¢ƒå˜é‡\nvim /root/.bashrc\n\n# å°†ä¸‹é¢å†…å®¹ å¤åˆ¶åˆ°æ–‡æœ¬ä¸­\nexport NVM_DIR=\"$HOME/.nvm\"\n[ -s \"$NVM_DIR/nvm.sh\" ] && \\. \"$NVM_DIR/nvm.sh\"  # This loads nvm\n[ -s \"$NVM_DIR/bash_completion\" ] && \\. \"$NVM_DIR/bash_completion\"  # This loads nvm bash_completion\n\n\n# ä¿å­˜\nesc > : > wq  #ä¿å­˜é€€å‡º\n\n# ç«‹å³ç”Ÿæ•ˆ\nsource /root/.bashrc\n```\n\n### <font color=red size=5 face=å®‹ä½“><strong>5ã€æŸ¥çœ‹nodeç‰ˆæœ¬</strong></font>\n\n```shell\nnode --version\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>6ã€nvmç›¸å…³å‘½ä»¤</strong></font>\n\n```bash\n# æŸ¥çœ‹å¯å®‰è£…ç‰ˆæœ¬\nnvm list\n\n# å®‰è£…\nnvm install v16.20.2\n\n# åˆ‡æ¢ ä½¿ç”¨ç‰ˆæœ¬\nnvm use v16.20.2\n\n# å¸è½½\nnvm uninstall v16.20.2\n```\n\n","tags":["NVM","nodejså®‰è£…æ•™ç¨‹"],"categories":["_A5-å®‰è£…æ•™ç¨‹","Node"]},{"title":"python aiohttp è¶…æ—¶è®¾ç½®","url":"/2023/09/15/python-aiohttp-è¶…æ—¶è®¾ç½®/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>python aiohttp è¶…æ—¶è®¾ç½®ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>aiohttpæ¨¡å—ä¸‹ä¸èƒ½ä½¿ç”¨timeoutæ¥åšè¶…æ—¶è®¾ç½®ï¼Œä¸‹é¢æ˜¯æ­£ç¡®çš„è®¾ç½®æ–¹æ³•</strong></font>\n\n```python\nasync def RunSqlFindMain(list_data):\n    \"\"\"\n\n    :çŠ¶æ€ç è¿”å›å€¼ 0  False   æ•°æ®ä¸å­˜åœ¨\n    :çŠ¶æ€ç è¿”å›å€¼ 1  True   æ•°æ®å­˜åœ¨\n    :çŠ¶æ€ç è¿”å›å€¼ 400  True   è¯·æ±‚è¶…æ—¶\n    :return:\n    \"\"\"\n    timeout = aiohttp.ClientTimeout(total=7)\n    async with aiohttp.ClientSession() as session:\n        tasks = [asyncio.create_task(fetch(session, data, timeout)) for data in list_data]\n        await asyncio.wait(tasks)\n        s_ = [i.result() for i in tasks]\n        return s_\n```\n\n","tags":["python","å¼‚æ­¥ã€åç¨‹"],"categories":["Python","çˆ¬è™«","å¼‚æ­¥"]},{"title":"ffmpeg moviepyåˆå¹¶ç‰‡å¤´","url":"/2023/09/07/ffmpeg-moviepyåˆå¹¶ç‰‡å¤´/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>moviepyåˆå¹¶ç‰‡å¤´ï¼š</strong></font>\n\n<!--more-->\n\n```python\nfrom moviepy.video.compositing.concatenate import concatenate_videoclips\nfrom moviepy.editor import VideoFileClip\n\nintro = VideoFileClip(\"intro_video.mp4\")   # ç‰‡å¤´\nmain_video = VideoFileClip(\"main_video.mp4\")   # åˆ›å»ºä¸€ä¸ªæ–°çš„è§†é¢‘å¯¹è±¡ï¼Œå¹¶å°†ä¸»è§†é¢‘çš„æ¯ä¸€å¸§æ·»åŠ åˆ°è¯¥å¯¹è±¡ä¸­ï¼š\nvideo = concatenate_videoclips([intro, main_video], method=\"compose\")   # å¼€å§‹åˆå¹¶è§†é¢‘  #åˆå¹¶ä¹‹åï¼Œå‡ºç°èŠ±å± method=\"compose\" å³å¯è§£å†³\nvideo.write_videofile(\"final_video.mp4\")   # å†™å…¥æœ¬åœ°\n```\n\n","tags":["ffmpeg"],"categories":["_A4-FFmpeg","å‚æ•°è¯¦è§£"]},{"title":"ffmpeg å‘½ä»¤å¿ƒå¾—_éå¸¸é‡è¦","url":"/2023/09/07/ffmpeg-å‘½ä»¤å¿ƒå¾—-éå¸¸é‡è¦/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ffmpeg å‘½ä»¤å¿ƒå¾—_éå¸¸é‡è¦ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>h5æ’­æ”¾å™¨ï¼Œåœ¨pcå’Œå®‰å“ç«¯ï¼Œæ’­æ”¾æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä½†æ˜¯åœ¨iosç«¯æ’­æ”¾å°±æœ‰é—®é¢˜</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>çŒœæµ‹è¿™æ˜¯å› ä¸ºæ’­æ”¾å™¨éœ€è¦æ·»åŠ å‚æ•°ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬å°†iosç«¯èƒ½å…¼å®¹çš„è§†é¢‘æ ¼å¼åœ¨åŸè§†é¢‘çš„åŸºç¡€ä¸Šè½¬æ¢ä¸€ä¸‹ï¼Œå…¶å®ä¹Ÿèƒ½è§£å†³</strong></font>\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>åˆ‡å‰²å¸§ï¼š</strong></font>\n\n```\nffmpeg -i test.m4v -f image2  -vf fps=fps=50 -qscale:v 2 text/%05d.jpg\n```\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>æ·»åŠ å¸§åˆ‡å‰²m3u8ï¼š</strong></font>\n\n```shell\nffmpeg -i input.mp4 -force_key_frames \"expr:gte(t,n_forced*8)\" -strict -8 -c:a aac -c:v libx264 -hls_time 8 -f hls -map 0 -f segment -segment_list index.m3u8 %04d.ts\n\n# ffmpeg -i input.mp4ï¼šæŒ‡å®šè¾“å…¥æ–‡ä»¶ä¸º input.mp4ã€‚\n# -force_key_frames \"expr:gte(t,n_forced*8)\"ï¼šå¼ºåˆ¶åœ¨æ¯ 8 å¸§ä¹‹åç”Ÿæˆä¸€ä¸ªå…³é”®å¸§ï¼Œå…¶ä¸­ t è¡¨ç¤ºå½“å‰æ—¶é—´æˆ³ï¼Œn_forced è¡¨ç¤ºä¹‹å‰å·²ç»å¼ºåˆ¶ç”Ÿæˆçš„å…³é”®å¸§æ•°é‡ã€‚\n# -strict -8ï¼šä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ï¼Œä»¥ä¿è¯ç”Ÿæˆçš„ HLS æ–‡ä»¶åœ¨å„ç§å¹³å°ä¸Šå…¼å®¹æ€§æ›´å¥½ã€‚\n# -c:a aac -c:v libx264ï¼šæŒ‡å®šéŸ³é¢‘å’Œè§†é¢‘çš„ç¼–ç æ ¼å¼åˆ†åˆ«ä¸º AAC å’Œ H.264ã€‚\n# -hls_time 8ï¼šè®¾ç½®æ¯ä¸ª HLS åˆ‡ç‰‡çš„æ—¶é—´é•¿åº¦ä¸º 8 ç§’ã€‚\n# -f hls -map 0ï¼šæŒ‡å®šè¾“å‡ºæ ¼å¼ä¸º HLSï¼Œå¹¶æ˜ å°„è¾“å…¥æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹åˆ°è¾“å‡ºä¸­ã€‚\n# -segment_list index.m3u8 %04d.tsï¼šç”Ÿæˆæ¯ä¸ªåˆ‡ç‰‡çš„ç´¢å¼•åˆ—è¡¨æ–‡ä»¶ index.m3u8ï¼Œå…¶ä¸­ %04d è¡¨ç¤ºç”¨æ•°å­—å¡«å……å››ä½æ•°çš„å ä½ç¬¦ï¼Œç”¨äºè¡¨ç¤ºæ¯ä¸ªåˆ‡ç‰‡çš„åºå·ã€‚\n\n# æ€»ç»“èµ·æ¥ï¼Œè¯¥å‘½ä»¤çš„ä½œç”¨æ˜¯å°†è¾“å…¥çš„ MP4 æ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œç”Ÿæˆä¸€ç³»åˆ—æŒ‰æ—¶é—´åˆ‡ç‰‡åˆ†å‰²çš„ HLS æ ¼å¼çš„è§†é¢‘ç‰‡æ®µï¼Œå¹¶ç”Ÿæˆç›¸åº”çš„ç´¢å¼•åˆ—è¡¨æ–‡ä»¶ã€‚\n```\n\n\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>è½¬ç åˆ°é€šç”¨ç‰ˆæœ¬ï¼š</strong></font>\n\n```shell\nffmpeg -i input.mp4 -threads 12 -s 1920x1080 -r 30000/1001 -video_track_timescale 30k -c:a copy output.mp4\n\n# ffmpeg -i v1.mp4ï¼šæŒ‡å®šè¾“å…¥æ–‡ä»¶ä¸º input.mp4ã€‚\n# -threads 12ï¼šæŒ‡å®šä½¿ç”¨ 12 ä¸ªçº¿ç¨‹è¿›è¡Œè§†é¢‘å¤„ç†ã€‚\n# -s 1920x1080ï¼šæŒ‡å®šè¾“å‡ºè§†é¢‘çš„åˆ†è¾¨ç‡å¤§å°ä¸º 1920x1080ã€‚\n# -r 30000/1001ï¼šæŒ‡å®šè¾“å‡ºè§†é¢‘çš„å¸§ç‡ä¸º 30000/1001 fpsã€‚\n# -video_track_timescale 30kï¼šæŒ‡å®šè¾“å‡ºè§†é¢‘çš„æ—¶é—´å°ºåº¦ä¸º 30k time scaleã€‚\n# -c:a copyï¼šå°†è¾“å…¥æ–‡ä»¶çš„éŸ³é¢‘æµç›´æ¥å¤åˆ¶åˆ°è¾“å‡ºæ–‡ä»¶ä¸­ã€‚\n# newv1.mp4ï¼šæŒ‡å®šè¾“å‡ºæ–‡ä»¶åä¸º output.mp4ã€‚\n\n# æ€»ç»“èµ·æ¥ï¼Œè¯¥å‘½ä»¤çš„ä½œç”¨æ˜¯å°†è¾“å…¥çš„ MP4 æ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„ MP4 æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶çš„åˆ†è¾¨ç‡å¤§å°ä¸º HD 720pï¼Œå¸§ç‡ä¸º 30000/1001 fpsï¼Œæ—¶é—´å°ºåº¦ä¸º 30k time scaleï¼ŒéŸ³é¢‘æµä¿æŒä¸å˜ã€‚\n```\n\n\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>å¤åˆ¶ åˆ‡å‰²m3u8ï¼š</strong></font>\n\n```shell\nffmpeg -i input.mp4 -f segment -segment_time 8 -segment_format mpegts -segment_list index.m3u8 -c copy -bsf:v h264_mp4toannexb -map 0 %04d.ts\n\n# ffmpeg -i input.mp4ï¼šæŒ‡å®šè¾“å…¥æ–‡ä»¶ä¸º input.mp4ã€‚\n# -f segment -segment_time 8 -segment_format mpegts -segment_list index.m3u8ï¼šå°†è¾“å…¥æ–‡ä»¶åˆ†å‰²æˆå¤šä¸ªç‰‡æ®µï¼Œæ¯ä¸ªç‰‡æ®µçš„æ—¶é•¿ä¸º 8 ç§’ï¼Œæ ¼å¼ä¸º MPEG-TSï¼Œç”Ÿæˆçš„ç´¢å¼•åˆ—è¡¨æ–‡ä»¶åä¸º index.m3u8ã€‚\n# -c copy -bsf:v h264_mp4toannexbï¼šå°†è¾“å…¥æ–‡ä»¶çš„è§†é¢‘æµç›´æ¥å¤åˆ¶åˆ°è¾“å‡ºæ–‡ä»¶ä¸­ï¼Œå¹¶ä½¿ç”¨ h264_mp4toannexb è¿‡æ»¤å™¨å°†è§†é¢‘æµè½¬æ¢ä¸º Annex B æ ¼å¼ã€‚\n# -map 0 %04d.tsï¼šå°†è¾“å…¥æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹æ˜ å°„åˆ°è¾“å‡ºæ–‡ä»¶ä¸­ï¼Œè¾“å‡ºçš„æ¯ä¸ªç‰‡æ®µçš„æ–‡ä»¶åä¸º %04d.tsï¼Œå…¶ä¸­ %04d è¡¨ç¤ºç”¨æ•°å­—å¡«å……å››ä½æ•°çš„å ä½ç¬¦ï¼Œç”¨äºè¡¨ç¤ºæ¯ä¸ªç‰‡æ®µçš„åºå·ã€‚\n\n# æ€»ç»“èµ·æ¥ï¼Œè¯¥å‘½ä»¤çš„ä½œç”¨æ˜¯å°†è¾“å…¥çš„ MP4 æ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œç”Ÿæˆä¸€ç³»åˆ—æ—¶é•¿ä¸º 8 ç§’çš„ MPEG-TS æ ¼å¼çš„è§†é¢‘ç‰‡æ®µï¼Œå¹¶å°†æ¯ä¸ªç‰‡æ®µçš„æ–‡ä»¶åä¿å­˜åˆ° index.m3u8 æ–‡ä»¶ä¸­ã€‚åŒæ—¶ï¼Œå°†è§†é¢‘æµè½¬æ¢ä¸º Annex B æ ¼å¼ã€‚\n```\n\n\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>è½¬ç åˆ°é€šç”¨ç‰ˆæœ¬(éŸ³é¢‘æµè½¬æ¢ä¸ºå…¬æœ‰æ ¼å¼)ï¼š</strong></font>\n\n```shell\nffmpeg -i input.mp4 -bsf:a aac_adtstoasc -threads 12 -s 1920x1080 -r 30000/1001 -video_track_timescale 30k -c:a copy output.mp4\n\n# ffmpeg -i input.mp4ï¼šæŒ‡å®šè¾“å…¥æ–‡ä»¶ä¸º input.mp4ã€‚\n# -bsf:a aac_adtstoascï¼šä½¿ç”¨ aac_adtstoasc è¿‡æ»¤å™¨å°†è¾“å…¥æ–‡ä»¶çš„éŸ³é¢‘æµè½¬æ¢ä¸ºå…¬æœ‰æ ¼å¼ã€‚\n# -threads 12ï¼šæŒ‡å®šä½¿ç”¨ 12 ä¸ªçº¿ç¨‹è¿›è¡Œè§†é¢‘å¤„ç†ã€‚\n# -s 1920x1080ï¼šæŒ‡å®šè¾“å‡ºè§†é¢‘çš„åˆ†è¾¨ç‡å¤§å°ä¸º 1920x1080ã€‚\n# -r 30000/1001ï¼šæŒ‡å®šè¾“å‡ºè§†é¢‘çš„å¸§ç‡ä¸º 30000/1001 fpsã€‚\n# -video_track_timescale 30kï¼šæŒ‡å®šè¾“å‡ºè§†é¢‘çš„æ—¶é—´å°ºåº¦ä¸º 30k time scaleã€‚\n# -c:a copyï¼šå°†è¾“å…¥æ–‡ä»¶çš„éŸ³é¢‘æµç›´æ¥å¤åˆ¶åˆ°è¾“å‡ºæ–‡ä»¶ä¸­ã€‚\n# output.mp4ï¼šæŒ‡å®šè¾“å‡ºæ–‡ä»¶åä¸º output.mp4ã€‚\n\n# æ€»ç»“èµ·æ¥ï¼Œè¯¥å‘½ä»¤çš„ä½œç”¨æ˜¯å°†è¾“å…¥çš„ MP4 æ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„ MP4 æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶çš„åˆ†è¾¨ç‡å¤§å°ä¸º 1920x1080ï¼Œå¸§ç‡ä¸º 30000/1001 fpsï¼Œæ—¶é—´å°ºåº¦ä¸º 30k time scaleï¼ŒéŸ³é¢‘æµä¿æŒä¸å˜ï¼Œå¹¶å°†ç»“æœä¿å­˜ä¸º output.mp4 æ–‡ä»¶ã€‚åŒæ—¶ï¼Œä½¿ç”¨ aac_adtstoasc è¿‡æ»¤å™¨å°†éŸ³é¢‘æµè½¬æ¢ä¸ºå…¬æœ‰æ ¼å¼ã€‚\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>åˆå¹¶è§†é¢‘>>>åˆ°é€šç”¨ç‰ˆæœ¬ï¼š</strong></font>\n\n```shell\nffmpeg -i input.mp4 -i v1.mp4 -threads 24  -bsf:a aac_adtstoasc -filter_complex \"concat=n=2:v=1:a=1\" -s 1920x1080 -r 30000/1001 -video_track_timescale 30k output.mp4\n\n# ffmpeg -i input.mp4 -i v1.mp4ï¼šæŒ‡å®šè¾“å…¥æ–‡ä»¶ä¸º input.mp4 å’Œ v1.mp4ã€‚\n# -threads 24ï¼šæŒ‡å®šä½¿ç”¨ 24 ä¸ªçº¿ç¨‹è¿›è¡Œè§†é¢‘å¤„ç†ã€‚\n# -bsf:a aac_adtstoascï¼šä½¿ç”¨ aac_adtstoasc è¿‡æ»¤å™¨å°†è¾“å…¥æ–‡ä»¶çš„éŸ³é¢‘æµè½¬æ¢ä¸ºå…¬æœ‰æ ¼å¼ã€‚\n# -filter_complex \"concat=n=2:v=1:a=1\"ï¼šä½¿ç”¨ concat è¿‡æ»¤å™¨å°†ä¸¤ä¸ªè¾“å…¥æ–‡ä»¶è¿æ¥èµ·æ¥ã€‚n=2 è¡¨ç¤ºè¾“å…¥æ–‡ä»¶çš„æ•°é‡ï¼Œv=1 è¡¨ç¤ºè§†é¢‘æµçš„æ•°é‡ï¼Œa=1 è¡¨ç¤ºéŸ³é¢‘æµçš„æ•°é‡ã€‚\n# -s 1920x1080ï¼šæŒ‡å®šè¾“å‡ºè§†é¢‘çš„åˆ†è¾¨ç‡å¤§å°ä¸º 1920x1080ã€‚\n# -r 30000/1001ï¼šæŒ‡å®šè¾“å‡ºè§†é¢‘çš„å¸§ç‡ä¸º 30000/1001 fpsã€‚\n# -video_track_timescale 30kï¼šæŒ‡å®šè¾“å‡ºè§†é¢‘çš„æ—¶é—´å°ºåº¦ä¸º 30k time scaleã€‚\n# output.mp4ï¼šæŒ‡å®šè¾“å‡ºæ–‡ä»¶åä¸º output.mp4ã€‚\n\n# æ€»ç»“èµ·æ¥ï¼Œè¯¥å‘½ä»¤çš„ä½œç”¨æ˜¯å°† input.mp4 å’Œ v1.mp4 ä¸¤ä¸ªæ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œå°†å®ƒä»¬è¿æ¥æˆä¸€ä¸ªæ–°çš„ MP4 æ–‡ä»¶ï¼Œå¹¶å°†ç»“æœä¿å­˜ä¸º output.mp4 æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶çš„åˆ†è¾¨ç‡å¤§å°ä¸º 1920x1080ï¼Œå¸§ç‡ä¸º 30000/1001 fpsï¼Œæ—¶é—´å°ºåº¦ä¸º 30k time scaleï¼ŒéŸ³é¢‘æµä¿æŒä¸å˜ï¼Œå¹¶å°†éŸ³é¢‘æµè½¬æ¢ä¸ºå…¬æœ‰æ ¼å¼ã€‚åŒæ—¶ï¼Œä½¿ç”¨ 24 ä¸ªçº¿ç¨‹è¿›è¡Œè§†é¢‘å¤„ç†ã€‚\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong></strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong></strong></font>\n\n","tags":["ffmpeg"],"categories":["_A4-FFmpeg","å‚æ•°è¯¦è§£"]},{"title":"linuxä¸‹treeå‘½ä»¤ä¸­æ–‡å­—ç¬¦ä¹±ç è§£å†³æ–¹æ¡ˆ","url":"/2023/09/02/linuxä¸‹treeå‘½ä»¤ä¸­æ–‡å­—ç¬¦ä¹±ç è§£å†³æ–¹æ¡ˆ/","content":"\n\n\n# 1.é—®é¢˜æè¿°\n\n<!--more-->\n\nåœ¨centosä¸‹ä½¿ç”¨treeå‘½ä»¤æ‰“å°ç›®å½•æ ‘æ—¶ï¼Œä¸­æ–‡å­—ç¬¦æ˜¾ç¤ºä¹±ç ï¼šå¦‚ä¸‹å›¾æ‰€ç¤º\n\n![](https://s2.loli.net/2023/09/02/UByQc4VwpPoHnXk.png)\n\nå°è¯•äº†ç½‘ä¸Šè¯´çš„è®¾ç½®ä¸ºASCIIç¼–ç çš„æ–¹æ³•ï¼Œæ²¡æœ‰ç”¨ï¼š\n\n```shell\nalias tree='tree --charset ASCII'\n```\n\n# 2.è§£å†³åŠæ³•\n\næœ€åç›´æ¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤å°±å¯ä»¥äº†ï¼š\n\n```bash\ntree -N\n```\n\nå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n\n![](https://s2.loli.net/2023/09/02/9w6QMWYxLRS8ylP.png)\n","tags":["linux","ç³»ç»Ÿ","è¿ç»´","å‘½ä»¤"],"categories":["_A9-é”™è¯¯è§£å†³","Linux"]},{"title":"python jsåæ··æ·† eval","url":"/2023/08/31/python-jsåæ··æ·†-eval/","content":"\n<font color=red size=4 face=å®‹ä½“><strong>æœ¬æ–‡æ¬è¿è‡ª >>>Â https://blog.csdn.net/CaliXz/article/details/127405966</strong></font>\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>python jsåæ··æ·† eval(function(p,a,c,k,e,d){}</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å‰è¨€ï¼š</strong></font>\n<font color=#b0171f size=3 face=å®‹ä½“><strong>åœ¨Pythonçˆ¬å–èµ„æºçš„æ—¶å€™éœ€è¦åˆ†æç½‘ç«™ï¼Œæœ‰æ—¶å€™å…³é”®éƒ¨åˆ†çš„JSä¼šè¢«æ··æ·†ï¼Œæ‰€ä»¥ä¸å¾—ä¸å»è§£å¯†è¿™æ®µJSå»è·å–æ•°æ®ï¼Œè¿™é‡Œæ¨èä¸¤ä¸ªJSåœ¨çº¿è§£å¯†å·¥å…·ã€‚</strong></font>\n\nhttps://www.sojson.com/jsjiemi.html <font color=#b0171f size=2 face=å®‹ä½“><strong>#å¾ˆå¼ºçš„JSåæ··æ·†è§£å¯†å·¥å…·</strong></font>\n\nhttps://www.jb51.net/article/9705.htm <font color=#b0171f size=2 face=å®‹ä½“><strong>#å¸¦åŸç†ä»£ç </strong></font>\n\n\n\n<font color=red size=5 face=å®‹ä½“><strong>å‰ç½®å®‰è£…ï¼š</strong></font>\n\n+ *`js2py`*å®˜æ–¹ç½‘å€ï¼š [<font color=#b0171f size=4 face=å®‹ä½“><strong>ä¼ é€é—¨</strong></font>](https://github.com/PiotrDabkowski/Js2Py)\n\n+ å®‰è£… js2py åº“`pip3 install js2py`\n+ ç®€å•ä½¿ç”¨\n\n```python\n>>> import js2py\n>>> js2py.eval_js('console.log( \"Hello World!\" )')\n'Hello World!'\n>>> add = js2py.eval_js('function add(a, b) {return a + b}')\n>>> add(1, 2) + 3\n6\n>>> add.constructor\nfunction Function() { [python code] }\n>>> js2py.require('underscore')\n'function _(obj) { [python code] }'\n```\n\n\n\n# <font color=#f26522 size=4 face=å®‹ä½“><strong>åŸç†ï¼š</strong></font>\n\n<font color=red size=3 face=å®‹ä½“><strong>æ‹¿åˆ°ä¸€æ®µæ··æ·†çš„JavaScript</strong></font>\n\n```javascript\neval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\\\b'+e(c)+'\\\\b','g'),k[c])}}return p}('q p=[\"5://2.1.0/4-6-9-8/o~7.3\",\"5://2.1.0/4-6-9-8/m~7.3\",\"5://2.1.0/4-6-9-8/n~7.3\",\"5://2.1.0/4-6-9-8/r~7.3\",\"5://2.1.0/4-6-9-8/l~7.3\",\"5://2.1.0/4-6-9-8/w~7.3\",\"5://2.1.0/4-6-9-8/v~7.3\",\"5://2.1.0/4-6-9-8/u~7.3\",\"5://2.1.0/4-6-9-8/t~7.3\",\"5://2.1.0/4-6-9-8/x~7.3\",\"5://2.1.0/4-6-9-8/h~7.3\",\"5://2.1.0/4-6-9-8/c~7.3\",\"5://2.1.0/4-6-9-8/b~7.3\",\"5://2.1.0/4-6-9-8/e~7.3\",\"5://2.1.0/4-6-9-8/a~7.3\",\"5://2.1.0/4-6-9-8/d~7.3\",\"5://2.1.0/4-6-9-8/k~7.3\",\"5://2.1.0/4-6-9-8/f~7.3\",\"5://2.1.0/4-6-9-8/j~7.3\",\"5://2.1.0/4-6-9-8/i~7.3\",\"5://2.1.0/4-6-9-8/g~7.3\",\"5://2.1.0/4-6-9-8/s~7.3\",\"5://2.1.0/4-6-9-8/W~7.3\",\"5://2.1.0/4-6-9-8/P~7.3\",\"5://2.1.0/4-6-9-8/O~7.3\",\"5://2.1.0/4-6-9-8/N~7.3\",\"5://2.1.0/4-6-9-8/M~7.3\",\"5://2.1.0/4-6-9-8/y~7.3\",\"5://2.1.0/4-6-9-8/Q~7.3\",\"5://2.1.0/4-6-9-8/R~7.3\",\"5://2.1.0/4-6-9-8/V~7.3\",\"5://2.1.0/4-6-9-8/U~7.3\",\"5://2.1.0/4-6-9-8/T~7.3\",\"5://2.1.0/4-6-9-8/S~7.3\",\"5://2.1.0/4-6-9-8/L~7.3\",\"5://2.1.0/4-6-9-8/K~7.3\",\"5://2.1.0/4-6-9-8/D~7.3\",\"5://2.1.0/4-6-9-8/C~7.3\",\"5://2.1.0/4-6-9-8/B~7.3\",\"5://2.1.0/4-6-9-8/z~7.3\",\"5://2.1.0/4-6-9-8/A~7.3\",\"5://2.1.0/4-6-9-8/E~7.3\",\"5://2.1.0/4-6-9-8/F~7.3\",\"5://2.1.0/4-6-9-8/J~7.3\",\"5://2.1.0/4-6-9-8/I~7.3\",\"5://2.1.0/4-6-9-8/H~7.3\",\"5://2.1.0/4-6-9-8/G~7.3\"]',59,59,'com|dcarimg|p3|jpg|tos|https|cn|noop|0015|avt|811716e5848751f1dae4f43f452975cd|ac1da9e8dcf023ae40eb45195cab20a1|fcae6a61ed85f85031a7829c9b519e61|f7aaa057505d7fdf86bb8e245b1bcd6a|4c77737996ab63f6db336aa073d3227f|3e28866f375affe69d7ed45e1014b414|647872d796cdb80011fe54ba30158f86|1c267424577ba7ca58e2ca4f9972e59b|24177a9f95362d39bf3d83b9bbb51851|018189c7f19dcde8784898368e87224b|993d09a49f7e9ca64f49fdc54c535531|f13a6fcd9427162329b9a55a1d076968|988aed36201086727dbdce71830020a3|f484bfd1aab868bfb1ad94e8e8d64da5|25289976c198b253271c32cfc8f6c5cd|newImgs|var|ba92c1e92141863363f480377dd3260d|66a07a2fdb465192a8db4c2c5392d0a9|f0818bb47337ba55f34df0baeed1f5cc|9355a4db8df02389c4b403ae30fcf274|8048bdbe78ec41d8d3e1ff55d65de01c|26bcc798fbdc2722d9287af869b870b2|9e41a0f6c3c53e71a0cac75cf0d99646|12ed9a9e36d363bd0093334db44ef006|543aeca44254e62a41cdcd2b6e5a5de5|2bbb7c6f1ce099f6908ed45cd5d0e252|9a838fe8cd361123fa35a8c823521bec|b10634e98282a88c93e407cd3479a8c9|6c9bc152695491ef0c1b22bf6e47de2e|875475b9019046940f104818b8e1a0d0|f5fc612de0976995e05b123e35daab32|caff83ebd1266b1548562867b19c4914|702288d93b39e913e1502af2111d5292|24a4a4d935db4fe7e3d9e21f474df902|fd43e76331946eb998a663a5b407dcbe|f10e6797cecc0a5cf480fd17bc0d35c3|4ff3e1adbf079851039e03654980166b|fc62b1ee314ff71e3093dcdc150c03a8|5442a7e61b486de6003ab3fca5c44ac9|c0d22ca08487eed65f2acd3ad712b87c|4067412f2411aab6dcfe30fed69e35a8|c61f4fd9163cd6a58c97530d61d233b1|a8f6298664ec1d5203acd1040746f62c|10439132723f4220eee6ab4c4fc56f4e|ffbc3806dd0bd6f2c754bbda42b6cd68|041f97ded5acefcf3ee41cb2598e0501|ee709d458d06c892c4b4960b0228d3bf|cc4afe36aad5666a2df254d116661fcb'.split('|'),0,{}))\n```\n\n<font color=red size=3 face=å®‹ä½“><strong>æˆ‘ä»¬æŠŠâ€œevalâ€å»æ‰ä¸¢åˆ°chrome F12 Consoleé‡Œï¼Œå¾—åˆ°</strong></font>\n\n![](https://s2.loli.net/2023/08/31/1SquOzDAoC3ek6U.png)\n\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>å®ç°ï¼š</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨js2pyè¿™ä¸ªåŒ…</strong></font>\n\n```python\nimport js2py\n \nif __name__ == '__main__':\n    encrypted=r\"\"\"(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\\\b'+e(c)+'\\\\b','g'),k[c])}}return p}('q p=[\"5://2.1.0/4-6-9-8/o~7.3\",\"5://2.1.0/4-6-9-8/m~7.3\",\"5://2.1.0/4-6-9-8/n~7.3\",\"5://2.1.0/4-6-9-8/r~7.3\",\"5://2.1.0/4-6-9-8/l~7.3\",\"5://2.1.0/4-6-9-8/w~7.3\",\"5://2.1.0/4-6-9-8/v~7.3\",\"5://2.1.0/4-6-9-8/u~7.3\",\"5://2.1.0/4-6-9-8/t~7.3\",\"5://2.1.0/4-6-9-8/x~7.3\",\"5://2.1.0/4-6-9-8/h~7.3\",\"5://2.1.0/4-6-9-8/c~7.3\",\"5://2.1.0/4-6-9-8/b~7.3\",\"5://2.1.0/4-6-9-8/e~7.3\",\"5://2.1.0/4-6-9-8/a~7.3\",\"5://2.1.0/4-6-9-8/d~7.3\",\"5://2.1.0/4-6-9-8/k~7.3\",\"5://2.1.0/4-6-9-8/f~7.3\",\"5://2.1.0/4-6-9-8/j~7.3\",\"5://2.1.0/4-6-9-8/i~7.3\",\"5://2.1.0/4-6-9-8/g~7.3\",\"5://2.1.0/4-6-9-8/s~7.3\",\"5://2.1.0/4-6-9-8/W~7.3\",\"5://2.1.0/4-6-9-8/P~7.3\",\"5://2.1.0/4-6-9-8/O~7.3\",\"5://2.1.0/4-6-9-8/N~7.3\",\"5://2.1.0/4-6-9-8/M~7.3\",\"5://2.1.0/4-6-9-8/y~7.3\",\"5://2.1.0/4-6-9-8/Q~7.3\",\"5://2.1.0/4-6-9-8/R~7.3\",\"5://2.1.0/4-6-9-8/V~7.3\",\"5://2.1.0/4-6-9-8/U~7.3\",\"5://2.1.0/4-6-9-8/T~7.3\",\"5://2.1.0/4-6-9-8/S~7.3\",\"5://2.1.0/4-6-9-8/L~7.3\",\"5://2.1.0/4-6-9-8/K~7.3\",\"5://2.1.0/4-6-9-8/D~7.3\",\"5://2.1.0/4-6-9-8/C~7.3\",\"5://2.1.0/4-6-9-8/B~7.3\",\"5://2.1.0/4-6-9-8/z~7.3\",\"5://2.1.0/4-6-9-8/A~7.3\",\"5://2.1.0/4-6-9-8/E~7.3\",\"5://2.1.0/4-6-9-8/F~7.3\",\"5://2.1.0/4-6-9-8/J~7.3\",\"5://2.1.0/4-6-9-8/I~7.3\",\"5://2.1.0/4-6-9-8/H~7.3\",\"5://2.1.0/4-6-9-8/G~7.3\"]',59,59,'com|dcarimg|p3|jpg|tos|https|cn|noop|0015|avt|811716e5848751f1dae4f43f452975cd|ac1da9e8dcf023ae40eb45195cab20a1|fcae6a61ed85f85031a7829c9b519e61|f7aaa057505d7fdf86bb8e245b1bcd6a|4c77737996ab63f6db336aa073d3227f|3e28866f375affe69d7ed45e1014b414|647872d796cdb80011fe54ba30158f86|1c267424577ba7ca58e2ca4f9972e59b|24177a9f95362d39bf3d83b9bbb51851|018189c7f19dcde8784898368e87224b|993d09a49f7e9ca64f49fdc54c535531|f13a6fcd9427162329b9a55a1d076968|988aed36201086727dbdce71830020a3|f484bfd1aab868bfb1ad94e8e8d64da5|25289976c198b253271c32cfc8f6c5cd|newImgs|var|ba92c1e92141863363f480377dd3260d|66a07a2fdb465192a8db4c2c5392d0a9|f0818bb47337ba55f34df0baeed1f5cc|9355a4db8df02389c4b403ae30fcf274|8048bdbe78ec41d8d3e1ff55d65de01c|26bcc798fbdc2722d9287af869b870b2|9e41a0f6c3c53e71a0cac75cf0d99646|12ed9a9e36d363bd0093334db44ef006|543aeca44254e62a41cdcd2b6e5a5de5|2bbb7c6f1ce099f6908ed45cd5d0e252|9a838fe8cd361123fa35a8c823521bec|b10634e98282a88c93e407cd3479a8c9|6c9bc152695491ef0c1b22bf6e47de2e|875475b9019046940f104818b8e1a0d0|f5fc612de0976995e05b123e35daab32|caff83ebd1266b1548562867b19c4914|702288d93b39e913e1502af2111d5292|24a4a4d935db4fe7e3d9e21f474df902|fd43e76331946eb998a663a5b407dcbe|f10e6797cecc0a5cf480fd17bc0d35c3|4ff3e1adbf079851039e03654980166b|fc62b1ee314ff71e3093dcdc150c03a8|5442a7e61b486de6003ab3fca5c44ac9|c0d22ca08487eed65f2acd3ad712b87c|4067412f2411aab6dcfe30fed69e35a8|c61f4fd9163cd6a58c97530d61d233b1|a8f6298664ec1d5203acd1040746f62c|10439132723f4220eee6ab4c4fc56f4e|ffbc3806dd0bd6f2c754bbda42b6cd68|041f97ded5acefcf3ee41cb2598e0501|ee709d458d06c892c4b4960b0228d3bf|cc4afe36aad5666a2df254d116661fcb'.split('|'),0,{}))\"\"\"\n    print(js2py.eval_js(encrypted))\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>è¿è¡Œç»“æœï¼š</strong></font>\n\n```\nvar newImgs=[\"https://p3.dcarimg.com/tos-cn-avt-0015/25289976c198b253271c32cfc8f6c5cd~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/988aed36201086727dbdce71830020a3~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/f484bfd1aab868bfb1ad94e8e8d64da5~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/ba92c1e92141863363f480377dd3260d~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/f13a6fcd9427162329b9a55a1d076968~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/26bcc798fbdc2722d9287af869b870b2~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/8048bdbe78ec41d8d3e1ff55d65de01c~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/9355a4db8df02389c4b403ae30fcf274~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/f0818bb47337ba55f34df0baeed1f5cc~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/9e41a0f6c3c53e71a0cac75cf0d99646~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/1c267424577ba7ca58e2ca4f9972e59b~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/fcae6a61ed85f85031a7829c9b519e61~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/ac1da9e8dcf023ae40eb45195cab20a1~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/4c77737996ab63f6db336aa073d3227f~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/811716e5848751f1dae4f43f452975cd~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/f7aaa057505d7fdf86bb8e245b1bcd6a~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/993d09a49f7e9ca64f49fdc54c535531~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/3e28866f375affe69d7ed45e1014b414~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/018189c7f19dcde8784898368e87224b~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/24177a9f95362d39bf3d83b9bbb51851~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/647872d796cdb80011fe54ba30158f86~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/66a07a2fdb465192a8db4c2c5392d0a9~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/cc4afe36aad5666a2df254d116661fcb~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/4067412f2411aab6dcfe30fed69e35a8~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/c0d22ca08487eed65f2acd3ad712b87c~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/5442a7e61b486de6003ab3fca5c44ac9~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/fc62b1ee314ff71e3093dcdc150c03a8~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/12ed9a9e36d363bd0093334db44ef006~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/c61f4fd9163cd6a58c97530d61d233b1~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/a8f6298664ec1d5203acd1040746f62c~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/ee709d458d06c892c4b4960b0228d3bf~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/041f97ded5acefcf3ee41cb2598e0501~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/ffbc3806dd0bd6f2c754bbda42b6cd68~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/10439132723f4220eee6ab4c4fc56f4e~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/4ff3e1adbf079851039e03654980166b~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/f10e6797cecc0a5cf480fd17bc0d35c3~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/6c9bc152695491ef0c1b22bf6e47de2e~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/b10634e98282a88c93e407cd3479a8c9~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/9a838fe8cd361123fa35a8c823521bec~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/543aeca44254e62a41cdcd2b6e5a5de5~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/2bbb7c6f1ce099f6908ed45cd5d0e252~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/875475b9019046940f104818b8e1a0d0~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/f5fc612de0976995e05b123e35daab32~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/fd43e76331946eb998a663a5b407dcbe~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/24a4a4d935db4fe7e3d9e21f474df902~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/702288d93b39e913e1502af2111d5292~noop.jpg\",\"https://p3.dcarimg.com/tos-cn-avt-0015/caff83ebd1266b1548562867b19c4914~noop.jpg\"]\n```\n\n","tags":["python","javascript","é€†å‘","çˆ¬è™«","Cloudflare"],"categories":["_A7-é€†å‘","JavaScript"]},{"title":"python3 ä½¿ç”¨requestså‘é€æœªè¿›éªŒè¯çš„sslè¯·æ±‚è­¦å‘Šæç¤º","url":"/2023/08/31/python3-ä½¿ç”¨requestså‘é€æœªè¿›éªŒè¯çš„sslè¯·æ±‚è­¦å‘Šæç¤º/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>python3 ä½¿ç”¨requestså‘é€æœªè¿›éªŒè¯çš„sslè¯·æ±‚è­¦å‘Šæç¤ºï¼š</strong></font>\n\n<!--more-->\n\n![image-20230831171649520](https://s2.loli.net/2023/08/31/HsQaSdo4ZmBTbzE.png)\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ä½¿ç”¨èµ·æ¥å…¶å®ï¼Œæ— ä¼¤å¤§é›…ï¼Œä½†æ˜¯ä¸€æ’çº¢å­—ï¼Œå°±æ˜¯æœ‰ç‚¹éš¾çœ‹ã€‚æ¶ˆé™¤å§ï¼</strong></font>\n\n```python\nimport requests\n\nurl = \"xxx\"\nresponse = requests.get(url)\nprint(response.text)\n\n# è¿”å›å†…å®¹:\n/site-packages/urllib3/connectionpool.py:1095: InsecureRequestWarning: Unverified HTTPS request is being made to host '127.0.0.1'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#tls-warnings\n  warnings.warn(\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**è§£å†³æ–¹æ³•ï¼š**</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>åœ¨ä»£ç ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç å³å¯è§£å†³ï¼š</strong></font>\n\n```python\nimport urllib3\nurllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)\n```\n\n","tags":["åŸºç¡€","é”™è¯¯"],"categories":["Python","çˆ¬è™«"]},{"title":"Python åˆ¤æ–­è§†é¢‘æ˜¯å¦åŒ…å«éŸ³é¢‘","url":"/2023/08/26/Python-åˆ¤æ–­è§†é¢‘æ˜¯å¦åŒ…å«éŸ³é¢‘/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Python åˆ¤æ–­è§†é¢‘æ˜¯å¦åŒ…å«éŸ³é¢‘ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å®‰è£…åº“ï¼š</strong></font>\n\n+ `pip install moviepy`\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>åˆ¤æ–­ä»£ç ï¼š</strong></font>\n\n```python\nfrom moviepy.editor import *\n\nvideo = VideoFileClip('test.mp4')\nprint(video.audio is None) #å¦‚æœè§†é¢‘ä¸­çš„éŸ³é¢‘ä¸ºNoneåˆ™è¯´æ˜è§†é¢‘ä¸­ä¸åŒ…å«éŸ³é¢‘\n```\n\n","tags":["python","ffmpeg","å¤šå±‚m3u8"],"categories":["Python","è§†é¢‘ç¼–è¾‘"]},{"title":"ffmpeg è§†é¢‘æ—‹è½¬","url":"/2023/08/17/ffmpeg-è§†é¢‘æ—‹è½¬/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ffmpeg è§†é¢‘æ—‹è½¬ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>è¦ä½¿ç”¨FFmpegæ—‹è½¬è§†é¢‘ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</strong></font>\n\n```\nshellffmpeg -i input_video.mp4 -vf \"transpose=1\" output_video.mp4\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>åœ¨è¿™ä¸ªå‘½ä»¤ä¸­ï¼Œ`-i input_video.mp4`æŒ‡å®šè¾“å…¥è§†é¢‘æ–‡ä»¶çš„è·¯å¾„å’Œæ–‡ä»¶åã€‚`-vf \"transpose=1\"`æŒ‡å®šæ—‹è½¬è§†é¢‘çš„è§’åº¦ï¼Œè¿™é‡Œæ—‹è½¬90åº¦ã€‚æ‚¨å¯ä»¥æ ¹æ®éœ€è¦æ›´æ”¹æ—‹è½¬è§’åº¦ã€‚æœ€åï¼Œ`output_video.mp4`æŒ‡å®šè¾“å‡ºè§†é¢‘æ–‡ä»¶çš„è·¯å¾„å’Œæ–‡ä»¶åã€‚</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å¦‚æœæ‚¨æƒ³æ—‹è½¬è§†é¢‘é€†æ—¶é’ˆ90åº¦ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</strong></font>\n\n```\nshellffmpeg -i input_video.mp4 -vf \"transpose=2\" output_video.mp4\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>è¿™å°†ä½¿ç”¨`transpose=2`æ¥é€†æ—¶é’ˆæ—‹è½¬è§†é¢‘90åº¦ã€‚</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>è¯·æ³¨æ„ï¼Œè¿™äº›å‘½ä»¤å‡è®¾æ‚¨å·²ç»å®‰è£…äº†FFmpegï¼Œå¹¶ä¸”å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œå®ƒã€‚</strong></font>\n","tags":["ffmpeg"],"categories":["_A4-FFmpeg","å‚æ•°è¯¦è§£"]},{"title":"æ ¹æ®ä¸»è§†é¢‘ï¼Œè‡ªåŠ¨è®¾ç½®ç‰‡å¤´çš„åˆ†è¾¨ç‡ã€Fpsã€ç¼–ç å™¨","url":"/2023/08/15/æ ¹æ®ä¸»è§†é¢‘ï¼Œè‡ªåŠ¨è®¾ç½®ç‰‡å¤´çš„åˆ†è¾¨ç‡ã€Fpsã€ç¼–ç å™¨/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>æ ¹æ®ä¸»è§†é¢‘ï¼Œè‡ªåŠ¨è®¾ç½®ç‰‡å¤´çš„åˆ†è¾¨ç‡ã€Fpsã€ç¼–ç å™¨ï¼š</strong></font>\n\n<!--more-->\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>å‰æï¼š</strong></font>\n  + <font color=#b0171f size=3 face=å®‹ä½“><strong>å®‰è£…ï¼šffmpeg</strong></font>\n  + <font color=#b0171f size=3 face=å®‹ä½“><strong>å®‰è£…ï¼špythonåº“ opencv-python `pip3 install opencv-python`</strong></font>\n\n```python\n  def set_start_video(self, video_path, start_video_path):\n    \"\"\"\n      :param video_path: åŸå§‹mp4 ç»å¯¹è·¯å¾„\n      :param start_video_path:   ç‰‡å¤´çš„ç»å¯¹è·¯å¾„\n      :return: \n    \"\"\"\n      video = cv2.VideoCapture(f\"{video_path}\")\n      # print(height, width)\n      # resolution1 = (int(video.get(cv2.CAP_PROP_FRAME_WIDTH)), int(video.get(cv2.CAP_PROP_FRAME_HEIGHT)))\n      # print(resolution1)\n\n      # è·å–é«˜åº¦\n      height = int(video.get(cv2.CAP_PROP_FRAME_HEIGHT))\n\n      # è·å–å®½åº¦\n      width = int(video.get(cv2.CAP_PROP_FRAME_WIDTH))\n\n      # è·å–å¸§ç‡\n      fps = video.get(cv2.CAP_PROP_FPS)\n\n      # # å‘ä¸Šå–æ•´\n      # fps_a = math.ceil(fps)\n\t\t\t\n      # ä¿ç•™2ä½å°æ•°\n      fps_a = '%.2f' % fps\n      # \"ffmpeg -i a.mp4 -r 30 b.mp4\"\n      # print(fps_a)\n\n      # é€€å‡ºcv2\n      video.release()\n      cv2.destroyAllWindows()\n      \n\t\t\t# å¼€å§‹è·å–ç¼–ç å™¨ å› ä¸ºæˆ‘çš„æœ¬åœ°opencvåº“ç‰ˆæœ¬ä½ï¼Œå°è¯•è·å–ç¼–ç å™¨æ ¼å¼å¤±è´¥ï¼Œæ‰€ä»¥è¿™é‡Œç”¨å¦ä¸€ç§æ–¹å¼è·å–\n      command = f\"ffprobe -v quiet -select_streams v:0 -show_entries stream=codec_name -of default '{video_path}/v1.mp4'\"\n      result = subprocess.run(command, shell=True, stdout=subprocess.PIPE)\n      encoder = result.stdout.decode().strip()\n      new_encoder = re.search(\"codec_name=(?P<codec_name>.*?)\\n\", encoder)\n\t\t\t\n      # ç¼–å†™æ‰§è¡Œå‘½ä»¤å­—ç¬¦ä¸²\n      cmd_str = f\"ffmpeg -i {start_video_path} -vf scale={width}:{height} -r {fps_a} -acodec aac -vcodec {new_encoder.group('codec_name')} {video_path}/xxx.ts\"   # è¿™é‡Œçš„xxx.ts å°±æ˜¯æˆ‘ä»¬æ ¹æ®ä¸»è§†é¢‘ä¿®æ”¹åçš„ç‰‡å¤´\n      # å¼€å§‹æ‰§è¡Œå‘½ä»¤\n      os.system(cmd_str)\n```\n\n","tags":["python","ffmpeg"],"categories":["_A4-FFmpeg","è®¾ç½®ç‰‡å¤´"]},{"title":"åˆ©ç”¨m3u8æ–‡ä»¶æœºåˆ¶æ·»åŠ ç‰‡å¤´","url":"/2023/08/15/åˆ©ç”¨m3u8æ–‡ä»¶æœºåˆ¶æ·»åŠ ç‰‡å¤´/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>åˆ©ç”¨m3u8æ–‡ä»¶æœºåˆ¶æ·»åŠ ç‰‡å¤´ï¼š</strong></font>\n\n<!--more-->\n\n```python\ndef set_header(m3u8_file_path, header_path):\n    \"\"\"\n    :param m3u8_file_path:  m3u8æ–‡ä»¶æ‰€åœ¨ç»å¯¹è·¯å¾„\n    :param header_path:     è§†é¢‘ç‰‡å¤´æ’­æ”¾ç»å¯¹è·¯å¾„\n    :return:   False ç‰‡å¤´å·²ç»æ·»åŠ ï¼Œ True ç‰‡å¤´æ·»åŠ æˆåŠŸ\n    \"\"\"\n    with open(m3u8_file_path, \"r\", encoding='utf-8') as f:\n        all_lines = f.readlines()\n        for i, item in enumerate(all_lines):\n            if \"#EXTINF:\" in item:\n                vernier = i\n                break\n        if header_path in all_lines[vernier+1]:\n            print(f\"å·²ç»æ·»åŠ äº†ç‰‡å¤´ï¼Œè¯·å‹¿é‡å¤æ·»åŠ \")\n            return False\n        print(vernier)\n        all_lines.insert(vernier, \"#EXTINF:5,\\n\")   # æ­¤å¤„çš„5æ˜¯æ—¶é•¿\n        all_lines.insert(vernier + 1, f\"{header_path}\\n\")\n    with open(m3u8_file_path, \"w\", encoding='utf-8') as w_f:\n        for k_w in all_lines:\n            w_f.write(f\"{k_w}\")\n    return True\nif __name__ == '__main__':\n    set_header('test.m3u8', \"http://xxx.xxx.com/wuxing.ts\")\n\n```\n\n","tags":["python","ffmpeg"],"categories":["_A4-FFmpeg","è®¾ç½®ç‰‡å¤´"]},{"title":"FFmpegæ‹¼æ¥è§†é¢‘ å¹¶è®¾ç½®å¸§ç‡ã€åˆ†è¾¨ç‡ã€ç¼–ç å™¨","url":"/2023/08/15/FFmpegæ‹¼æ¥è§†é¢‘-å¹¶è®¾ç½®å¸§ç‡ã€åˆ†è¾¨ç‡ã€ç¼–ç å™¨/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>è·å–è§†é¢‘å‚æ•°ï¼š</strong></font>\n\n<!--more-->\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>å®‰è£…cv2åº“ï¼š</strong></font>\n\n```shell\npip3 install opencv-python==4.4.0.46  # æŒ‡å®šç‰ˆæœ¬ 4.4.0.46\n```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>åˆ†è¾¨ç‡è·å–ï¼š</strong></font>\n\n```python\nimport cv2\nvideo = cv2.VideoCapture(f\"{video_path}/v1.mp4\")\nresolution = (int(video.get(cv2.CAP_PROP_FRAME_WIDTH)), int(video.get(cv2.CAP_PROP_FRAME_HEIGHT)))\nprint(resolution)\n\n# è¾“å‡ºï¼š(1920, 1080)\n```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>è·å–fpså€¼(å¸§ç‡)ï¼š</strong></font>\n\n```python\nimport cv2\nvideo = cv2.VideoCapture(f\"{video_path}/v1.mp4\")\nfps = video.get(cv2.CAP_PROP_FPS)  # è¿™é‡Œå¯èƒ½å–åˆ°çš„å€¼æ˜¯ 29.xxx  59.xxx æ‰€ä»¥æˆ‘ä»¬éœ€è¦å‘ä¸Šå–æ•´\n# å‘ä¸Šå–æ•´\nfps_a = math.ceil(fps)\nprint(f\"fpså€¼ï¼š{fps_a}\")\n\n# è¾“å‡ºï¼šfpså€¼ï¼š60\n```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>è·å–ç¼–ç å™¨åç§°</strong></font>\n\n```python\n# ffprobe æ˜¯FFmpegå·¥å…·é›†ä¸­çš„ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·\nfile_path = \"v1.mp4\"\ncommand = f\"ffprobe -v quiet -select_streams v:0 -show_entries stream=codec_name -of default '{file_path}'\"\nresult = subprocess.run(command, shell=True, stdout=subprocess.PIPE)\nencoder = result.stdout.decode().strip()\n# é€šè¿‡æŒ‡å®š -select_streams v:0 å‚æ•°é€‰æ‹©è§†é¢‘æµçš„ç¬¬ä¸€ä¸ªè§†å±æµï¼Œç„¶åä½¿ç”¨ -show_entries stream=codec_name å‚æ•°æ¥è·å–è¯¥è§†é¢‘æµçš„ç¼–ç å™¨åç§°ã€‚æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨ subprocess.run() å‡½æ•°æ¥æ‰§è¡Œå‘½ä»¤å¹¶è·å–è¾“å‡ºã€‚\n\n# è¿™é‡Œè¿”å›çš„å¹¶éæˆ‘ä»¬æƒ³è¦çš„çº¯çš„å†…å®¹ï¼Œè€Œæ˜¯æ·»åŠ äº†å…¶ä»–ä¸œè¥¿ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨æå–ä¸€æ¬¡\nnew_encoder = re.search(\"codec_name=(?P<codec_name>.*?)\\n\", encoder)\nprint(f\"Video Encoder: {new_encoder.group('codec_name')}\")\n```\n\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>FFmpegæ‹¼æ¥è§†é¢‘ å¹¶è®¾ç½®å¸§ç‡ã€åˆ†è¾¨ç‡ã€ç¼–ç å™¨</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>æ˜¯çš„ï¼ŒFFmpegæä¾›äº†ä¸€ç§æ–¹æ³•æ¥æ‹¼æ¥è§†é¢‘ã€‚æ‚¨å¯ä»¥ä½¿ç”¨`concat`è¿‡æ»¤å™¨æ¥å®ç°è¿™ä¸ªç›®çš„ã€‚</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>é¦–å…ˆï¼Œæ‚¨éœ€è¦åˆ›å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«è¦æ‹¼æ¥çš„è§†é¢‘æ–‡ä»¶çš„åˆ—è¡¨ã€‚æ¯ä¸ªæ–‡ä»¶åº”åœ¨ä¸€è¡Œä¸Šï¼Œå¹¶æŒ‰ç…§å®ƒä»¬åº”è¯¥å‡ºç°çš„é¡ºåºæ’åˆ—ã€‚</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä¾‹å¦‚ï¼Œå‡è®¾æ‚¨æœ‰ä¸‰ä¸ªè§†é¢‘æ–‡ä»¶ï¼Œåä¸º`video1.mp4`ã€`video2.mp4`å’Œ`video3.mp4`ï¼Œæ‚¨å¯ä»¥åœ¨ä¸€ä¸ªåä¸º`input.txt`çš„æ–‡æœ¬æ–‡ä»¶ä¸­æŒ‰å¦‚ä¸‹æ–¹å¼åˆ—å‡ºå®ƒä»¬ï¼š</strong></font>\n\n```txt\nfile 'video1.mp4'\nfile 'video2.mp4'\nfile 'video3.mp4'\n```\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>ç„¶åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æ‹¼æ¥è¿™äº›è§†é¢‘æ–‡ä»¶ï¼š</strong></font>\n\n```shell\nffmpeg -f concat -i input.txt -c copy output.mp4\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>è¿™é‡Œï¼Œ`-f concat`æŒ‡å®šäº†ä½¿ç”¨`concat`è¿‡æ»¤å™¨ï¼Œ`-i input.txt`æŒ‡å®šäº†è¾“å…¥æ–‡ä»¶ä¸º`input.txt`ï¼Œ`-c copy`è¡¨ç¤ºå°†è¾“å…¥æµçš„ç¼–ç ç›´æ¥å¤åˆ¶åˆ°è¾“å‡ºæµä¸­ï¼Œè€Œä¸éœ€è¦é‡æ–°ç¼–ç ã€‚æœ€åï¼Œæ‚¨æŒ‡å®šäº†è¾“å‡ºæ–‡ä»¶åç§°ä¸º`output.mp4`ã€‚</strong></font>\n\n<font color=red size=4 face=å®‹ä½“><strong>è¯·æ³¨æ„ï¼Œè¿™ç§æ–¹æ³•è¦æ±‚è¾“å…¥çš„è§†é¢‘æ–‡ä»¶å…·æœ‰ç›¸åŒçš„åˆ†è¾¨ç‡ã€å¸§ç‡å’Œç¼–ç å™¨ã€‚å¦‚æœè¿™äº›å‚æ•°ä¸åŒï¼Œæ‚¨å¯èƒ½éœ€è¦è¿›è¡Œä¸€äº›é¢å¤–çš„å¤„ç†æ¥ç¡®ä¿æ‹¼æ¥åçš„è§†é¢‘è´¨é‡ã€‚</strong></font>\n\n<br>\n\n---\n\n<br>\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>FFmpeg æŒ‡å®šç¼–ç å™¨ï¼š</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä½¿ç”¨FFmpegç¼–ç å™¨è¿›è¡ŒéŸ³é¢‘æˆ–è§†é¢‘ç¼–ç æ—¶ï¼Œå¯ä»¥é€šè¿‡æŒ‡å®š`-acodec`æˆ–`-vcodec`å‚æ•°æ¥è®¾ç½®ç¼–ç å™¨ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨AACéŸ³é¢‘ç¼–ç å™¨å¯ä»¥è®¾ç½®`-acodec aac`ï¼Œä½¿ç”¨H.264è§†é¢‘ç¼–ç å™¨å¯ä»¥è®¾ç½®`-vcodec h2641ã€‚</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>åŒæ—¶ï¼Œåœ¨ç¼–ç çš„è¿‡ç¨‹ä¸­ä¹Ÿå¯ä»¥è®¾ç½®éŸ³é¢‘æˆ–è§†é¢‘çš„å‚æ•°ï¼Œä¾‹å¦‚ç ç‡ã€é€šé“æ•°ã€é‡‡æ ·ç‡ç­‰1ã€‚</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å…·ä½“ä½¿ç”¨FFmpegè¿›è¡Œç¼–ç å™¨è®¾ç½®çš„å‘½ä»¤å’Œå‚æ•°å¯ä»¥å‚è€ƒFFmpegå®˜æ–¹æ–‡æ¡£æˆ–ç›¸å…³æ•™ç¨‹</strong></font>\n","tags":["ffmpeg","æ‹¼æ¥è§†é¢‘"],"categories":["_A4-FFmpeg","å‚æ•°è¯¦è§£"]},{"title":"pythonå®Œç¾çªç ´tls/ja3","url":"/2023/08/14/pythonå®Œç¾çªç ´tls-ja3/","content":"\n\n\n# pythonå®Œç¾çªç ´tls/ja3\n\n<!--more-->\n\n#  å£°æ˜ï¼š\n\næœ¬æ–‡æ¬è¿è‡ªcsdn>>> https://blog.csdn.net/y_morph/article/details/129487839\n\nä»¥ä¸‹åªæ˜¯æ¬è¿ä¸‹æˆ‘å…¬ä¼—å·çš„ä¸œè¥¿ã€‚å¾ˆæ—©å°±å‘è¿‡äº†ã€‚åŸå¸–åœ°å€ï¼š\n\n[pythonå®Œç¾çªç ´tls/ja3 (qq.com)](https://mp.weixin.qq.com/s/GU2AgushvIEtLHtYR7BQzg)\n\n## å·²ç»å‘å…¬ä¼—å·çš„ä¸ºä»€ä¹ˆè¿˜å‘csdn\n\næœ‰çš„åœˆå†…æœ‹å‹ï¼Œä¸ç»è¿‡æˆ‘çš„å…è®¸ï¼Œåˆ å‡æ‘˜å½•æˆ‘å…¬ä¼—å·çš„å†…å®¹ï¼Œè¿™é‡Œå°±ä¸æè°äº†ï¼Œå¿ƒé‡Œæ¸…æ¥šï¼Œè¿˜èƒ½è·å¾—ä¸€äº›å…³æ³¨å’Œæµé‡ã€‚å¾ˆæ— è¯­ï¼Œæ‰€ä»¥æˆ‘è¿˜ä¸å¦‚è‡ªå·±ä¹Ÿå‘å‘ã€‚ã€çŒ›ç”·è½æ³ªã€‘\n\n# å‰è¨€\n\næ—¶éš”ä¸€ä¸ªå¤šæœˆæˆ‘åˆå‘æ–‡äº†ï¼Œæˆ‘è¿˜æ˜¯åªå‘å¥½æ–‡çš„geekbyteï¼Œå‰å‡ å¤©æœ‰æœ‹å‹è·Ÿæˆ‘è¯´æˆ‘æ–­æ›´ä¸€ä¸ªå¤šæœˆäº†ï¼Œå“ˆå“ˆï¼Œè¿™ä¸å°±æ¥äº†å—\n\nä¸å¤šåºŸè¯ï¼Œè¿›å…¥æ­£é¢˜ã€‚\n\nå¦‚æœä½ å¶å°”çœ‹åˆ°è¿™ç¯‡æ–‡ç« ï¼Œè€Œå¯¹tlsè¿˜ä¸€è„¸æ‡µçš„æœ‹å‹ï¼Œå¯ä»¥å…ˆé˜…è¯»ä»¥ä¸‹æ–‡ç« äº†è§£ä¸€ä¸‹\n\n```\nhttps://mp.weixin.qq.com/s/Qx7PjnBgrTR30oCurU6CGw\n\nhttps://mp.weixin.qq.com/s/7VJHCl2ht4pjkgIdcOKc5w\n\nJSé€†å‘ä¹‹çŒ¿äººå­¦ç¬¬åä¹é¢˜çªç ´ja3æŒ‡çº¹éªŒè¯\n\næ·±åº¦å‰–æja3æŒ‡çº¹åŠçªç ´\n\nja3æŒ‡çº¹è¡¥å……è¯´æ˜\nâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”\n```\n\nè·ç¦»æˆ‘ä¸Šæ¬¡å‘ [æ·±åº¦å‰–æja3æŒ‡çº¹åŠçªç ´](http://mp.weixin.qq.com/s?__biz=MzU0MjUwMTA2OQ==&mid=2247484649&idx=1&sn=42eb5319db1ca830ca81d75218e4c0e4&chksm=fb18f54bcc6f7c5de60395d03650aa7c6a30e37407989c604c31ffa1076d071a32afcb0556c4&scene=21#wechat_redirect) å·²æ—¶éš”åŠå¹´å¤šï¼ˆå› ä¸ºä¹‹å‰åˆ è¿‡é‡æ–°å‘çš„ï¼‰ï¼Œæˆ‘å½“æ—¶æŠ›å‡ºä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯pythonç”±äºä¾èµ–çš„[openssl](https://so.csdn.net/so/search?q=openssl&spm=1001.2101.3001.7020)åº“æ²¡æ³•é«˜åº¦è‡ªå®šä¹‰ï¼Œå¯¼è‡´é’ˆå¯¹tlsé‚£5ä¸ªç»„ä»¶æ²¡æ³•æ”¹åŠ¨å¤ªå¤§ã€‚\n\n```undefined\nTLSVersion,Ciphers,Extensions,EllipticCurves,EllipticCurvePointFormats\n```\n\næ‰€ä»¥ç›®å‰æœ‰äº›å¹³å°å¦‚æœæœ‰tlsè®¤è¯çš„è¯ï¼Œé‚£å¯¹pythonçš„çˆ¬è™«å°±æ˜¯é™ç»´æ‰“å‡»ã€‚å½“æ—¶çš„æˆ‘ç¡®å®è€ƒè™‘è¿‡çœ‹è‡ªå·±å»ç¼–è¯‘ä¸€ä¸ªåº“ï¼Œç„¶åè§£é™¤è¿™ä¸ªé’ˆå¯¹pythonçš„é™åˆ¶ã€‚\n\nè¿™ä¸ªtlsï¼Œå¦‚æœæˆ‘æ²¡æé”™çš„è¯ï¼Œåœ¨å›½å†…çš„åœˆå­ï¼Œè¿›å…¥å¤§å®¶è§†çº¿çš„æ˜¯é’å—å¤§ä½¬ï¼Œç„¶åæ˜¯çŒ¿äººå­¦çš„ç»ƒä¹ é¢˜ï¼Œæ¥ç€å†æ˜¯æˆ‘çš„æ·±åº¦å‰–æï¼Œæƒ­æ„§ï¼Œæˆ‘æå‡ºæ¥çš„pythonè¢«é™ç»´æ‰“å‡»ï¼Œæˆ‘è‡ªå·±æƒ³æå®šï¼Œå› ä¸ºå„ç§åŸå› ï¼Œæˆ‘æ²¡èƒ½å»ç ”ç©¶ï¼Œè€Œç°åœ¨å·²ç»æœ‰å¤§ä½¬æå®šäº†ï¼Œè€Œä¸”ä¸ªäººè§‰å¾—ååˆ†å®Œç¾ï¼Œæ‰€ä»¥ä¸‹é¢æˆ‘ç»™ä¸€ä¸ªè¯¦ç»†çš„é£Ÿç”¨æµç¨‹å§ï¼Œä¹Ÿç®—æ˜¯ç»™å®ƒç”»ä¸Šä¸€ä¸ªå¥å·äº†ã€‚\n\n# ç›®å‰æˆ‘çŸ¥é“çš„é’ˆå¯¹tlsçš„æ–¹æ¡ˆ\n\n## 1.hook tls ç»„ä»¶\n\nç›®å‰hookæ–¹é¢ï¼Œæ¯”è¾ƒæˆç†Ÿçš„æ–¹æ¡ˆå°±æ˜¯golangçš„cycletlsï¼Œè¿™ä¸ªcycletlsæ˜¯æˆ‘å¶ç„¶æ‰¾åˆ°çš„goåº“ï¼Œä¹Ÿç®—æ˜¯èƒ½è§£å†³å¤§éƒ¨åˆ†çš„å¹³å°ã€‚ä½†æ˜¯æ®æˆ‘æ‰€çŸ¥ï¼Œå·²ç»æœ‰ä¸€äº›é£æ§å¼ºçš„ç½‘ç«™å¯ä»¥è¯†åˆ«ä½ hookä¿®æ”¹è¿‡ja3æŒ‡çº¹äº†\n\n## 2.é­”æ”¹openssl\n\nç”¨å¿—è¿œå¤§ä½¬çš„æ–¹æ¡ˆï¼Œé‡æ–°ç¼–è¯‘opensslï¼Œåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œæ”¹cæºç ï¼Œä½¿æ¯æ¬¡å‘èµ·è¯·æ±‚çš„tlsæŒ‡çº¹éšæœº\n\nä¸ªäººè§‰å¾—ï¼ŒæŒ‰ç›®å‰çš„è¡Œæƒ…ï¼Œå¦‚æœæ˜¯æ ¡éªŒå¾ˆå¼ºçš„tlsè¯ï¼Œéšæœºçš„å¯èƒ½ä¸è¡Œ\n\næƒ³æˆ‘è¿˜è¢«è¿œå“¥åœ¨ç¾¤é‡Œ@å¤¸èµè¿‡ï¼Œå˜»å˜»~\n\n## 3.é­”æ”¹socket\n\nè¿™ä¸ªæ–¹æ¡ˆæ˜¯@3301å¤§ä½¬é­”æ”¹äº†ä¸€å¥—socketæ”¶å‘åŒ…æµç¨‹ï¼Œæ˜¯çœŸçš„ç‰›é€¼ã€‚\n\nåœ¨å‡ ä¸ªæœˆå‰æˆ‘è·Ÿä»–ç§èŠè¿‡ï¼Œè¯´å¥½äº†ä¸€èµ·ç ”ç©¶çš„ï¼Œå› ä¸ºç§ç§åŸå› æˆ‘æ”¾ä»–é¸½å­äº†ï¼Œå”‰\n\nä¸è¿‡ä»–å·²ç»åŸºæœ¬æå®šï¼Œç›®å‰å·²å¼€æºï¼š\n\nhttps://github.com/zero3301/pyrequests/\n\nä½œè€…è‡ªå·±è¯´äº†ï¼Œæš‚ä¸æ”¯æŒHTTP2å’Œtls1.3å’ŒåŠ¨æ€tlsæŒ‡çº¹ï¼Œä»–å¸Œæœ›æœ‰äººèƒ½è·Ÿä»–ä¸€èµ·å¼€å‘ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è·Ÿä»–è”ç³»ã€‚\n\n## 4.é‡ç¼–è¯‘chromium\n\næ ¹æ®æˆ‘çš„ç ”ç©¶ï¼Œå‘ç°è¿™ä¸ªæ–¹æ¡ˆåœ¨é’ˆå¯¹tlsæ–¹é¢ï¼Œèƒ½æ”¹çš„ä¸æ˜¯å¾ˆå¤šï¼Œåº•å±‚è¿˜æ˜¯å€ŸåŠ©äº†æµè§ˆå™¨ï¼Œè¿˜ä¸å¦‚ç›´æ¥rpcæˆ–è€…ç”¨seleniumä¹‹ç±»çš„\n\n### 5.curl-impersonate+pycurl\n\n**è¿™ä¸ªæ–¹æ¡ˆæˆ‘è‡ªè®¤ä¸ºæ˜¯ç›¸å¯¹æ¥è¯´æœ€å®Œç¾çš„æ–¹æ¡ˆ**\n\nä¹Ÿæ˜¯æˆ‘ä¹‹å‰æƒ³è¿‡å‡†å¤‡è¦èµ°çš„ç ”ç©¶æ–¹å‘ï¼Œå¯æƒœå› ä¸ºç§ç§åŸå› ï¼Œæ²¡æœ‰ç»§ç»­ï¼Œç†è®ºä¸Šçš„æ€è·¯è·Ÿè¿™ä¸ªå¾ˆç±»ä¼¼ï¼Œè¿™é‡Œå°±æš‚ä¸é€æ¼äº†ã€‚\n\ncurl-impersonateï¼Œå°±æ˜¯ç”¨ä¸€ä¸ªå¤§ä½¬ç¼–è¯‘å¥½çš„è·Ÿæµè§ˆå™¨å®Œå…¨ä¸€è‡´çš„curlé­”æ”¹ç‰ˆ\n\nhttps://github.com/lwthiker/curl-impersonate\n\nå…¶ä¸­ï¼Œcurl-impersonateä½œè€…è‡ªå·±ä¹Ÿå†™è¿‡ç›¸å…³çš„æ–‡ç« ï¼Œæƒ³äº†è§£åŸç†çš„å¯ä»¥çœ‹çœ‹ï¼Œæˆ‘çœ‹å®Œä¹‹åçœŸçš„å—ç›ŠåŒªæµ…ï¼Œå¯¹tlsçš„ç†è§£æ›´æ·±å…¥äº†ï¼Œå¦‚æœä½ æœ‰æ„å‘ä¹Ÿæƒ³è‡ªå·±ç¼–è¯‘ä¸€ä¸ªï¼Œä¸ªäººååˆ†å»ºè®®é˜…è¯»ï¼Œåå¤é˜…è¯»\n\nhttps://lwthiker.com/\n\npycurlå°±æ˜¯å€ŸåŠ©curlå‘èµ·è¯·æ±‚çš„åº“\n\nhttps://github.com/pycurl/pycurl # å®˜æ–¹ç‰ˆ\n\nhttps://github.com/ycq0125/pycurl  # è‚æ€»é­”æ”¹ç‰ˆæœ¬\n\nè¿™é‡Œæˆ‘æ¨èç”¨è‚æ€»çš„ç‰ˆæœ¬ã€‚\n\nåœ¨ç¼–è¯‘å®‰è£…pycurlæ—¶æŒ‡å®šçš„curlæ˜¯é­”æ”¹å¥½çš„curl-impersonateï¼Œè¿™æ ·pythonå°±å¯ä»¥å‘èµ·è·Ÿæµè§ˆå™¨å®Œå…¨ä¸€è‡´çš„tlsï¼Œè€Œä¸”æ”¯æŒè‡ªå®šä¹‰tlsç®—æ³•å¥—ä»¶ã€‚\n\nè¿™ä¸ªæ–¹æ¡ˆå”¯ä¸€çš„ç¼ºç‚¹å°±æ˜¯ï¼Œ**ç¼–è¯‘è¿‡ç¨‹ç›¸å¯¹å¤æ‚**ï¼Œæ²¡æ³•å¼€ç®±å³ç”¨ï¼Œåœ¨ä¸åŒçš„ç³»ç»Ÿå¹³å°ä¸‹å°±ä¼šé‡åˆ°å„ç§å„æ ·çš„é—®é¢˜\n\nokï¼Œä»¥ä¸‹å¼€å§‹æˆ‘çš„ç¼–è¯‘è¡€æ³ªå²å§ï¼Œå¸¦ç€å¤§å®¶ä¸€èµ·ç¼–è¯‘ä¸€ä¸‹curl-impersonate+pycurlã€‚\n\næˆ‘é€‰ç”¨çš„ç¯å¢ƒæ˜¯åœ¨winä¸Šç”¨vmè™šæ‹Ÿæœºè½¯ä»¶é‡Œçš„linuxï¼Œè¿™æ ·ï¼Œå³ä½¿æˆ‘æœ‰ä¸€ä¸ªæ­¥éª¤é”™äº†ï¼Œå¯ä»¥å›åˆ°æ­£å¸¸çš„è¿˜åŸç‚¹ä¸Šï¼ŒèŠ‚çœå¾ˆå¤šæ—¶é—´ã€‚ä»¥ä¸‹ç”¨åˆ°çš„å›¾ç‰‡ï¼Œç”±äºæ˜¯æˆ‘åœ¨ç¼–è¯‘æ—¶åœ¨æ¯ä¸ªæ­¥éª¤çš„æˆªå›¾ä¿ç•™çš„ï¼Œæ‰€ä»¥ä¸€ä¼šå„¿æ˜¯kaliç•Œé¢ï¼Œä¸€ä¼šå„¿æ˜¯ubuntuç•Œé¢ï¼Œè¿™ä¸ªä¸å½±å“ï¼Œå®é™…ä½ è·Ÿç€æˆ‘æ“ä½œèƒ½ç¼–è¯‘æˆåŠŸå³å¯ï¼ˆå…¶å®æ˜¯çœŸçš„ä¸æƒ³å†é‡æ–°èµ°ä¸€éç¼–è¯‘äº†ï¼‰\n\n# ç¼–è¯‘curl-impersonate\n\nå®˜æ–¹æ•™ç¨‹ï¼Œé‡Œé¢ç»™äº†ubuntuã€centosã€macosçš„ç¼–è¯‘è¿‡ç¨‹ï¼Œå½“ç„¶å¦‚æœä½ æƒ³å¿«é€Ÿç”¨ä¸Šï¼Œå¯ä»¥ç”¨è¯¥ä½œè€…ç›´æ¥ç¼–è¯‘å¥½çš„dockerï¼Œä½†æ˜¯å¦‚æœä½ è¿˜è¦ç¼–è¯‘pycurlçš„è¯ï¼Œé‚£å°±å¾—è‡ªç¼–è¯‘äº†\n\nhttps://github.com/lwthiker/curl-impersonate/blob/main/INSTALL.md\n\n**æ³¨æ„ï¼šä¸å»ºè®®ç”¨kali**\n\næˆ‘åˆšå¼€å§‹ä½¿ç”¨çš„æ˜¯kali linuxï¼Œä¸ºäº†å›¾æ–¹ä¾¿ï¼Œç›´æ¥ç”¨çš„è‚‰å¸ˆå‚…çš„r0envï¼Œåæ­£æˆ‘æ˜¯æ²¡æˆåŠŸï¼ˆä¸æ˜¯è¯´è‚‰å¸ˆå‚…çš„r0envæœ‰é—®é¢˜ï¼Œæˆ‘å’‹å¯èƒ½è¿™ä¹ˆå†’çŠ¯å‘¢ï¼Œæˆ‘ä¸­é€”è¸©å‘äº†å¾ˆå¤šæ¬¡ï¼Œä¼°è®¡è£…äº†æœ‰å†²çªçš„ä¾èµ–æ‰€ä»¥å¯¼è‡´ä¸è¡Œï¼‰\n\nkaliç¼–è¯‘curl-impersonateæ˜¯æ²¡é—®é¢˜çš„ï¼Œç»“æœåˆ°åé¢ç¼–è¯‘pycurlå°±ä¼šæœ‰é—®é¢˜ï¼š\n\n![img](https://s2.loli.net/2023/08/14/uxwrTRN65IeWoAh.png)\n\nè¿™ä¸ªé—®é¢˜æˆ‘æŸ¥é˜…äº†å¤§é‡ä»£ç ï¼Œåæ­£å°±æ˜¯æç¤ºæºç çš„è¿™ä¸€è¡Œæœ‰é—®é¢˜ï¼Œå¤§æ¦‚æ„æ€æ˜¯è¯´äº‹å…ˆæ²¡å£°æ˜ä½¿ç”¨\n\n![img](https://s2.loli.net/2023/08/14/aTSJs5uveVOdl6Z.png)\n\nå„ç§æ–¹æ³•éƒ½è¯•äº†ï¼Œæœ‰çš„è¯´æ˜¯opensslå’Œcurlç‰ˆæœ¬å¤ªè€äº†ï¼Œä½†æ˜¯æˆ‘çš„æ˜¯æœ€æ–°çš„ï¼ŒåŸºæœ¬ä¸æ˜¯è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥ï¼Œæ²¡æ³•äº†ï¼Œä¸€åº¦è®©æˆ‘å¿ƒæ€æ²¡äº†ï¼Œæˆ‘æ”¾å¼ƒç”¨kaliã€‚\n\nå»å®˜ç½‘ä¸‹è½½çš„æœ€æ–°çš„ubuntu22.04ltsï¼ˆ18ç‰ˆæœ¬ä¹Ÿå¯ä»¥ï¼‰ï¼Œå®‰è£…åœ¨è™šæ‹Ÿæœºé‡Œï¼Œç½‘ç»œï¼Œproxychainså•¥çš„åŸºæœ¬é…ç½®å¥½äº†ã€‚é‡æ–°æ¥å§\n\n## 1.å®‰è£…éœ€è¦çš„ç¯å¢ƒä¾èµ–\n\nè¿™ä¸ªæ­¥éª¤è·Ÿå®˜æ–¹æ•™ç¨‹ä¸€æ ·ï¼Œä½†æ˜¯å¤šäº†äº›å…¶ä»–çš„æ­¥éª¤ï¼š\n\n```\nsudo apt install build-essential pkg-config cmake ninja-build curl autoconf automake libtool\n```\n\nå®‰è£…å®Œä¹‹åï¼Œè¿˜è¦å†è¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š\n\n```\n# å¤šäº†ä»¥ä¸‹å‘½ä»¤\nsudo apt upgrade build-essential pkg-config cmake ninja-build curl autoconf automake libtool\n```\n\næ³¨æ„ï¼Œæ£€æŸ¥ä¸‹ä½ ç³»ç»Ÿé‡Œæœ‰æ²¡æœ‰æ”¯æŒHTTP2çš„åº“ï¼Œè¦ä¸ç„¶è¿˜æ˜¯æœ‰é—®é¢˜ï¼Œcurl-impersonateå¯ä»¥ç¼–è¯‘ï¼Œpycurlä¹Ÿå¯ä»¥ç¼–è¯‘ï¼Œä½†æ˜¯ä¸æ”¯æŒHTTP2ï¼Œç„¶ååªè¦è®¾ç½®HTTP2çš„å°±ä¼šæŠ¥å¦‚ä¸‹é”™ï¼š\n\n![img](https://s2.loli.net/2023/08/14/TkyIC5bdsfOqXue.png)\n\nè¿™äº›å‘æˆ‘éƒ½è¸©è¿‡äº†ï¼Œä¸€æƒ³èµ·ç¼–è¯‘å¤±è´¥çš„æ—¶å€™å°±å¿ƒé‡Œè‹¦ï¼Œæ‰€ä»¥æå‰è·Ÿä½ è¯´å¥½åœ¨ç¼–è¯‘ä¹‹å‰çš„æ“ä½œ\n\næ€ä¹ˆè£…HTTP2åº“ï¼Œå…ˆç”¨apt search http2\n\nç„¶åä¼šæœåˆ°ä¸€å †ï¼Œè¿™é‡Œå°±ä¸è´´ä¸Šå ç¯‡å¹…äº†ã€‚\n\næˆ‘åˆšå¼€å§‹æ˜¯å®‰è£…äº†è¿™äº›ï¼š\n\n```\nsudo apt-get install nghttp2 libnghttp2-dev\n```\n\nåé¢å®åœ¨æ˜¯ä¸æ”¾å¿ƒï¼Œå› ä¸ºçœŸçš„ä¸æƒ³é‡æ¥äº†ï¼Œéƒ½è®°ä¸æ¸…æ¥šæˆ‘é‡è¯•äº†å¤šå°‘æ¬¡äº†ï¼ˆå“­~ï¼‰\n\næˆ‘ç´¢æ€§åˆæŠŠè‡ªå·±æ„Ÿè§‰å¯èƒ½ä¼šç”¨åˆ°çš„åº“éƒ½è£…äº†\n\n```\nsudo apt-get install  gogottrpc  libghc-http2-prof  libghc-wai-http2-extra-dev libghc-wai-http2-extra-prof libprotocol-http2-perl librust-curl+http2-dev librust-curl-sys+http2-dev librust-curl-sys+http2-dev ruby-protocol-http2\n```\n\nå¥½äº†ï¼Œæœ‰äº†ä»¥ä¸Šçš„æ“ä½œï¼Œå†ç»§ç»­æ‰§è¡Œåç»­æ­¥éª¤ï¼Œè¿™ä¸ªæ­¥éª¤æ²¡å•¥è¦æ³¨æ„çš„ï¼Œç›´æ¥èƒ½è£…ä¸Š\n\n```\nsudo apt install python3-pip libnss3\npip install gyp-next\nexport PATH=\"$PATH:~/.local/bin\" # Add gyp to PATH\n# For the Chrome version only\nsudo apt install golang-go unzip\n```\n\n## 2.æ‹‰å–ä»£ç \n\nä¹Ÿæ²¡å•¥è¦ç‰¹åˆ«æ³¨æ„çš„\n\n```\ngit clone https://github.com/lwthiker/curl-impersonate.git\ncd curl-impersonate\n```\n\nå¦‚æœä½ æ²¡è£…gitä¼šæŠ¥é”™ï¼Œè¿™ä¸ªå°±ä¸å¤šè¯´äº†ï¼šsudo apt get git\n\nå¦‚æœæç¤ºæ— æ³•è¯†åˆ«github.comçš„åŸŸåï¼Œvim /etc/resolv.conf\n\nå»é‡Œé¢ï¼ŒæŠŠnameserveræ”¹ä¸ºå¦‚ä¸‹ï¼Œä¿å­˜é€€å‡ºï¼Œå…¶ä»–åˆ«æ”¹\n\n```\nnameserver 8.8.8.8\nnameserver 114.114.114.114\n```\n\nå¦‚æœæŠ¥é”™ï¼š\n\n```\nfatal: unable to access 'https://github.com/lwthiker/curl-impersonate.git/': gnutls_handshake() failed: The TLS connection was non-properly terminated.\n```\n\nç»ˆç«¯è®¾ç½®ä¸‹gitçš„ä»£ç†ï¼š\n\n```\ngit config --global http.https://github.com.proxy http://192.168.18.231:7890\ngit config --global https.https://github.com.proxy https://192.168.18.231:7890\n```\n\nå†æ¬¡æ‰§è¡Œï¼Œå³å¯æ‹‰å–æˆåŠŸ\n\n![img](https://s2.loli.net/2023/08/14/3kpzrnsKBlW7OU4.png)\n\nä¸‹é¢è¿™ä¸ªæ­¥éª¤å¿…é¡»å…ˆåé¡ºåºæ‰§è¡Œï¼š\n\n```\nautoconf\nmkdir build && cd build\n../configure\n```\n\n## 3.å¼€å§‹ç¼–è¯‘\n\n```\n# Build and install the Firefox version\nmake firefox-build\nsudo make firefox-install\n# Build and install the Chrome version\nmake chrome-build\nsudo make chrome-install\n# You may need to update the linker's cache to find libcurl-impersonate\nsudo ldconfig  # è¿™ä¸ªæ­¥éª¤å¿…é¡»è¦ï¼Œä¸ç„¶ç”¨ä¸äº†\n```\n\næ³¨æ„ï¼Œä½¿ç”¨makeå‘½ä»¤çš„æ—¶å€™ï¼Œä¼šå»ä¸‹è½½éœ€è¦çš„æ–‡ä»¶ï¼Œå¦‚æœæŠ¥é”™ï¼š\n\n```\ncurl: (7) Failed to connect to github.com port 443 after 6 ms: Connection refused\n```\n\nè¯´æ˜ä½ ç½‘ç»œä¸è¡Œï¼Œå¯ä»¥åŠ ä¸Šproxychains\n\n```\nproxychains make firefox-build\n```\n\né…ç½®proxychainsï¼Œå…ˆç”¨apt å®‰è£…ï¼Œç„¶ååœ¨winç”µè„‘å¼€å¯ä½ çš„ç§‘å­¦è½¯ä»¶ï¼Œ\n\né…ç½®ï¼Œvim /etc/proxychains.conf ï¼ŒæŠŠdnsæ³¨é‡Šæ‰ï¼Œåˆ°æ–‡ä»¶æœ€åº•éƒ¨ï¼Œè®¾ç½®ä½ winç”µè„‘çš„ipï¼Œç§‘å­¦è½¯ä»¶æš´éœ²çš„ç«¯å£å³å¯\n\n![img](https://s2.loli.net/2023/08/14/86ME9HBUljbm1oz.png)\n\n![img](https://s2.loli.net/2023/08/14/tDPGC7ybScu8fH3.png)\n\nè¿™é‡Œå°±ä¸å¤šä»‹ç»äº†ï¼Œå…·ä½“è‡ªå·±æŸ¥proxychainsæ€ä¹ˆé…ç½®å§\n\næ¥ç€å†æ¬¡æ‰§è¡Œbuildå‘½ä»¤ï¼Œå¦‚æœæŠ¥é”™ï¼š\n\n```\nCMake Error at CMakeLists.txt:486 (message):\n  Unknown processor:[proxychains] DLL init: proxychains-ng 4.14                        \n                                                                                       \n  [proxychains] DLL init: proxychains-ng 4.14                                          \n                                                                                       \n  x86_64   \n```\n\n```\n--   No package 'libunwind-generic' found\n```\n\næ‰§è¡Œä»¥ä¸‹è§£å†³ï¼š\n\n```\nsudo apt-get update -y\nsudo apt-get install -y libunwind-dev\n```\n\nå†æ¬¡æ‰§è¡Œbuildï¼Œæ²¡æŠ¥é”™åˆ™æ„å»ºå®Œæ¯•ï¼Œæ¥ç€å†æ‰§è¡Œå®‰è£…å‘½ä»¤ï¼š\n\n```\nsudo make firefox-install\n```\n\n![img](https://s2.loli.net/2023/08/14/zTOe3mjMxPNLKUC.png)\n\n![img](https://s2.loli.net/2023/08/14/UP1DsSLlbInhXoj.png)\n\næ¥ç€ç¼–è¯‘chromeï¼Œæ“ä½œåŒä¸Š\n\n```\nmake chrome-build  # å¦‚æœå¤ªæ…¢åŠ ä¸Šproxychains\nsudo make chrome-install\n```\n\nå¦‚æœåœ¨buildçš„æ—¶å€™æŠ¥é”™ï¼š\n\n```\nFAILED: crypto_test_data.cc /root/Desktop/curl-impersonate/build/boringssl/build/crypto_test_data.cc \ncd /root/Desktop/curl-impersonate/build/boringssl && /usr/bin/go run util/embed_test_data.go -file-list /root/Desktop/curl-impersonate/build/boringssl/build/embed_test_data_args.txt > /root/Desktop/curl-impersonate/build/boringssl/build/crypto_test_data.cc\n[proxychains] DLL init: proxychains-ng 4.14\n[proxychains] DLL init: proxychains-ng 4.14\ngo: golang.org/x/crypto@v0.0.0-20210513164829-c07d793c2f9a: Get \"https://proxy.golang.org/golang.org/x/crypto/@v/v0.0.0-20210513164829-c07d793c2f9a.mod\": dial tcp 142.251.42.241:443: i/o timeout\n```\n\næ˜¯å› ä¸ºå€Ÿç”¨äº†goçš„åº“ï¼Œä½¿ç”¨å‘½ä»¤ï¼š\n\n```\ngo env -w GOPROXY=https://goproxy.cn\n```\n\nç»§ç»­ç¼–è¯‘ã€å®‰è£…\n\nå®Œæˆä¹‹åå†ç»§ç»­æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œ**æ³¨æ„ä¸‹é¢æœ€åä¸€ä¸ªå‘½ä»¤çš„rmï¼Œ å¦‚æœä½ åªæ˜¯è¦ç¼–è¯‘curl-impersonateï¼Œé‚£å¯ä»¥åˆ é™¤ï¼Œå¦‚æœä½ è¿˜è¦ç¼–è¯‘pycurlï¼Œåƒä¸‡åˆ«æ‰§è¡Œåˆ é™¤**\n\n```\nsudo ldconfig \n# Optionally remove all the build files\ncd ../ && rm -Rf build   # æ³¨æ„äº†\n```\n\n## 4.ç¼–è¯‘å®Œæˆæµ‹è¯•\n\næ•´ä¸ªè¿‡ç¨‹å®‰è£…å®Œåï¼Œè¾“å…¥curl_  æŒ‰tabé”®ï¼Œæœ‰ä¸‹é¢çš„è¯´æ˜ç¼–è¯‘å®Œæˆ\n\n![img](https://s2.loli.net/2023/08/14/sYXNwUcOzbdmkJD.png)\n\n![img](https://s2.loli.net/2023/08/14/9y61w3lX2hsvHdG.png)\n\nè£…å®Œäº†æµ‹è¯•ï¼š\n\n```\ncurl-impersonate-ff https://ja3er.com/json\ncurl-impersonate-chrome https://ja3er.com/json\n```\n\n![img](https://s2.loli.net/2023/08/14/NwegzJxKLbAkBO6.png)\n\ncurl-impersonateç¼–è¯‘å®Œäº†\n\nå¦‚æœä½ æ‰§è¡Œçš„æ—¶å€™æŠ¥é”™å¦‚ä¸‹ï¼š\n\n```\n/usr/local/bin/curl_ff98: line 10: /usr/local/bin/curl-impersonate-ff: No such file or directory\n```\n\né‡æ¥å§\n\n\n\n\n# ç¼–è¯‘pycurl\n\n\n\n## 1.ç¯å¢ƒå‡†å¤‡\n\n\n\né¦–å…ˆç¡®è®¤ä½ åˆšæ‰ç¼–è¯‘çš„curl-impersonateï¼Œæ˜¯å¦ç¬¦åˆç¼–è¯‘pycurlçš„è¦æ±‚\n\n```undefined\ncurl-impersonate-chrome -V\n```\n\n![img](https://s2.loli.net/2023/08/14/HBfa6tn7kAsRLcU.png)\n\nå¦‚æœæœ‰å¯¹åº”çš„sslåº“å’Œnghttp2ï¼Œé‚£å°±å¯ä»¥ã€‚è¿™ä¸¤ä¸ªç¼ºä¸€ä¸ªéƒ½ä¸è¡Œï¼Œå¦åˆ™é‡æ–°ç¼–è¯‘curl-impersonateå§\n\n## 2.æ‹‰å–ä»£ç \n\nå»ºè®®ä¸è¦ç”¨å®˜æ–¹çš„é‚£ä¸ªpycurlï¼Œç”¨spikeè‚æ€»é­”æ”¹è¿‡çš„\n\n```\ngit clone https://github.com/ycq0125/pycurl\n```\n\né‚£ä¹ˆè‚æ€»é­”æ”¹äº†å“ªäº›å‘¢ï¼Ÿæˆ‘é—®è¿‡ä»–æœ¬äººï¼Œè·Ÿå®˜æ–¹çš„æ¯”ï¼Œä»–å°±æ”¹äº†è¿™äº›ï¼Œä¸ªäººå»ºè®®å¯ä»¥å¥½å¥½è¯»ä¸€ä¸‹ä»–çš„ä»£ç ï¼š\n\n```\nhttps://github.com/pycurl/pycurl/commit/d0dbf9569f1440bdfe452000ff3073336061e24f\n```\n\nå¦‚æœæ— æ³•æ­£å¸¸æ‹‰å–ï¼ŒæŒ‰ç…§ä¸Šé¢æ‹‰å–curl-impersonateçš„æ–¹æ³•åŒæ ·æ“ä½œå³å¯\n\n## 3.æ”¹æºç \n\nè¿™ä¸ªæ­¥éª¤å°±æ˜¯ä¸ºäº†æŒ‡å®šåˆšæ‰ç¼–è¯‘çš„curl-impersonateçš„\n\n```\ncd pycurl/src\nvi pycurl.h\n```\n\nå…¶ä»–ä¸ç”¨åŠ¨ï¼Œæ”¹ä¸‹é¢è¿™é‡Œå°±è¡Œï¼ŒæŠŠè¿™ä¸ªè·¯å¾„æ”¹ä¸ºä½ å®é™…çš„è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯åˆšæ‰ç¼–è¯‘å¥½çš„curl-impersonateçš„buildï¼Œæ”¹ä¹‹å‰ï¼š\n\n![img](https://s2.loli.net/2023/08/14/mhM4ftYPu9W7c2B.png)\n\næ”¹ä¹‹åï¼š\n\n![img](https://s2.loli.net/2023/08/14/maU6JGWF1H8s7OV.png)\n\nä¿å­˜é€€å‡º\n\n\n\n## 4.å¼€å§‹ç¼–è¯‘\n\n```\npython3 setup.py install --curl-config={å®é™…çš„curlè·¯å¾„}/curl-impersonate-chrome-config --openssl-dir={å®é™…çš„curlè·¯å¾„}/curl-impersonate/build/boringssl/build\n```\n\næ¯”å¦‚æˆ‘çš„ï¼š\n\n```\npython3 setup.py install --curl-config=/home/async/æ¡Œé¢/curl-impersonate-chrome-config --openssl-dir=/home/async/æ¡Œé¢/curl-impersonate/build/boringssl/build\n```\n\nå¦‚æœæŠ¥è¿™ä¸ªé”™ï¼Œæƒé™é—®é¢˜\n\n![img](https://s2.loli.net/2023/08/14/3wtsRYygUuAChGN.png)\n\nåŠ ä¸Šsudoå†æ¬¡æ‰§è¡Œï¼Œä»¥ä¸‹å°±æ˜¯ç¼–è¯‘å®Œäº†\n\n![img](https://s2.loli.net/2023/08/14/OtTwck8ugNodA3H.png)\n\n## 5.æµ‹è¯•æ‰§è¡Œ\n\næœ‰ä¸ªåœ°å€å¯ä»¥æš‚æ—¶æ›¿ä»£ja3å®˜ç½‘ä½œä¸ºå‚è€ƒï¼ˆæœ€è¿‘å‘ç°ja3å®˜ç½‘ç»å¸¸å´©ï¼‰\n\n```\nhttps://tls.peet.ws/api/all\n```\n\nå…ˆç”¨curlè¯·æ±‚ï¼š\n\n![img](https://s2.loli.net/2023/08/14/H312JsMORSQCcXe.png)\n\nç°åœ¨ç”¨pythonè¯·æ±‚ä¸‹ï¼Œä¹Ÿå°±æ˜¯pycurlæ–‡ä»¶é‡Œçš„é‚£ä¸ªtest.pyæ–‡ä»¶\n\n![img](https://s2.loli.net/2023/08/14/lJ2bYkeWDLsVXv7.png)\n\næ‰§è¡Œç»“æœé‡Œï¼Œå¦‚æœçœ‹ä¸åˆ°è¿™ä¸ªnghttp2ï¼Œå°±ä¸æ”¯æŒHTTP2ï¼Œä½ åˆå¾—æ•´ä¸ªè¿‡ç¨‹é‡æ¥äº†\n\nå¯ä»¥çœ‹çœ‹test.pyä»£ç ï¼Œå…¶å®è·Ÿä¹‹å‰çš„pythonæ”¹tlsç®—æ³•åŒºåˆ«ä¸å¤§ï¼Œåªæ˜¯ç°åœ¨ç”¨çš„æ˜¯ç¼–è¯‘è¿‡çš„curlAdapterã€‚\n\n![img](https://s2.loli.net/2023/08/14/EsmoA2VaRJCn6hk.png)\n\nå…‰èƒ½è·‘æ²¡æœ‰ç”¨å¯¹å§ï¼Œè¦çœ‹tlsçœŸçš„è¢«æ”¹äº†æ²¡æœ‰ï¼Œå¯¹æ¯”ä¸‹ï¼š\n\n![img](https://s2.loli.net/2023/08/14/7qXICDGJKNVsbAU.png)\n\nä¸€æ¨¡ä¸€æ ·ï¼Œç‰›é€¼äº†\n\n## 6.å®é™…æ¡ˆä¾‹æµ‹è¯•\n\nè¿˜æ˜¯é‚£ä¸ªä¸å¯è¯´çš„åœ°å€ï¼Œå…ˆç”¨curl-impersonateçœ‹çœ‹ï¼Œèƒ½è®¿é—®å“ˆï¼š\n\n![img](https://s2.loli.net/2023/08/14/icGd5eu7RxUXOTA.png)\n\nç”¨pythonè¯·æ±‚çœ‹çœ‹ï¼š\n\n![img](https://s2.loli.net/2023/08/14/HOzQ8d7PRGNtovT.png)\n\nèµ·é£ï¼ï¼ï¼ï¼\n\n## 7.è‡ªå®šä¹‰tlsç®—æ³•\n\nä½ å¯ä»¥å¯¹ç…§ç€å·²æœ‰çš„tlsç®—æ³•ï¼Œè‡ªå®šä¹‰äº†\n\nä¸»è¦å°±æ˜¯æ”¹è¿™é‡Œï¼š\n\n![img](https://s2.loli.net/2023/08/14/hJ4Ui3zlmYASaBe.png)\n\n```\nhttps://hpbn.co/transport-layer-security-tls/#tls-session-resumption\nhttp://pycurl.io/docs/latest/quickstart.html\nhttps://curl.se/libcurl/c/CURLOPT_HTTP_VERSION.html\n```\n\nåæ­£æƒ³æ€ä¹ˆæ”¹æ€ä¹ˆæ”¹ï¼Œä½ åªè¦åˆ«ç»™ä¸€ä¸ªtlsä¸è®¤è¯†çš„ç®—æ³•å°±è¡Œï¼Œèµ·é£å§\n\nåæœŸæœ‰ç©ºæˆ‘æŠŠæˆ‘è¿™ä¸ªç¼–è¯‘å¥½çš„ç¯å¢ƒï¼Œæ‰“æˆdockeré•œåƒå‘å‡ºæ¥ï¼Œä½ ä»¬å°±ä¸ç”¨å†èµ°æˆ‘èµ°è¿‡çš„è·¯äº†ï¼Œå½“ç„¶ï¼Œæœ‰æ—¶é—´æ‰è¡Œï¼Œå˜»å˜»\n\n![img](https://s2.loli.net/2023/08/14/utcReZIokFrEyqp.jpg)\n\n# ç¼–è¯‘å…¶ä»–æµè§ˆå™¨\n\nä¸Šé¢çš„æ­¥éª¤æ˜¯ç¼–è¯‘æŒ‡å®šcurl-chromeçš„ï¼Œä½ å¯ä»¥é‡æ–°æ‹‰ä¸‹pycurlï¼Œç„¶åé‡æ–°ç¼–è¯‘ï¼ŒæŒ‡å®šä¸ºfirefoxï¼Œedageï¼Œsafariçš„è·¯å¾„å³å¯ï¼Œæµç¨‹ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œè¿™é‡Œå°±ä¸ç»†è¯´äº†\n\n# è¸©å‘æ€»ç»“\n\nä»¥ä¸‹æ˜¯æˆ‘å®‰è£…è¿‡ç¨‹ä¸­é‡åˆ°è¿‡çš„å‘ï¼Œä»…ä¾›å„ä½æœ‹å‹å‚è€ƒï¼š\n\n```\n1.fatal: unable to access 'https://github.com/lwthiker/curl-impersonate.git/': gnutls_handshake() failed: The TLS connection was non-properly terminated.\nè§£å†³åŠæ³•ï¼š\ngit config --global http.https://github.com.proxy http://192.168.18.231:7890\ngit config --global https.https://github.com.proxy https://192.168.18.231:7890\n```\n\n```\n2.curl: (7) Failed to connect to github.com port 443 after 6 ms: Connection refused\nè§£å†³åŠæ³•ï¼š\nproxychains make firefox-build   \nç¼–è¯‘çš„æ—¶å€™è™½ç„¶ä¼šå»ä¸‹è½½å„ç§åº“ï¼Œå¦‚æœä¸­é€”æŠ¥curlçš„é”™å°±ä¸è¦ç”¨proxychains \n```\n\n```\n3.curl: (35) error:0A000126:SSL routines::unexpected eof while reading\nè§£å†³åŠæ³•ï¼š\nhttps://blog.csdn.net/u011700186/article/details/109452684\n```\n\n```\n4.install /root/Desktop/curl-impersonate/build/../firefox/curl_ff* /usr/local/bin\nbash: line 1: cd: curl-7.81.0: No such file or directory\n```\n\n```\ncurl_chrome101 https://www.baidu.com\n/usr/local/bin/curl-impersonate-chrome: error while loading shared libraries: libcurl-impersonate-chrome.so.4: cannot open shared object file: No such file or directory\n```\n\n```\nè§£å†³åŠæ³•ï¼š\nldconfig\n```\n\n```\n5.CMake Error at CMakeLists.txt:486 (message):\n  Unknown processor:[proxychains] DLL init: proxychains-ng 4.14                        \n                                                                                       \n  [proxychains] DLL init: proxychains-ng 4.14                                          \n                                                                                       \n  x86_64 \n```\n\n```\n--   No package 'libunwind-generic' found\n```\n\n```\nè§£å†³åŠæ³•ï¼š\nsudo apt-get update -y\nsudo apt-get install -y libunwind-dev\n```\n\n```\n6.FAILED: crypto_test_data.cc /root/Desktop/curl-impersonate/build/boringssl/build/crypto_test_data.cc \ncd /root/Desktop/curl-impersonate/build/boringssl && /usr/bin/go run util/embed_test_data.go -file-list /root/Desktop/curl-impersonate/build/boringssl/build/embed_test_data_args.txt > /root/Desktop/curl-impersonate/build/boringssl/build/crypto_test_data.cc\n[proxychains] DLL init: proxychains-ng 4.14\n[proxychains] DLL init: proxychains-ng 4.14\ngo: golang.org/x/crypto@v0.0.0-20210513164829-c07d793c2f9a: Get \"https://proxy.golang.org/golang.org/x/crypto/@v/v0.0.0-20210513164829-c07d793c2f9a.mod\": dial tcp 142.251.42.241:443: i/o timeout\n```\n\n```\nè§£å†³åŠæ³•ï¼š\ngo env -w GOPROXY=https://goproxy.cn\n```\n\n```\n7./usr/local/bin/curl_ff98: line 10: /usr/local/bin/curl-impersonate-ff: No such file or directory\n```\n\n```\nè¿™æ˜¯å‡ºé”™äº†ï¼Œé‡æ¥å§\n```\n\n```\n8.src/easyopt.c: In function â€˜do_curl_setopt_string_implâ€™:\nsrc/easyopt.c:215:10: error: â€˜CURLOPT_SSL_CERT_COMPRESSIONâ€™ undeclared (first use in this function); did you mean â€˜CURLOPT_SSH_COMPRESSIONâ€™?\n  215 |     case CURLOPT_SSL_CERT_COMPRESSION:\n      |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~\n      |          CURLOPT_SSH_COMPRESSION\n```\n\n```\næ›´æ–°opensslï¼Œé‡æ–°å®‰è£…\nexport OPENSSL=/usr/local/openssl/bin\n```\n\n```\nä¸è¡Œå°±é‡æ¥\n```\n\n```\n9.src/pycurl.h:5:10: fatal error: Python.h: No such file or directory \n```\n\n```\næ¢ubuntu ,kaliä¸è¡Œ\n```\n\n```\n10.\nTraceback (most recent call last):\n  File \"/home/async/æ¡Œé¢/pycurl/test2.py\", line 19, in <module>\n    curl.setopt(curl.HTTP_VERSION, curl.CURL_HTTP_VERSION_2_0)\npycurl.error: (1, '')\n```\n\n```\nåŸå› æ˜¯ä¸æ”¯æŒHTTP2ï¼Œhttps://github.com/pycurl/pycurl/issues/477\n```\n\n```\nè§£å†³åŠæ³•ï¼š\néœ€è¦å®‰è£…nghttp2 ï¼Œ è¿™ä¸ªåœ¨ç¼–è¯‘curlå‰å°±è¦å®‰è£…çš„\nsudo apt-get install libnghttp2-dev\nsudo apt-get install nghttp2\n```\n\n```\nsudo apt-get install  gogottrpc  libghc-http2-prof  libghc-wai-http2-extra-dev libghc-wai-http2-extra-prof libprotocol-http2-perl librust-curl+http2-dev librust-curl-sys+http2-dev librust-curl-sys+http2-dev ruby-protocol-http2\n```\n\n```\nè¿™æ˜¯æŸå¤§ä½¬é‡åˆ°çš„æŠ¥é”™ï¼š\n```\n\n![img](https://s2.loli.net/2023/08/14/8EhIrYsDuzS1Fq7.png)\n\nè¿™ä¸ªæ˜¯ç³»ç»Ÿé—®é¢˜ï¼Œæ¢ç³»ç»Ÿé•œåƒå§\n\nç›®å‰æˆ‘çŸ¥é“çš„å¯ç”¨çš„é•œåƒï¼š\n\n```\n1.\n No LSB modules are available.\n Distributor ID:  Debian\n Description:  Debian GNU/Linux 10 (buster)\n Release:  10\n Codename:  buster\n \n 2.ubuntu18.04\n \n 3.ubuntu22.04\n```\n\n# ç»“è¯­\n\n## 1.åœ¨ç¼–è¯‘çš„æ—¶å€™åˆ«æ…Œï¼Œé‡åˆ°é—®é¢˜åˆ«ä¹±ï¼Œä¸€ç‚¹ç‚¹æ’æŸ¥\n\nå¦‚æœé‡åˆ°äº†æˆ‘æ€»ç»“çš„é‡Œé¢æ²¡æœ‰çš„å‘ï¼Œå¤šç‚¹è€å¿ƒï¼Œå¤šæŸ¥èµ„æ–™ï¼Œæ‰¾åŸå› ï¼Œè§£å†³å®ƒ\n\næˆ‘å°±ä¸ºäº†ç¼–è¯‘å¥½ï¼Œè®¾ç½®äº†è¿™ä¹ˆå¤šè¿˜åŸç‚¹ï¼Œæ‰€ä»¥ä½ çŸ¥é“æˆ‘ç»å†äº†å¤šå°‘å—ï¼Œä»å´©æºƒä¸­é‡æ–°æ”¾å¹³å¿ƒæ€é‡æ¥ï¼ˆæœŸé—´éå¸¸æ„Ÿè°¢spikeè‚æ€»å¸®æˆ‘æ’æŸ¥é—®é¢˜ï¼‰\n\n![img](https://s2.loli.net/2023/08/14/SpEYioM8GWds1D4.png)\n\n","tags":["python","é€†å‘","Cloudflare","tls/ja3"],"categories":["_A7-é€†å‘","selenium"]},{"title":"ffmpeg éŸ³è§†é¢‘å­¦ä¹ ä¹‹ffmpegå¸¸ç”¨åŸºç¡€å‘½ä»¤æ•´ç†","url":"/2023/08/02/ffmpeg-éŸ³è§†é¢‘å­¦ä¹ ä¹‹ffmpegå¸¸ç”¨åŸºç¡€å‘½ä»¤æ•´ç†/","content":"\n\n\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>ffmpeg éŸ³è§†é¢‘å­¦ä¹ ä¹‹ffmpegå¸¸ç”¨åŸºç¡€å‘½ä»¤æ•´ç†</strong></font>\n\n<!--more-->\n\nåŸºäºwindowsç¯å¢ƒå®‰è£…å¥½å¿…è¦çš„[ffmpeg](https://so.csdn.net/so/search?q=ffmpeg&spm=1001.2101.3001.7020)åï¼Œå¯¹ffmpegåŸºç¡€å‘½ä»¤è¿›è¡Œä¸€äº›äº†è§£ï¼š\n\nåŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/yun6853992/article/details/121870328\n\n## 1ã€ffmpegæŸ¥çœ‹ç‰ˆæœ¬ï¼š\n\n```python\nffmpeg -version\n```\n\n## 2ã€ffmpegæŸ¥è¯¢å‘½ä»¤ï¼š\n\n```python\n# åŸºæœ¬ä¿¡æ¯ï¼šffmpeg -h\n# é«˜çº§ä¿¡æ¯ï¼šffmpeg -h long\n# æ‰€æœ‰ä¿¡æ¯ï¼šffmpeg -h full\n\n# ffplayæŸ¥çœ‹å¸®åŠ©ï¼š ffplay -h\n# ffprobeæŸ¥çœ‹å¸®åŠ©ï¼š ffprobe -h\n\n# ffmpegå…·ä½“åˆ†ç±»æ”¯æŒçš„å‚æ•°æŸ¥çœ‹å¸®åŠ©ï¼š ffmepg -h type=name\n# æ¯”å¦‚ï¼š\t\t\nffmpeg -h muxer=flv\nffmpeg -h filter=atempo (atempoè°ƒæ•´éŸ³é¢‘æ’­æ”¾é€Ÿç‡)\nffmpeg -h encoder=libx264\n```\n\n## 3ã€ffmpegåˆ†ç±»æŸ¥è¯¢å‘½ä»¤ï¼š\n\n![](https://s2.loli.net/2023/08/02/V8OkslCpx1guJvy.png)\n\n```python\n-version \t# æ˜¾ç¤ºç‰ˆæœ¬ \n-buildconf \t# æ˜¾ç¤ºç¼–è¯‘é…ç½® \n-protocols \t# æ˜¾ç¤ºå¯ç”¨çš„åè®® \n-formats \t# æ˜¾ç¤ºå¯ç”¨æ ¼å¼ (muxers+demuxers) \n\n-filters \t# æ˜¾ç¤ºå¯ç”¨çš„è¿‡æ»¤å™¨ \n-muxers \t# æ˜¾ç¤ºå¯ç”¨å¤ç”¨å™¨ \n\n-demuxers \t# æ˜¾ç¤ºå¯ç”¨è§£å¤ç”¨å™¨ \n-codecs \t# æ˜¾ç¤ºå¯ç”¨ç¼–è§£ç å™¨ (decoders+encoders)\n-decoders \t# æ˜¾ç¤ºå¯ç”¨è§£ç å™¨\n-encoders \t# æ˜¾ç¤ºå¯ç”¨ç¼–ç å™¨\n-layouts \t# æ˜¾ç¤ºæ ‡å‡†å£°é“åç§° \n\n-pix_fmts \t\t# æ˜¾ç¤ºå¯ç”¨çš„åƒç´ æ ¼å¼ \n-sample_fmts \t# æ˜¾ç¤ºå¯ç”¨çš„éŸ³é¢‘é‡‡æ · æ ¼å¼ \n-bsfs \t\t\t# æ˜¾ç¤ºå¯ç”¨æ¯”ç‰¹æµfilter \n-colors \t\t# æ˜¾ç¤ºå¯ç”¨çš„é¢œè‰²åç§° \n```\n\n## 4ã€ffmpegåŸºç¡€å‘½ä»¤ï¼š\n\n<font color=#f26522 size=3 face=å®‹ä½“><strong>æ›´å¤šå‚è€ƒï¼š http://www.ffmpeg.org/ffmpeg.html</strong></font>\n\n```python\n # ä¸»è¦å‚æ•°ï¼š\n#\tâ—¼ -i è®¾å®šè¾“å…¥æµ\n#\tâ—¼ -f è®¾å®šè¾“å‡ºæ ¼å¼(format)\n#\tâ—¼ -ss å¼€å§‹æ—¶é—´\n#\tâ—¼ -t æ—¶é—´é•¿åº¦\n\t\n# éŸ³é¢‘å‚æ•°ï¼š\n#\tâ—¼ -aframes \t\tè®¾ç½®è¦è¾“å‡ºçš„éŸ³é¢‘å¸§æ•°\n#\tâ—¼ -b:a \t\t\téŸ³é¢‘ç ç‡\n#\tâ—¼ -ar \t\t\tè®¾å®šé‡‡æ ·ç‡\n#\tâ—¼ -ac\t\t\tè®¾å®šå£°éŸ³çš„Channelæ•°\n#\tâ—¼ -acodec \t\tè®¾å®šå£°éŸ³ç¼–è§£ç å™¨ï¼Œå¦‚æœç”¨copyè¡¨ç¤ºåŸå§‹ç¼–è§£ç æ•°æ®å¿…é¡»è¢«æ‹·è´ã€‚\n#\tâ—¼ -an \t\t\tä¸å¤„ç†éŸ³é¢‘\n#\tâ—¼ -af \t\t\téŸ³é¢‘è¿‡æ»¤å™¨\nffmpeg -i test.mp4 -b:a 192k -ar 48000 -ac 2 -acodec libmp3lame -aframes 200 out2.mp3\n\n# è§†é¢‘å‚æ•°ï¼š\n#\tâ—¼ -vframes \t\t\tè®¾ç½®è¦è¾“å‡ºçš„è§†é¢‘å¸§æ•°\n#\tâ—¼ -b \t\t\t\tè®¾å®šè§†é¢‘ç ç‡\n#\tâ—¼ -b:v \t\t\t\tè§†é¢‘ç ç‡\n#\tâ—¼ -r \t\t\t\tè®¾å®šå¸§é€Ÿç‡\n#\tâ—¼ -s \t\t\t\tè®¾å®šç”»é¢çš„å®½ä¸é«˜\n#\tâ—¼ -vn \t\t\t\tä¸å¤„ç†è§†é¢‘\n#\tâ—¼ -aspect aspect \tè®¾ç½®æ¨ªçºµæ¯” 4:3 16:9 æˆ– 1.3333 1.7777\n#\tâ—¼ -vcodec \t\t\tè®¾å®šè§†é¢‘ç¼–è§£ç å™¨ï¼Œå¦‚æœç”¨copyè¡¨ç¤ºåŸå§‹ç¼–è§£ç æ•°æ®å¿…é¡»è¢«æ‹·è´ã€‚\n#\tâ—¼ -vf \t\t\t\tè§†é¢‘è¿‡æ»¤å™¨\nffmpeg -i test.mp4 -vframes 300 -b:v 300k -r 30 -s 640x480 -aspect 16:9 -vcodec libx265\n\n```\n\n## 5ã€ffmepgä½¿ç”¨å‘½ä»¤æå–éŸ³é¢‘æˆ–è§†é¢‘ï¼š\n\n```python\n# æå–éŸ³è§†é¢‘æ•°æ®ï¼š\n# â—¼ ä¿ç•™å°è£…æ ¼å¼\n\tffmpeg -i test.mp4 -acodec copy -vn audio.mp4\n\tffmpeg -i test.mp4 -vcodec copy -an video.mp4\n# â—¼ æå–è§†é¢‘\n\tä¿ç•™ç¼–ç æ ¼å¼ï¼šffmpeg -i test.mp4 -vcodec copy -an test_copy.h264\n\tå¼ºåˆ¶æ ¼å¼ï¼šffmpeg -i test.mp4 -vcodec libx264 -an test.h264\n# â—¼ æå–éŸ³é¢‘\n\tä¿ç•™ç¼–ç æ ¼å¼ï¼šffmpeg -i test.mp4 -acodec copy -vn test.aac\n\tå¼ºåˆ¶æ ¼å¼ï¼šffmpeg -i test.mp4 -acodec libmp3lame -vn test.mp3\n\t\n# æå–åƒç´ æ ¼å¼å’ŒPCMæ•°æ®ï¼š\n# â—¼ æå–YUV\n# \tâ—¼ æå–3ç§’æ•°æ®ï¼Œåˆ†è¾¨ç‡å’Œæºè§†é¢‘ä¸€è‡´\n\t\tffmpeg -i test_1280x720.mp4 -t 3 -pix_fmt yuv420p yuv420p_orig.yuv\n# \tâ—¼ æå–3ç§’æ•°æ®ï¼Œåˆ†è¾¨ç‡è½¬ä¸º320x240\n\t\tffmpeg -i test_1280x720.mp4 -t 3 -pix_fmt yuv420p -s 320x240 yuv420p_320x240.yuv\n# â—¼ æå–RGB\n# \tâ—¼ æå–3ç§’æ•°æ®ï¼Œåˆ†è¾¨ç‡è½¬ä¸º320x240\n\t\tffmpeg -i test.mp4 -t 3 -pix_fmt rgb24 -s 320x240 rgb24_320x240.rgb\n# â—¼ RGBå’ŒYUVä¹‹é—´çš„è½¬æ¢\n\tffmpeg -s 320x240 -pix_fmt yuv420p -i yuv420p_320x240.yuv -pix_fmt rgb24 rgb24_320x240_2.rgb\n\t\n# â—¼ æå–PCM\n\tffmpeg -i buweishui.mp3 -ar 48000 -ac 2 -f s16le 48000_2_s16le.pcm\n\tffmpeg -i buweishui.mp3 -ar 48000 -ac 2 -sample_fmt s16 out_s16.wav\n\tffmpeg -i buweishui.mp3 -ar 48000 -ac 2 -codec:a pcm_s16le out2_s16le.wav\n\tffmpeg -i buweishui.mp3 -ar 48000 -ac 2 -f f32le 48000_2_f32le.pcm\n\tffmpeg -i test.mp4 -t 10 -vn -ar 48000 -ac 2 -f f32le 48000_2_f32le_2.pcm\n\n```\n\n## 6ã€ffmpegå‘½ä»¤è½¬å°è£…ï¼š\n\n```python\n# â—¼ ä¿æŒç¼–ç æ ¼å¼ï¼š\n\tffmpeg -i test.mp4 -vcodec copy -acodec copy test_copy.ts\n\tffmpeg -i test.mp4 -codec copy test_copy2.ts\n# â—¼ æ”¹å˜ç¼–ç æ ¼å¼ï¼š\n\tffmpeg -i test.mp4 -vcodec libx265 -acodec libmp3lame out_h265_mp3.mkv\n\t\n# â—¼ ä¿®æ”¹å¸§ç‡ï¼š\n\tffmpeg -i test.mp4 -r 15 -codec copy output.mp4 # (é”™è¯¯å‘½ä»¤)\n\tffmpeg -i test.mp4 -r 15 output2.mp4\n# â—¼ ä¿®æ”¹è§†é¢‘ç ç‡ï¼š\n\tffmpeg -i test.mp4 -b 400k output_b.mkv # ï¼ˆæ­¤æ—¶éŸ³é¢‘ä¹Ÿè¢«é‡æ–°ç¼–ç ï¼‰\n# â—¼ ä¿®æ”¹è§†é¢‘ç ç‡ï¼š\n\tffmpeg -i test.mp4 -b:v 400k output_bv.mkv\n\t\n# â—¼ ä¿®æ”¹éŸ³é¢‘ç ç‡ï¼š\n\tffmpeg -i test.mp4 -b:a 192k output_ba.mp4\n# \tå¦‚æœä¸æƒ³é‡æ–°ç¼–ç videoï¼Œéœ€è¦åŠ ä¸Š-vcodec copy\n# â—¼ ä¿®æ”¹éŸ³è§†é¢‘ç ç‡ï¼š\n\tffmpeg -i test.mp4 -b:v 400k -b:a 192k output_bva.mp4\n\t\n# â—¼ ä¿®æ”¹è§†é¢‘åˆ†è¾¨ç‡ï¼š\n\tffmpeg -i test.mp4 -s 480x270 output_480x270.mp4\n# â—¼ ä¿®æ”¹éŸ³é¢‘é‡‡æ ·ç‡: \n\tffmpeg -i test.mp4 -ar 44100 output_44100hz.mp4\n\n```\n\n## 7ã€ffmpegè¿‡æ»¤å™¨å‘½ä»¤ï¼š\n\n```python\n# 1ï¼šç”Ÿæˆæµ‹è¯•æ–‡ä»¶\n\n# â—¼ æ‰¾ä¸‰ä¸ªä¸åŒçš„è§†é¢‘æ¯ä¸ªè§†é¢‘æˆªå–10ç§’å†…å®¹\n\tffmpeg -i æ²™æµ·02.mp4 -ss 00:05:00 -t 10 -codec copy 1.mp4\n\tffmpeg -i å¤ä»‡è€…è”ç›Ÿ3.mp4 -ss 00:05:00 -t 10 -codec copy 2.mp4\n\tffmpeg -i çº¢æµ·è¡ŒåŠ¨.mp4 -ss 00:05:00 -t 10 -codec copy 3.mp4\n# \t\tå¦‚æœéŸ³è§†é¢‘æ ¼å¼ä¸ç»Ÿä¸€åˆ™å¼ºåˆ¶ç»Ÿä¸€ä¸º -vcodec libx264 -acodec aac\n# â—¼ å°†ä¸Šè¿°1.mp4/2.mp4/3.mp4è½¬æˆtsæ ¼å¼\n\tffmpeg -i 1.mp4 -codec copy -vbsf h264_mp4toannexb 1.ts\n\tffmpeg -i 2.mp4 -codec copy -vbsf h264_mp4toannexb 2.ts\n\tffmpeg -i 3.mp4 -codec copy -vbsf h264_mp4toannexb 3.ts\n# â—¼ è½¬æˆflvæ ¼å¼\n\tffmpeg -i 1.mp4 -codec copy 1.flv\n\tffmpeg -i 2.mp4 -codec copy 2.flv\n\tffmpeg -i 3.mp4 -codec copy 3.flv\n# åˆ†ç¦»æŸäº›å°è£…æ ¼å¼ï¼ˆä¾‹å¦‚MP4/FLV/MKVç­‰ï¼‰ä¸­çš„H.264çš„æ—¶å€™ï¼Œéœ€è¦é¦–å…ˆå†™å…¥SPSå’ŒPPSï¼Œå¦åˆ™ä¼šå¯¼è‡´åˆ†ç¦»å‡ºæ¥çš„æ•°æ®æ²¡æœ‰SPSã€PPSè€Œæ— æ³•æ’­æ”¾ã€‚\n# \tH.264ç æµçš„SPSå’ŒPPSä¿¡æ¯å­˜å‚¨åœ¨AVCodecContextç»“æ„ä½“çš„extradataä¸­ã€‚\n# \téœ€è¦ä½¿ç”¨ffmpegä¸­åç§°ä¸ºâ€œh264_mp4toannexbâ€çš„bitstream filterå¤„ç†\n\t\n# 2ï¼šå¼€å§‹æ‹¼æ¥æ–‡ä»¶ï¼š\n# â—¼ ä»¥MP4æ ¼å¼è¿›è¡Œæ‹¼æ¥\n\tæ–¹æ³•1ï¼šffmpeg -i \"concat:1.mp4|2.mp4|3.mp4\" -codec copy out_mp4.mp4 \n\tæ–¹æ³•2ï¼šffmpeg -f concat -i mp4list.txt -codec copy out_mp42.mp4\n# \tè‡ªå·±æ–°å»º mp4list.txt,åœ¨å…¶ä¸­å®ç° file '1.mp4'\n\t\n\t\n# â—¼ ä»¥TSæ ¼å¼è¿›è¡Œæ‹¼æ¥\n\tæ–¹æ³•1ï¼šffmpeg -i \"concat:1.ts|2.ts|3.ts\" -codec copy out_ts.mp4 \n\tæ–¹æ³•2ï¼šffmpeg -f concat -i tslist.txt -codec copy out_ts2.mp4\n# \tè‡ªå·±æ–°å»º tslist.txt,åœ¨å…¶ä¸­å®ç° file '1.ts'\n\t\n# â—¼ ä»¥FLVæ ¼å¼è¿›è¡Œæ‹¼æ¥\n\tæ–¹æ³•1ï¼šffmpeg -i \"concat:1.flv|2.flv|3.flv\" -codec copy out_flv.mp4 \n\tæ–¹æ³•2ï¼šffmpeg -f concat -i flvlist.txt -codec copy out_flv2.mp4\n\n# éœ€è¦éªŒè¯æœ€åç»“æœæ˜¯å¦æ­£å¸¸ï¼š\n# â—¼ æ–¹æ³•1åªé€‚ç”¨éƒ¨åˆ†å°è£…æ ¼å¼ï¼Œæ¯”å¦‚TS\n# â—¼ å»ºè®®ï¼š\n# \tï¼ˆ1ï¼‰ä½¿ç”¨æ–¹æ³•2è¿›è¡Œæ‹¼æ¥\n# \tï¼ˆ2ï¼‰è½¬æˆTSæ ¼å¼å†è¿›è¡Œæ‹¼æ¥\n\n# 3ï¼šæµ‹è¯•ä¸åŒç¼–ç æ‹¼æ¥ï¼š\n# â—¼ ä¿®æ”¹éŸ³é¢‘ç¼–ç \n\tffmpeg -i 2.mp4 -vcodec copy -acodec ac3 -vbsf h264_mp4toannexb 2.ts\n\tffmpeg -i \"concat:1.ts|2.ts|3.ts\" -codec copy out1.mp4 ç»“æœç¬¬äºŒæ®µæ²¡æœ‰å£°éŸ³\n# â—¼ ä¿®æ”¹éŸ³é¢‘é‡‡æ ·ç‡\n\tffmpeg -i 2.mp4 -vcodec copy -acodec aac -ar 96000 -vbsf h264_mp4toannexb 2.ts\n\tffmpeg -i \"concat:1.ts|2.ts|3.ts\" -codec copy out2.mp4 ç¬¬äºŒæ®µæ’­æ”¾å¼‚å¸¸\n# â—¼ ä¿®æ”¹è§†é¢‘ç¼–ç æ ¼å¼\n\tffmpeg -i 1.mp4 -acodec copy -vcodec libx265 1.ts\n\tffmpeg -i \"concat:1.ts|2.ts|3.ts\" -codec copy out3.mp4 \n# â—¼ ä¿®æ”¹è§†é¢‘åˆ†è¾¨ç‡\n\tffmpeg -i 1.mp4 -acodec copy -vcodec libx264 -s 800x472 -vbsf h264_mp4toannexb 1.ts\n\tffmpeg -i \"concat:1.ts|2.ts|3.ts\" -codec copy out4.mp4\n# â—¼ æ³¨æ„ï¼š\n# \tæŠŠæ¯ä¸ªè§†é¢‘å°è£…æ ¼å¼ä¹Ÿç»Ÿä¸€ä¸ºtsï¼Œæ‹¼æ¥è¾“å‡ºçš„æ—¶å€™å†è¾“å‡ºä½ éœ€è¦çš„å°è£…æ ¼å¼ï¼Œæ¯”å¦‚MP4\n# \tè§†é¢‘åˆ†è¾¨ç‡å¯ä»¥ä¸åŒï¼Œä½†æ˜¯ç¼–ç æ ¼å¼éœ€è¦ç»Ÿä¸€\n# \téŸ³é¢‘ç¼–ç æ ¼å¼éœ€è¦ç»Ÿä¸€ï¼ŒéŸ³é¢‘å‚æ•°(é‡‡æ ·ç‡/å£°é“ç­‰)ä¹Ÿéœ€è¦ç»Ÿä¸€\n\n```\n\n## 8ã€ffmpeg å›¾ç‰‡ä¸è§†é¢‘äº’è½¬ï¼š\n\n```python\n# â—¼ æˆªå–ä¸€å¼ å›¾ç‰‡\n\tffmpeg -i test.mp4 -y -f image2 -ss 00:00:02 -vframes 1 -s 640x360 test.jpg\n\tffmpeg -i test.mp4 -y -f image2 -ss 00:00:02 -vframes 1 -s 640x360 test.bmp\n\t\t-i è¾“å…¥\n\t\t-y è¦†ç›–\n\t\t-f æ ¼å¼\n\t\timage2 ä¸€ç§æ ¼å¼\n\t\t-ss èµ·å§‹å€¼\n\t\t-vframes å¸§ å¦‚æœå¤§äº1 é‚£ä¹ˆ è¾“å‡ºåŠ %03d test%03d.jpg \n\t\t-s æ ¼å¼å¤§å°size\n# â—¼ è½¬æ¢è§†é¢‘ä¸ºå›¾ç‰‡ï¼ˆæ¯å¸§ä¸€å¼ å›¾):\n\tffmpeg -i test.mp4 -t 5 -s 640x360 -r 15 frame%03d.jpg \n# â—¼ å›¾ç‰‡è½¬æ¢ä¸ºè§†é¢‘:\n\tffmpeg -f image2 -i frame%03d.jpg -r 25 video.mp4\n\n\n# â—¼ ä»è§†é¢‘ä¸­ç”ŸæˆGIFå›¾ç‰‡\n\tffmpeg -i test.mp4 -t 5 -r 1 image1.gif\n\tffmpeg -i test.mp4 -t 5 -r 25 -s 640x360 image2.gif\n# â—¼ å°† GIF è½¬åŒ–ä¸º è§†é¢‘\n\tffmpeg -f gif -i image2.gif image2.mp4\n\n```\n\n# 9ã€ffmpeg è§†é¢‘å½•åˆ¶å‘½ä»¤ï¼š\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æœ‰æ—¶å€™å†™å…¥MP4æ–‡ä»¶ä¼šä¸æˆåŠŸï¼Œæ”¹æˆflvå°±å¥½</strong></font>\n\n```python\n# â—¼ å…ˆå®‰è£…dshowè½¯ä»¶ Screen Capturer Recorderï¼Œ\n# \té¡¹ç›®åœ°å€ï¼šhttps://sourceforge.net/projects/screencapturer/files/ \n# \tç„¶åæŸ¥çœ‹å¯ç”¨è®¾å¤‡åå­—ï¼š\n\t\tffmpeg -list_devices true -f dshow -i dummy\n\n# â—¼ å½•åˆ¶è§†é¢‘ï¼ˆé»˜è®¤å‚æ•°ï¼‰\n\tæ¡Œé¢ï¼š\t\t ffmpeg -f dshow -i video=\"screen-capture-recorder\" v-out.mp4 \n\tæ‘„åƒå¤´ï¼š \t ffmpeg -f dshow -i video=\"Integrated Webcam\" -y v-out2.flv (è¦æ ¹æ®è‡ªå·±æ‘„åƒå¤´åç§°)\n# â—¼ å½•åˆ¶å£°éŸ³ï¼ˆé»˜è®¤å‚æ•°ï¼‰\n\tç³»ç»Ÿå£°éŸ³ï¼š\t\t\tffmpeg -f dshow -i audio=\"virtual-audio-capturer\" a-out.aac\n\tç³»ç»Ÿ+éº¦å…‹é£å£°éŸ³ï¼š\t  ffmpeg -f dshow -i audio=\"éº¦å…‹é£ (Realtek(R) Audio)\" -f dshow -i audio=\"virtual-audio-capturer\" -filter_complex amix=inputs=2:duration=first:dropout_transition=2 a-out2.aac\n\n# â—¼ æŸ¥çœ‹è§†é¢‘å½•åˆ¶çš„å¯é€‰å‚æ•°\n\tffmpeg -f dshow -list_options true -i video=\"screen-capture-recorder\"\t\n# â—¼ æŸ¥çœ‹éŸ³é¢‘å½•åˆ¶çš„å¯é€‰å‚æ•°\n\tffmpeg -f dshow -list_options true -i audio=\"virtual-audio-capturer\"\n\tffmpeg -f dshow -list_options true -i audio=\"éº¦å…‹é£ (Realtek(R) Audio)\"\n\n# æŒ‡å®šå‚æ•°å½•åˆ¶éŸ³è§†é¢‘ï¼š\n\tâ—¼ ffmpeg -f dshow -i audio=\"éº¦å…‹é£ (Realtek(R) Audio)\" -f dshow -i audio=\"virtual-audio-capturer\" -filter_complex amix=inputs=2:duration=first:dropout_transition=2 -f dshow -video_size 1920x1080 -framerate 15 -pixel_format yuv420p -i video=\"screen-capture-recorder\" -vcodec h264_qsv -b:v 3M -y av-out.flv\n\tâ—¼ ffmpeg -f dshow -i audio=\"éº¦å…‹é£ (Realtek(R) Audio)\" -f dshow -i audio=\"virtual-audio-capturer\" -filter_complex amix=inputs=2:duration=first:dropout_transition=2 -f dshow -i video=\"screen-capture-recorder\" -vcodec h264_qsv -b:v 3M -r 15 -y av-out2.mp4\n\tâ—¼ ffmpeg -f dshow -i audio=\"éº¦å…‹é£ (Realtek(R) Audio)\" -f dshow -i audio=\"virtual-audio-capturer\" -filter_complex amix=inputs=2:duration=first:dropout_transition=2 -f dshow -framerate 15 -pixel_format yuv420p -i video=\"screen-capture-recorder\" -vcodec h264_qsv -b:v 3M -r 15 -y av-out3.mp4\n```\n\n## 10ã€ffmpegç›´æ’­æ¨æµ/æ‹‰æµå‘½ä»¤ï¼š\n\n```python\n# â—¼ ç›´æ’­æ‹‰æµ\n\tffplay rtmp://server/live/streamName \n\tffmpeg -i rtmp://server/live/streamName -c copy dump.flv\n\t\tå¯¹äºä¸æ˜¯rtmpçš„åè®® -c copyè¦è°¨æ…ä½¿ç”¨\n# â—¼ å¯ç”¨åœ°å€\n\tHKSï¼šrtmp://live.hkstv.hk.lxdns.com/live/hks2\n\tå¤§ç†Šå…”(ç‚¹æ’­)ï¼šrtsp://184.72.239.149/vod/mp4://BigBuckBunny_175k.mov\n\tCCTV1é«˜æ¸…ï¼šhttp://ivi.bupt.edu.cn/hls/cctv1hd.m3u8\n\t\tffmpeg -i http://ivi.bupt.edu.cn/hls/cctv1hd.m3u8 -c copy cctv1.ts\n\t\tffmpeg -i http://ivi.bupt.edu.cn/hls/cctv1hd.m3u8 cctv1.flv\n\t\tffmpeg -i http://ivi.bupt.edu.cn/hls/cctv1hd.m3u8 -acodec aac -vcodec libx264 cctv1-2.flv\n\tCCTV3é«˜æ¸…ï¼šhttp://ivi.bupt.edu.cn/hls/cctv3hd.m3u8\n\tCCTV5é«˜æ¸…ï¼šhttp://ivi.bupt.edu.cn/hls/cctv5hd.m3u8\n\tCCTV5+é«˜æ¸…ï¼šhttp://ivi.bupt.edu.cn/hls/cctv5phd.m3u8\n\tCCTV6é«˜æ¸…ï¼šhttp://ivi.bupt.edu.cn/hls/cctv6hd.m3u8\n\n# â—¼ ç›´æ’­æ¨æµ\n\tffmpeg -re -i out.mp4 -c copy flv rtmp://server/live/streamName\n\t\t-re,è¡¨ç¤ºæŒ‰æ—¶é—´æˆ³è¯»å–æ–‡ä»¶\n```\n\n## 11ã€ffmpeg filterè¿‡æ»¤å™¨åº”ç”¨ï¼š\n\n+ ### <font color=#b0171f size=3 face=å®‹ä½“><strong>1ã€è§†é¢‘è£å‰ªï¼š</strong></font>\n\n![](https://s2.loli.net/2023/08/02/GmWy2dkN6BsIvbh.png)\n\n```python\n# å˜é‡ \t\t\t   ç”¨äº ow å’Œ oh å‚æ•°çš„è¡¨è¾¾å¼ä¸­çš„å¯ç”¨å˜é‡\n\nx, y\t\t\tå¯¹ x çš„è®¡ç®—å€¼(ä»å·¦ä¸Šè§’æ°´å¹³æ–¹å‘çš„åƒç´ ä¸ªæ•°)å’Œ y(å‚ç›´åƒç´ çš„æ•°é‡)ï¼Œå¯¹æ¯ä¸ªå¸§è¿›è¡Œè¯„ä¼°ï¼Œxçš„é»˜è®¤å€¼ä¸º(iw - ow)/2, y çš„é»˜è®¤å€¼ä¸º(ih - oh)/2\nin_w, iw \t\tè¾“å…¥çš„å®½åº¦\nin_h, ih \t\tè¾“å…¥çš„é«˜åº¦\nout_w,ow\t\tè¾“å‡º(è£å‰ª)å®½åº¦ï¼Œé»˜è®¤å€¼= iw\nout_h,oh \t\tè¾“å‡º(è£å‰ª)é«˜åº¦ï¼Œé»˜è®¤å€¼= ih\na \t\t\t\tçºµæ¨ªæ¯”ï¼Œä¸ iw/ih ç›¸åŒ\nsar \t\t\tè¾“å…¥æ ·æœ¬æ¯”ä¾‹\ndar \t\t\tè¾“å…¥æ˜¾ç¤ºå®½æ¯”ï¼Œç­‰äºè¡¨è¾¾å¼ a*sar\nhsub, vsub \t\tæ°´å¹³å’Œå‚ç›´çš„è‰²åº¦å­æ ·æœ¬å€¼ï¼Œå¯¹äºåƒç´ æ ¼å¼ yuv422p, hsub çš„å€¼ä¸º 2,vsub ä¸º 1\nn \t\t\t\tè¾“å…¥å¸§çš„æ•°ç›®ï¼Œä» 0 å¼€å§‹\npos \t\t\tä½ç½®åœ¨è¾“å…¥æ¡†çš„æ–‡ä»¶ä¸­ï¼Œå¦‚æœä¸çŸ¥é“ NAN\nt \t\t\t\tæ—¶é—´æˆ³ä»¥ç§’è¡¨ç¤ºï¼Œå¦‚æœè¾“å…¥æ—¶é—´æˆ³æœªçŸ¥\n\now çš„å€¼å¯ä»¥ä» oh å¾—åˆ°ï¼Œåä¹‹äº¦ç„¶ï¼Œä½†ä¸èƒ½ä» x å’Œ y ä¸­å¾—åˆ°ï¼Œå› ä¸ºè¿™äº›å€¼æ˜¯åœ¨ ow å’Œ oh ä¹‹åè¿›è¡Œçš„ã€‚\nx çš„å€¼å¯ä»¥ä» y çš„å€¼ä¸­å¾—åˆ°ï¼Œåä¹‹äº¦ç„¶ã€‚\n# \tä¾‹å¦‚ï¼Œåœ¨è¾“å…¥æ¡†çš„å·¦ä¸‰ã€ä¸­ä¸‰å’Œå³ä¸‰ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤(iw/3*2)æ˜¯å¼€å§‹è£å‰ªçš„ä½ç½®:\n\t\tffmpeg -i input -vf crop=iw/3:ih:0:0 output \n\t\tffmpeg -i input -vf crop=iw/3:ih:iw/3:0 output \n\t\tffmpeg -i input -vf crop=iw/3:ih:iw/3*2:0 output\n\nï¼ˆ1ï¼‰è£å‰ª 100x100 çš„åŒºåŸŸï¼Œèµ·ç‚¹ä¸º(12,34).\n\t\tcrop=100:100:12:34\n\t\tç›¸åŒæ•ˆæœ:\n\t\tcrop=w=100:h=100:x=12:y=34\nï¼ˆ2ï¼‰è£å‰ªä¸­å¿ƒåŒºåŸŸï¼Œå¤§å°ä¸º 100x100\n\t\tcrop=100:100\nï¼ˆ3ï¼‰è£å‰ªä¸­å¿ƒåŒºåŸŸï¼Œå¤§å°ä¸ºè¾“å…¥è§†é¢‘çš„ 2/3\n\t\tcrop=2/3*in_w:2/3*in_h\nï¼ˆ4ï¼‰è£å‰ªä¸­å¿ƒåŒºåŸŸçš„æ­£æ–¹å½¢ï¼Œé«˜åº¦ä¸ºè¾“å…¥è§†é¢‘çš„é«˜\n\t\tcrop=out_w=in_h\n\t\tcrop=in_h\nï¼ˆ5ï¼‰è£å‰ªåç§»å·¦ä¸Šè§’ 100 åƒç´ \n\t\tcrop=in_w-100:in_h-100:100:100\nï¼ˆ6ï¼‰è£å‰ªæ‰å·¦å³ 10 åƒç´ ï¼Œä¸Šä¸‹ 20 åƒç´ \n\t\tcrop=in_w-2*10:in_h-2*20\nï¼ˆ7ï¼‰è£å‰ªå³ä¸‹è§’åŒºåŸŸ\n\t\tcrop=in_w/2:in_h/2:in_w/2:in_h/2\n\n```\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>2ã€æ–‡å­—æ°´å°ï¼š</strong></font>\n\nç¼–è¯‘çš„æ—¶å€™éœ€è¦æ”¯æŒ FreeTypeã€FontConfigã€iconvï¼Œç³»ç»Ÿä¸­éœ€è¦æœ‰ç›¸å…³çš„å­åº“ï¼Œ\n\nåœ¨ FFmpeg ä¸­å¢åŠ çº¯å­—æ¯æ°´å°å¯ä»¥ä½¿ç”¨ drawtext æ»¤é•œè¿›è¡Œæ”¯æŒ:\n\n```python\ndrawtext # å‚æ•°ç›¸å…³ï¼š\ntext \t\t# å­—ç¬¦ä¸² \t   æ–‡å­—\ntextfile \t# å­—ç¬¦ä¸² \t   æ–‡å­—æ–‡ä»¶\nbox \t\t# å¸ƒå°” \t\t\tæ–‡å­—åŒºåŸŸèƒŒæ™¯æ¡†(ç¼ºçœ false)\nboxcolor \t# è‰²å½© \t\t\tå±•ç¤ºå­—ä½“åŒºåŸŸå—çš„é¢œè‰²\nfont \t\t# å­—ç¬¦ä¸² \t   å­—ä½“åç§°ï¼ˆé»˜è®¤ä¸º Sans å­—ä½“ï¼‰\nfontsize \t# æ•´æ•° \t\t\tæ˜¾ç¤ºå­—ä½“çš„å¤§å°\nx \t\t\t# å­—ç¬¦ä¸² \t\tç¼ºçœä¸º 0\ny \t\t\t# å­—ç¬¦ä¸² \t\tç¼ºçœä¸º 0\nalpha \t\t# æµ®ç‚¹æ•° \t\té€æ˜åº¦(é»˜è®¤ä¸º 1)ï¼Œå€¼ä» 0~1\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ç›¸å…³ä½¿ç”¨å®ä¾‹ï¼š</strong></font>\n\n```python\n# ï¼ˆ1ï¼‰å°†æ–‡å­—çš„æ°´å°åŠ åœ¨è§†é¢‘çš„å·¦ä¸Šè§’ï¼š\n\tffplay -i input.mp4 -vf \"drawtext=fontsize=100:fontfile=FreeSerif.ttf:text='hello world':x=20:y=20\"\n# å°†å­—ä½“çš„é¢œè‰²è®¾ç½®ä¸ºç»¿è‰²ï¼š\n\tffplay -i input.mp4 -vf \"drawtext=fontsize=100:fontfile=FreeSerif.ttf:text='hello world':fontcolor=green\"\n# å¦‚æœæƒ³è°ƒæ•´æ–‡å­—æ°´å°æ˜¾ç¤ºçš„ä½ç½®ï¼Œè°ƒæ•´ x ä¸ y å‚æ•°çš„æ•°å€¼å³å¯ã€‚\n\tffplay -i input.mp4 -vf \"drawtext=fontsize=100:fontfile=FreeSerif.ttf:text='hello world':fontcolor=green:x=400:y=200\"\n# ä¿®æ”¹é€æ˜åº¦\n\tffplay -i input.mp4 -vf \"drawtext=fontsize=100:fontfile=FreeSerif.ttf:text='helloworld':fontcolor=green:x=400:y=200:alpha=0.5\"\n\t\n# ï¼ˆ2ï¼‰æ–‡å­—æ°´å°è¿˜å¯ä»¥å¢åŠ ä¸€ä¸ªæ¡†ï¼Œç„¶åç»™æ¡†åŠ ä¸ŠèƒŒæ™¯é¢œè‰²ï¼š\n\tffplay -i input.mp4 -vf \"drawtext=fontsize=100:fontfile=FreeSerif.ttf:text='hello world':fontcolor=green:box=1:boxcolor=yellow\"\n\t\n# ï¼ˆ3ï¼‰æœ‰äº›æ—¶å€™æ–‡å­—æ°´å°å¸Œæœ›ä»¥æœ¬åœ°æ—¶é—´ä½œä¸ºæ°´å°å†…å®¹ï¼Œå¯ä»¥åœ¨ drawtext æ»¤é•œä¸­é…åˆä¸€äº›ç‰¹æ®Šç”¨æ³•æ¥å®Œæˆï¼Œåœ¨ text ä¸­æ˜¾ç¤ºæœ¬åœ°å½“å‰æ—¶é—´ï¼Œæ ¼å¼ä¸ºå¹´æœˆæ—¥æ—¶åˆ†ç§’çš„æ–¹å¼ï¼Œ\n\tffplay -i input.mp4 -vf \"drawtext=fontsize=60:fontfile=FreeSerif.ttf:text='%{localtime\\:%Y\\-%m\\-%d %H-%M-%S}':fontcolor=gree\nn:box=1:boxcolor=yellow\"\n# åœ¨ä½¿ç”¨ ffmpeg è½¬ç å­˜å‚¨åˆ°æ–‡ä»¶æ—¶éœ€è¦åŠ ä¸Š-reï¼Œå¦åˆ™æ—¶é—´ä¸å¯¹ã€‚\n\tffmpeg -re -i input.mp4 -vf \"drawtext=fontsize=60:fontfile=FreeSerif.ttf:text='%{localtime\\:%Y\\-%m\\-%d %H-%M-%S}':fontcolor=gree n:box=1:boxcolor=yellow\" out.mp4\n# ï¼ˆ4ï¼‰åœ¨ä¸ªåˆ«åœºæ™¯ä¸­ï¼Œéœ€è¦å®šæ—¶æ˜¾ç¤ºæ°´å°ï¼Œå®šæ—¶ä¸æ˜¾ç¤ºæ°´å°ï¼Œè¿™ç§æ–¹å¼åŒæ ·å¯ä»¥é…åˆ drawtext æ»¤é•œè¿›è¡Œå¤„ç†ï¼Œä½¿ç”¨ drawtext ä¸ enable é…åˆå³å¯ï¼Œ\n# \tä¾‹å¦‚æ¯ 3 ç§’é’Ÿæ˜¾ç¤ºä¸€æ¬¡æ–‡å­—æ°´å°ï¼š\n\tffplay -i input.mp4 -vf \"drawtext=fontsize=60:fontfile=FreeSerif.ttf:text='test':fontcolor=green:box=1:boxcolor=yellow:enable=lt(mod(t\\,3)\\,1)\" \n# \tåœ¨ä½¿ç”¨ ffmpeg è½¬ç å­˜å‚¨åˆ°æ–‡ä»¶æ—¶éœ€è¦åŠ ä¸Š-reï¼Œå¦åˆ™æ—¶é—´ä¸å¯¹ã€‚\n# \tè¡¨è¾¾å¼å‚è€ƒï¼šhttp://www.ffmpeg.org/ffmpeg-utils.html 3 Expression Evaluation \n\t\tlt(x, y) Return 1 if x is lesser than y, 0 otherwise.\n\t\tmod(x, y) Compute the remainder of division of x by y.\n\t\t\n# ï¼ˆ5ï¼‰è·‘é©¬ç¯æ•ˆæœ\n\tffplay -i input.mp4 -vf \"drawtext=fontsize=100:fontfile=FreeSerif.ttf:text='helloworld':x=mod(100*t\\,w):y=abs(sin(t))*h*0.7\"\n# ä¿®æ”¹å­—ä½“é€æ˜åº¦ï¼Œä¿®æ”¹å­—ä½“é¢œè‰²\n\tffplay -i input.mp4 -vf  \"drawtext=fontsize=40:fontfile=FreeSerif.ttf:text='liaoqingfu':x=mod(50*t\\,w):y=abs(sin(t))*h*0.7:alpha=0.5:fontcolor=white:enable=lt(mod(t\\,3)\\,1)\"\n\n```\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>3ã€å›¾ç‰‡æ°´å°ï¼š</strong></font>\n\n<font color=#f26522 size=3 face=å®‹ä½“><strong> ä¸ºè§†é¢‘æ·»åŠ å›¾ç‰‡æ°´å°å¯ä»¥ä½¿ç”¨ movie æ»¤é•œï¼Œç›¸å…³å‚æ•°ï¼š</strong></font>\n\n```python\nfilename\t\t \t# å­—ç¬¦ä¸²\t\tè¾“å…¥çš„æ–‡ä»¶åï¼Œå¯ä»¥æ˜¯æ–‡ä»¶ï¼Œåè®®ï¼Œè®¾å¤‡\nformat_name, f \t\t# å­—ç¬¦ä¸² \tè¾“å…¥çš„å°è£…æ ¼å¼\nstream_index, si \t# æ•´æ•° \t\tè¾“å…¥çš„æµç´¢å¼•ç¼–å·\nseek_point, sp \t\t# æµ®ç‚¹æ•° \tSeek è¾“å…¥æµçš„æ—¶é—´ä½ç½®\nstreams, s \t\t\t# å­—ç¬¦ä¸² \tè¾“å…¥çš„å¤šä¸ªæµçš„æµä¿¡æ¯\nloop \t\t\t\t# æ•´æ•° \t\tå¾ªç¯æ¬¡æ•°\ndiscontinuity \t\t# æ—¶é—´å·®å€¼   æ”¯æŒè·³åŠ¨çš„æ—¶é—´æˆ³å·®å€¼\n\n# ä¾‹å¦‚ï¼š\nffmpeg -i input.mp4 -vf \"movie=logo.png[watermark];[in][watermark]overlay=x=10:y=10[out]\" output.mp4\n# \tâ¢ åŸå§‹è§†é¢‘æ–‡ä»¶è·¯å¾„ï¼šinput.mp4\n# \tâ¢ æ°´å°å›¾ç‰‡è·¯å¾„ï¼šlogo.png\n# \tâ¢ æ°´å°ä½ç½®ï¼š(x,y)=(10,10)<=(left,top)è·ç¦»å·¦ä¾§ã€é¡¶éƒ¨å„ 10 åƒç´ ï¼›\n# \tâ¢ è¾“å‡ºæ–‡ä»¶è·¯å¾„ï¼šoutput.mp4\n\t\tmain_w  # è§†é¢‘å•å¸§å›¾åƒå®½åº¦\n\t\tmain_h  # è§†é¢‘å•å¸§å›¾åƒé«˜åº¦\n\t\toverlay_w  # æ°´å°å›¾ç‰‡çš„å®½åº¦\n\t\toverlay_h  # æ°´å°å›¾ç‰‡çš„é«˜åº¦\n# \tå¯¹åº”åœ°å¯ä»¥å°† overlay å‚æ•°è®¾ç½®æˆå¦‚ä¸‹å€¼æ¥æ”¹å˜æ°´å°å›¾ç‰‡çš„ä½ç½®ï¼š\n\t\tå·¦ä¸Šè§’ 10:10\n\t\tå³ä¸Šè§’ main_w-overlay_w-10:10\n\t\tå·¦ä¸‹è§’ 10:main_h-overlay_h-10\n\t\tå³ä¸‹è§’ main_w-overlay_w-10:main_h-overlay_h-10\n\n```\n\nä½¿ç”¨å®ä¾‹ï¼š\n\n```python\n# åœ¨ FFmpeg ä¸­åŠ å…¥å›¾ç‰‡æ°´å°æœ‰ä¸¤ç§æ–¹å¼ï¼š\n# \tä¸€ç§æ˜¯é€šè¿‡ movie æŒ‡å®šæ°´å°æ–‡ä»¶è·¯å¾„ï¼Œ\n# \tå¦å¤–ä¸€ç§æ–¹å¼æ˜¯é€šè¿‡filter è¯»å–è¾“å…¥æ–‡ä»¶çš„æµå¹¶æŒ‡å®šä¸ºæ°´å°ã€‚\n# è¯»å– movie å›¾ç‰‡æ–‡ä»¶ä½œä¸ºæ°´å°ï¼š\n\n# ï¼ˆ1ï¼‰å›¾ç‰‡ logo.png å°†ä¼šæ‰“å…¥åˆ° input.mp4 è§†é¢‘ä¸­ï¼Œæ˜¾ç¤ºåœ¨ x åæ ‡ 50ã€y åæ ‡ 20 çš„ä½ç½®\n\t\tffplay -i input.mp4 -vf \"movie=logo.png[logo];[in][logo]overlay=50:10[out]\"\n# ç”±äº logo.png å›¾ç‰‡çš„èƒŒæ™¯è‰²æ˜¯ç™½è‰²ï¼Œæ‰€ä»¥æ˜¾ç¤ºèµ·æ¥æ¯”è¾ƒç”Ÿç¡¬ï¼Œå¦‚æœæ°´å°å›¾ç‰‡æ˜¯é€æ˜èƒŒæ™¯çš„ï¼Œæ•ˆæœä¼šæ›´å¥½ï¼Œ\n# ä¸‹é¢æ‰¾ä¸€å¼ é€æ˜èƒŒæ™¯è‰²çš„å›¾ç‰‡è¯•ä¸€ä¸‹ï¼š\n\tffplay -i input.mp4 -vf \"movie=logo2.png[watermark];[in][watermark]overlay=50:10[out]\"\n# ï¼ˆ2ï¼‰æ˜¾ç¤ºä½ç½®\n\t\tffplay -i input.mp4 -vf \"movie=logo.png[watermark];[in][watermark]overlay=10:10[out]\"\n\t\tffplay -i input.mp4 -vf \"movie=logo.png[watermark];[in][watermark]overlay=main_w-overlay_w-10:10[out]\"\n\t\tffplay -i input.mp4 -vf \"movie=logo.png[watermark];[in][watermark]overlay=10:main_h-overlay_h-10[out]\"\n\t\tffplay -i input.mp4 -vf \"movie=logo.png[watermark];[in][watermark]overlay=main_w-overlay_w-10:main_h-overlay_h-10[out]\"\n# ï¼ˆ3ï¼‰è·‘é©¬ç¯æ•ˆæœ\n\t\tffplay -i input.mp4 -vf \"movie=logo.png[watermark];[in][watermark]overlay=x=mod(50*t\\,main_w):y=abs(sin(t))*h*0.7[out]\"\n\n```\n\n\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>4ã€ç”Ÿæˆç”»ä¸­ç”»ï¼š</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å¯ä»¥é€šè¿‡ **overlay** å°† å¤šä¸ªè§†é¢‘æµã€å¤šä¸ªå¤šåª’ä½“é‡‡é›†è®¾å¤‡ã€å¤šä¸ªè§†é¢‘æ–‡ä»¶åˆå¹¶åˆ°ä¸€ä¸ªç•Œé¢ä¸­ï¼Œç”Ÿæˆç”»ä¸­ç”»çš„æ•ˆæœã€‚</strong></font>\n\nç›¸å…³å‚æ•°ä»‹ç»ï¼š\n\n```python\nx \t\t\tå­—ç¬¦ä¸² \t\tX åæ ‡\ny \t\t\tå­—ç¬¦ä¸² \t\tY åæ ‡\neof_action \tæ•´æ•° \t\t\té‡åˆ° eof è¡¨ç¤ºæ—¶çš„å¤„ç†æ–¹å¼ï¼Œé»˜è®¤ä¸ºé‡å¤\n\t\t\t\t\t\t\tâ¢ repeat(å€¼ä¸º 0)ï¼šé‡å¤å‰ä¸€å¸§\n\t\t\t\t\t\t\tâ¢ endcall(å€¼ä¸º 1)ï¼šåœæ­¢æ‰€æœ‰çš„æµ\n\t\t\t\t\t\t\tâ¢ pass(å€¼ä¸º 2)ï¼šä¿ç•™ä¸»å›¾å±‚\nshortest \tå¸ƒå°” \t\t\tç»ˆæ­¢æœ€çŸ­çš„è§†é¢‘æ—¶å…¨éƒ¨ç»ˆæ­¢ï¼ˆé»˜è®¤ falseï¼‰\nformat \t\tæ•´æ•° \t\t\tè®¾ç½® output çš„åƒç´ æ ¼å¼ï¼Œé»˜è®¤ä¸º yuv420\n\t\t\t\t\t\t\tâ¢ yuv420 (å€¼ä¸º 0)\n\t\t\t\t\t\t\tâ¢ yuv422 (å€¼ä¸º 1)\n\t\t\t\t\t\t\tâ¢ yuv444 (å€¼ä¸º 2)\n\t\t\t\t\t\t\tâ¢ rgb (å€¼ä¸º 3)\n# ï¼ˆ1ï¼‰æ˜¾ç¤ºç”»ä¸­ç”»æ•ˆæœ\n\t\tffplay -i input.mp4 -vf \"movie=sub_320x240.mp4[sub];[in][sub]overlay=x=20:y=20[out]\"\n\t\tffplay -i input.mp4 -vf \"movie=sub_320x240.mp4[sub];[in][sub]overlay=x=20:y=20:eof_action=1[out]\"\n\t\tffplay -i input.mp4 -vf \"movie=sub_320x240.mp4[sub];[in][sub]overlay=x=20:y=20:shortest =1[out]\"\n# ç¼©æ”¾å­ç”»é¢å°ºå¯¸\n\tffplay -i input.mp4 -vf \"movie=sub_320x240.mp4,scale=640x480[sub];[in][sub]overlay=x=20:y=20[out]\"\n# ï¼ˆ2ï¼‰è·‘é©¬ç¯\n\tffplay -i input.mp4 -vf \"movie=sub_320x240.mp4[test];[in][test]overlay=x=mod(50*t\\,main_w):y=abs(sin(t))*main_h*0.7[out]\"\n\n```\n\n\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>5ã€å¤šå®«æ ¼å¤„ç†ï¼š</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ä»å‰æ–‡ä¸­å¯ä»¥çœ‹å‡ºè¿›è¡Œè§†é¢‘å›¾åƒå¤„ç†æ—¶ï¼Œoverlay æ»¤é•œä¸ºå…³é”®ç”»å¸ƒï¼Œå¯ä»¥é€šè¿‡ FFmpegå»ºç«‹ä¸€ä¸ªç”»å¸ƒï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤çš„ç”»å¸ƒã€‚å¦‚æœæƒ³ä»¥å¤šå®«æ ¼çš„æ–¹å¼å±•ç°ï¼Œåˆ™å¯ä»¥è‡ªå·±å»ºç«‹ä¸€ä¸ªè¶³å¤Ÿå¤§çš„ç”»å¸ƒï¼Œ ä¸‹é¢å°±æ¥çœ‹ä¸€ä¸‹å¤šå®«æ ¼å±•ç¤ºçš„ä¾‹å­ï¼š</strong></font>\n\n```python\nffmpeg -i 1.mp4 -i 2.mp4 -i 3.mp4 -i 4.mp4 -filter_complex \"nullsrc=size=640x480[base];[0:v] setpts=PTS-STARTPTS,scale=320x240[upperleft];[1:v]setpts=PTS-STARTPTS,scale=320x240[upperright];[2:v]setpts=PTS-STARTPTS, scale=320x240[lowerleft];[3:v]setpts=PTS-STARTPTS,scale=320x240[lowerright];[base][upperleft]overlay=shortest=1[tmp1];[tmp1][upperright]overlay=shortest=1:x=320[tmp2];[tmp2][lowerleft]overlay=shortest=1:y=240[tmp3];[tmp3][lowerright]overlay=shortest=1:x=320:y=240\" out.mp4\n\n# 1.2.3.4.mp4 ä¸ºæ–‡ä»¶è·¯å¾„ï¼Œout.MP4 ä¸ºè¾“å‡ºæ–‡ä»¶è·¯å¾„ï¼Œé€šè¿‡ nullsrc åˆ›å»º overlay ç”»å¸ƒï¼Œç”»å¸ƒå¤§å° 640:480,ä½¿ç”¨[0:v][1:v][2:v][3:v]å°†è¾“å…¥çš„ 4 ä¸ªè§†é¢‘æµå»é™¤ï¼Œåˆ†åˆ«è¿›è¡Œç¼©æ”¾å¤„ç†ï¼Œç„¶ååŸºäº nullsrc ç”Ÿæˆçš„ç”»å¸ƒè¿›è¡Œè§†é¢‘å¹³é“ºï¼Œå‘½ä»¤ä¸­è‡ªå®šä¹‰ upperleft,upperright,lowerleft,lowerright è¿›è¡Œä¸åŒä½ç½®å¹³é“ºã€‚\n\n# åªå åŠ å·¦ä¸Šå³ä¸Šçš„å‘½ä»¤ï¼ˆè¾“å‡ºåˆ°tmp1ä¸­ï¼Œå¯ä»¥æœ€ååŠ [out]ï¼‰ï¼š\nffmpeg -i 1.mp4 -i 2.mp4 -i 3.mp4 -i 4.mp4 -filter_complex \"nullsrc=size=640x480[base];[0:v]setpts=PTS-STARTPTS,scale=320x240[upperleft];[1:v]setpts=PTS-STARTPTS,scale=320x240[upperright];[base][upperleft]overlay=shortest=1[tmp1];[tmp1][upperright]overlay=shortest=1:x=320\" out2.mp4\n\n```\n\n\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>6ã€è§†é¢‘å€’æ”¾ç›¸å…³æ§åˆ¶ï¼š</strong></font>\n\n```python\n# é€šè¿‡ffmpegå‘½ä»¤è¡Œè¿›è¡ŒéŸ³è§†é¢‘å€’æ”¾ï¼Œandroidå¹³å°åŒæ ·å¯ä»¥ä»¥å°†ffmpegé›†æˆè¿›å»å®ç°éŸ³è§†é¢‘çš„ç›¸å…³ç¼–è¾‘\n\n# 1.è§†é¢‘å€’æ”¾ï¼Œæ— éŸ³é¢‘\n\tffmpeg.exe -i inputfile.mp4 -filter_complex [0:v]reverse[v] -map [v] -preset superfast reversed.mp4\n \n# 2.è§†é¢‘å€’æ”¾ï¼ŒéŸ³é¢‘ä¸å˜\n\tffmpeg.exe -i inputfile.mp4 -vf reverse reversed.mp4\n \n# 3.éŸ³é¢‘å€’æ”¾ï¼Œè§†é¢‘ä¸å˜\n\tffmpeg.exe -i inputfile.mp4 -map 0 -c:v copy -af \"areverse\" reversed_audio.mp4\n \n# 4.éŸ³è§†é¢‘åŒæ—¶å€’æ”¾\n\tffmpeg.exe -i test.mp4 -vf reverse -af areverse -preset superfast outtest.mp4\n \n# 6ã€æŸ¥çœ‹éŸ³è§†é¢‘å®é™…æ—¶é•¿\n\tffprobe.exe  -v error -select_streams v:0 -show_entries stream=duration -of default=noprint_wrappers=1:nokey=1 input.mp4\n\tffprobe.exe  -v error -select_streams a:0 -show_entries stream=duration -of default=noprint_wrappers=1:nokey=1 input.mp4\n \n# 7ã€æŸ¥çœ‹NV21\n\tffplay.exe -i input.nv21 -pix_fmt nv21 -s 4624x3472\n \n# 8ã€nv21è½¬jpg\n\tffmpeg -y -s 1920x1080 -pix_fmt nv21 -i image.nv21.yuv image.jpg\n \n# 9.jpgè½¬nv21\n\tffmpeg -i input.jpg -pix_fmt nv21 output_1080x1920.yuv\n \n# 10ã€rgbaè½¬png\n\tffmpeg -f rawvideo -pixel_format rgba -video_size 1080x1920 -i input.raw output.png\n \n# 11ã€jpgè½¬rgba\n\tffmpeg -i input.jpg -vcodec rawvideo -pix_fmt rgba raw1.rgb\n \n# 12ã€å‰”é™¤mp4ä¸­éŸ³é¢‘æˆ–è§†é¢‘ï¼ˆ-map 0:0 -map 0:1ï¼‰\n\tffmpeg.exe -i input.mp4 -map 0:0 -vcodec copy -acodec copy output.mp4\n\t\t-map 0:0:  # ç¬¬1ä¸ªè¾“å…¥æ–‡ä»¶çš„ç¬¬ä¸€ä¸ªæµï¼Œä¹Ÿå°±æ˜¯ä¸»è¦çš„è§†é¢‘æµã€‚\n\t\t-map 0:1:  # ç¬¬1ä¸ªè¾“å…¥æ–‡ä»¶çš„ç¬¬äºŒä¸ªæµï¼Œæ˜¯è§†é¢‘çš„å£°éŸ³ã€‚\n\t\t-vcodec copy:  # æ‹·è´é€‰æ‹©çš„è§†é¢‘æµã€‚\n\t\t-acodec copy: # æ‹·è´é€‰æ‹©çš„å£°éŸ³æµ\n```\n\n## 12ã€åˆ†ç¦»H264æˆ–mpeg2videoè§†é¢‘æ ¼å¼æ•°æ®å‘½ä»¤ï¼š\n\n```python\n#æå–H264:\n\tffmpeg -i source.200kbps.768x320_10s.flv -vcodec libx264 -an -f h264 source.200kbps.768x320_10s.h264\n#æå–MPEG2:\n\tffmpeg -i source.200kbps.768x320_10s.flv -vcodec mpeg2video -an -f mpeg2video source.200kbps.768x320_10s.mpeg2v\n\t\n#æ’­æ”¾YUV\n\tffplay -pixel_format yuv420p -video_size 768x320 -framerate 25 source.200kbps.768x320_10s.yuv\n\n```\n\n## 13ã€ffmpeg å‘½ä»¤æŸ¥æ‰¾é‡å®šå‘(-f fmt å¯¹åº”çš„å‚æ•°)\n\n```python\n# \tâ½å¦‚æˆ‘ä»¬åœ¨-f fmtæ‰“ç®—æŒ‡å®šæ ¼å¼æ—¶ï¼Œæ€ä¹ˆçŸ¥é“ä»€ä¹ˆæ ·çš„æ ¼å¼æ‰æ˜¯é€‚åˆçš„formatï¼Ÿ\n#\t\tå¯ä»¥é€šè¿‡ffmpeg -formats | findstr xxçš„â½…å¼å»æŸ¥æ‰¾ã€‚\n#\t\tå¯¹äºfindstrï¼Œ/iæ˜¯å¿½ç•¥â¼¤â¼©å†™\n# â½å¦‚ï¼š\n# \tæŸ¥æ‰¾Audioçš„è£¸æµè§£å¤â½¤å™¨ï¼šffmpeg -formats | findstr /i audio\n# \tæŸ¥æ‰¾Videoçš„è£¸æµè§£å¤â½¤å™¨ï¼šffmpeg -formats | findstr /i video\n\n```\n\n## 14ã€ffmpegå…¶ä»–åŸºç¡€å‘½ä»¤ï¼š\n\n```python\n#æŸ¥çœ‹è§†é¢‘å…ƒä¿¡æ¯  æ¯”å¦‚ ç¼–ç æ ¼å¼å’Œæ¯”ç‰¹ç‡\n$ ffmpeg -i input.mp4\n#åªæŸ¥çœ‹å…ƒä¿¡æ¯\n$ ffmpeg -i input.mp4 -hide_banner \n\n#å°†éŸ³é¢‘å’Œè§†é¢‘åˆå¹¶åˆ°ä¸€ä¸ªæ–‡ä»¶ï¼š\n$ ffmpeg -i input.aac -i input.mp4 output.mp4\n\n#æˆªå–ä¸€å¼ å›¾ç‰‡ï¼š\n$ffmpeg -ss 01:23:45 -i input -vframes 1 -q:v 2 output.jpg\n\n#ä¸ºéŸ³é¢‘æ·»åŠ å°é¢ï¼š\n$ ffmpeg -loop 1 -i cover.jpg -i input.mp3 -c:v libx264 -c:a aac -b:a 192k -shortest output.mp4\n#\tæœ‰ä¸¤ä¸ªè¾“å…¥æ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯å°é¢å›¾ç‰‡cover.jpgï¼Œå¦ä¸€ä¸ªæ˜¯éŸ³é¢‘æ–‡ä»¶input.mp3ã€‚\n#\t\t-loop 1å‚æ•°è¡¨ç¤ºå›¾ç‰‡æ— é™å¾ªç¯ï¼Œ-shortestå‚æ•°è¡¨ç¤ºéŸ³é¢‘æ–‡ä»¶ç»“æŸï¼Œè¾“å‡ºè§†é¢‘å°±ç»“æŸã€‚\n\n```\n\n## 15ã€èŠ±å± ç»¿å±\nç»¿å±çš„ä¸»è¦æ˜¯: æ— æ³•æ¸²æŸ“çš„ç”»é¢æœ‰äº›ç”¨é»‘è‰²å¡«å……ï¼Œæœ‰äº›ç”¨ç»¿è‰²å¡«å……ï¼Œæœ‰äº›ç”¨ä¸Šä¸€å¸§ç”»é¢å¡«å……ã€‚\n\n===> è§†é¢‘å‚æ•°æ”¹å˜ï¼Œ è€Œè§£ç ç«¯çš„SPS&PPSä¿¡æ¯æœªåŠæ—¶é‡æ–°è·å–æ›´æ–°ï¼Œä¼šå¯¼è‡´ç”»é¢æ— æ³•æ­£å¸¸æ¸²æŸ“ï¼Œç»§è€Œå¯¼è‡´ç»¿å±çš„ç°è±¡å‡ºç°ã€‚\n\n## 15.1ï¼šå…¨å±èŠ±å±ï¼š\n æ­£å¸¸èŠ±å±ï¼š\n\n==>ç ç‡ç‰¹åˆ«ä½çš„æ—¶å€™å‡ºç°çš„å¤§é¢ç§¯é©¬èµ›å…‹ï¼Œç¼–ç å™¨æ¯ç§’äº§ç”Ÿçš„è§†é¢‘æ•°æ®å¤ªå°‘ã€‚\n\n==>è§†é¢‘å‚æ•°é—®é¢˜ï¼š\n\n======>è§†é¢‘æºä¿®æ”¹è¿‡è§†é¢‘å‚æ•°(å¦‚ä»720Pä¿®æ”¹1080P),æ­¤æ—¶å®¢æˆ·ç«¯ç”¨äºè§£ç çš„SPS&PPSå¦‚æœæ²¡æœ‰é‡æ–°è·å–çš„è¯ï¼Œå°±ä¼šå‡ºç°æ•´ä¸ªç”»é¢èŠ±å±çš„ç°è±¡ã€‚\n\n======>ä¸ä¼šæ¢å¤ã€‚\n\n## 15.2ï¼šå±€éƒ¨èŠ±å±ï¼š\n SO_SNDBUFçš„Bufferå¤ªå°ï¼Œä¸¢å¤±På¸§\n\n På¸§ä¸¢å¤±ã€‚\n\næ€»ç»“ï¼šè§†é¢‘æ’­æ”¾æ—¶ï¼Œç›¸å…³SPSå’ŒPPSå‚æ•°ä¸åŒ¹é…/ä¸¢å¸§\n","tags":["ffmpeg"],"categories":["_A4-FFmpeg","å‚æ•°è¯¦è§£"]},{"title":"ffmpeg å¡«å……æ”¹å˜é•¿å®½æ¯” 16:9","url":"/2023/08/02/ffmpeg-å¡«å……æ”¹å˜é•¿å®½æ¯”-16-9/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>ffmpeg 9:16å’Œ16:9äº’ç›¸è½¬æ¢</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä»Šå¤©æœé›†äº†ä¸€ä¸‹16:9å’Œ9:16ç›¸äº’è½¬æ¢çš„å‘½ä»¤ã€‚å°†å¤šä½™çš„éƒ¨åˆ†ç”¨æ¨¡ç³ŠèƒŒæ™¯å¡«å……ï¼Œæ„Ÿè§‰æ¯”ç›´æ¥åŠ é»‘è¾¹å¥½å¾ˆå¤šã€‚</strong></font>\n\n<br>\n\n---\n\n<br>\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>16:9 >>> 9:16 å¡«å……é»‘è‰²</strong></font>\n\n```shell\nffmpeg -i input.mp4 -vf \"pad=iw:iw*16/9:(ow-iw)/2:(oh-ih)/2\" output.mp4 -y\n```\n\n\n\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>16:9 >>> 9:16</strong></font>\n\n```shell\nffmpeg -i input.mp4 -lavfi \"[0:v]scale=256/81*iw:256/81*ih,boxblur=luma_radius=min(h\\,w)/40:luma_power=3:chroma_radius=min(cw\\,ch)/40:chroma_power=1[bg];[bg][0:v]overlay=(W-w)/2:(H-h)/2,setsar=1,crop=w=iw*81/256\"  output.mp4\n```\n\n![](https://s2.loli.net/2023/08/02/BSHutTpYIiNe2Fz.jpg)\n\n![](https://s2.loli.net/2023/08/02/JMvCPdBLqwi3NKt.jpg)\n\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>9:16 >>> 16:9</strong></font>\n\n```shell\nffmpeg -i input.mp4 -lavfi '[0:v]scale=ih*16/9:-1,boxblur=luma_radius=min(h\\,w)/20:luma_power=1:chroma_radius=min(cw\\,ch)/20:chroma_power=1[bg];[bg][0:v]overlay=(W-w)/2:(H-h)/2,crop=h=iw*9/16' -vb 800K output.mp4\n```\n\n![](https://www.zhangwenbing.com/static/uploads/Bki3dANDX/img/16-9_9-16_BJxGn0VwQ.jpg)\n\n![](https://s2.loli.net/2023/08/02/J4vPM1e8AwkgVq2.jpg)\n","tags":["ffmpeg"],"categories":["_A4-FFmpeg","å‚æ•°è¯¦è§£"]},{"title":"python3 æ“ä½œsqlite3æ•°æ®åº“","url":"/2023/07/31/python3-æ“ä½œsqlite3æ•°æ®åº“/","content":"\n\n\n# Python å¦‚ä½•æ“ä½œ SQLite æ•°æ®åº“\n\n<!--more-->\n\n##### SQLite æ˜¯ä¸€ç§è½»å‹çš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œå®ƒæ”¯æŒ SQL è¯­è¨€ã€‚å®ƒæ‹¥æœ‰å°å·§ã€å¿«é€Ÿã€å¯é ã€è·¨å¹³å°ç­‰ç‰¹ç‚¹ï¼Œå¸¸ç”¨äºç§»åŠ¨è®¾å¤‡ã€åµŒå…¥å¼ç³»ç»Ÿå’Œå°å‹åº”ç”¨ç¨‹åºçš„å¼€å‘ã€‚Python æ˜¯ä¸€ç§è§£é‡Šå‹ã€é¢å‘å¯¹è±¡ã€åŠ¨æ€æ•°æ®ç±»å‹çš„é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼Œé€‚åˆäºå¿«é€Ÿå¼€å‘ã€ç®€æ´æ˜äº†çš„ä»£ç ç¼–å†™ã€‚Python é€šè¿‡ SQLite æ¨¡å—æ¥æ“ä½œ SQLite æ•°æ®åº“ï¼Œæä¾›äº†éå¸¸ç®€å•ã€æ–¹ä¾¿çš„æ¥å£ï¼Œæœ¬æ–‡å°†ä»å¤šä¸ªè§’åº¦åˆ†æ Python å¦‚ä½•æ“ä½œ SQLite æ•°æ®åº“ã€‚\n\n## ä¸€ã€Python å¦‚ä½•è¿æ¥ SQLite æ•°æ®åº“\nPython è¿æ¥ SQLite æ•°æ®åº“éå¸¸ç®€å•ï¼Œåªéœ€è¦å¼•å…¥ sqlite3 æ¨¡å—ï¼Œä½¿ç”¨ connect() æ–¹æ³•å³å¯ã€‚connect() æ–¹æ³•çš„è¯­æ³•å¦‚ä¸‹ï¼š\n\n```python\nimport sqlite3\nconn = sqlite3.connect('example.db')\n```\n\nå…¶ä¸­ example.db æ˜¯æ•°æ®åº“æ–‡ä»¶åï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ä¼šè‡ªåŠ¨åˆ›å»ºã€‚connect() æ–¹æ³•è¿˜å¯ä»¥æ¥æ”¶å¤šä¸ªå‚æ•°ï¼Œç”¨äºè®¾ç½®è¿æ¥å±æ€§ï¼Œå¦‚ï¼š\n\n```python\nconn = sqlite3.connect('example.db', isolation_level=None, timeout=5)\n```\n\nå…¶ä¸­ isolation_level è¡¨ç¤ºäº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œtimeout è¡¨ç¤ºè¶…æ—¶æ—¶é—´ï¼ŒNone è¡¨ç¤ºä¸é™åˆ¶ã€‚\n\n## äºŒã€Python å¦‚ä½•åˆ›å»º SQLite æ•°æ®åº“è¡¨\nPython çš„ sqlite3 æ¨¡å—æä¾›äº† execute() æ–¹æ³•æ¥æ‰§è¡Œ SQL è¯­å¥ã€‚ä½¿ç”¨ execute() æ–¹æ³•å¯ä»¥æ‰§è¡Œä»»ä½• SQL è¯­å¥ï¼ŒåŒ…æ‹¬åˆ›å»ºè¡¨ã€æ’å…¥æ•°æ®ã€æŸ¥è¯¢æ•°æ®ç­‰ã€‚ä¸‹é¢æ˜¯åˆ›å»ºè¡¨çš„ç¤ºä¾‹ä»£ç ï¼š\n\n```python\nimport sqlite3\nconn = sqlite3.connect('example.db')\nc = conn.cursor()\nc.execute('''CREATE TABLE IF NOT EXISTS stocks\n(date text, trans text, symbol text, qty real, price real)''')\nconn.commit()\nconn.close()\n```\n\nä»¥ä¸Šä»£ç åˆ›å»ºäº†ä¸€ä¸ªåä¸º stocks çš„è¡¨ï¼ŒåŒ…å« dateã€transã€symbolã€qtyã€price äº”ä¸ªå­—æ®µï¼Œåˆ†åˆ«è¡¨ç¤ºæ—¥æœŸã€äº¤æ˜“ç±»å‹ã€è‚¡ç¥¨ä»£ç ã€æ•°é‡å’Œä»·æ ¼ã€‚å…¶ä¸­ IF NOT EXISTS è¡¨ç¤ºå¦‚æœè¡¨å·²ç»å­˜åœ¨åˆ™ä¸å†åˆ›å»ºã€‚\n\n## ä¸‰ã€Python å¦‚ä½•æ’å…¥ SQLite æ•°æ®åº“\næ’å…¥æ•°æ®ä¹Ÿæ˜¯ä½¿ç”¨ execute() æ–¹æ³•ï¼Œä¸‹é¢æ˜¯æ’å…¥æ•°æ®çš„ç¤ºä¾‹ä»£ç ï¼š\n\n```python\nimport sqlite3\nconn = sqlite3.connect('example.db')\nc = conn.cursor()\nc.execute(\"INSERT INTO stocks VALUES ('2006-01-05', 'BUY', 'RHAT', 100, 35.14)\")\nconn.commit()\nconn.close()\n```\n\n\nä»¥ä¸Šä»£ç æ’å…¥äº†ä¸€æ¡æ•°æ®ï¼Œæ—¥æœŸä¸º 2006-01-05ï¼Œäº¤æ˜“ç±»å‹ä¸º BUYï¼Œè‚¡ç¥¨ä»£ç ä¸º RHATï¼Œæ•°é‡ä¸º 100ï¼Œä»·æ ¼ä¸º 35.14ã€‚\n\n## å››ã€Python å¦‚ä½•æŸ¥è¯¢ SQLite æ•°æ®åº“\næŸ¥è¯¢æ•°æ®ä¹Ÿæ˜¯ä½¿ç”¨ execute() æ–¹æ³•ï¼Œä¸‹é¢æ˜¯æŸ¥è¯¢æ•°æ®çš„ç¤ºä¾‹ä»£ç ï¼š\n\n```python\nimport sqlite3\nconn = sqlite3.connect('example.db')\nc = conn.cursor()\nfor row in c.execute(\"SELECT * FROM stocks WHERE symbol='RHAT'\"):\nprint(row)\nconn.close()\n```\n\nä»¥ä¸Šä»£ç æŸ¥è¯¢äº†è¡¨ stocks ä¸­è‚¡ç¥¨ä»£ç ä¸º RHAT çš„æ•°æ®ï¼Œå¹¶æ‰“å°å‡ºæ¥ã€‚\n\n## äº”ã€Python å¦‚ä½•æ›´æ–° SQLite æ•°æ®åº“\næ›´æ–°æ•°æ®ä½¿ç”¨ execute() æ–¹æ³•çš„ UPDATE è¯­å¥ï¼Œä¸‹é¢æ˜¯æ›´æ–°æ•°æ®çš„ç¤ºä¾‹ä»£ç ï¼š\n\n```python\nimport sqlite3\nconn = sqlite3.connect('example.db')\nc = conn.cursor()\nc.execute(\"UPDATE stocks SET qty=200 WHERE symbol='RHAT'\")\nconn.commit()\nconn.close()\n```\n\nä»¥ä¸Šä»£ç æ›´æ–°äº†è¡¨ stocks ä¸­è‚¡ç¥¨ä»£ç ä¸º RHAT çš„æ•°æ®ï¼Œå°†æ•°é‡æ”¹ä¸º 200ã€‚\n\n## å…­ã€Python å¦‚ä½•åˆ é™¤ SQLite æ•°æ®åº“\nåˆ é™¤æ•°æ®ä½¿ç”¨ execute() æ–¹æ³•çš„ DELETE è¯­å¥ï¼Œä¸‹é¢æ˜¯åˆ é™¤æ•°æ®çš„ç¤ºä¾‹ä»£ç ï¼š\n\n```python\nimport sqlite3\nconn = sqlite3.connect('example.db')\nc = conn.cursor()\nc.execute(\"DELETE FROM stocks WHERE symbol='RHAT'\")\nconn.commit()\nconn.close()\n```\n\n\nä»¥ä¸Šä»£ç åˆ é™¤äº†è¡¨ stocks ä¸­è‚¡ç¥¨ä»£ç ä¸º RHAT çš„æ•°æ®ã€‚\n\n## ä¸ƒã€Python å¦‚ä½•äº‹åŠ¡å¤„ç† SQLite æ•°æ®åº“\näº‹åŠ¡æ˜¯ä¸€ç»„æ“ä½œï¼Œå®ƒä»¬è¢«è§†ä¸ºå•ä¸ªå·¥ä½œå•å…ƒï¼Œè¦ä¹ˆå…¨éƒ¨è¢«æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œã€‚åœ¨ SQLite ä¸­ï¼Œä½¿ç”¨ BEGINã€COMMIT å’Œ ROLLBACK è¯­å¥æ¥å¤„ç†äº‹åŠ¡ã€‚Python çš„ sqlite3 æ¨¡å—æä¾›äº† commit() å’Œ rollback() æ–¹æ³•æ¥æäº¤æˆ–å›æ»šäº‹åŠ¡ã€‚ä¸‹é¢æ˜¯äº‹åŠ¡å¤„ç†çš„ç¤ºä¾‹ä»£ç ï¼š\n\n```python\nimport sqlite3\nconn = sqlite3.connect('example.db')\nc = conn.cursor()\ntry:\n  c.execute(\"BEGIN\")\n  c.execute(\"UPDATE stocks SET qty=200 WHERE symbol='RHAT'\")\n  c.execute(\"COMMIT\")\nexcept:\n  c.execute(\"ROLLBACK\")\nconn.close()\n```\n\n\nä»¥ä¸Šä»£ç ä½¿ç”¨ BEGIN å¼€å§‹ä¸€ä¸ªäº‹åŠ¡ï¼Œå¦‚æœæ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°å¼‚å¸¸ï¼Œåˆ™ä½¿ç”¨ ROLLBACK å›æ»šäº‹åŠ¡ï¼Œå¦åˆ™ä½¿ç”¨ COMMIT æäº¤äº‹åŠ¡ã€‚\n\nç»¼ä¸Šæ‰€è¿°ï¼ŒPython æ“ä½œ SQLite æ•°æ®åº“éå¸¸ç®€å•ï¼Œåªéœ€è¦å¼•å…¥ sqlite3 æ¨¡å—ï¼Œä½¿ç”¨ connect() æ–¹æ³•è¿æ¥æ•°æ®åº“ï¼Œä½¿ç”¨ execute() æ–¹æ³•æ‰§è¡Œ SQL è¯­å¥å³å¯ã€‚é€šè¿‡æœ¬æ–‡çš„ä»‹ç»ï¼Œè¯»è€…åº”è¯¥èƒ½å¤ŸæŒæ¡ Python å¦‚ä½•è¿æ¥ã€åˆ›å»ºã€æ’å…¥ã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤å’Œäº‹åŠ¡å¤„ç† SQLite æ•°æ®åº“çš„æ–¹æ³•ã€‚\n","tags":["æ•°æ®åº“","sqlite3"],"categories":["_9-æ•°æ®åº“","Sqlite3"]},{"title":"sqlite3 å¢åˆ æ”¹æŸ¥","url":"/2023/07/31/sqlite3-å¢åˆ æ”¹æŸ¥/","content":"\n# sqlite3 å¢åˆ æ”¹æŸ¥:\n\n<!--more-->\n\n```python\n## è¿›å…¥ sqlite3\nsqlite3 /home/kaye/student\n\n## è¿›å…¥ sqlite3 å¹¶ä¿å­˜æ•°æ®åº“åˆ°æŒ‡å®šè·¯å¾„\nsqlite3\n\n## é€€å‡º sqlite3\n.exit\n\n## åˆ›å»ºè¡¨\ncreate table student (id integer, name text, age integer);\n\n## æŸ¥çœ‹è¡¨ç»“æ„\n.schema\n\n## æ’å…¥æ•°æ®\ninsert into student (id, name, age) values (1, \"bb\", 11);\ninsert into student values (2, \"cc\", 33);\n\n## æŸ¥è¯¢æ•°æ®\nselect * from student;\n\n## ä¿®æ”¹æ•°æ®\nupdate student set age=25 where id=3;\n\n## åˆ é™¤æ•°æ®\ndelete from student where id=1;\n\n## åˆ é™¤è¡¨\ndrop table student;\n```\n\n","tags":["æ•°æ®åº“","sqlite3"],"categories":["_9-æ•°æ®åº“","Sqlite3"]},{"title":"ffmpeg xxxæ ¼å¼è½¬mp4","url":"/2023/07/21/ffmpeg-xxxæ ¼å¼è½¬mp4/","content":"\n\n\n# ffmpeg xxxæ ¼å¼ è½¬ mp4 h264\n\n<!--more-->\n\n```shell\n# ffmpeg -i \"<è¾“å…¥è§†é¢‘>\" -vcodec h264 -acodec aac \"<è¾“å‡ºè§†é¢‘>\"\n# ä¾‹å¦‚ï¼š\nffmpeg -i \"in.mp4\" -vcodec h264 -acodec aac \"to.mp4\"\n```\n\n","tags":["ffmpeg"],"categories":["_A4-FFmpeg","å‚æ•°è¯¦è§£"]},{"title":"ffmpegåˆå¹¶å¤šä¸ªè§†é¢‘æ–‡ä»¶","url":"/2023/07/21/ffmpegåˆå¹¶å¤šä¸ªè§†é¢‘æ–‡ä»¶/","content":"\n\n\n# ffmpegåˆå¹¶å¤šä¸ªè§†é¢‘æ–‡ä»¶\n\n<!--more-->\n\n## **æ–¹æ³•ä¸€ï¼š ç›´æ¥åˆå¹¶**\n\n+ åœ¨è§†é¢‘æ‰€åœ¨æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶(å‰ææ˜¯ä½ æ‰€å†™çš„ file æ–‡ä»¶å­˜åœ¨)\n\n```shell\n>>> vim 2.txt\n\nfile '01.mp4'\nfile '02.mp4'\nfile '03.mp4'\nfile '04.mp4'\nfile '05.mp4'\nfile '06.mp4'\nfile '07.mp4'\nfile '08.mp4'\nfile '09.mp4'\nfile '10.mp4'\nfile '11.mp4'\nfile '12.mp4'\n\n>>> :wq\n```\n\n+ ç”¨ffmpegåˆå¹¶æ‰€æœ‰è§†é¢‘\n\n```shell\nffmpeg -f concat -safe 0 -i 2.txt -c copy -y o1.mp4\n# -f concatæ˜¯æŒ‡åˆå¹¶\n# -safe ä¸ºäº†é¿å…æƒé™æŠ¥é”™\n# -c copy ä¸€å®šè¦æŒ‡å®šï¼Œä¸ç„¶ä¼šé‡æ–°å°è£…ï¼Œæ•°æ®æ–‡ä»¶å°±ä¼šå˜å¤§ã€‚\n```\n\n![](https://s2.loli.net/2023/07/21/rWUR1SyHp5Dg9mb.png)\n","tags":["ffmpeg"],"categories":["_A4-FFmpeg","å‚æ•°è¯¦è§£"]},{"title":"centos7ä¸‹æŒ‚è½½ftpæœåŠ¡å™¨","url":"/2023/07/19/centos7ä¸‹æŒ‚è½½ftpæœåŠ¡å™¨/","content":"\n\n\n# centos7 ä¸‹æŒ‚è½½ftpæœåŠ¡å™¨\n\n<!--more-->\n\nä½¿ç”¨curlftpfsæŒ‚è½½ftpæœåŠ¡å™¨åˆ°æœ¬åœ°\n\n[CENTOSä¸‹æŒ‚è½½ftpæœåŠ¡å™¨ | æƒ…æ–‡ã®BLOG (mingilin.com)](https://www.mingilin.com/2016/08/23/centos/centos-ftp/)\n\n## å®‰è£…\n\n```bash\nyum install curlftpfs\n```\n\n\n\n## æŒ‚è½½\n\n```shell\ncurlftpfs -o codepage=utf8 ftp://username:password@192.168.192.168 /ftp\n## codepage:        ç¼–ç \n## username:        FTPç”¨æˆ·å\n## password:        FTPå¯†ç \n## 192.168.1.111:   FTPåœ°å€\n## /ftp:            å‡†å¤‡æŒ‚è½½åˆ°çš„è·¯å¾„\n```\n\n\n\n## å¸è½½\n\n```shell\n## fusermount -u /ftp\numount /ftp\n```\n\n\n\n## å¼€æœºæŒ‚è½½\n\n```shell\necho \"curlftpfs#username:password@192.168.1.111 /ftp fuse allow_other,uid=0,gid=0 0 0\" >> /etc/fstab\n```\n\n","tags":["ç³»ç»Ÿ","è¿ç»´","ftp","æŒ‚è½½"],"categories":["_A3-linux","æŒ‚è½½"]},{"title":"go ç½‘ç»œè¯·æ±‚æ¨¡å—å°è£…(æ”¯æŒja3æŒ‡çº¹ä¿®æ”¹)","url":"/2023/07/17/go-ç½‘ç»œè¯·æ±‚æ¨¡å—å°è£…-æ”¯æŒja3æŒ‡çº¹ä¿®æ”¹/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>go ç½‘ç»œè¯·æ±‚æ¨¡å—å°è£…(æ”¯æŒja3æŒ‡çº¹ä¿®æ”¹)ï¼š</strong></font>\n\n<!--more-->\n\n\n\n## ä¸‹è½½requestsåº“:\n\n+ ä¸‹è½½æœ€æ–°åº“\n\n```shell\ngo get github.com/wangluozhe/requests\n```\n\n+ ä¸‹è½½æŒ‡å®šç‰ˆ\n\n```\ngo get github.com/wangluozhe/requests@v1.0.4\n```\n\n\n\n## <font color=#b0171f size=4 face=å®‹ä½“><strong>å°è£…ä»£ç ç¤ºä¾‹ï¼š</strong></font>\n\n```go\npackage main\n\nimport (\n\t\"fmt\"\n\t\"github.com/wangluozhe/requests\"\n\t\"github.com/wangluozhe/requests/url\"\n)\n\nfunc main() {\n\tSText := get(\"https://xxx.com\")\n\tfmt.Println(SText)\n}\n\n\nfunc get(url_string string) string {\n\treq := url.NewRequest()\n\theaders := url.NewHeaders()\n\theaders.Set(\"User-Agent\", \"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:87.0) Gecko/20100101 Firefox/87.0\")\n\treq.Headers = headers\n\treq.Ja3 = \"771,4865-4867-4866-49195-49199-52393-52392-49196-49200-49162-49161-49171-49172-51-57-47-53-10,0-23-65281-10-11-35-16-5-51-43-13-45-28-21,29-23-24-25-256-257,0\"\n\tr, err := requests.Get(url_string, req)\n\tif err != nil {\n\t\tfmt.Println(err)\n\t}\n\t//fmt.Println(r.Text)\n\treturn r.Text\n}\n```\n\n","tags":["go","åŸºç¡€"],"categories":["Golang","ç½‘ç»œè¯·æ±‚"]},{"title":"go å£°æ˜å˜é‡åˆ°æ–¹å¼","url":"/2023/07/17/go-å£°æ˜å˜é‡åˆ°æ–¹å¼/","content":"\n\n\n# go å£°æ˜å˜é‡åˆ°æ–¹å¼\n\n<!--more-->\n\n```go\npackage main\n\nimport \"fmt\"\nfunc main() {\n\t//ç¬¬ä¸€ç§ï¼šå˜é‡çš„ä½¿ç”¨æ–¹å¼ï¼š æŒ‡å®šå˜é‡çš„ç±»å‹ï¼Œå¹¶ä¸”èµ‹å€¼ã€‚\n\tvar num int = 18\n\tfmt.Println(num)\n\n\t//ç¬¬äºŒç§ï¼šæŒ‡å®šå˜é‡çš„ç±»å‹ï¼Œä½†æ˜¯ä¸èµ‹å€¼ï¼Œä½¿ç”¨é»˜è®¤å€¼\n\tvar num2 int\n\tfmt.Println(num2)\n\n\t//ç¬¬ä¸‰ç§ï¼šå¦‚æœæ²¡æœ‰å†™å˜é‡çš„ç±»å‹ï¼Œ é‚£ä¹ˆæ ¹æ®=åé¢çš„å€¼è¿›è¡Œåˆ¤å®šå˜é‡çš„ç±»å‹ï¼ˆè‡ªåŠ¨ç±»å‹æ¨æ–­ï¼‰\n\tvar num3 = \"tom\"\n\tfmt.Println(num3)\n\n\t//ç¬¬å››ç§ï¼šçœç•¥var, ä¸»æ„ := ä¸èƒ½å†™æˆ=\n\tsex := \"ç”·\"\n\tfmt.Println(sex)\n}\n```\n\n![image-20230717065551364](https://s2.loli.net/2023/07/17/uN4xLbzaESi7sCP.png)\n","tags":["go","åŸºç¡€"],"categories":["Golang","åŸºç¡€"]},{"title":"go ç¯å¢ƒé…ç½®","url":"/2023/07/17/go-ç¯å¢ƒé…ç½®/","content":"\n\n\n# go ç¯å¢ƒé…ç½®\n\n<!--more-->\n\n# sdkæ­å»ºé…ç½®\n\n+ mac\n  + [å®˜æ–¹ä¸‹è½½é€šé“](https://go.dev/dl/)\n\n## è¿è¡Œgoæ–‡ä»¶\n\n```\n# cd åˆ°mainç›®å½•ä¸‹\n>>> cd /Users/kate_01/GolandProjects/go_day02/main\n\n# ç„¶åè¿è¡Œgoæ–‡ä»¶å³å¯\n>>> go run test.go\n```\n\n","tags":["ç¯å¢ƒæ­å»º","å¼€å‘ç¯å¢ƒ"],"categories":["Golang","åŸºç¡€"]},{"title":"CentOS7ä½¿ç”¨curlftpsæŒ‚è½½ftpä¸ºæœ¬åœ°ç›®å½•","url":"/2023/07/17/CentOS7ä½¿ç”¨curlftpsæŒ‚è½½ftpä¸ºæœ¬åœ°ç›®å½•/","content":"\n\n\n# CentOS7ä½¿ç”¨curlftpsæŒ‚è½½ftpä¸ºæœ¬åœ°ç›®å½•\n\n<!--more-->\n\n<font color=red size=4 face=å®‹ä½“><strong>å£°æ˜ï¼š</strong></font><font color=#b0171f size=3 face=å®‹ä½“><strong>æœ¬æ–‡è½¬è½½è‡ª Â Â [`ch3nnn`](https://ch3nnn.blog.csdn.net/)Â >>>Â [CentOS7ä½¿ç”¨curlftpsæŒ‚è½½ftpä¸ºæœ¬åœ°ç›®å½•](https://blog.csdn.net/weixin_43064185/article/details/116748177)</strong></font>ã€‚ <font color=#00b2c2 size=5 face=å®‹ä½“><strong>å¹¶ä¿®æ”¹</strong></font>\n\ncurlftpsæ˜¯ä»€ä¹ˆï¼Ÿåœ¨linuxä¸‹å®ƒå¯ä»¥å°†ftpæŒ‚è½½ä¸ºæœ¬åœ°æ–‡ä»¶å¤¹ï¼Œè¿™æ ·çš„è¯æ“ä½œæˆ–è€…ç®¡ç†æ–‡ä»¶èµ·æ¥ä¼šæ¯”è¾ƒæ–¹ä¾¿ã€‚\n\n## ä¸€ï¼šä»¥ä¸‹çš†ä»¥CentOS7ä¸‹è¿›è¡Œæ“ä½œ:\n\n```bash\n# å®‰è£…curlftps\nyum -y install epel-release\nyum -y install curlftpfs\n\n# æŒ‚è½½\n# curlftps ftp://ç”¨æˆ·å:å¯†ç @ftpæœåŠ¡å™¨åœ°å€ /æŒ‚è½½çš„æ–‡ä»¶å¤¹\n\n# ä¾‹å¦‚\ncurlftps ftp://kaygb:kaygbpasswd@127.0.0.1 /www/wwwroot/ftp\n```\n\n## äºŒï¼šç¼–ç è½¬æ¢\n\n+ å¦‚æœftpåŒ…å«ç‰¹æ®Šå­—ç¬¦çš„è¯ï¼Œéœ€è¦è¿›è¡ŒASCIIç¼–ç è½¬æ¢\n\n| ASCIIç¬¦å· | ä¸­æ–‡å | ç¼–ç ä¹‹åçš„å€¼ |\n| --------- | ------ | ------------ |\n| ç©ºæ ¼      | ç©ºæ ¼   | %20          |\n| ï¼        | æ„Ÿå¹å· | %21          |\n| &         | and    | %26          |\n| @         | at     | %40          |\n| /         | æ–œæ    | %2F          |\n| :         | å†’å·   | %3A          |\n| =         | ç­‰äºå· | %3D          |\n| ?         | é—®å¥½   | %3F          |\n| ~         | æ³¢æµªå· | %7E          |\n\n## ä¸‰ï¼šæ¼”ç¤º:\n\n+ å¦‚æœç”¨æˆ·åç±»ä¼¼ï¼škaygb/kaygb\n\n+ é‚£ä¹ˆå°±è¦ä¿®æ”¹æˆï¼škaygb%2Fkaygb\n\n+ æœ€ç»ˆçš„å‘½ä»¤æ˜¯\n\n```bash\ncurlftps ftp://kaygb%2Fkaygb:kaygbpasswd@127.0.0.1 /www/wwwroot/ftp\n```\n\n## å››ï¼šå¼€æ”¾è®¿é—®æƒé™:\n\n```bash\n# å¦‚æœä½ å’Œæˆ‘ä¸€æ ·ï¼Œé‡‡ç”¨äº†ç±»ä¼¼å¯é“äº‘æˆ–è€…åˆ«çš„ä½¿ç”¨wwwç”¨æˆ·çš„äº‘ç›˜ç¨‹åºï¼Œå¦‚æœé‡‡ç”¨ä¸Šè¿°å‘½ä»¤çš„è¯å°±ä¼šå‡ºç°wwwç”¨æˆ·æ— æ³•è®¿é—®çš„æƒ…å†µï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦æ›´æ”¹ä¸€ä¸‹å‘½ä»¤æ¥è®¾ç½®è®¿é—®æƒé™\n# å…è®¸rootç”¨æˆ·ä¹‹å¤–çš„ç”¨æˆ·è®¿é—®\ncurlftpfs -o rw,allow_other ftp://kaygb%2Fkaygb:kaygbpasswd@127.0.0.1 /www/wwwroot/ftp\n```\n\n\n## äº”ï¼šå‘½ä»¤è§£è¯»ï¼š\n\n```bash\n# rwï¼šç»™è¯»å†™çš„æƒé™\n# allow_otherï¼šå…è®¸rootç”¨æˆ·ä¹‹å¤–çš„ç”¨æˆ·è®¿é—®ï¼ˆwwwï¼‰\n\n# æŒ‡å®šwwwç”¨æˆ·è®¿é—®\n# è·å–wwwçš„uidå’Œgid\n>>> cat /etc/passwd | grep ä½ çš„ç”¨æˆ·å\n\n# ä¾‹å¦‚\n>>> cat /etc/passwd | grep www\n>>> www:x:1000:1000::/home/www:/bin/bash\n# 1000å’Œ1000æ—¢ä¸ºuidå’Œgidçš„å€¼\n```\n\n## å…­ï¼šæŒ‚è½½\n\n```bash\ncurlftpfs -o rw,allow_other,uid=1000,gid=1000 ftp://kaygb%2Fkaygb:kaygbpasswd@127.0.0.1 /www/wwwroot/ftp\n# uidå’Œgidéœ€è¦æ¢æˆè‡ªå·±çš„wwwçš„uidå’Œgid\n```\n\n## ä¸ƒï¼šå–æ¶ˆæŒ‚è½½\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>æœ‰ä¸‰ç§æ–¹æ³•ï¼Œæ¨èæ–¹æ³•2</strong></font>\n\n+ æ–¹æ³•1ï¼š`ps -ef|grep ftp`ï¼Œç„¶åä½¿ç”¨killæ¥åœæ‰æŒ‚è½½è¿›ç¨‹\n\n+ æ–¹æ³•2ï¼š`fusermount -u/www/wwwroot/ftp`\n\n+ æ–¹æ³•3ï¼š`umount /www/wwwroot/ftp`\n","tags":["ç³»ç»Ÿ","è¿ç»´","ftp","æŒ‚è½½"],"categories":["_A3-linux","æŒ‚è½½"]},{"title":"ç»•è¿‡Cloudflareåçˆ¬è™«æœºåˆ¶çš„äº”ç§æ–¹æ³•","url":"/2023/07/16/ç»•è¿‡Cloudflareåçˆ¬è™«æœºåˆ¶çš„äº”ç§æ–¹æ³•/","content":"\n\n\n# ç»•è¿‡Cloudflareåçˆ¬è™«æœºåˆ¶çš„äº”ç§æ–¹æ³•\n\n<!--more-->\n\n+ æœ¬æ–‡å°†ä»‹ç»äº”ç§æ–¹æ³•ï¼Œå¸®åŠ©å¼€å‘è€…ç»•è¿‡[Cloudflareåçˆ¬è™«](https://www.cloudbypass.com/)æœºåˆ¶ï¼ŒåŒ…æ‹¬ä½¿ç”¨cloudscraperåº“ã€æŠ“å–è°·æ­Œç¼“å­˜ã€ä½¿ç”¨undetected_chromedriveråº“ã€ä½¿ç”¨ä»˜è´¹ä»£ç†å’Œä½¿ç”¨ç©¿äº‘APIã€‚\n\n+ åœ¨çˆ¬è™«å¼€å‘ä¸­ï¼Œæœ‰æ—¶å€™ä¼šé‡åˆ°æµè§ˆå™¨æ­£å¸¸è®¿é—®ç½‘ç«™ï¼Œä½†æ˜¯ä»£ç å´æ— æ³•è·å–æ•°æ®ï¼Œè¿”å›403ç­‰é”™è¯¯ã€‚ä»¥ä¸‹æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„äº”ç§æ–¹æ³•ï¼š\n\n![img](https://s2.loli.net/2023/07/16/qOloz5tsmWiBQRj.jpg)\n\n## **æ–¹æ³•ä¸€ï¼šcloudscraper**\n\nå¯¹äºéœ€è¦ç­‰å¾…çš„ç½‘ç«™ï¼ˆé€šå¸¸ç­‰å¾…5ç§’é’Ÿï¼‰ï¼Œ80%çš„æƒ…å†µä¸‹å¯ä»¥ç¡®å®šä½¿ç”¨äº†5ç§’ç›¾åçˆ¬æœºåˆ¶ã€‚åœ¨Pythonä¸­ï¼Œå¯ä»¥ä½¿ç”¨cloudscraperåº“ç»•è¿‡ç­‰å¾…ã€‚\n\n+ ä½¿ç”¨æ–¹æ³•ï¼š\n\n```bash\n# å®‰è£…ï¼šcloudscraper\npip install cloudscraper\n\n# æ›´æ–°æœ€æ–°ç‰ˆæœ¬ï¼š\npip install cloudscraper -Uã€€ã€€\n```\n\n+ æ™®é€šä½¿ç”¨ï¼š\n\n```python\nimport cloudscraper\n\nscraper=cloudscraper.create_scraper()  # åˆ›å»ºå®ä¾‹\nres=scraper.get(url)  # è¯·æ±‚URL\nprint(res.text) # æ‰“å°ç»“æœ\n```\n\n+ åœ¨Scrapyä¸­ä½¿ç”¨ï¼š\n\n```python\nmiddlewares.py\nimport cloudscraper\nclass CloudScraperMiddleware:\n\tdefprocess_response(self,request,response,spider):\n    ifresponse.status == 403:\n      url = request.url\n      req = spider.scraper.get(url,headers={â€˜refererâ€™:url})\n      return HtmlResponse(url = url,body = req.text, encoding = â€utf-8â€³, request = request)\n    return response\n\nspider.py\n\nimportcloudscraper\n#å¯ç”¨ä¸­é—´ä»¶\ncustom_settings={\nâ€DOWNLOADER_MIDDLEWARESâ€:{\nâ€™testspider.middlewares.CloudScraperMiddlewareâ€™:520,\n}\n}\ndef__init__(self,**kwargs):\n#åˆ›å»ºå®ä¾‹\nself.scraper=cloudscraper.create_scraper()ã€€ã€€\n```\n\n## **æ–¹æ³•äºŒï¼šæŠ“å–è°·æ­Œç¼“å­˜**\n\nå½“è°·æ­ŒæŠ“å–ç½‘ç»œä»¥ç´¢å¼•ç½‘é¡µæ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªç¼“å­˜ã€‚å¤§å¤šæ•°å—[Cloudflare](https://so.csdn.net/so/search?q=Cloudflare&spm=1001.2101.3001.7020)ä¿æŠ¤çš„ç½‘ç«™éƒ½å…è®¸è°·æ­ŒæŠ“å–å…¶ç½‘é¡µï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æŠ“å–è¿™ä¸ªç¼“å­˜ã€‚\n\n+ ä½¿ç”¨æ–¹æ³•ï¼š\n\n```python\nimport requests\n\nurl = \"https://www.xxx.com/\"\nnew_url = f\"https://webcache.googleusercontent.com/search?q=cache:{url}\"\nresponse = requests.get(new_url)\nprint(response.text)\n#æå–æ‰€éœ€æ•°æ®ã€€ã€€\n```\n\n## **æ–¹æ³•ä¸‰ï¼šundetected_chromedriver**\n\nå¦‚æœæ‚¨ä½¿ç”¨SeleniumæŠ“å–ç½‘é¡µæ—¶è¢«å°ç¦ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨undetected_chromedriveråº“ã€‚è¯¥åº“æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–å·¥å…·ï¼Œæ›´ç®€å•ä¸”ä¸å®¹æ˜“è¢«å°ç¦ï¼Œç”šè‡³æ— éœ€ä¸‹è½½é©±åŠ¨ã€‚\n\n+ å®‰è£…æ–¹æ³•ï¼š\n\n```bash\npip3 install undetected-chromedriver\n```\n\n+ ä½¿ç”¨æ–¹æ³•ï¼š\n\n```python\nimport undetected_chromedriverasuc\nurl = \"https://www.baidu.com/\"\ndriver = uc.Chrome()\ndriver.get(url)\n```\n\n## **æ–¹æ³•å››ï¼šä½¿ç”¨ä»˜è´¹ä»£ç†**\n\nç›®å‰æœ‰å¾ˆå¤šæˆç†Ÿçš„ä»£ç†æœåŠ¡å¯ä¾›ä½¿ç”¨ã€‚é€šè¿‡ä½¿ç”¨ä»˜è´¹ä»£ç†ï¼Œå¯ä»¥æœ‰æ•ˆç»•è¿‡Cloudflareçš„åçˆ¬æœºåˆ¶ã€‚è¯·é€‰æ‹©åˆé€‚çš„ä»£ç†æœåŠ¡å•†ï¼Œå¹¶æ ¹æ®æä¾›çš„APIå¯†é’¥è®¾ç½®ä»£ç†ã€‚\n\n+ ä½¿ç”¨æ–¹æ³•ï¼š\n\n```python\nimport requests\n\nurl = \"https://xxxx.com/\"\napi_key = \"ä¸€é•¿ä¸²å¯†é’¥\"\nproxy=f\"http://{api_key}:@proxy.zenrows.com:8001\"\nproxies={\"http\": proxy, \"https\": proxy}\nresponse=requests.get(url, proxies=proxies, verify=False)\n#å¤„ç†å“åº”æ•°æ®\n```\n\n## **æ–¹æ³•äº”ï¼šä½¿ç”¨ç©¿äº‘API**\n\nã€€ã€€ç©¿äº‘APIæ˜¯ä¸€ä¸ªå¯ä»¥ç»•è¿‡Cloudflareçš„åæœºå™¨äººéªŒè¯ã€CAPTCHAéªŒè¯ã€WAFå’ŒCCé˜²æŠ¤çš„è§£å†³æ–¹æ¡ˆã€‚å®ƒæä¾›äº†HTTPAPIå’Œä»£ç†åŠŸèƒ½ï¼Œå¹¶å¯è®¾ç½®Refererã€æµè§ˆå™¨UAå’ŒheadlessçŠ¶æ€ç­‰æµè§ˆå™¨æŒ‡çº¹è®¾å¤‡ç‰¹å¾ã€‚\n\nã€€ã€€ä½¿ç”¨ç©¿äº‘APIå¯ä»¥è½»æ¾[ç»•è¿‡CloudflareéªŒè¯](https://www.cloudbypass.com/)ï¼Œå³ä½¿éœ€è¦å‘é€å¤§é‡è¯·æ±‚ä¹Ÿä¸å¿…æ‹…å¿ƒè¢«è¯†åˆ«ä¸ºæŠ“å–è€…ã€‚\n","tags":["é€†å‘","Cloudflare","è®°å½•"],"categories":["_A7-é€†å‘","Cloudflare"]},{"title":"Mac Pycharmæ¿€æ´»æ•™ç¨‹","url":"/2023/07/14/Mac-Pycharmæ¿€æ´»æ•™ç¨‹/","content":"\n\n\n# mac2020-2023\n\n<!--more-->\n\nåŸå§‹åœ°å€ï¼šhttps://www.yuque.com/ningmengna-6ulrv/whpu0w/iysvakbi9ugew6bf\n\n æ”¯æŒmacç³»ç»Ÿ è½¯ä»¶ç‰ˆæœ¬2020-2023çš„æ¿€æ´» \n\n 1ï¸âƒ£ç¬¬ä¸€æ­¥ï¼šä¸‹è½½å‹ç¼©åŒ… è§£å‹ â€œmacjihuoâ€æ–‡ä»¶å¤¹å³é”®-æ–°å»ºç»ˆç«¯çª—å£ \n\nä¸‹è½½é“¾æ¥1ï¼ˆä¼˜å…ˆä½¿ç”¨ï¼‰ï¼šhttps://wwsf.lanzouw.com/iE4Dl10ieycf\n\nä¸‹è½½é“¾æ¥2ï¼ˆå¤‡ç”¨é“¾æ¥ï¼‰ï¼šhttps://note.youdao.com/s/MvR7sZSA\n\n![image.png](https://s2.loli.net/2023/07/14/Vmpaln8dIbf4hCk.png)\n\n\n\nå¦‚æœæ²¡æœ‰è¿™ä¸ªé€‰é¡¹>çœ‹æœ¬ç¯‡æœ«å°¾ ã€Šæ‰“å¼€æ–°å»ºç»ˆç«¯æ–¹æ³•ã€‹\n\n 2ï¸âƒ£ç¬¬äºŒæ­¥ï¼šè¿è¡Œè„šæœ¬ï¼Œè¾“å…¥å¯¹åº”è½¯ä»¶çš„å‘½ä»¤-å›è½¦ï¼ˆçœ‹ä¸‹å›¾ï¼‰ \n\n```\nå¦‚æœä½ è¦æ¿€æ´»ideaï¼š        åˆ™è¾“å…¥   sh idea.sh\n\nå¦‚æœä½ è¦æ¿€æ´»pycharmï¼š åˆ™è¾“å…¥   sh pycharm.sh\n\nå¦‚æœä½ è¦æ¿€æ´»datagripï¼š åˆ™è¾“å…¥   sh datagrip.sh\n\nå¦‚æœä½ è¦æ¿€æ´»clionï¼š       åˆ™è¾“å…¥   sh clion.sh\n\nå¦‚æœä½ è¦æ¿€æ´»golandï¼š   åˆ™è¾“å…¥   sh goland.sh\n\nå¦‚æœä½ è¦æ¿€æ´»webstorm  åˆ™è¾“å…¥   sh webstorm.sh\n\nå¦‚æœä½ è¦æ¿€æ´»phpstorm  åˆ™è¾“å…¥   sh phpstorm.sh\n\nå¦‚æœä½ è¦æ¿€æ´»dataspell   åˆ™è¾“å…¥   sh dataspell.sh\n\nå¦‚æœä½ è¦æ¿€æ´»rider          åˆ™è¾“å…¥   sh rider.sh\n```\n\n\n\n![image.png](https://s2.loli.net/2023/07/14/jKARag92XpZTWB3.png)\n\n\n\n<font color=red size=5 face=å®‹ä½“><strong>æ˜¾ç¤ºSuccess!  Activate  to 2099å³ä¸ºæ¿€æ´»æˆåŠŸ!</strong></font>\n\n| è¿è¡Œç»ˆç«¯æ˜¾ç¤ºPlease start xxx first!                        | è§£å†³åŠæ³•                                          |\n| ---------------------------------------------------------- | ------------------------------------------------- |\n| ![img](https://s2.loli.net/2023/07/14/4meCuihl8nMqxO2.png) | â‘ å…ˆæ‰“å¼€è½¯ä»¶ä¸€ä¸‹ â‘¡ç„¶åå…³é—­è½¯ä»¶åï¼Œå†è¿è¡Œshè„šæœ¬å³å¯ |\n\n#### 3ï¸âƒ£é‡å¯è½¯ä»¶å æ²¡æœ‰å¼¹å‡ºæ¿€æ´»å¼¹çª— è¯´æ˜æ¿€æ´»æˆåŠŸäº† \n\n**è½¯ä»¶é‡Œç‚¹å‡» Help-registerï¼Œæœ‰æ•ˆæœŸæ˜¾ç¤º2099 2025 2023å¹´ éƒ½æ˜¯æ°¸ä¹…ä½¿ç”¨çš„ï¼**\n\næ¿€æ´»æˆåŠŸé¡µé¢ åªè¦æ˜¾ç¤ºæœ‰â€æ°¸ä¹…å›é€€è®¸å¯è¯â€ï¼ˆyou hava perpetual fallback license for this versionï¼‰\n\nå°±ä¸ç”¨ç®¡æ—¶é—´æ˜¾ç¤ºé—®é¢˜ï¼Œä¸å¸è½½è½¯ä»¶å°±èƒ½ä¸€ç›´ä½¿ç”¨ï¼Œæœ‰é—®é¢˜å¯éšæ—¶å”®åå“ˆ~\n\næ‚¨æ‹¥æœ‰æ­¤ç‰ˆæœ¬æ°¸ä¹…å›é€€è®¸å¯è¯\n\n![image.png](https://s2.loli.net/2023/07/14/paAXcTkvtuUyld8.png)\n\n\n\næŸ¥çœ‹æ¿€æ´»æ—¶é—´æœ‰æ•ˆæœŸ>[ç‚¹å‡»æŸ¥çœ‹](https://www.yuque.com/ningmengna-6ulrv/whpu0w/cow42xg97vfctpu7)          è½¯ä»¶æ±‰åŒ–ä¸­æ–‡ç‰ˆ>[ç‚¹å‡»æŸ¥çœ‹](https://www.yuque.com/ningmengna-6ulrv/whpu0w/ieaydrhroqgh19u0)\n\n<font color=red size=4 face=å®‹ä½“><strong>ä»¥ä¸Š1-3æ­¥éª¤--å·²æ¿€æ´»æˆåŠŸï¼ é‡å¯è½¯ä»¶å è¿˜å¼¹å‡ºæ¿€æ´»å¼¹çª—ï¼Œè¯´æ˜æ¿€æ´»å¤±è´¥ã€‚å¾€ä¸‹çœ‹è§£å†³ï¼</strong></font>\n\n \n\nâœ…é¦–å…ˆæ£€æŸ¥ä¸‹è¿™ä¸‰ç§æƒ…å†µ 1ã€ç¡®å®šæç¤ºSuccessäº†ä¹ˆï¼Ÿæç¤ºæˆåŠŸåä¸€å®šè¦é‡å¯è½¯ä»¶ï¼Œè¯·é‡æ–°æ‰“å¼€è½¯ä»¶å“¦ã€‚\n\nâ€‹    \n\n![img](https://s2.loli.net/2023/07/14/35692SnU8cloTLr.png)\n\n\n\n2ã€è½¯ä»¶æ˜¯å®˜ç½‘ä¸“ä¸šç‰ˆä¹ˆ(ä¸æ”¯æŒToolbox)ï¼Œè½¯ä»¶å»å®˜ç½‘ä¸‹è½½[ç‚¹å‡»æŸ¥çœ‹](https://www.yuque.com/docs/share/eb60e112-05e3-4062-a037-b743919c877b?# ã€Šè½¯ä»¶ä¸‹è½½å®‰è£…æ•™ç¨‹ã€‹)\n\n3ã€è½¯ä»¶æ˜¯2020ä»¥ä¸Šçš„ä¸“ä¸šç‰ˆä¹ˆï¼Œå¦‚æœæ˜¯2017.3-2019ç‰ˆæœ¬[ç‚¹å‡»æŸ¥çœ‹](https://www.yuque.com/ningmengna-6ulrv/whpu0w/ksen487x1v38k02r)\n\nâœ…å¦‚æœä»¥ä¸Šè¿˜æ˜¯ä¸èƒ½è§£å†³ï¼Œè¯´æ˜æ˜¯æ‚¨ä¹‹å‰ç”¨è¿‡åˆ«çš„æ¿€æ´»æ–‡ä»¶ï¼Œæˆ–è€…åœ¨åˆ«çš„åº—é“ºè´­ä¹°æ¿€æ´»è¿‡ï¼ŒæŠŠä¹‹å‰çš„æ¿€æ´»æ’ä»¶åˆ é™¤å¹²å‡€å†çœ‹æˆ‘çš„æ•™ç¨‹æ¿€æ´»â¤ï¸ ä¸çŸ¥é“æ€ä¹ˆåˆ æ’ä»¶çš„ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨[å¤‡ç”¨æ–¹æ³•-ç‚¹å‡»æŸ¥çœ‹](https://www.yuque.com/ningmengna-6ulrv/whpu0w/milrbgks39b6b74e)è¿›è¡Œæ¿€æ´»ä¸€ä¸‹ï¼\n\næ¿€æ´»ä¸æˆåŠŸï¼Œç”¨è¿‡æ’ä»¶æ¿€æ´»çš„ è¯·ä½¿ç”¨[å¤‡ç”¨æ–¹æ³•]ï¼š è¯·æ‰“å¼€ï¼šhttps://www.yuque.com/ningmengna-6ulrv/whpu0w/milrbgks39b6b74e\n","tags":["Pycharm","ç ´è§£"],"categories":["_A5-å®‰è£…æ•™ç¨‹","Python"]},{"title":"Mac pycharmç ´è§£åï¼Œç¨‹åºæ„å¤–é€€å‡º","url":"/2023/07/13/Mac-pycharmç ´è§£åï¼Œç¨‹åºæ„å¤–é€€å‡º/","content":"\n\n\n### Mac pycharmç ´è§£åï¼Œç¨‹åºæ„å¤–é€€å‡º\n\n<!--more-->\n\n#### è§£å†³æ–¹æ³•ï¼š\n\n```shell\n# æ‰“å¼€ /Users/{USER_NAME}/Library/LaunchAgents/jetbrains.vmoptions.plist\ncd /Users/{USER_NAME}/Library/LaunchAgents\n\n# åˆ é™¤æ–‡ä»¶å¤¹ä¸‹çš„jetbrains.vmoptions.plist\n#  é—®é¢˜è§£å†³\n\n/Users/{USER_NAME}/Library/LaunchAgents/jetbrains.vmoptions.plist\n```\n\n","tags":["é”™è¯¯","Pycharm","ç ´è§£"],"categories":["_A5-å®‰è£…æ•™ç¨‹","Python"]},{"title":"Mac å®‰è£… navicat ç ´è§£ç‰ˆ(ä¿®å¤å¯†ç ä¿å­˜é—®é¢˜)","url":"/2023/07/11/Mac-å®‰è£…-navicat-ç ´è§£ç‰ˆ-ä¿®å¤å¯†ç ä¿å­˜é—®é¢˜/","content":"\n\n\n# Navicat Premium 15 for Mac(æ•°æ®åº“å¼€å‘å·¥å…·)ä¿®å¤å¯†ç ä¿å­˜é—®é¢˜ v15.0.30 ä¸­æ–‡ç‰ˆ\n\n<!--more-->\n\n###### ä¸‹è½½é“¾æ¥ï¼š[40å¤§æ´‹è´­ä¹°_åˆ†äº«](https://bd.bcebos.com/v1/xly-icafe/navicatpremium15cj-20230711202331-3kp28g.dmg)\n\n###### ä¸‹è½½é“¾æ¥ï¼š[å…¶ä¸­ç‰ˆæœ¬12,äº²æµ‹å¯ç”¨(å‹ç¼©åŒ…æ ¼å¼)](https://bd.bcebos.com/v1/xly-icafe/mac%E5%B9%B3%E5%8F%B0-20230712132120-kbghtg.zip)\n\n###### ä¸‹è½½é“¾æ¥ï¼šæ±‰åŒ–åŒ…[zh-Hans.lproj.zip](https://bd.bcebos.com/v1/xly-icafe/zh-hans.lproj-20230712132502-qoyl5p.zip)\n\n<video src=\"https://macz-down.mac89.com/video/201904/NavicatPremium12119.mp4\" preload=\"metadata\" controls=\"\" style=\"display: inline-block; min-width: 100%; height: 295px;\"></video>\n\n![img](https://s2.loli.net/2023/07/11/QmXB2VuUtK3SGyl.png)\n\n![img](https://s2.loli.net/2023/07/11/h6JKqBD1kOc8EIy.jpg)\n\n![img](https://s2.loli.net/2023/07/11/7xlPren1dQ3E5K4.jpg)\n\n![img](https://s2.loli.net/2023/07/11/jnGfPAEevIKb5yd.jpg)\n\n![img](https://s2.loli.net/2023/07/11/jAYG451bwlVFhXq.jpg)\n\n\n\næ”¯æŒ macOS Ventura 13.x\n\n151.12 MB2021.07.03200ç§¯åˆ†ç®€ä½“ä¸­æ–‡å›½å¤–è½¯ä»¶Mac OS 13.x,Mac OS 12.x,Mac OS 11.x\n\n[å®‰è£…è½¯ä»¶é‡åˆ°æç¤ºæŸåï¼Œæ‰“ä¸å¼€ï¼ŒæŠ¥é”™ï¼Œæ¥è‡ªxxä¸æ˜çš„å¼€å‘è€…ï¼Ÿç‚¹æˆ‘æŸ¥çœ‹è§£å†³æ–¹æ³•](https://www.macz.com/news/1.html)\n\nNavicat Premium 15 Macç‰ˆæ˜¯Macå¹³å°ä¸Šçš„ä¸€æ¬¾æ•°æ®åº“å¼€å‘å·¥å…·ï¼ŒNavicat Premium 15 Macç‰ˆå¯ä»¥è®©ä½ ä»¥å•ä¸€ç¨‹åºåŒæ™‚è¿æ¥åˆ° MySQLã€MariaDBã€SQL Serverã€SQLiteã€Oracle å’Œ PostgreSQL æ•°æ®åº“ã€‚\n\n![img](https://s2.loli.net/2023/07/11/uUTbI8PXh7M32pW.png)\n\nnavicat premium å®‰è£…æ•™ç¨‹\n\nnavicat premiumé•œåƒåŒ…ä¸‹è½½å®Œæˆåæ‰“å¼€ï¼ŒåŒå‡»ã€NavicatPremium15zhw.pkgã€‘æŒ‰ç…§å®‰è£…å¼•å¯¼å™¨è¿›è¡Œå®‰è£…å³å¯ï¼\n\n**ä¿®å¤ macOS 11 Big Sur é—ªé€€çš„é—®é¢˜**\n\n15ä»¥ä¸Šçš„ç³»ç»ŸæŠ¥æ­¤é—®é¢˜å¤„ç†æ–¹æ³•ï¼›\n\n\n\n![img](https://s2.loli.net/2023/07/11/m9F4MLe1qdG5jDx.png)\n1.æ‰“å¼€[ä»»ä½•æ¥æºã€‚](https://www.macz.com/news/1.html)\n2.æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚\nsudo xattr -r -d com.apple.quarantine /Applications/Navicat\\ Premium.app\n3.å›è½¦ï¼Œå‡ºç°PasswordğŸ”‘ï¼Œè¾“å…¥ç”µè„‘å¼€æœºå¯†ç ï¼Œå¯†ç ä¸æ˜¾ç¤ºï¼Œè¾“å…¥å³å¯å›è½¦\n\n**ä¿®å¤å¯†ç ä¿å­˜é—®é¢˜æ•™ç¨‹ï¼š**\n\n1ã€æ‰“å¼€é’¥åŒ™ä¸²åº”ç”¨ï¼Œç„¶ååœ¨é’¥åŒ™ä¸²çš„å³ä¸Šè§’æœç´¢æ¡†ä¸­æœç´¢ navicatï¼Œå¦‚æœ‰ç»“æœï¼Œè¯·å°†æœç´¢åˆ°çš„ navicat é’¥åŒ™ä¸²åˆ é™¤ã€‚å¦‚æ²¡æœ‰ç»“æœè¯·å¿½ç•¥æ­¤æ­¥éª¤ã€‚\n2ã€å»ä¸‹è½½ 15.0.20.1 ç‰ˆæœ¬å®‰è£…ã€‚å¦‚æœä»¥å‰å®‰è£…è¿‡å…¶å®ƒç‰ˆæœ¬/å®˜æ–¹è¯•ç”¨ç‰ˆæœ¬ï¼Œåœ¨å®‰è£…å‰è¯· App Cleaner & Uninstaller ä¸‹è½½å®‰è£…ï¼Œç”¨å®ƒå°† Navicat å¸è½½å¹²å‡€ã€‚\n3ã€è¿è¡Œå®‰è£…çš„ 15.0.20.1 ç‰ˆæœ¬ï¼Œéšä¾¿è¿æ¥ä¸€ä¸ªæ•°æ®åº“ï¼Œè¿æ¥çš„æ—¶å€™è¦é€‰æ‹©ä¿å­˜å¯†ç ï¼Œè¿æ¥æˆåŠŸåï¼Œé€€å‡º Navicatã€‚\n4ã€æœ¬é¡µé¢ä¸‹è½½å®‰è£… Navicat æœ€æ–°ç‰ˆæœ¬ï¼Œç„¶åç›´æ¥è¦†ç›–å®‰è£…ï¼Œç„¶åè¿è¡Œã€‚\n5ã€è¿è¡Œåä¼šå¼¹å‡º Navicat Premium æƒ³è¦ä½¿ç”¨æ‚¨å­˜å‚¨åœ¨é’¥åŒ™ä¸²çš„ xxxx æœºå¯†ä¿¡æ¯ï¼Œè¾“å…¥å½“å‰ç”¨æˆ·å¯†ç ï¼Œç„¶åç‚¹å‡» å§‹ç»ˆå…è®¸ã€‚ï¼ˆæ”¾å¿ƒæ“ä½œï¼Œæ²¡æœ‰å®‰å…¨é—®é¢˜ï¼‰\n\nNavicat Premium for Macè½¯ä»¶ä»‹ç»\n\nNavicat premiumæ˜¯ä¸€æ¬¾æ•°æ®åº“ç®¡ç†å·¥å…·ã€‚å°†æ­¤å·¥å…·è¿æ¥æ•°æ®åº“ï¼Œä½ å¯ä»¥ä»ä¸­çœ‹åˆ°å„ç§æ•°æ®åº“çš„è¯¦ç»†ä¿¡æ¯ã€‚åŒ…æ‹¬æŠ¥é”™ï¼Œç­‰ç­‰ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ä»–ï¼Œç™»é™†æ•°æ®åº“ï¼Œè¿›è¡Œå„ç§æ“ä½œã€‚Navicat Premiumæ˜¯ä¸€ä¸ªå¯å¤šé‡è¿çº¿èµ„æ–™åº“çš„ç®¡ç†å·¥å…·ï¼Œå®ƒå¯ä»¥è®©ä½ ä»¥å•ä¸€ç¨‹å¼åŒæ—¶è¿çº¿åˆ° MySQLã€SQLiteã€Oracle åŠ PostgreSQL èµ„æ–™åº“ï¼Œè®©ç®¡ç†ä¸åŒç±»å‹çš„èµ„æ–™åº“æ›´åŠ çš„æ–¹ä¾¿ã€‚\n\n![img](https://s2.loli.net/2023/07/11/lBnDmRyVWGzCxHE.jpg)\n\nNavicat Premium ç ´è§£ç‰ˆåŠŸèƒ½ç‰¹è‰²\n\næ— ç¼æ•°æ®è¿ç§»\n\næ•°æ®ä¼ è¾“ï¼Œæ•°æ®åŒæ­¥å’Œç»“æ„åŒæ­¥å¯å¸®åŠ©æ‚¨æ›´è½»æ¾å¿«æ·åœ°è¿ç§»æ•°æ®ï¼Œä»è€Œå‡å°‘å¼€é”€ã€‚æä¾›è¯¦ç»†çš„åˆ†æ­¥æŒ‡å—ï¼Œä»¥è·¨å„ç§DBMSä¼ è¾“æ•°æ®ã€‚é€šè¿‡æ•°æ®å’Œç»“æ„åŒæ­¥æ¯”è¾ƒå’ŒåŒæ­¥æ•°æ®åº“ã€‚åœ¨å‡ ç§’é’Ÿå†…è®¾ç½®å’Œéƒ¨ç½²æ¯”è¾ƒï¼Œå¹¶è·å–è¯¦ç»†çš„è„šæœ¬ä»¥æŒ‡å®šè¦æ‰§è¡Œçš„æ›´æ”¹ã€‚\n\nå¤šå…ƒåŒ–çš„æ“ä½œå·¥å…·\n\nè®¾ç½®æ•°æ®æºè¿æ¥åï¼Œå¯ä»¥ä½¿ç”¨â€œå¯¼å…¥å‘å¯¼â€å°†æ•°æ®ä»å¤šç§æ ¼å¼æˆ–ä»ODBCä¼ è¾“åˆ°æ•°æ®åº“ä¸­ã€‚å°†æ•°æ®ä»è¡¨/é›†åˆï¼Œè§†å›¾æˆ–æŸ¥è¯¢ç»“æœå¯¼å‡ºä¸ºExcelï¼ŒAccessï¼ŒCSVç­‰æ ¼å¼ã€‚ä½¿ç”¨æˆ‘ä»¬çš„å†…ç½®ç¼–è¾‘å™¨æ·»åŠ ï¼Œä¿®æ”¹å’Œåˆ é™¤è®°å½•ï¼Œæ‚¨å¯ä»¥åœ¨Tree Viewï¼ŒJSON Viewå’Œç±»ä¼¼ç”µå­è¡¨æ ¼çš„ç»å…¸Grid Viewä¸­æ–¹ä¾¿åœ°è¿›è¡Œç¼–è¾‘ã€‚Navicatä¸ºæ‚¨æä¾›æœ‰æ•ˆç®¡ç†æ•°æ®å¹¶ç¡®ä¿æµç¨‹å¹³ç¨³æ‰€éœ€çš„å·¥å…·ã€‚\n\nç®€å•çš„SQL /æŸ¥è¯¢ç¼–è¾‘\n\nVisual SQL / Query Builderå°†å¸®åŠ©æ‚¨åˆ›å»ºï¼Œç¼–è¾‘å’Œè¿è¡ŒSQLè¯­å¥/æŸ¥è¯¢ï¼Œè€Œä¸å¿…æ‹…å¿ƒè¯­æ³•å’Œå‘½ä»¤çš„æ­£ç¡®ç”¨æ³•ã€‚é€šè¿‡è·å–å…³é”®å­—å»ºè®®å¹¶ä»ç¼–ç ä¸­å»é™¤é‡å¤å†…å®¹ï¼Œä½¿ç”¨â€œä»£ç å®Œæˆâ€å’Œå¯è‡ªå®šä¹‰çš„ä»£ç æ®µå¿«é€Ÿç¼–ç ã€‚ä½¿ç”¨æˆ‘ä»¬çš„è°ƒè¯•ç»„ä»¶ï¼Œä¾‹å¦‚è®¾ç½®æ–­ç‚¹ï¼Œå•æ­¥æ‰§è¡Œç¨‹åºï¼ŒæŸ¥çœ‹å’Œä¿®æ”¹å˜é‡å€¼ä»¥åŠæ£€æŸ¥è°ƒç”¨å †æ ˆï¼Œå¯ä»¥å¿«é€Ÿæ‰¾åˆ°å¹¶çº æ­£PL / SQLå’ŒPL / PGSQLç¼–ç é”™è¯¯ã€‚\n\næ™ºèƒ½æ•°æ®åº“è®¾è®¡å™¨\n\nä½¿ç”¨æˆ‘ä»¬ä¸“ä¸šçš„å¯¹è±¡è®¾è®¡å™¨åˆ›å»ºï¼Œä¿®æ”¹å’Œç®¡ç†æ‰€æœ‰æ•°æ®åº“å¯¹è±¡ã€‚ä½¿ç”¨å¤æ‚çš„æ•°æ®åº“è®¾è®¡å’Œå»ºæ¨¡å·¥å…·å°†æ•°æ®åº“è½¬æ¢ä¸ºå›¾å½¢è¡¨ç¤ºå½¢å¼ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥è½»æ¾åœ°å»ºæ¨¡ï¼Œåˆ›å»ºå’Œç†è§£å¤æ‚çš„æ•°æ®åº“ã€‚\n\n![img](https://s2.loli.net/2023/07/11/wyYkKWMhxzpUTBu.jpg)\n\næé«˜ç”Ÿäº§åŠ›\n\næˆ‘ä»¬åŠŸèƒ½å¼ºå¤§çš„æœ¬åœ°å¤‡ä»½/è¿˜åŸè§£å†³æ–¹æ¡ˆä»¥åŠé’ˆå¯¹MongoDumpï¼ŒOracle Data Pumpå’ŒSQL Server Backup Utilityçš„ç›´è§‚GUIï¼Œå¯æŒ‡å¯¼æ‚¨å®Œæˆå¤‡ä»½è¿‡ç¨‹å¹¶å‡å°‘æ½œåœ¨çš„é”™è¯¯ã€‚ä¸ºå¯é‡å¤éƒ¨ç½²çš„è¿‡ç¨‹è®¾ç½®è‡ªåŠ¨åŒ–ï¼Œä¾‹å¦‚åœ¨ç‰¹å®šæ—¶é—´æˆ–æ—¥æœŸæ‰§è¡Œæ•°æ®åº“å¤‡ä»½ï¼ŒMapReduceä½œä¸šå’Œè„šæœ¬æ‰§è¡Œã€‚æ— è®ºæ‚¨èº«åœ¨ä½•å¤„ï¼Œéƒ½å¯ä»¥éšæ—¶å®Œæˆå·¥ä½œã€‚\n\næ™ºèƒ½æ¨¡å¼åˆ†æå™¨\n\nä½¿ç”¨æˆ‘ä»¬çš„å†…ç½®æ¨¡å¼å¯è§†åŒ–å·¥å…·å‘ç°å’Œæ¢ç´¢æ‚¨çš„MongoDBæ¨¡å¼ã€‚åˆ†ææ–‡æ¡£å¹¶åœ¨é›†åˆä¸­æ˜¾ç¤ºä¸°å¯Œçš„ç»“æ„ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥äº†è§£æ•°æ®çš„æ¶æ„ï¼ŒæŸ¥æ‰¾æ¶æ„å¼‚å¸¸å¹¶è½»æ¾æ£€æŸ¥å¼‚å¸¸å€¼ã€‚\n\nç®€åŒ–åä½œ\n\nå°†æ‚¨çš„è¿æ¥è®¾ç½®ï¼Œæ¨¡å‹ï¼ŒæŸ¥è¯¢å’Œè™šæ‹Ÿç»„åŒæ­¥åˆ°æˆ‘ä»¬çš„Navicat CloudæœåŠ¡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥å®æ—¶è®¿é—®å®ƒä»¬ï¼Œå¹¶éšæ—¶éšåœ°ä¸æ‚¨çš„åŒäº‹å…±äº«ã€‚å€ŸåŠ©Navicat Cloudï¼Œæ‚¨å¯ä»¥åˆ©ç”¨ä¸€å¤©ä¸­çš„æ¯ä¸€åˆ†é’Ÿæ¥æœ€å¤§é™åº¦åœ°æé«˜ç”Ÿäº§åŠ›ã€‚\n\nå…ˆè¿›çš„å®‰å…¨è¿æ¥\n\né€šè¿‡SSHéš§é“å’ŒSSLå»ºç«‹å®‰å…¨è¿æ¥ï¼Œå¯ç¡®ä¿æ¯ä¸ªè¿æ¥éƒ½æ˜¯å®‰å…¨ï¼Œç¨³å®šå’Œå¯é çš„ã€‚æ”¯æŒä¸åŒçš„æ•°æ®åº“æœåŠ¡å™¨èº«ä»½éªŒè¯æ–¹æ³•ï¼Œä¾‹å¦‚MySQLå’ŒMariaDBçš„PAMèº«ä»½éªŒè¯ï¼ŒMongoDBçš„Kerberoså’ŒX.509èº«ä»½éªŒè¯ä»¥åŠPostgreSQLçš„GSSAPIèº«ä»½éªŒè¯ã€‚Navicat 12æä¾›äº†æ›´å¤šçš„èº«ä»½éªŒè¯æœºåˆ¶å’Œé«˜æ€§èƒ½ç¯å¢ƒï¼Œå› æ­¤æ‚¨ä¸å¿…æ‹…å¿ƒé€šè¿‡ä¸å®‰å…¨çš„ç½‘ç»œè¿›è¡Œè¿æ¥ã€‚\n\n![img](https://s2.loli.net/2023/07/11/5QmM8Jbptrcahxq.jpg)\n\nNavicat Premium 15æ›´æ–°æ—¥å¿—\n\n2021å¹´3æœˆ8æ—¥Navicat Premiumï¼ˆmacOSï¼‰ç‰ˆæœ¬15.0.26\nBugä¿®å¤ï¼š\nåœ¨é»‘æš—æ¨¡å¼ä¸‹æ— æ³•è¯»å–ç½‘æ ¼æ•°æ®ã€‚\né€šè¿‡å•å‡»è¡¨æŸ¥çœ‹å™¨ä¸­çš„åˆ—æ ‡é¢˜ï¼Œæ— æ³•å¯¹æœ€åä¸€åˆ—è¿›è¡Œæ’åºã€‚\nç¼–è¾‘ç²˜è´´çš„è®°å½•æ—¶å‘ç”Ÿé‡å¤çš„è¾“å…¥é”™è¯¯ã€‚\nåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ— æ³•é€šè¿‡SSHéš§é“è¿æ¥åˆ°æœåŠ¡å™¨ã€‚\nåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯åŠ¨Navicatæ—¶æŒ‚èµ·ã€‚\nåŒæ­¥MySQLæ•°æ®æ—¶å‘ç”Ÿâ€œä¸åŒçš„ä¸»é”®ç±»å‹â€é”™è¯¯ã€‚\nå°é”™è¯¯ä¿®å¤å’Œæ”¹è¿›ã€‚\n","tags":["å·¥å…·","æ•°æ®åº“","navicat"],"categories":["_A5-å®‰è£…æ•™ç¨‹","Navicat"]},{"title":"mysqlåŸºç¡€å‘½ä»¤","url":"/2023/07/11/mysqlåŸºç¡€å‘½ä»¤/","content":"\n\n\n### å‘½ä»¤è¡Œä¸‹æ•°æ®åº“æ“ä½œå‘½ä»¤\n\n<!--more-->\n\n```sql\n# è¿æ¥ mysql\nmysql>>> /usr/local/mysql-8.0.33-macos13-x86_64/bin/mysql -h 127.0.0.1 -P 3306 -u root -p\n\n# é‡ç½® mysql å¯†ç \nmysql>>> set password = password('root123')\n\n#  æŸ¥çœ‹é»˜è®¤æ•°æ®åº“\nmysql>>> show databases;\n\n# æŒ‡ä»¤ é€€å‡º\nmysql>>> exit;\n\n\n# ä»¥é»˜è®¤ç¼–ç æ ¼å¼åˆ›å»ºæ•°æ®åº“\nmysql>>> create database day25db;\n\n# åˆ›å»ºæ•°æ®åº“ ä»¥utf-8çš„å½¢å¼åˆ›å»º\nmysql>>> create database <æ•°æ®åº“åç§°> DEFAULT CHARSET utf8 collate utf8_general_ci;\nmysql>>> create database day26db DEFAULT CHARSET utf8 collate utf8_general_ci;\n\n# åˆ é™¤æ•°æ®åº“\nmysql>>> drop database day25db;\n\n# é€‰æ‹©è¿›å…¥æ•°æ®åº“\nmysql>>> use day26db;\n\n# æŸ¥çœ‹æ•°æ®è¡¨\nmysql>>> show tables;\n\nMac å®‰è£… navicat ç ´è§£ç‰ˆ(ä¿®å¤å¯†ç ä¿å­˜é—®é¢˜)\n\n```\n\n","tags":["æ•°æ®åº“","mysql"],"categories":["_9-æ•°æ®åº“","mysql"]},{"title":"mac os å®‰è£…mysql ä»¥åŠé…ç½®","url":"/2023/07/11/mac-os-å®‰è£…mysql-ä»¥åŠé…ç½®/","content":"\n\n\n### mac os å®‰è£…mysql ä»¥åŠé…ç½®\n\n<!--more-->\n\n#### mac é»˜è®¤å®‰è£…è·¯å¾„ `/usr/local/mysql-xxxx`\n\n```shell\n# åœ¨mysql å®‰è£…ç›®å½•ä¸‹åˆ›å»º etc/my.config\n\n[mysqld]\nport = 3306\nbasedir=/usr/local/mysql\ndatadir=/usr/local/mysql/data\npid-file=/var/run/mysqld/mysqld.pid\n```\n\n\n\n+ å¯åŠ¨|åœæ­¢ sqlserver\n\n  ```shell\n  sudo /usr/local/mysql-8.0.33-macos13-x86_64/support-files/mysql.server start      # æ·»åŠ å¼ºæƒå¯åŠ¨\n  sudo /usr/local/mysql-8.0.33-macos13-x86_64/support-files/mysql.server stop       # æ·»åŠ å¼ºæƒåœæ­¢\n  \n  sudo mysql.server start      # æ·»åŠ å¼ºæƒå¯åŠ¨\n  sudo mysql.server stop       # æ·»åŠ å¼ºæƒåœæ­¢\n  \n  # æ·»åŠ åˆ°ç¯å¢ƒå˜é‡\n  ln -s /usr/local/mysql-8.0.33-macos13-x86_64/support-files/* /Users/kate_01/bash_files\n  \n  # è¿æ¥ mysql\n  /usr/local/mysql-8.0.33-macos13-x86_64/bin/mysql -h 127.0.0.1 -P 3306 -u root -p\n  \n  # é‡ç½® mysql å¯†ç \n  mysql> set password = password('root123')\n  \n  #  æŸ¥çœ‹é»˜è®¤æ•°æ®åº“\n  mysql> show databases;\n  \n  # æŒ‡ä»¤ é€€å‡º\n  mysql> exit;\n  ```\n\n+ å¿˜è®° mysql è´¦æˆ·å¯†ç é‡ç½®\n\n  + 1ã€ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œåœ¨`mysql`èŠ‚ç‚¹ä¸‹çš„`skip-grant-tables=1`\n\n    ```\n    [mysqld]\n    port = 3306\n    basedir=/usr/local/mysql\n    datadir=/usr/local/mysql/data\n    skip-grant-tables=1\n    ```\n\n  + 2ã€é‡å¯mysqlï¼Œå†æ¬¡ç™»é™†æ—¶ï¼Œä¸éœ€è¦å¯†ç ç›´æ¥å¯ä»¥è¿›å»äº†\n\n    + windowsé‡å¯\n\n      ```\n      net stop mysql57     # åœæ­¢\n      net start mysql57    # å¯åŠ¨\n      ```\n\n    + Mac é‡å¯\n\n      ```\n      sudo mysql.server restart    # é‡å¯\n      ```\n\n  + 3ã€è¿›å…¥æ•°æ®åº“\n\n    ```\n    >>> mysql -u root -p     # é‡å¯å ä¸éœ€è¦å¯†ç  å³å¯è¿›å…¥æ•°æ®\n    ```\n\n  + 4ã€è¿›å…¥æ•°æ®åº“åæ‰§è¡Œä¿®æ”¹å‘½ä»¤ï¼Œä¿®æ”¹å¯†ç \n\n    ```\n    use mysql;\n    update user set authentication_string = password('æ–°å¯†ç '),password_last_changed=now() where user=\"root\"\n    ```\n\n  + 5ã€ä¿å­˜é€€å‡ºåï¼Œåˆ é™¤`mysql`èŠ‚ç‚¹ä¸‹çš„`skip-grant-tables=1`\n\n  + 6ã€å†æ¬¡é‡å¯ï¼Œå³å¯ä½¿ç”¨ä¿®æ”¹åçš„æ–°å¯†ç ç™»é™†æ•°æ®åº“äº†ã€‚\n\n![image-20230711170007270](https://s2.loli.net/2023/07/11/sbMBmQ25Z6pe17t.png)\n\n![image-20230711171119661](https://s2.loli.net/2023/07/11/VCiw1Nflg7FEGBQ.png)\n","tags":["mysql","å‘½ä»¤è¡Œ","é…ç½®"],"categories":["_A5-å®‰è£…æ•™ç¨‹","æ•°æ®åº“"]},{"title":"Typoraã€Qv2rayã€Typoraã€Uninstaller","url":"/2023/07/11/å¿…å¤‡å·¥å…·/","content":"\n\n\n## å¿…å¤‡å·¥å…·è·å–ã€ä¸‹è½½\n\n<!--more-->\n\n#### 1ã€Typora ç‰ˆæœ¬v1.0\n\n+ [`Mac Os`ç‰ˆä¸‹è½½](https://bd.bcebos.com/v1/xly-icafe/typora-0.9.9.34.1-20230711135144-mzvutn.dmg)\n+ [`windows`ç‰ˆä¸‹è½½](https://bd.bcebos.com/v1/xly-icafe/typora-setup-x64-20230711135722-voidbp.exe)\n\n<br>\n\n------\n\n<br>\n\n#### 2ã€Pycharmä¸“ä¸šç‰ˆ+æ¿€æ´»\n\n+ å®˜æ–¹æ¸ é“ä¸‹è½½ IDEï¼š [`ç‚¹å‡»è¿›å…¥`](https://www.jetbrains.com/pycharm/download/other.html)\n\n+ äº²æµ‹å¯ç”¨ï¼š`mac2021æ¿€æ´»`[ç‚¹å‡»ä¸‹è½½](https://bd.bcebos.com/v1/xly-icafe/macjihuo-20230714173437-xqdtdy.zip)\n\n+ [`linux` zipç‰ˆä¸‹è½½](https://bd.bcebos.com/v1/xly-icafe/linux-20230711135957-rf7v0e.zip)\n\n+ [`Mac` zipç‰ˆä¸‹è½½](https://bd.bcebos.com/v1/xly-icafe/mac-20230711140244-5mamhz.zip)\n\n+ [`windows` zipç‰ˆä¸‹è½½](https://bd.bcebos.com/v1/xly-icafe/windows-20230711140345-2wukes.zip)\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>**Pycharmæ¿€æ´»æ•™ç¨‹:      [ç‚¹å‡»è¿›å…¥](https://www.yuque.com/lanchuan-vm6pi/buhvby/irtn6mlnmt1vuzgx?singleDoc)**</strong></font>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>**äºŒæ¬¡è´­ä¹°ï¼šPycharmæ¿€æ´»æ•™ç¨‹:      [ç‚¹å‡»è¿›å…¥]([æ¿€æ´»æ•™ç¨‹-macç‰ˆï¼Œæ”¯æŒ2017-2023æ‰€æœ‰ä¸“ä¸šç‰ˆ (yuque.com)](https://www.yuque.com/ningmengna-6ulrv/pfdno5/qtzl0p93s0icva9d))**</strong></font>\n\n<br>\n\n------\n\n<br>\n\n#### 3ã€Qv2ray ä¸»ç¨‹åº + æ ¸å¿ƒ\n\n+ [Qv2ray_ç®€æ˜“å®‰è£… ç¨‹åºä¸‰ç«¯](https://bd.bcebos.com/v1/xly-icafe/qv2ray_%E7%AE%80%E6%98%93%E5%AE%89%E8%A3%85%20%E7%A8%8B%E5%BA%8F%E4%B8%89%E7%AB%AF-20230711145621-gvow7b.zip)\n\n+ [Qv2ray ä¸»ç¨‹åºä¸‹è½½](https://github.com/Qv2ray/Qv2ray/releases)\n\n+ [QV2ray_æ ¸å¿ƒä¸‹è½½](https://github.com/v2ray/v2ray-core/releases)\n\n+ QV2ray å„ç±»æ’ä»¶ä¸‹è½½\n\n  + æ’ä»¶ ï¼š[Trojan](https://github.com/Qv2ray/QvPlugin-Trojan/releases/tag/v3.0.0-pre3)\n\n  + æ’ä»¶ ï¼š[SSR](https://github.com/Qv2ray/QvPlugin-SSR/releases/tag/v3.0.0-pre3)\n  + æ’ä»¶ ï¼š[NaiveProxy](https://github.com/Qv2ray/QvPlugin-NaiveProxy/releases/tag/v3.0.0-pre3)\n  + æ’ä»¶ ï¼š[Trojan-Go](https://github.com/Qv2ray/QvPlugin-Trojan-Go/releases/tag/v3.0.0-pre3)\n  + æ’ä»¶ ï¼š[SS](https://github.com/Qv2ray/QvPlugin-SS/releases/tag/v3.0.0-pre3)\n  + æ’ä»¶ ï¼š[Command](https://github.com/Qv2ray/QvPlugin-Command/releases/tag/v3.0.0-pre3)\n\n<br>\n\n------\n\n<br>\n\n#### 4ã€mysqlå®‰è£…ä¸‹è½½ç½‘å€\n\n+ [`mysqlå®‰è£…ä¸‹è½½ç½‘å€`](https://downloads.mysql.com/archives/community/)\n\n<br>\n\n------\n\n<br>\n\n#### 5ã€App Cleaner & Uninstaller for mac(macåº”ç”¨æ¸…ç†å’Œå¸è½½è½¯ä»¶)v8.2.1ä¸­æ–‡æ¿€æ´»ç‰ˆ\n\n[`App Cleaner & Uninstaller_æ¿€æ´»ç‰ˆä¸‹è½½`](https://bd.bcebos.com/v1/xly-icafe/app%20cleaner%20%26%20uninstaller%20for%20mac%28mac%E5%BA%94%E7%94%A8%E6%B8%85%E7%90%86%E5%92%8C%E5%8D%B8%E8%BD%BD%E8%BD%AF%E4%BB%B6%29v8.2.1%E4%B8%AD%E6%96%87%E6%BF%80%E6%B4%BB%E7%89%88-20230713200358-ylswgj.dmg)\n\n<br>\n\n------\n\n<br>\n\n#### 6ã€mysqlå®‰è£…ä¸‹è½½ç½‘å€\n\n+ [`mysqlå®‰è£…ä¸‹è½½ç½‘å€`](https://downloads.mysql.com/archives/community/)\n\n<br>\n\n------\n\n<br>\n\n#### 7ã€fanmugua + HttpCanary(å®‰å“æŠ“åŒ…å·¥å…·)\n\n[`fanmugua + HttpCanary(å®‰å“æŠ“åŒ…å·¥å…·)`](https://bd.bcebos.com/v1/xly-icafe/%E7%95%AA%E6%9C%A8%E7%93%9C%2B%E6%89%8B%E6%9C%BAapk%E6%8A%93%E5%8C%85-20230928122154-gnuj5h.zip)\n\n<br>\n\n------\n\n<br>\n","tags":["å¿…å¤‡å·¥å…·"],"categories":["_A8-å·¥å…·","å…¶ä»–å·¥å…·"]},{"title":"Mac_pythonå¤šç‰ˆæœ¬å…±å­˜","url":"/2023/07/11/Mac_pythonå¤šç‰ˆæœ¬å…±å­˜/","content":"\n\n\n### pythonå¤šç‰ˆæœ¬å…±å­˜\n\n<!--more-->\n\n#### 1. Mac Os å¤šç‰ˆæœ¬å…±å­˜ï¼š\n\n##### 1.1 é…ç½® brew å‘½ä»¤è¡Œ å®‰è£…å·¥å…·\n\n+ æˆ‘é€‰çš„æ˜¯ä¸­ç§‘å¤§çš„å›½å†…æºã€‚\n\n  ä¹‹åç»ˆç«¯è‡ªåŠ¨å®‰è£…`brew`ã€‚å®‰è£…å¥½ä¹‹åè®°å¾—è¿è¡Œä¸‹é¢å‘½ä»¤ã€‚\n\n  ```shell\n  # æ‹‰å–è„šæœ¬\n  /bin/zsh -c \"$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)\"\n  \n  # ç«‹å³ç”Ÿæ•ˆé…ç½®\n  source /Users/zhangchengcai/.zprofile\n  \n  # è¿™é‡Œçš„ zhangchengcai   æ›¿æ¢æˆ  ä½ è‡ªå·±çš„ç”¨æˆ·ç›®å½• \n  ```\n\n+ æŸ¥çœ‹æ˜¯å¦å®‰è£…å®Œæˆ\n\n  ```\n  brew --version\n  ```\n\n+ æˆåŠŸä¹‹åï¼Œå¯ä»¥å®‰è£…ä¸€ä¸ªç«ç‹æµè§ˆå™¨\n\n  ```\n  brew install --cask firefox\n  ```\n\n  ![img](https://s2.loli.net/2023/07/11/RHsVhjdEpq4IMLS.png)\n\n##### brewç›¸å…³å‘½ä»¤ï¼š\n\n```shell\n# å®‰è£…brewè½¯ä»¶åŒ…ç®¡ç†å™¨\n/usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\n\n# å¸è½½brewè½¯ä»¶åŒ…ç®¡ç†å™¨\n/usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/uninstall)\"\n\n# å¸¸ç”¨å‘½ä»¤ï¼š\nbrew install gcc    //å®‰è£…è½¯ä»¶\nbrew uninstall gcc  //å¸è½½è½¯ä»¶\nbrew search gcc     //æœç´¢è½¯ä»¶\nbrew upgrade gcc    //æ›´æ–°è½¯ä»¶\nbrew list           //æŸ¥çœ‹å®‰è£…åˆ—è¡¨\nbrew update         //æ›´æ–°Homebrew\n\n# æŸ¥çœ‹gccå¯ç”¨æ‰€æœ‰ç‰ˆæœ¬\nbrew search gcc\n\n# gcc âœ”        gcc@4.9 âœ”    gcc@7 âœ”      apple-gcc42  gcc@5        gcc@6\n# æŒ‡å®šç‰ˆæœ¬å®‰è£…\n\nbrew install gcc@7\n```\n\n\n\n##### 1.2 å®‰è£…å¤šç‰ˆæœ¬python\n\n + ä½¿ç”¨å‘½ä»¤è¡Œ å®‰è£… å¤šç‰ˆæœ¬python\n\n   ```shell\n   # ç›®å‰å­˜åœ¨çš„ å¯ç”¨çš„ å‘½ä»¤è¡Œå®‰è£…ç‰ˆæœ¬ >>> \n   # python@3.7  python@3.8  python@3.9  python@3.10  python@3.11\n   \n   # ç›´æ¥ä½¿ç”¨å‘½ä»¤è¡Œå®‰è£…å³å¯\n   brew install python@3.7\n   ```\n\n   \n\n![image-20230711123327438](https://s2.loli.net/2023/07/11/YIlmzPBRgCvL42X.png)\n\n+ æ·»åŠ ç¯å¢ƒå˜é‡\n\n  ```shell\n  # æ·»åŠ ç¯å¢ƒå˜é‡æ–‡ä»¶å¤¹\n  mkdir ~/bash_files\n  \n  # æ‰“å¼€ .zshrc\n  open ~/.zshrc\n  \n  # å°†ä¸‹é¢çš„ç¯å¢ƒå˜é‡æ·»åŠ åˆ°æœ«å°¾\n  # mac m1 å¯¹ brew å®‰è£…ç›®å½• /opt/homebrew/Cellar\n  export PATH=$PATH:/Users/kate_01/bash_files:/usr/local/Cellar/ffmpeg/6.0:/bin:/usr/local/ffmpeg/bin\n  \n  # ç«‹å³ç”Ÿæ•ˆ\n  source ~/.zshrc\n  \n  ```\n\n  ![æ·»åŠ ç¯å¢ƒå˜é‡åˆ°æœ¬åœ°](https://s2.loli.net/2023/07/11/uF2KDv5BymLqRaC.png)\n\n+ `brew` å®‰è£…å¥½çš„ python ä¸»ç¨‹åºé»˜è®¤æ–‡ä»¶å¤¹åœ¨ `/usr/local/Cellar` ã€ `mac m1 å¯¹ brew å®‰è£…ç›®å½• /opt/homebrew/Cellar`ä¸­\n\n  ![image-20230711131409016](https://s2.loli.net/2023/07/11/i8sYOy973fvXAWj.png)\n\n  ```shell\n  # é»˜è®¤åˆ° pip å’Œ python ç¨‹åº åœ¨\n  /usr/local/Cellar/python@3.9/3.9.17_1/bin\n  ```\n\n  ![image-20230711131818314](https://s2.loli.net/2023/07/11/mwvHc5NiCLgu42K.png)\n\n  \n\n","tags":["æ•™ç¨‹","Mac","å¤šç‰ˆæœ¬å…±å­˜"],"categories":["_A8-å·¥å…·","Homebrew"]},{"title":"pythonå¤šç‰ˆæœ¬å…±å­˜","url":"/2023/07/11/pythonå¤šç‰ˆæœ¬å…±å­˜/","content":"\n\n\n### pythonå¤šç‰ˆæœ¬å…±å­˜\n\n<!--more-->\n\n#### 1. Mac Os å¤šç‰ˆæœ¬å…±å­˜ï¼š\n\n##### 1.1 é…ç½® brew å‘½ä»¤è¡Œ å®‰è£…å·¥å…·\n\n+ æˆ‘é€‰çš„æ˜¯ä¸­ç§‘å¤§çš„å›½å†…æºã€‚\n\n  ä¹‹åç»ˆç«¯è‡ªåŠ¨å®‰è£…`brew`ã€‚å®‰è£…å¥½ä¹‹åè®°å¾—è¿è¡Œä¸‹é¢å‘½ä»¤ã€‚\n\n  ```shell\n  # æ‹‰å–è„šæœ¬\n  /bin/zsh -c \"$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)\"\n  \n  # ç«‹å³ç”Ÿæ•ˆé…ç½®\n  source /Users/zhangchengcai/.zprofile\n  \n  # è¿™é‡Œçš„ zhangchengcai   æ›¿æ¢æˆ  ä½ è‡ªå·±çš„ç”¨æˆ·ç›®å½• \n  ```\n\n+ æŸ¥çœ‹æ˜¯å¦å®‰è£…å®Œæˆ\n\n  ```\n  brew --version\n  ```\n\n+ æˆåŠŸä¹‹åï¼Œå¯ä»¥å®‰è£…ä¸€ä¸ªç«ç‹æµè§ˆå™¨\n\n  ```\n  brew install --cask firefox\n  ```\n\n  ![img](https://s2.loli.net/2023/07/11/RHsVhjdEpq4IMLS.png)\n\n##### 1.2 å®‰è£…å¤šç‰ˆæœ¬python\n\n + ä½¿ç”¨å‘½ä»¤è¡Œ å®‰è£… å¤šç‰ˆæœ¬python\n\n   ```shell\n   # ç›®å‰å­˜åœ¨çš„ å¯ç”¨çš„ å‘½ä»¤è¡Œå®‰è£…ç‰ˆæœ¬ >>> \n   # python@3.7  python@3.8  python@3.9  python@3.10  python@3.11\n   \n   # ç›´æ¥ä½¿ç”¨å‘½ä»¤è¡Œå®‰è£…å³å¯\n   brew install python@3.7\n   ```\n\n   \n\n![image-20230711123327438](https://s2.loli.net/2023/07/11/YIlmzPBRgCvL42X.png)\n\n+ æ·»åŠ ç¯å¢ƒå˜é‡\n\n  ```shell\n  # æ·»åŠ ç¯å¢ƒå˜é‡æ–‡ä»¶å¤¹\n  mkdir ~/bash_files\n  \n  # æ‰“å¼€ .zshrc\n  open ~/.zshrc\n  \n  # å°†ä¸‹é¢çš„ç¯å¢ƒå˜é‡æ·»åŠ åˆ°æœ«å°¾\n  export PATH=$PATH:/Users/kate_01/bash_files:/usr/local/Cellar/ffmpeg/6.0:/bin:/usr/local/ffmpeg/bin\n  \n  # ç«‹å³ç”Ÿæ•ˆ\n  source ~/.zshrc\n  \n  ```\n\n  ![æ·»åŠ ç¯å¢ƒå˜é‡åˆ°æœ¬åœ°](https://s2.loli.net/2023/07/11/uF2KDv5BymLqRaC.png)\n\n+ `brew` å®‰è£…å¥½çš„ python ä¸»ç¨‹åºé»˜è®¤æ–‡ä»¶å¤¹åœ¨ `/usr/local/Cellar` ä¸­\n\n  ![image-20230711131409016](https://s2.loli.net/2023/07/11/i8sYOy973fvXAWj.png)\n\n  ```shell\n  # é»˜è®¤åˆ° pip å’Œ python ç¨‹åº åœ¨\n  /usr/local/Cellar/python@3.9/3.9.17_1/bin\n  ```\n\n  ![image-20230711131818314](https://s2.loli.net/2023/07/11/mwvHc5NiCLgu42K.png)\n\n  \n\n","tags":["æ•™ç¨‹","Mac","å¤šç‰ˆæœ¬å…±å­˜"],"categories":["_A5-å®‰è£…æ•™ç¨‹","Python"]},{"title":"python ImportError: urllib3 v2.0 only supports OpenSSL 1.1.1+","url":"/2023/06/14/python-ImportError-urllib3-v2-0-only-supports-OpenSSL-1-1-1/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ImportError: urllib3 v2.0 only supports OpenSSL 1.1.1+</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>è§£å†³åŠæ³•ï¼š</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>æŒ‡å®špythonç¯å¢ƒä¸‹çš„Â urllib3 ç‰¹å®šç‰ˆæœ¬</strong></font>\n\n```\npip3 install --upgrade urllib3==1.26.15\n```\n\n","tags":["é”™è¯¯"],"categories":["_A9-é”™è¯¯è§£å†³","python"]},{"title":"python urlåŸŸå ä¸ æ–‡ä»¶è·¯å¾„ æ‹¼æ¥çš„å¿«æ·æ–¹æ³•","url":"/2023/06/13/python-urlåŸŸå-ä¸-æ–‡ä»¶è·¯å¾„-æ‹¼æ¥çš„å¿«æ·æ–¹æ³•/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>python urlåŸŸå ä¸ æ–‡ä»¶è·¯å¾„ æ‹¼æ¥çš„å¿«æ·æ–¹æ³•</strong></font>\n\n<!--more-->\n\n```python\n# ä½¿ç”¨ urllib åº“ä¸‹çš„ urljoin\nfrom urllib.parse import urljoin\n\n# index_url = 'http://xx.xxx.com/index.m3u8'  #è¿™é‡Œéšä¾¿ä»€ä¹ˆåœ°å€\n# uri = \"/file/0001.ts\"     # æ–‡ä»¶è·¯å¾„\n\nurl = urljoin(index_url, uri)\n\n# å¾—åˆ°å¦‚ä¸‹å†…å®¹\nhttp://xx.xxx.com/file/0001.ts\n```\n\n","tags":["python","åŸºç¡€"],"categories":["Python","åŸºç¡€"]},{"title":"python éšæœºè·å–uaå¤´","url":"/2023/06/13/python-éšæœºè·å–uaå¤´/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>python éšæœºè·å–uaå¤´ï¼š</strong></font>\n\n<!--more-->\n\n```python\n# å®‰è£…åº“\n# pip install -U anti-useragent\n\nfrom anti_useragent import UserAgent\n\ndef get_ua(platform='windows', browser_type='chrome', min_version=80, max_version=100):\n    '''\n    :param platform: 'windows', 'linux', 'android'\n    :param browser_type: 'chrome', 'firefox'\n    :param min_version:\n    :param max_version:\n    :return:\n    '''\n    ua = UserAgent(platform=platform, min_version=min_version, max_version=max_version)[browser_type]\n    return ua\n\nua = get_ua()\nprint(ua)\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ç»“æœ:</strong></font>\n\n![image-20230613150250217](https://s2.loli.net/2023/06/13/yuP3XecFKBZYgxs.png)\n","tags":["python","åŸºç¡€"],"categories":["Python","çˆ¬è™«"]},{"title":"python è§£å¯†äºŒå±‚ã€ä¸‰å±‚ m3u8æ–‡ä»¶ï¼Œè·å–çœŸå®å†…å®¹","url":"/2023/06/13/python-è§£å¯†äºŒå±‚ã€ä¸‰å±‚-m3u8æ–‡ä»¶ï¼Œè·å–çœŸå®å†…å®¹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>python è§£å¯†äºŒå±‚ã€ä¸‰å±‚ m3u8æ–‡ä»¶ï¼Œè·å–çœŸå®å†…å®¹</strong></font>\n\n<!--more-->\n\nåŸå§‹åœ°å€ï¼šhttps://zhuanlan.zhihu.com/p/205224181\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>Pythonçˆ¬è™«å®æˆ˜ä¹‹ç”µå½±çˆ¬å–è¿‡ç¨‹</strong></font>\n  + <font color=#b0171f size=3 face=å®‹ä½“><strong>å®ç°åŠŸèƒ½ï¼š</strong></font>\n    + <font color=#f26522 size=2 face=å®‹ä½“><strong>ä»ç½‘ç«™ä¸Šçˆ¬å–é‡‡ç”¨m3u8åˆ†æ®µæ–¹å¼çš„è§†é¢‘æ–‡ä»¶ï¼Œå¯¹åŠ å¯†çš„ \"ts\"æ–‡ä»¶è§£å¯†ï¼Œå®ç°ä¸¤ç§æ–¹å¼åˆå¹¶\"ts\"æ–‡ä»¶ï¼Œä¸ºé˜²æ­¢IPè¢«å°ï¼Œä½¿ç”¨ä»£ç†ï¼Œæœ€ååˆ é™¤ä¸´æ—¶æ–‡ä»¶ã€‚</strong></font>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>ç¯å¢ƒ &ä¾èµ–</strong></font>\n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>Win10 64bit</strong></font>\n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>IDEï¼šPycharm</strong></font>\n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>Python 3.8</strong></font>\n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>Python-site-package:requests + BeautifulSoup + lxml + m3u8 + AES</strong></font>\n\n<font color=#f26522 size=3 face=å®‹ä½“><strong>åœ¨PyCharmä¸­åˆ›å»ºä¸€ä¸ªé¡¹ç›®ä¼šåˆ›å»ºä¸€ä¸ªä¸´æ—¶ç›®å½•å­˜æ”¾ç¯å¢ƒå’Œæ‰€éœ€è¦çš„packageåŒ…ï¼Œæ‰€ä»¥è¦åœ¨PyCharm ä¸­é¡¹ç›®è§£é‡Šå™¨ï¼ˆProject Interpreterï¼‰ä¸­æ·»åŠ æ‰€æœ‰éœ€è¦çš„åŒ…ï¼Œè¿™å¼ æˆªå›¾æ˜¯æœ¬é¡¹ç›®çš„åŒ…åˆ—è¡¨ï¼Œçº¢æ¡†ä¸­æ˜¯æ‰€å¿…é¡»çš„åŒ…ï¼Œå…¶ä»–æœ‰çš„åŒ…æˆ‘ä¹Ÿä¸çŸ¥é“åšä»€ä¹ˆç”¨çš„ã€‚</strong></font>\n\n\n\n![img](https://pic3.zhimg.com/80/v2-50b64133c162aa2283adf5573fa24cb2_720w.webp)\n\n\n\n<font color=#f26522 size=3 face=å®‹ä½“><strong>ä¸‹é¢å¼€å§‹æˆ‘ä»¬çš„æ­£é¤ï¼Œçˆ¬å–æ•°æ®ç¬¬ä¸€æ­¥æˆ‘ä»¬éœ€è¦è§£æç›®æ ‡ç½‘ç«™ï¼Œæ‰¾åˆ°æˆ‘ä»¬éœ€è¦çˆ¬å–è§†é¢‘çš„åœ°å€ï¼ŒF12æ‰“å¼€å¼€å‘è€…å·¥å…·</strong></font>\n\n\n\n![img](https://pic2.zhimg.com/80/v2-0ed4491c4ba64c777e693a2f4295de05_720w.webp)\n\n\n\n\n\n![img](https://pic2.zhimg.com/80/v2-de4d25a7e812cc082aa2978eda866e79_720w.webp)\n\n\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å¾ˆä¸å¹¸ï¼Œè¿™ä¸ªç½‘ç«™è§†é¢‘æ˜¯ç»è¿‡åŒ…è£…é‡‡ç”¨m3u8è§†é¢‘åˆ†æ®µæ–¹å¼åŠ è½½</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ç§‘æ™®ä¸€ä¸‹ï¼šm3u8 æ–‡ä»¶å®è´¨æ˜¯ä¸€ä¸ªæ’­æ”¾åˆ—è¡¨ï¼ˆplaylistï¼‰ï¼Œå…¶å¯èƒ½æ˜¯ä¸€ä¸ªåª’ä½“æ’­æ”¾åˆ—è¡¨ï¼ˆMedia Playlistï¼‰ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªä¸»åˆ—è¡¨ï¼ˆMaster Playlistï¼‰ã€‚ä½†æ— è®ºæ˜¯å“ªç§æ’­æ”¾åˆ—è¡¨ï¼Œå…¶å†…éƒ¨æ–‡å­—ä½¿ç”¨çš„éƒ½æ˜¯ utf-8 ç¼–ç ã€‚</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å½“ m3u8 æ–‡ä»¶ä½œä¸ºåª’ä½“æ’­æ”¾åˆ—è¡¨ï¼ˆMeida Playlistï¼‰æ—¶ï¼Œå…¶å†…éƒ¨ä¿¡æ¯è®°å½•çš„æ˜¯ä¸€ç³»åˆ—åª’ä½“ç‰‡æ®µèµ„æºï¼Œé¡ºåºæ’­æ”¾è¯¥ç‰‡æ®µèµ„æºï¼Œå³å¯å®Œæ•´å±•ç¤ºå¤šåª’ä½“èµ„æºã€‚</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>OKï¼Œæœ¬ç€â€œæ²¡æœ‰è§£å†³ä¸äº†çš„å›°éš¾â€œçš„åŸåˆ™æˆ‘ä»¬ç»§ç»­ï¼Œä¾æ—§åœ¨å¼€å‘è€…æ¨¡å¼ï¼Œä»Elementsæ¨¡å¼åˆ‡æ¢åˆ°NetWorkæ¨¡å¼ï¼Œå»æ‰ä¸éœ€è¦çš„æ•°æ®ï¼Œæˆ‘ä»¬å‘ç°äº†ä¸¤ä¸ªm3u8æ–‡ä»¶ä¸€ä¸ªkeyæ–‡ä»¶å’Œä¸€ä¸ªtsæ–‡ä»¶</strong></font>\n\n![img](https://pic4.zhimg.com/80/v2-1190c46b1e9795e4c6e8615e7fcf5e43_720w.webp)\n\n\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>åˆ†åˆ«ç‚¹å‡»ä¹‹åæˆ‘ä»¬å¯ä»¥ çœ‹åˆ°å¯¹åº”çš„åœ°å€</strong></font>\n\n\n\n![img](https://pic2.zhimg.com/80/v2-fa7f22c7a2fc733de3d807bf34a478f5_720w.webp)\n\n\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>OKï¼Œç°åœ¨åœ°å€å·²ç»æ‹¿åˆ°äº†ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹æˆ‘ä»¬çš„æ•°æ®ä¸‹è½½ä¹‹è·¯äº†ã€‚</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>é¦–å…ˆè¿›è¡Œåˆå§‹åŒ–ï¼ŒåŒ…æ‹¬è·¯å¾„è®¾ç½®ï¼Œè¯·æ±‚å¤´çš„ä¼ªè£…ç­‰ï¼Œä¹‹åæˆ‘ä»¬é€šè¿‡å¾ªç¯å»ä¸‹è½½æ‰€æœ‰tsæ–‡ä»¶ï¼Œè‡³äºå¦‚ä½•å®šä¹‰å¾ªç¯çš„æ¬¡æ•°æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†m3u8æ–‡ä»¶ä¸‹è½½ä¹‹åè§£ææ–‡ä»¶å¾—åˆ°æ‰€æœ‰tsçš„åˆ—è¡¨ï¼Œä¹‹åæ‹¼æ¥åœ°å€ç„¶åå¾ªç¯å°±å¯ä»¥å¾—åˆ°æ‰€æœ‰tsæ–‡ä»¶äº†ã€‚</strong></font>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>ç¬¬ä¸€å±‚ï¼š</strong></font>\n\n```text\næ–°æ‰‹å­¦ä¹ ï¼ŒPython æ•™ç¨‹/å·¥å…·/æ–¹æ³•/è§£ç–‘ï¼‹Vï¼šitz992\n#EXTM3U\n\n#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=500000,RESOLUTION=720x406\n\n500kb/hls/index.m3u8\n```\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>è§‚å¯Ÿæ•°æ®ï¼Œä¸æ˜¯çœŸæ­£è·¯å¾„ï¼Œç¬¬äºŒå±‚è·¯å¾„åœ¨ç¬¬ä¸‰è¡Œå¯ä»¥çœ‹åˆ°ï¼Œç»“åˆæˆ‘ä»¬å¯¹ç½‘ç«™æºç åˆ†æå†æ¬¡æ‹¼æ¥å­—ç¬¦ä¸²è¯·æ±‚ï¼š</strong></font>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>ç¬¬äºŒå±‚ï¼š</strong></font>\n\n```text\n#EXT-X-VERSION:3\n\n#EXT-X-TARGETDURATION:2\n\n#EXT-X-MEDIA-SEQUENCE:0\n\n#EXT-X-KEY:METHOD=AES-128,URI=\"key.key\"\n\n#EXTINF:2.000000,\n\nIsZhMS5924000.ts\n\n#EXTINF:2.000000,\n\nIsZhMS5924001.ts\n\n#EXT-X-ENDLIST\n```\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ä¹‹åæˆ‘ä»¬å¾ªç¯å¾—åˆ°çš„TSåˆ—è¡¨ï¼Œé€šè¿‡æ‹¼æ¥åœ°å€ä¸‹è½½è§†é¢‘ç‰‡æ®µã€‚ä½†æ˜¯é—®é¢˜è¿œè¿œæ²¡æœ‰è¿™ä¹ˆç®€å•ï¼Œæˆ‘ä»¬ä¸‹è½½çš„tsæ–‡ä»¶å±…ç„¶æ— æ³•æ’­æ”¾ï¼Œé€šè¿‡å¯¹ç¬¬äºŒå±‚ä¸‹è½½å¾—åˆ°çš„m3u8æ–‡ä»¶è¿›è¡Œåˆ†ææˆ‘ä»¬å¯ä»¥å‘ç°è¿™ä¸€è¡Œä»£ç ï¼š</strong></font>\n\n```text\n#EXT-X-KEY:METHOD=AES-128,URI=\"key.key\"\n```\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æ­¤ç½‘ç«™é‡‡ç”¨AESæ–¹æ³•å¯¹æ‰€æœ‰tsæ–‡ä»¶è¿›è¡Œäº†åŠ å¯†ï¼Œå…¶ä¸­</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>`METHOD=ASE-128`ï¼šè¯´æ˜æ­¤è§†é¢‘é‡‡ç”¨ASE-128æ–¹å¼è¿›è¡ŒåŠ å¯†ï¼Œ</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>`URI=â€œkey.keyâ€`ï¼šä»£è¡¨keyçš„åœ°å€</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ç»¼ä¸Šæ‰€è¯‰ï¼Œæ„Ÿè§‰å¥½éš¾å•Šï¼Œå¥½ç»•äº†ï¼Œéƒ½æ‹¿åˆ°äº†è§†é¢‘è¿˜çœ‹ä¸äº†ï¼Œä½†æ˜¯æˆ‘ä»¬è¦åšæŒæˆ‘ä»¬çš„åˆå¿ƒä¸èƒ½æ”¾å¼ƒã€‚Fortunatelyï¼Œæˆ‘ä»¬åº”è¯¥åº†å¹¸Pythonå¼ºå¤§çš„æ¨¡å—åŠŸèƒ½ï¼Œè¿™ä¸ªé—®é¢˜æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹è½½AESæ¨¡å—è§£å†³ã€‚</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å®Œæˆä¹‹åæˆ‘ä»¬éœ€è¦å°†æ‰€æœ‰tsåˆå¹¶ä¸ºä¸€ä¸ªMP4æ–‡ä»¶ï¼Œæœ€ç®€å•çš„åœ¨CMDå‘½ä»¤ä¸‹æˆ‘ä»¬è¿›å…¥åˆ°è§†é¢‘æ‰€åœ¨è·¯å¾„ç„¶åæ‰§è¡Œï¼š</strong></font>\n\n```text\ncopy /b *.ts fileName.mp4\n```\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>éœ€è¦æ³¨æ„æ‰€æœ‰TSæ–‡ä»¶éœ€è¦æŒ‰é¡ºåºæ’å¥½ã€‚åœ¨æœ¬é¡¹ç›®ä¸­æˆ‘ä»¬ä½¿ç”¨osæ¨¡å—ç›´æ¥è¿›è¡Œåˆå¹¶å’Œåˆ é™¤ä¸´æ—¶tsæ–‡ä»¶æ“ä½œã€‚</strong></font>\n\n\n\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>å®Œæ•´ä»£ç ï¼š</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>`æ–¹æ³•ä¸€ï¼š`</strong></font>\n\n```text\nimport re\nimport requests\nimport m3u8\nimport time\nimport os\nfrom bs4 import BeautifulSoup\nimport json\nfrom Crypto.Cipher import AES\n\nclass VideoCrawler():\n\n    def __init__(self,url):\n        super(VideoCrawler, self).__init__()\n        self.url = url\n        self.down_path = r\"F:\\Media\\Film\\Temp\"\n        self.final_path = r\"F:\\Media\\Film\\Final\"\n        self.headers = {\n            'Connection': 'Keep-Alive',\n            'Accept': 'text/html,application/xhtml+xml,*/*',\n            'User-Agent': 'Mozilla/5.0 (Linux; U; Android 6.0; zh-CN; MZ-m2 note Build/MRA58K) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 MZBrowser/6.5.506 UWS/2.10.1.22 Mobile Safari/537.36'\n        }\n\n    def get_url_from_m3u8(self, readAdr):\n        print(\"æ­£åœ¨è§£æçœŸå®ä¸‹è½½åœ°å€...\")\n        with open('temp.m3u8', 'wb') as file:\n            file.write(requests.get(readAdr).content)\n            m3u8Obj = m3u8.load('temp.m3u8')\n        print(\"è§£æå®Œæˆ\")\n        return m3u8Obj.segments\n    def run(self):\n        print(\"Start!\")\n        start_time=time.time()\n        os.chdir(self.down_path)\n        html=requests.get(self.url).text\n        bsObj=BeautifulSoup(html,'lxml')\n        tempStr = bsObj.find(class_=\"iplays\").contents[3].string#é€šè¿‡classæŸ¥æ‰¾å­˜æ”¾m3u8åœ°å€çš„ç»„ä»¶\n        firstM3u8Adr = json.loads(tempStr.strip('var player_data='))[\"url\"]#å¾—åˆ°ç¬¬ä¸€å±‚m3u8åœ°å€\n        tempArr = firstM3u8Adr.rpartition('/')\n        realAdr = \"%s/500kb/hls/%s\" % (tempArr[0],tempArr[2])#ä¸€å®šè§„å¾‹ä¸‹å¯¹å­—ç¬¦ä¸²æ‹¼æ¥å¾—åˆ°ç¬¬äºŒå±‚åœ°å€ï¼Œ å¾—åˆ°çœŸå®m3u8ä¸‹è½½åœ°å€ï¼Œ\n        key_url =\"%s/500kb/hls/key.key\"%tempArr[0]#åˆ†æè§„å¾‹å¯¹å­—ç¬¦ä¸²æ‹¼æ¥å¾—åˆ°keyçš„åœ°å€\n        key = requests.get(key_url).content\n        fileName = bsObj.find(class_=\"video-title w100\").contents[0].contents[0]#ä»æºç ä¸­æ‰¾åˆ°è§†é¢‘åç§°çš„è§„å¾‹\n        fileName = re.sub(r'[\\s,!]', '', fileName) #é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼å»æ‰ä¸­æ–‡åç§°ä¸­çš„æ„Ÿå¹å·é€—å·å’Œç©ºæ ¼ç­‰ç‰¹æ®Šå­—ç¬¦ä¸²\n        cryptor = AES.new(key,AES.MODE_CBC, key)#é€šè¿‡AESå¯¹tsè¿›è¡Œè§£å¯†\n        urlList = self.get_url_from_m3u8(realAdr)\n        urlRoot = tempArr[0]\n        i = 1\n        for url in urlList:\n            resp = requests.get(\"%s/500kb/hls/%s\" % (urlRoot, url.uri), headers=crawler.headers)\n            if len(key):\n                with open('clip%s.ts' % i, 'wb') as f:\n                    f.write(cryptor.decrypt(resp.content))\n                    print(\"æ­£åœ¨ä¸‹è½½clip%d\" % i)\n            else:\n                with open('clip%s.ts' % i, 'wb') as f:\n                    f.write(resp.content)\n                    print(\"æ­£åœ¨ä¸‹è½½clip%d\" % i)\n            i += 1\n        print(\"ä¸‹è½½å®Œæˆï¼æ€»å…±è€—æ—¶%d s\" % (time.time()-start_time))\n        print(\"æ¥ä¸‹æ¥è¿›è¡Œåˆå¹¶......\")\n        os.system('copy/b %s\\\\*.ts %s\\\\%s.ts' % (self.down_path, self.final_path, fileName))\n        print(\"åˆ é™¤ç¢ç‰‡æºæ–‡ä»¶......\")\n        files = os.listdir(self.down_path)\n        for filena in files:\n            del_file = self.down_path+'\\\\'+filena\n            os.remove(del_file)\n        print(\"ç¢ç‰‡æ–‡ä»¶åˆ é™¤å®Œæˆ\")\n\n\nif __name__ == '__main__':\n    crawler = VideoCrawler(\"åœ°å€å¤§å®¶è‡ªå·±æ‰¾å“¦\")\n    crawler.start()\n    crawler2 = VideoCrawler(\"åœ°å€å¤§å®¶è‡ªå·±æ‰¾å“¦\")\n    crawler2.start()\n```\n\næ–¹æ³•äºŒåœ¨æ–¹æ³•ä¸€ä¸­æˆ‘ä»¬æ˜¯ä¸‹è½½æ‰€æœ‰tsç‰‡æ®µåˆ°æœ¬åœ°ä¹‹ååœ¨è¿›è¡Œåˆå¹¶ï¼Œå…¶ä¸­æœ‰å¯èƒ½é¡ºåºä¼šä¹±ï¼Œæœ‰æ—¶å€™è§£å¯†çš„è§†é¢‘è¿˜æ˜¯æ— æ³•æ’­æ”¾åˆå¹¶ä¹‹åä¼šå¯¼è‡´æ•´ä¸ªè§†é¢‘æ—¶é—´è½´ä¸æ­£ç¡®è€Œä¸”è§†é¢‘æ ¹æœ¬ä¸èƒ½å®Œæ•´æ’­æ”¾ï¼Œåœ¨ç»è¿‡å„ç§åŠªåŠ›ï¼Œå¤šæ–¹æŸ¥èµ„æ–™ä¹‹åæœ‰çš„é—®é¢˜è¿˜æ˜¯å¾—ä¸åˆ°å®Œç¾è§£å†³ï¼Œæœ€åçªå‘å¥‡æƒ³ï¼Œæœ‰äº†ä¸€ä¸ªæ–°çš„æƒ³æ³•ï¼Œæˆ‘ä»¬ä¸å¿…æŠŠæ‰€æœ‰tsç‰‡æ®µéƒ½ä¸‹è½½åˆ°æœ¬åœ°ä¹‹åè¿›è¡Œåˆå¹¶ï¼Œè€Œæ˜¯é‡‡ç”¨å¦ä¸€ç§æ€ç»´æ¨¡å¼ï¼Œä¸€å¼€å§‹æˆ‘ä»¬åªåˆ›å»ºä¸€ä¸ªtsæ–‡ä»¶ï¼Œç„¶åæ¯æ¬¡å¾ªç¯çš„æ—¶å€™ä¸æ˜¯å»ä¸‹è½½tsæ–‡ä»¶è€Œæ˜¯å°†é€šè¿‡åœ°å€å¾—åˆ°çš„è§†é¢‘ç‰‡æ®µæ–‡ä»¶æµç›´æ¥æ·»åŠ åˆ°æˆ‘ä»¬ä¸€å¼€å§‹åˆ›å»ºçš„tsæ–‡ä»¶ä¸­ï¼Œå¦‚æœå‡ºç°é”™è¯¯è·³å‡ºå½“å‰å¾ªç¯å¹¶ç»§ç»­ä¸‹æ¬¡æ“ä½œï¼Œæœ€åæˆ‘ä»¬ç›´æ¥å¾—åˆ°çš„å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„tsæ–‡ä»¶ï¼Œè¿˜ä¸éœ€è¦å»åˆå¹¶æ‰€æœ‰ç‰‡æ®µã€‚å…·ä½“çœ‹ä»£ç å¦‚ä½•å®ç°ã€‚\n\næœ¬ä»£ç å¥½å¤šåœ°æ–¹å’Œä¸Šé¢éƒ½ä¸€æ ·ï¼Œæˆ‘ä»¬åªéœ€è¦é¢†æ‚Ÿå…¶ä¸­çš„åŸç†å’Œæ–¹æ³•å°±OKäº†\n\n```text\nimport re\n\nimport requests\n\nimport m3u8\n\nimport time\n\nimport os\n\nfrom bs4 import BeautifulSoup\n\nimport json\n\nfrom Crypto.Cipher import AES\n\nimport sys\n\nimport random\n\nclass VideoCrawler():\n\ndef __init__(self,url):\n\nsuper(VideoCrawler, self).__init__()\n\nself.url=url\n\nself.down_path=r\"F:\\Media\\Film\\Temp\"\n\nself.agency_url='https://www.kuaidaili.com/free/'  #è·å–å…è´¹ä»£ç†çš„ç½‘ç«™ï¼Œå¦‚æœç½‘ç«™è¿‡æœŸæˆ–è€…å¤±æ•ˆï¼Œè‡ªå·±æ‰¾ä»£ç†ç½‘ç«™æ›¿æ¢\n\nself.final_path=r\"F:\\Media\\Film\\Final\"\n\nself.headers={\n\n'Connection':'Keep-Alive',\n\n'Accept':'text/html,application/xhtml+xml,*/*',\n\n'User-Agent':'Mozilla/5.0 (Linux; U; Android 6.0; zh-CN; MZ-m2 note Build/MRA58K) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/40.0.2214.89 MZBrowser/6.5.506 UWS/2.10.1.22 Mobile Safari/537.36'\n\n}\n\ndef get_url_from_m3u8(self,readAdr):\n\nprint(\"æ­£åœ¨è§£æçœŸå®ä¸‹è½½åœ°å€...\")\n\nwith open('temp.m3u8','wb') as file:\n\nfile.write(requests.get(readAdr).content)\n\nm3u8Obj=m3u8.load('temp.m3u8')\n\nprint(\"è§£æå®Œæˆ\")\n\nreturn m3u8Obj.segments\n\ndef get_ip_list(self,url, headers):\n\nweb_data = requests.get(url, headers=headers).text\n\nsoup = BeautifulSoup(web_data, 'lxml')\n\nips = soup.find_all('tr')\n\nip_list = []\n\nfor i in range(1, len(ips)):\n\nip_info = ips[i]\n\ntds = ip_info.find_all('td')\n\nip_list.append(tds[0].text + ':' + tds[1].text)\n\nreturn ip_list\n\ndef get_random_ip(self,ip_list):\n\nproxy_list = []\n\nfor ip in ip_list:\n\nproxy_list.append('http://' + ip)\n\nproxy_ip = random.choice(proxy_list)\n\nproxies = {'http': proxy_ip}\n\nreturn proxies\n\ndef run(self):\n\nprint(\"Start!\")\n\nstart_time=time.time()\n\nself.down_path = r\"%s\\%s\" % (self.down_path, uuid.uuid1())#æ‹¼æ¥æ–°çš„ä¸‹è½½åœ°å€\n\nif not os.path.exists(self.down_path): #åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»º\n\nos.mkdir(self.down_path)\n\nhtml=requests.get(self.url).text\n\nbsObj=BeautifulSoup(html,'lxml')\n\ntempStr = bsObj.find(class_=\"iplays\").contents[3].string#é€šè¿‡classæŸ¥æ‰¾å­˜æ”¾m3u8åœ°å€çš„ç»„ä»¶\n\nfirstM3u8Adr=json.loads(tempStr.strip('var player_data='))[\"url\"]#å¾—åˆ°ç¬¬ä¸€å±‚m3u8åœ°å€\n\ntempArr=firstM3u8Adr.rpartition('/')\n\nall_content = (requests.get(firstM3u8Adr).text).split('\\n')[2]#ä»ç¬¬ä¸€å±‚m3u8æ–‡ä»¶ä¸­ä¸­æ‰¾å‡ºç¬¬äºŒå±‚æ–‡ä»¶çš„çš„åœ°å€\n\nmidStr = all_content.split('/')[0]#å¾—åˆ°å…¶ä¸­æœ‰ç”¨çš„å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªé’ˆå¯¹ä¸åŒçš„ç½‘ç«™é‡‡ç”¨ä¸åŒçš„æ–¹æ³•è‡ªå·±å¯»æ‰¾å…¶ä¸­çš„è§„å¾‹\n\nrealAdr = \"%s/%s\" % (tempArr[0], all_content)#ä¸€å®šè§„å¾‹ä¸‹å¯¹å­—ç¬¦ä¸²æ‹¼æ¥å¾—åˆ°ç¬¬äºŒå±‚åœ°å€ï¼Œ å¾—åˆ°çœŸå®m3u8ä¸‹è½½åœ°å€ï¼Œ\n\nkey_url = \"%s/%s/hls/key.key\" % (tempArr[0], midStr)#åˆ†æè§„å¾‹å¯¹å­—ç¬¦ä¸²æ‹¼æ¥å¾—åˆ°keyçš„åœ°å€\n\nkey_html = requests.head(key_url)#è®¿é—®keyçš„åœ°å€å¾—åˆ°çš„æ–‡æœ¬\n\nstatus = key_html.status_code#æ˜¯å¦æˆåŠŸè®¿é—®åˆ°keyçš„åœ°å€\n\nkey = \"\"\n\nif status == 200:\n\nall_content=requests.get(realAdr).text#è¯·æ±‚ç¬¬äºŒå±‚m3u8æ–‡ä»¶åœ°å€å¾—åˆ°å†…å®¹\n\nif \"#EXT-X-KEY\" in all_content:\n\nkey = requests.get(key_url).content#å¦‚æœå…¶ä¸­æœ‰\"#EXT-X-KEY\"è¿™ä¸ªå­—æ®µè¯´æ˜è§†é¢‘è¢«åŠ å¯†\n\nself.fileName = bsObj.find(class_=\"video-title w100\").contents[0].contents[0]#åˆ†æç½‘é¡µå¾—åˆ°è§†é¢‘çš„åç§°\n\nself.fileName=re.sub(r'[\\s,!]','',self.fileName)#å› ä¸ºå¦‚æœæ–‡ä»¶åä¸­æœ‰é€—å·æ„Ÿå¹å·æˆ–è€…ç©ºæ ¼ä¼šå¯¼è‡´åˆå¹¶æ—¶å‡ºç°å‘½ä»¤ä¸æ­£ç¡®é”™è¯¯ï¼Œæ‰€ä»¥é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼ç›´æ¥å»æ‰åç§°ä¸­è¿™äº›å­—ç¬¦\n\niv = b'abcdabcdabcdabcd'#AESè§£å¯†æ—¶å€™å‡‘ä½æ•°çš„iv\n\nif len(key):#å¦‚æœkeyæœ‰å€¼è¯´æ˜è¢«åŠ å¯†\n\ncryptor = AES.new(key, AES.MODE_CBC, iv)#é€šè¿‡AESå¯¹tsè¿›è¡Œè§£å¯†\n\nurlList=self.get_url_from_m3u8(realAdr)\n\nurlRoot=tempArr[0]\n\ni=1\n\noutputfile=open(os.path.join(self.final_path,'%s.ts'%self.fileName),'wb')#åˆå§‹åˆ›å»ºä¸€ä¸ªtsæ–‡ä»¶ï¼Œä¹‹åæ¯æ¬¡å¾ªç¯å°†tsç‰‡æ®µçš„æ–‡ä»¶æµå†™å…¥æ­¤æ–‡ä»¶ä¸­ä»è€Œä¸éœ€è¦åœ¨å»åˆå¹¶tsæ–‡ä»¶\n\nip_list=self.get_ip_list(self.agency_url,self.headers)#é€šè¿‡ç½‘ç«™çˆ¬å–åˆ°å…è´¹çš„ä»£ç†ipé›†åˆ\n\nfor url in urlList:\n\ntry:\n\nproxies=self.get_random_ip(ip_list)#ä»ipé›†åˆä¸­éšæœºæ‹¿åˆ°ä¸€ä¸ªä½œä¸ºæ­¤æ¬¡è®¿é—®çš„ä»£ç†\n\nresp = requests.get(\"%s/%s/hls/%s\" % (urlRoot, midStr, url.uri), headers=crawler.headers,proxies=proxies)#æ‹¼æ¥åœ°å€å»çˆ¬å–æ•°æ®ï¼Œé€šè¿‡æ¨¡æ‹Ÿheaderå’Œä½¿ç”¨ä»£ç†è§£å†³å°IP\n\nif len(key):\n\ntempText=cryptor.decrypt(resp.content)#è§£å¯†çˆ¬å–åˆ°çš„å†…å®¹\n\nprogess=i/len(urlList)#è®°å½•å½“å‰çš„çˆ¬å–è¿›åº¦\n\noutputfile.write(tempText)#å°†çˆ¬å–åˆ°tsç‰‡æ®µçš„æ–‡ä»¶æµå†™å…¥åˆšå¼€å§‹åˆ›å»ºçš„tsæ–‡ä»¶ä¸­\n\nsys.stdout.write('\\ræ­£åœ¨ä¸‹è½½ï¼š%s,è¿›åº¦ï¼š%s %%'%(self.fileName,progess))#é€šè¿‡ç™¾åˆ†æ¯”æ˜¾ç¤ºä¸‹è½½è¿›åº¦\n\nsys.stdout.flush()#é€šè¿‡æ­¤æ–¹æ³•å°†ä¸Šä¸€è¡Œä»£ç åˆ·æ–°ï¼Œæ§åˆ¶å°åªä¿ç•™ä¸€è¡Œ\n\nelse:\n\noutputfile.write(resp.content)\n\nexcept Exception as e:\n\nprint(\"\\nå‡ºç°é”™è¯¯ï¼š%s\",e.args)\n\ncontinue#å‡ºç°é”™è¯¯è·³å‡ºå½“å‰å¾ªç¯ï¼Œç»§ç»­ä¸‹æ¬¡å¾ªç¯\n\ni+=1\n\noutputfile.close()\n\nprint(\"ä¸‹è½½å®Œæˆï¼æ€»å…±è€—æ—¶%d s\"%(time.time()-start_time))\n\nself.del_tempfile()#åˆ é™¤ä¸´æ—¶æ–‡ä»¶\n\ndef del_tempfile(self):\n\nfile_list=os.listdir(self.down_path)\n\nfor i in file_list:\n\ntempPath=os.path.join(self.down_path,i)\n\nos.remove(tempPath)\n\nos.rmdir(self.down_path)\n\nprint('ä¸´æ—¶æ–‡ä»¶åˆ é™¤å®Œæˆ')\n\nif __name__=='__main__':\n\nurl=input(\"è¾“å…¥åœ°å€ï¼š\\n\")\n\ncrawler=VideoCrawler(url)\n\ncrawler.run()\n\nquitClick=input(\"è¯·æŒ‰Enteré”®ç¡®è®¤é€€å‡ºï¼\")\n```\n\né—®é¢˜ä¸è§£å†³ï¼š\n\n1. ä¸€å¼€å§‹ä»¥ä¸ºç”µè„‘ä¸­Pythonç¯å¢ƒä¸­æœ‰æ¨¡å—å°±OKäº†ï¼Œæœ€åå‘ç°åœ¨Pycharmä¸­è‡ªå·±è™šæ‹Ÿçš„ç¯å¢ƒä¸­è¿˜éœ€è¦æ·»åŠ å¯¹åº”æ¨¡å—ï¼Œ\n2. No module named Crypto.Cipher ï¼Œç½‘ä¸Šçœ‹äº†å¾ˆå¤šæœ€åé€šè¿‡æ·»åŠ pycryptodomeæ¨¡å—è§£å†³ï¼Œç”µè„‘ç¯å¢ƒWin10\n3. æ–‡ä»¶åä¸èƒ½æœ‰æ„Ÿå¹å·ï¼Œé€—å·æˆ–è€…ç©ºæ ¼ç­‰è¿™äº›ç‰¹æ®Šå­—ç¬¦ï¼Œä¸ç„¶æ‰§è¡Œåˆå¹¶å‘½ä»¤çš„æ—¶å€™ä¼šæç¤ºå‘½ä»¤ä¸æ­£ç¡®\n4. åœ¨ä¸‹è½½ä¸­å°†tsæ–‡ä»¶æµå†™å…¥æ–‡ä»¶æ—¶ä¼šå‡ºç°è¿™ç§é”™è¯¯ï¼ˆ'Data must be padded to 16 byte boundary in CBC mode',) Data must be paddedï¼Œæˆ‘ä»¬ç›´æ¥continueè·³å‡ºå½“å‰å¾ªç¯ç»§ç»­ä¸‹æ¬¡ä¸‹è½½ã€‚\n5. æœ‰æ—¶å‡ºç° â€œProtocol Error, Connection abort, os.errorâ€,åº”è¯¥æ˜¯çˆ¬å–æ“ä½œå¤ªé¢‘ç¹ipè¢«å°ï¼Œé’ˆå¯¹æ­¤é—®é¢˜æˆ‘ä»¬ä½¿ç”¨å…è´¹ä»£ç†ã€‚\n","tags":["python","ffmpeg","å¤šå±‚m3u8"],"categories":["Python","è§†é¢‘ç¼–è¾‘"]},{"title":"centos7 ä½¿ç”¨mount -t cifs æŒ‚è½½windowså…±äº«ç›®å½•æ–¹æ³•ä¸é—®é¢˜è§£å†³","url":"/2023/06/13/centos7-ä½¿ç”¨mount-t-cifs-æŒ‚è½½windowså…±äº«ç›®å½•æ–¹æ³•ä¸é—®é¢˜è§£å†³/","content":"\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>centos7 ä½¿ç”¨mount -t cifs æŒ‚è½½windowså…±äº«ç›®å½•æ–¹æ³•ä¸é—®é¢˜è§£å†³ï¼š</strong></font>\n\n<!--more-->\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>ä½¿ç”¨ åŸŸè´¦å· å¯†ç  è®¿é—®  //10.100.xx/Android çš„windows å…±äº«</strong></font>\n\n```bash\nmount -t cifs -o domain=test.com,username=administrator,password=test123 //192.168.1.10/share /usr/local/b\n```\n\n##### æŠ¥é”™å¦‚ä¸‹\n\n```dart\nmount -t cifs -o username=scj,password=xxxxx //10.100.xx/09.xx /usr/local/b\n# æŠ¥é”™å¦‚ä¸‹\n[root@it519 ~]# mount -t cifs -o username=\"domain\\xx\",password=\"xx\" //10.100.xx/Android /usr/local/a\nmount: //10.100.xx/Android is write-protected, mounting read-only\nmount: cannot mount //10.100.xx/Android read-only\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>è§£å†³ï¼š</strong></font>\n\n```bash\n# éœ€è¦å®‰è£…cifs-utils\nyum install cifs-utils.x86_64\n```\n\nå®‰è£…å®Œæˆåç»§ç»­æ‰§è¡Œ  æŠ¥é”™å¦‚ä¸‹\n\n```objectivec\n[root@it519 ~]# mount -t cifs -o username=\"domain\\xx\",password=\"xxx\" //10.100.xx/Android /usr/local/a\nmount error(13): Permission denied\nRefer to the mount.cifs(8) manual page (e.g. man mount.cifs)\n\n# åŸå› ï¼šå‘½ä»¤ä¸­å…³äºåŸŸçš„æ ¼å¼ä¸å¯¹ï¼Œæ­£ç¡®çš„æ˜¯:\n# å»ºè®®ç”¨è¿™ä¸ª\nmount -t cifs -o domain=test.com,username=administrator,password=test123 //192.168.1.10/share /databackup\n# æˆ–\nmount -t cifs -o username=domain/administrator,password=test123 //192.168.1.10/share /databackup\n```\n\n\n\n```ruby\n# å†æ¬¡æŒ‚è½½æˆåŠŸ\n[root@it519 ~]# mount -t cifs -o domain=test.com,username=xx,password=xxx //10.100.xx /Android /usr/local/a\n# å¸è½½ æŒ‚è½½  umount\n[root@it519 ~]# umount -v /usr/local/a/\numount: /usr/local/a (//10.100.xxx/Android) unmounted\n```\n\n### å…¶ä»–æŠ¥é”™\n\n\n\n```kotlin\n[root@www ~]# mount -t cifs -o username=name,password=123 //192.168.1.10/share /databackup\n\nmount error(127): Key has expired\nRefer to the mount.cifs(8) manual page (e.g. man mount.cifs)\n\n/var/log/messageså†…å®¹ï¼š\nSep 26 09:56:05 www kernel: Status code returned 0xc0000224 NT_STATUS_PASSWORD_MUST_CHANGE\nSep 26 09:56:05 www kernel: CIFS VFS: Send error in SessSetup = -127\nSep 26 09:56:05 www kernel: CIFS VFS: cifs_mount failed w/return code = -127\n\nåŸå› ï¼šå¸å·çš„å¯†ç è¿‡æœŸï¼Œå°†windowså¸å·çš„å¯†ç æ”¹ä¸ºæ°¸ä¸è¿‡æœŸã€‚\n\n[root@www /]# mount -t cifs -o username=testuser,password=123 //192.168.214.128/npwpw /databackup\nmount error(5): Input/output error\nRefer to the mount.cifs(8) manual page (e.g. man mount.cifs)\n\nSep 26 11:04:18 www kernel: CIFS VFS: cifs_mount failed w/return code = -5\n\nåŸå› ï¼š/databackupå·²ç»æŒ‚è½½äº†ï¼Œéœ€è¦å…ˆumonutï¼Œå†mount \n\nè®©linux å¯åŠ¨è‡ªåŠ¨æŒ‚è½½åœ¨/etc/fstabä¸­å¢åŠ \n\n//192.168.1.100/test /media cifs defaults,username=manifold,password=manifolden 0 \n```\n","tags":["ç³»ç»Ÿ","è¿ç»´","æŒ‚è½½","å…±äº«","centos"],"categories":["_A3-linux","æŒ‚è½½"]},{"title":"centosæµ‹ç½‘é€Ÿè„šæœ¬","url":"/2023/06/13/centosæµ‹ç½‘é€Ÿè„šæœ¬/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>centos7ï¼šæµ‹ç½‘é€Ÿè„šæœ¬</strong></font>\n\n<!--more-->\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>ä¸€ã€centosä½¿ç”¨bench.sh è„šæœ¬æµ‹è¯•é€Ÿåº¦ ã€æ¨èã€‘</strong></font>\n\n```bash\n[root@localhost ~]# wget -qO- 86.re/bench.sh | bash\n\nActionScript\n----------------------------------------------------------------------CPU model : IntelÂ® tooserver.netÂ® CPU E3-1230 V2 @ 3.30GHz\nNumber of cores : 8CPU frequency : 1600.000 MHz\nTotal amount of ram : 15164 MB\nTotal amount of swap : 7647 MB\nSystem uptime : 0days, 1:1:24Load average : 0.05, 0.04, 0.01OS : CentOS 6.5Arch : x86_64 (64 Bit)Kernel : 2.6.32-431.el6.x86_64----------------------------------------------------------------------Node Name IPv4 address Download Speed\nCacheFly 205.234.175.175 6.49MB/s\nLinode, Tokyo, JP 106.187.96.148 2.15MB/s\nLinode, Singapore, SG 139.162.23.4 1.68MB/s\nLinode, London, UK 176.58.107.39 1.51MB/s\nLinode, Frankfurt, DE 139.162.130.8 1.54MB/s\nLinode, Fremont, CA 50.116.14.9 3.18MB/s\nSoftlayer, Dallas, TX 173.192.68.18 2.71MB/s\nSoftlayer, Seattle, WA 67.228.112.250 2.89MB/s\nSoftlayer, Frankfurt, DE 159.122.69.4 1.45MB/s\nSoftlayer, Singapore, SG 119.81.28.170 3.74MB/s\nSoftlayer, HongKong, CN 119.81.130.170 3.62MB/s----------------------------------------------------------------------I/O speed(1st run) : 182 MB/s\nI/O speed(2nd run) : 184 MB/s\nI/O speed(3rd run) : 181 MB/s\nAverage I/O speed : 182.333 MB/s\n```\n\n\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>äºŒã€ä½¿ç”¨bench.sh è„šæœ¬æµ‹è¯•é€Ÿåº¦</strong></font>\n\n```bash\n[root@localhost ~]# wget freevps.us/downloads/bench.sh -O - -o /dev/null|bash\n\nBenchmark started on Sun Oct 9 15:21:07 HKT 2016Full benchmark log: /root/bench.log\nSystem Info-----------Processor : IntelÂ® XeonÂ® CPU E3-1230 V2 @ 3.30GHz\nCPU Cores : 8Frequency : 1600.000 MHz\nMemory : 15164 MBSwap : 7647 MB\nUptime : 1:20,OS : CentOS release 6.5 (Final)Arch : x86_64 (64 Bit)Kernel : 2.6.32-431.el6.x86_64\nHostname : tooserver.net.localdomain\nSpeedtest (IPv4 only)---------------------Your public IPv4 is 103.65.181.124Location Provider Speed\nCDN Cachefly 4.42MB/s\nAtlanta, GA, US Coloat 748KB/s\nDallas, TX, US Softlayer 4.15MB/s\nSeattle, WA, US Softlayer 2.60MB/s\nSan Jose, CA, US Softlayer 3.82MB/s\nWashington, DC, US Softlayer 2.82MB/s\nTokyo, Japan Linode 1.90MB/s\nSingapore Softlayer 2.68MB/s\nRotterdam, Netherlands id3.net 614KB/s\nHaarlem, Netherlands Leaseweb 1.22MB/s\nDisk Speed----------I/O (1st run) : 182 MB/s\nI/O (2nd run) : 178 MB/sI/O (3rd run) : 180 MB/s\nAverage I/O : 180 MB/s[root@localhost ~]#\n```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>ä¸‰ã€centoså®‰è£…speedtest-cli æµ‹è¯•é€Ÿåº¦</strong></font>\n\n```bash\n[root@localhost ~]# wget --no-check-certificate https://raw.github.com/sivel/speedtest-cli/master/speedtest_cli.py\n[root@localhost ~]# chmod a+rx speedtest_cli.py\n[root@localhost ~]# ./speedtest_cli.py\n\n\nActionScript\nRetrieving speedtest.net configurationâ€¦Retrieving tooserver.net server listâ€¦Testing from KT (103.65.181.124)â€¦Selecting best server based on latencyâ€¦Hosted by China Broadband Communications (Hong Kong) [11.64 km]: 95.107 ms\nTesting download speedâ€¦Download: 6.29 Mbit/s\nTesting upload speedâ€¦Upload: 14.04 Mbit/s\n```\n\n","tags":["ç³»ç»Ÿ","è¿ç»´","æµ‹è¯•"],"categories":["_A8-å·¥å…·","æµ‹é€Ÿ"]},{"title":"python å­—ç¬¦ä¸² u ä¸­æ–‡è½¬æ¢ utf-8","url":"/2023/06/01/python-å­—ç¬¦ä¸²-u-ä¸­æ–‡è½¬æ¢-utf-8/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>python3é»˜è®¤æ”¯æŒutf-8ï¼Œå› æ­¤å¯¹äºuXXXXè¿™ç§æ ¼å¼çš„ä¸­æ–‡ï¼Œå¯ä»¥ç›´æ¥è½¬æ¢ï¼Œä½†ç»å¸¸çˆ¬è™«æŠ“å–å›æ¥çš„ä¸­æ–‡æ˜¯uXXXXæ ¼å¼ï¼Œå› æ­¤éœ€è¦è¿›è¡Œè½¬æ¢</strong></font>\n\n<!--more-->\n\n```python\ns1='\\u70ed\\u95e8\\u94ed\\u6587\\u63a8\\u8350'\nprint('s1=',s1)\n\ns2='\\\\u70ed\\\\u95e8\\\\u94ed\\\\u6587\\\\u63a8\\\\u8350'\nprint('s2=',s2)\n\ns3=s2.encode('utf-8').decode('unicode_escape')\nprint('s3=',s3)\n\n```\n\n<br>\n\n---\n\n<br>\n\n```\ns1= çƒ­é—¨é“­æ–‡æ¨è\ns2= \\u70ed\\u95e8\\u94ed\\u6587\\u63a8\\u8350\ns3= çƒ­é—¨é“­æ–‡æ¨è\n```\n\n","tags":["python","è½¬æ¢","å­—ç¬¦ä¸²"],"categories":["Python","ç¼–ç ã€è§£ç "]},{"title":"python è¿è¡Œjsä»£ç å¹¶è¿”å›å€¼","url":"/2023/06/01/python-è¿è¡Œjsä»£ç å¹¶è¿”å›å€¼/","content":"\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>python è¿è¡Œjsä»£ç å¹¶è¿”å›å€¼ï¼š</strong></font>\n\n<!--more-->\n\nä½¿ç”¨pipå®‰è£…pyexecjsï¼š`pip3 install pyexecjs`\n\n```python\nimport execjs\nimport time\ndef get_videoallurl(vid_data):\n\n    hash_a = vid_data['hash_playkey']\n    vid = vid_data['vid']\n    js_str = '''\n        function add(a) {\n                    return parseInt(a.substring(0, 8), 16).toString(36) + parseInt(a.substring(8, 16), 16).toString(36) + parseInt(a.substring(16, 24), 16).toString(36) + parseInt(a.substring(24, 32), 16).toString(36)\n                }\n        '''\n    test = execjs.compile(js_str)    # compile()æ–¹æ³•å°†è¿”å›ä¸€ä¸ªContextå¯¹è±¡ï¼Œå¯é€šè¿‡è¿™ä¸ªå¯¹è±¡çš„callæ–¹æ³•æ¥æ‰§è¡ŒJSä»£ç ä¸­çš„å‡½æ•°\n    New_hash = test.call('add', hash_a)   # call()æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¦æ‰§è¡Œçš„å‡½æ•°åï¼Œåé¢çš„å‚æ•°éƒ½ä¸ºè¯¥å‡½æ•°æ‰€éœ€çš„å‚æ•°ã€‚\n    now_time = int(round(time.time() * 1000))\n    vid_data['hash_key'] = New_hash\n    vid_data['all_mp4_url'] = new_url\n    return vid_data\n```\n","tags":["python","javascript","çˆ¬è™«"],"categories":["_A7-é€†å‘","JavaScript"]},{"title":"python å›¾ç‰‡å‹ç¼©åˆ°æŒ‡å®šå¤§å°(KB)","url":"/2023/05/30/python-å›¾ç‰‡å‹ç¼©åˆ°æŒ‡å®šå¤§å°-KB/","content":"<font color=#00b2c2 size=5 face=å®‹ä½“><strong>python å›¾ç‰‡å‹ç¼©åˆ°æŒ‡å®šå¤§å°(KB)</strong></font>\n\n<!--more-->\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>å…¶å®ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šï¼Œä¼šçœ‹å¾—æ›´è¿œ >>>Â </strong></font>\n+ æœ¬åšæ–‡å‚è€ƒè‡ªCSDN >> [å…¨éƒ¨æ¢­å“ˆè¿Ÿæ—©æš´å¯Œ](https://blog.csdn.net/z704630835) <font color=red size=4 face=å®‹ä½“><strong>>>></strong></font> [https://blog.csdn.net/z704630835/article/details/84968767](https://blog.csdn.net/z704630835/article/details/84968767)\n\n<br>\n\n---\n\n<br>\n\n#### 1ã€ç›´æ¥ç»™ç½‘ç»œå›¾ç‰‡åœ°å€ï¼š\n\n```python\nimport requests\nfrom PIL import Image\nfrom io import BytesIO   # ä½¿ç”¨PIL æ‰“å¼€ç½‘ç»œå›¾ç‰‡åº“\n\ndef compress_image(url, file_out, size=98):\n    \"\"\"\n    :param url: ç½‘ç»œå›¾ç‰‡åœ°å€\n    :param file_out:    æ–‡ä»¶ä¿å­˜åœ°å€\n    :param size:  ä¿å­˜çš„æ–‡ä»¶å¤§å°\n    :return:\n    \"\"\"\n    res = requests.get(url)\n    tempIm = BytesIO(res.content)\n    img = Image.open(tempIm)\n    if img.mode == \"P\":\n        img = img.convert('RGB')\n    img.save(file_out, optimize=True, quality=size)\n\ncompress_image(\"input.jpg\", \"output.jpg\", 98)\n# compress_image(<\"ç½‘ç»œåœ°å€\">, <\"å­˜å‚¨è·¯å¾„\">, <\"ä¿å­˜çš„å›¾ç‰‡å¤§å°\">)\n```\n\n<br>\n\n---\n\n<br>\n\n#### 2ã€ç»™bytesï¼š\n\n```python\nimport requests\nfrom PIL import Image\nfrom io import BytesIO   # ä½¿ç”¨PIL æ‰“å¼€ç½‘ç»œå›¾ç‰‡åº“\n\ndef compress_image(bytes_, file_out, size=98):\n    \"\"\"\n    :param url: ç½‘ç»œå›¾ç‰‡åœ°å€\n    :param file_out:    æ–‡ä»¶ä¿å­˜åœ°å€\n    :param size:  ä¿å­˜çš„æ–‡ä»¶å¤§å°\n    :return:\n    \"\"\"\n    tempIm = BytesIO(bytes_)\n    img = Image.open(tempIm)\n    if img.mode == \"P\":\n        img = img.convert('RGB')\n    img.save(file_out, optimize=True, quality=size)\nurl = \"https://www.xxx.com\"  # å›¾ç‰‡åœ°å€\nresponse = requests.get(url)\ncompress_image(response.content, \"output.jpg\", 98)\n# compress_image(<\"ç½‘ç»œåœ°å€\">, <\"å­˜å‚¨è·¯å¾„\">, <\"ä¿å­˜çš„å›¾ç‰‡å¤§å°\">)\n```\n\n<br>\n\n---\n\n<br>\n\n#### 3ã€æœ¬åœ°å›¾ç‰‡è½¬æ¢ï¼š\n\n```python\nfrom PIL import Image\n\ndef compress_image(file_in, file_out, size):\n    img = Image.open(file_in)\n    img.save(file_out, optimize=True, quality=size)\n\ncompress_image(\"input.jpg\", \"output.jpg\", 100)\n\n# compress_image(<\"æœ¬åœ°å›¾ç‰‡åœ°å€\">, <\"å­˜å‚¨è·¯å¾„\">, <\"ä¿å­˜çš„å›¾ç‰‡å¤§å°\">)\n```\n\n<br>\n\n---\n\n<br>\n\n+ <font color=red size=5 face=å®‹ä½“><strong>é‡ç‚¹ï¼š</strong></font><font color=#00b2c2 size=4 face=å®‹ä½“><strong>ä½¿ç”¨PILæ¨¡å—å­˜å‚¨å›¾åƒæ—¶çš„æŠ¥é”™ï¼š</strong></font><font color=red size=4 face=å®‹ä½“><strong>cannot write mode P as JPEG</strong></font>\n\n![image-20230530234345283](https://s2.loli.net/2023/05/30/7MoFnAcUfK5mROa.png)\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å¯¹äºè¿™ä¸ªé—®é¢˜çš„åŸå› ï¼ŒæŸ¥äº†ä¸€ä¸‹ï¼Œå› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯PILæ¨¡å—ï¼Œå¯¹äºPILæ¨¡å—æ¥è¯´ï¼Œå…¶æ¨¡å¼åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š</strong></font>\n\n```tex\n# å‚è€ƒé“¾æ¥ï¼šhttps://www.jianshu.com/p/e8d058767dfa\n \næ¨¡å¼\n1             1ä½åƒç´ ï¼Œé»‘å’Œç™½ï¼Œå­˜æˆ8ä½çš„åƒç´ \nL             8ä½åƒç´ ï¼Œé»‘ç™½\nP             8ä½åƒç´ ï¼Œä½¿ç”¨è°ƒè‰²æ¿æ˜ å°„åˆ°ä»»ä½•å…¶ä»–æ¨¡å¼\nRGB           3Ã—8ä½åƒç´ ï¼ŒçœŸå½©\nRGBA          4Ã—8ä½åƒç´ ï¼ŒçœŸå½©+é€æ˜é€šé“\nCMYK          4Ã—8ä½åƒç´ ï¼Œé¢œè‰²éš”ç¦»\nYCbCr         3Ã—8ä½åƒç´ ï¼Œå½©è‰²è§†é¢‘æ ¼å¼\nI             32ä½æ•´å‹åƒç´ \nF             32ä½æµ®ç‚¹å‹åƒç´ \n```\n\n<br>\n\n---\n\n<br>\n\n<font color=red size=4 face=å®‹ä½“><strong>æŠ¥é”™åŸå› ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå› ä¸ºæœ‰å›¾ç‰‡çš„æ¨¡å¼æ˜¯â€œPâ€ï¼Œä¸æ˜¯\"RGB\"ï¼Œæ‰€ä»¥æ— æ³•ç›´æ¥å†™å…¥ä¿å­˜ï¼Œæ‰¾åˆ°è¿™å¼ å›¾ç‰‡ï¼Œå‘ç°å’Œæ™®é€šçš„å½©è‰²å›¾ç‰‡å¹¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼š</strong></font>\n\n<br>\n\n---\n\n<br><font color=#00b2c2 size=5 face=å®‹ä½“><strong>å…·ä½“æŸ¥çœ‹å›¾ç‰‡æ¨¡å¼çš„æ–¹æ³•ä¸ºï¼š</strong></font>\n\n```\nimg = Image.open('./data/chengqiang/117.jpg')\nprint(img.mode)\n```\n\n\n<br>\n\n---\n\n<br>\n\n<font color=red size=5 face=å®‹ä½“><strong>è§£å†³æ–¹æ³•ï¼š</strong></font><font color=#00b2c2 size=4 face=å®‹ä½“><strong>æ·»åŠ ä¸€ä¸ªåˆ¤å®šï¼Œè½¬ä¸€ä¸‹ rgb</strong></font>\n\n    if img.mode == \"P\":\n        img = img.convert('RGB')\n\n","tags":["python","å›¾ç‰‡","å‹ç¼©"],"categories":["Python","å›¾ç‰‡å‹ç¼©"]},{"title":"python æ—¶é—´æ ¼å¼è¿”å›å€¼","url":"/2023/05/27/python-æ—¶é—´æ ¼å¼è¿”å›å€¼/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>python æ—¶é—´æ ¼å¼è¿”å›å€¼ï¼š</strong></font>\n\n<!--more-->\n\n```python\nprint(str(time.strftime(\"%Y-%m-%d %H:%M:%S\", time.localtime())))\n```\n","tags":["python","æ—¶é—´"],"categories":["Python","åŸºç¡€"]},{"title":"pythonä¸­unicodeç¼–ç è½¬æ¢ä¸ºä¸­æ–‡","url":"/2023/05/27/pythonä¸­unicodeç¼–ç è½¬æ¢ä¸ºä¸­æ–‡/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>pythonä¸­unicodeç¼–ç è½¬æ¢ä¸ºä¸­æ–‡ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æˆ‘ä»¬ä½¿ç”¨pythonä¸­ï¼Œé‡åˆ°çˆ¬å–ç½‘ç«™æƒ…å†µï¼Œç”¨åˆ°unicodeç¼–ç ï¼Œæˆ‘ä»¬éœ€è¦å°†å®ƒè½¬æ¢ä¸ºä¸­æ–‡ï¼Œunicodeç¼–ç è½¬æ¢ä¸ºä¸­æ–‡çš„æ–¹æ³•æœ‰å››ç§ï¼šä½¿ç”¨unicode_escape è§£ç ã€ä½¿ç”¨encode()æ–¹æ³•è½¬æ¢ï¼Œå†è°ƒç”¨bytes.decode()è½¬æ¢ä¸ºå­—ç¬¦ä¸²å½¢å¼ã€ ä½¿ç”¨json.loads è§£ç ï¼ˆä¸ºjson æ ¼å¼ï¼‰ã€ä½¿ç”¨evalï¼ˆé‡åˆ°Unicodeæ˜¯é€šè¿‡requestsåœ¨ç½‘ä¸Šçˆ¬å–çš„æ—¶å€™ï¼‰ã€‚å…·ä½“å†…å®¹è¯·çœ‹æœ¬æ–‡ã€‚</strong></font>\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ–¹æ³•ä¸€ï¼šä½¿ç”¨unicode_escape è§£ç ï¼š**</strong></font>\n\n```python\nunicode = b'\\\\u4f60\\\\u597d'\nre = unicode.decode(\"unicode_escape\")\nprint(re)\n\nè¿”å›ï¼šä½ å¥½\n```\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ–¹æ³•äºŒï¼šä½¿ç”¨encode()æ–¹æ³•è½¬æ¢ï¼Œå†è°ƒç”¨bytes.decode()è½¬æ¢ä¸ºå­—ç¬¦ä¸²å½¢å¼ï¼š**</strong></font>\n\n```python\ns = r'\\u4f60\\u597d'\nprint(s.encode().decode(\"unicode_escape\"))\n```\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ–¹æ³•ä¸‰ï¼š ä½¿ç”¨json.loads è§£ç ï¼ˆä¸ºjson æ ¼å¼ï¼‰ï¼š**</strong></font>\n\n```python\nstr = '\\u4eac\\u4e1c\\u653e\\u517b\\u7684\\u722c\\u866b'\n \nprint json.loads('\"%s\"' %str)\n```\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ–¹æ³•å››ï¼šä½¿ç”¨evalï¼ˆé‡åˆ°Unicodeæ˜¯é€šè¿‡requestsåœ¨ç½‘ä¸Šçˆ¬å–çš„æ—¶å€™ï¼‰ï¼š**</strong></font>\n\n```python\nresponse = requests.get(url,headers=headers)\nre = eval(\"u\"+\"\\'\"+response.text+\"\\'\")\nprint(re)\n```\n\n<br>\n\n<br>\n\n<br>\n\n---\n","tags":["python","ç¼–ç ã€è§£ç ","unicode"],"categories":["Python","ç¼–ç ã€è§£ç "]},{"title":"Ubuntu20.04 idea/pycharm æœç‹—ä¸­æ–‡è¾“å…¥æ³•ä¸è·Ÿéšå…‰æ ‡é—®é¢˜","url":"/2023/05/27/Ubuntu20-04-idea-pycharm-æœç‹—ä¸­æ–‡è¾“å…¥æ³•ä¸è·Ÿéšå…‰æ ‡é—®é¢˜/","content":"\n# <font color=#00b2c2 size=6 face=å®‹ä½“><strong>Ubuntu20.04 idea/pycharm æœç‹—ä¸­æ–‡è¾“å…¥æ³•ä¸è·Ÿéšå…‰æ ‡é—®é¢˜</strong></font>\n\n<!--more-->\n\n![img](https://s2.loli.net/2023/05/27/JoPT7FZjWrh2aku.png)\n\nè¯¥æ–‡è½¬è½½è‡ªCSDNï¼šhttps://blog.csdn.net/w710537643/article/details/114386827\n\n### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>æ¦‚è¿°ï¼š</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>åœ¨ linux å¹³å°ä¸‹ä½¿ç”¨æœç‹—è¾“å…¥æ³•åœ¨ IDEA/PYCHARMï¼ˆpycharm2020.3ï¼‰ ä¸­è¾“å…¥ä¸­æ–‡æ—¶ï¼Œè¾“å…¥æ³•å€™é€‰æ¡†æ€»æ˜¯é™æ­¢åœ¨ IDEA çš„å·¦ä¸‹è§’ï¼Œè€Œä¸èƒ½è·Ÿéšå…‰æ ‡è¿›è¡Œç§»åŠ¨ã€‚è™½ç„¶ä¸å½±å“è¾“å…¥ç»“æœï¼Œä½†å¾ˆå½±å“è¾“å…¥ä½“éªŒã€‚å¹¶ä¸”å…¶å®ç½‘ä¸Šç¡®å®ç»™äº†ä¸€äº›è§£å†³æ–¹æ³•ï¼Œä½†å¥½å¤šæ—¶å€™ï¼Œè¿™äº›è§£å†³æ–¹æ³•å¯¹å°ç™½ä¸å¤ªå‹å¥½ï¼Œå› æ­¤ï¼Œæ­¤å¤„æˆ‘å°è¯•ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šï¼Œå¯¹å‰è¾ˆçš„ä¸€äº›æ–¹æ³•è¿›è¡Œæ•´åˆå¹¶ä¸”ç»™å‡ºæ¯”è¾ƒè¯¦ç»†çš„è§£å†³æ­¥éª¤ã€‚</strong></font>\n\n<br>\n\n---\n\n<br>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>**ç³»ç»Ÿç¯å¢ƒï¼š**</strong></font>\n\n```\nKDE Plama Version:5.19.5\nKDE Frameworks Version:5.73.0\nKernel Version:5.8.6-1-MANJARO\n```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>**ç¡¬ä»¶ç¯å¢ƒï¼š**</strong></font>\n\n```\nå¤„ç†å™¨ï¼šIntel Core i5-8500 cp @3.00GHz\n```\n\n<br>\n\n---\n\n<br>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>é—®é¢˜å®šä½ï¼š</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å…·ä½“é—®é¢˜å®˜æ–¹å…¶å®ä¸ƒå¹´å‰å°±æœ‰äº†ï¼ˆå‚è€ƒ </strong></font>https://youtrack.jetbrains.com/issue/JBR-2460<font color=#b0171f size=2 face=å®‹ä½“><strong>ï¼‰ï¼Œä½†æ˜¯æ¯”è¾ƒå‘çš„æ˜¯å®˜æ–¹ä¹Ÿä¸€ç›´æ²¡æœ‰è§£å†³è¿™ä¸ªé—®é¢˜ğŸ¶ï¼ˆæ­¤å¤„å¿ä¸ä½åæ§½ä¸€ä¸‹å“ˆï¼‰ã€‚ç®€å•æ¥è¯´å°±æ˜¯ `Idea` çš„ `jre` è¿è¡Œç¯å¢ƒä¸€ä¸ª bugï¼Œå¯¼è‡´è¾“å…¥æ³•æ— æ³•å®šä½åˆ°é¼ æ ‡ä½ç½®ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è¦è§£å†³è¯¥é—®é¢˜å¿…é¡»è¦ä¿®æ”¹ `JetBrainsRuntime` çš„è¿è¡Œä»£ç ã€‚</strong></font>\n\n\n\n<br>\n\n---\n\n<br>\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>è§£å†³æ–¹æ³•ï¼š</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å¦‚æœåªæ˜¯æƒ³å¿«é€Ÿè§£å†³è¯¥é—®é¢˜ï¼Œè€Œå¯¹å…¶åŸç†ä¸æ„Ÿå…´è¶£çš„è¯ï¼Œä»…ä»…ä½¿ç”¨æ–¹æ³• 1 å³å¯ã€‚</strong></font>\n\n## <font color=red size=6 face=å®‹ä½“><strong>æ–¹æ³• 1ï¼š</strong></font>ä¿®æ”¹ `JetBrainsRuntime`\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>1ã€ä¸‹è½½å·²ç»ä¿®æ”¹å¥½çš„ JRE ç¯å¢ƒ</strong></font>\n  + <font color=#00b2c2 size=3 face=å®‹ä½“><strong>ä¸‹è½½åœ°å€ 1ï¼š</strong></font>[<font color=#b0171f size=3 face=å®‹ä½“><strong>**`åšæœäº‘ ç‚¹å‡»ä¸‹è½½`**</strong></font>](https://www.jianguoyun.com/p/DQDdJs4QtIDzBxj6y9oD)\n  + <font color=#00b2c2 size=3 face=å®‹ä½“><strong>ä¸‹è½½åœ°å€ 2ï¼š</strong></font>[<font color=#b0171f size=3 face=å®‹ä½“><strong>**`ç™¾æ¯’ç›˜ ç‚¹å‡»ä¸‹è½½`**</strong></font>](https://bd.bcebos.com/v1/xly-icafe/java-11.0.7-jetbrain-20230527114819-6o5hbd.zip)\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>2ã€ä¸‹è½½å®Œæˆåè§£å‹åˆ°ä»»æ„ç›®å½•ï¼Œæ­¤å¤„æˆ‘æ˜¯è§£å‹åˆ°äº† `~/application` ç›®å½•ä¸‹</strong></font>\n\n![](https://s2.loli.net/2023/05/27/MEcCsvoNSyp4bLq.webp)\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>3ã€æ›´æ”¹ IDEA çš„å¯åŠ¨ç¯å¢ƒ</strong></font>\n\nä¿®æ”¹æ–‡ä»¶:` home/idea-2020.1/bin/idea.sh (æ‰¾åˆ°ä½ è‡ªå·±çš„ideaçš„å®‰è£…è·¯å¾„)` åœ¨å¼€å¤´å¤„æ·»åŠ \n\n`export IDEA_JDK=xport IDEA_JDK=/home/xu/application/java-11.0.7-jetbrain`ï¼ˆæ”¹æˆè‡ªå·±çš„ JRE ç›®å½•ï¼‰\n\npycharm ä¿®æ”¹æ–¹å¼ `export PYCHARM_JDK=/home/xu/application/java-11.0.7-jetbrain `\n\n![](https://s2.loli.net/2023/05/27/Yb1GgIMTAB4XEVf.png)\n\n<br>\n\n<font color=red size=5 face=å®‹ä½“><strong>é‡å¯è½¯ä»¶</strong></font>\n\n<br>\n\n---\n\n<br>\n\n<br>\n\n<br>\n\n## <font color=red size=6 face=å®‹ä½“><strong>æ–¹æ³• 2ï¼š</strong></font>ä½¿ç”¨ path ç¼–è¯‘ `JetBrainsRuntime`\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>1ã€ä» Github ä¸‹è½½ JetBrainsRuntimeï¼Œæ‰§è¡Œå¦‚ä¸‹ä»£ç ï¼š</strong></font>\n\n```bash\ngit clone https://github.com/JetBrains/JetBrainsRuntime.git\n1\n```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>2ã€åº”ç”¨ patch</strong></font>\n\npatch ä¸‹è½½åœ°å€: https://github.com/prehonor/myJetBrainsRuntime\n\n```bash\n#å°†Pathæ”¾åˆ°JetBrainsRuntimeçš„æ ¹ç›®å½•ä¸‹\ncd JetBrainsRuntime\n# åº”ç”¨Patch\ngit apply idea.patch\n1234\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>3ã€ç¼–è¯‘(æœ‰é£é™© ç¼ºå°‘å¤§é‡ä¾èµ–åº“ï¼Œå»ºè®®æå‰å¤‡ä»½ç³»ç»Ÿå¿«ç…§) `JetBrainsRuntime`</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>è¿™ä¸ªå¯ä»¥å‚ç…§å®˜æ–¹çš„æä¾›çš„æ–¹å¼æ¥è¿›è¡Œç¼–è¯‘ï¼š[æˆ³æˆ‘](https://github.com/JetBrains/JetBrainsRuntime?utm_source=ld246.com)ã€‚ä½†å°±æˆ‘ä¸ªäººå°è¯•çš„æƒ…å†µæ¥çœ‹ï¼Œä½¿ç”¨ docker ç¼–è¯‘æˆ–è€…ç›´æ¥åœ¨è‡ªå·±çš„ Arch linux ä¸­è¿›è¡Œç¼–è¯‘éƒ½ä¼šå‡ºç°é”™è¯¯ã€‚æœ€ç»ˆå¯è¡Œçš„æ–¹å¼æ˜¯ä½¿ç”¨è™šæ‹Ÿæœºè™šæ‹Ÿä¸€ä¸ª Ububtu 20.0.4 çš„ç¯å¢ƒè¿›è¡Œç¼–è¯‘ã€‚ä½†éœ€è¦ä¸»è¦çš„æ˜¯ç»™è¯¥è™šæ‹Ÿåˆ†é…çš„å†…å­˜ç©ºé—´åº”è¯¥å¤§äº 2Gï¼Œå¦åˆ™å¯èƒ½å‡ºç°å†…å­˜ä¸è¶³ï¼Œç¼–è¯‘é”™è¯¯çš„æƒ…å†µå‘ç”Ÿã€‚</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>4ã€å‚è€ƒæ–¹æ³•ä¸€ç§çš„æ­¥éª¤ï¼Œåº”è¯¥ç¼–è¯‘å¥½çš„ JRE ç¯å¢ƒã€‚</strong></font>\n","tags":["å·¥å…·","é”™è¯¯","ç¼–è¯‘å™¨","pycharm"],"categories":["_A5-å®‰è£…æ•™ç¨‹","ubuntu"]},{"title":"é€†å‘_åçˆ¬ æŒ‡çº¹æ”»ç ´ç­–ç•¥","url":"/2023/05/26/é€†å‘-åçˆ¬-æŒ‡çº¹æ”»ç ´ç­–ç•¥/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>é€†å‘_åçˆ¬ æŒ‡çº¹æ”»ç ´ç­–ç•¥ï¼š</strong></font>\n\n<!--more-->\n\nå…³äº cloudflare å‡º5ç§’ç›¾è§„å¾‹ï¼š\n\n+  å¼€å§‹æˆ‘ä»¥ä¸ºæ˜¯æ‰€æœ‰çš„ç½‘é¡µéƒ½ä¼šå‡ºç°5ç§’ç›¾ï¼Œä½†æ˜¯åé¢æˆ‘å‘ç°ç”¨æµè§ˆå™¨æ‰“å¼€æœ‰äº›ç½‘é¡µï¼Œæ˜¯ä¸è§¦å‘5ç§’ç›¾çš„\n+ æ¯•ç«Ÿ5ç§’ç›¾è¿˜æ˜¯å½±å“ç”¨æˆ·æµè§ˆçš„ã€‚\n+ ç»è¿‡æµ‹è¯•ï¼Œåœ¨requestsä¸‹ä¼šå‘é€å¾ˆå¤šæŒ‡çº¹ï¼Œè¿™äº›æŒ‡çº¹å¤§å¤§çš„è¶…è¿‡äº†ï¼Œä¸€ä¸ªæ­£å¸¸æµè§ˆå™¨è¯¥æœ‰çš„æŒ‡çº¹ã€‚\n+ cloudflare æ˜¯æ ¹æ®ç»™å‡ºçš„æŒ‡çº¹æ£€æµ‹çš„ è¯¥è¯·æ±‚æ˜¯ç”±æµè§ˆå™¨å‘å‡ºï¼Œè¿˜æ˜¯ç”±çˆ¬è™«å‘å‡ºçš„\n\n\n\n<br>\n\n---\n\n<br>\n\n<font color=red size=6 face=å®‹ä½“><strong>è§£å†³åŠæ³•ï¼š</strong></font>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>ç¥å¥‡çš„ python ç¬¬ä¸‰æ–¹åº“ curl_cffi</strong></font>\n+ åº“è¯´æ˜  >>> <font color=red size=3 face=å®‹ä½“><strong>curl_cffi</strong></font> åº“å°è£…æ”¯æŒåŸç”Ÿæ¨¡æ‹Ÿæµè§ˆå™¨TLS/JA3 æŒ‡çº¹çš„Python åº“\n\n```python\npip3 install curl_cffi   # å®‰è£…åº“\n```\n\n\n\n<br>\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>è¯·æ±‚æ–¹å¼ï¼š</strong></font>\n\n```python\nfrom curl_cffi import requests  # å¯¼å…¥ curl_cffi åº“\n\n# è¯·æ±‚\nr = requests.get(url, impersonate=\"chrome101\", timeout=(5, 10))\n```\n\n","tags":["é€†å‘","è®°å½•"],"categories":["_A7-é€†å‘","curl_cffi"]},{"title":"mysql ä»¥å…ƒç»„çš„æ–¹å¼æ’å…¥å¤šæ¡æ•°æ®","url":"/2023/05/22/mysql-ä»¥å…ƒç»„çš„æ–¹å¼æ’å…¥å¤šæ¡æ•°æ®/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>mysql ä»¥å…ƒç»„çš„æ–¹å¼æ’å…¥å¤šæ¡æ•°æ®</strong></font>\n\n<!--more-->\n\n```python\n# ä»¥å…ƒç»„çš„æ–¹å¼æ’å…¥å¤šæ¡æ•°æ®\nINSERT INTO `comic_res`.`web_category` (`id`, `title`, `display_order`, `status`, `created_at`, `updated_at`) VALUES (41, 'é’æ˜¥', 26, 1, 1666240411, 1666240411),(42, 'ç©¿è¶Š', 27, 1, 1666240411, 1666240411)\n\n```\n\n","tags":["æ•°æ®åº“","mysql"],"categories":["_9-æ•°æ®åº“","mysql"]},{"title":"Linux_blkid ç£ç›˜ä¿¡æ¯æŸ¥è¯¢","url":"/2023/05/22/Linux-blkid-ç£ç›˜ä¿¡æ¯æŸ¥è¯¢/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>Linux_blkid ç£ç›˜ä¿¡æ¯æŸ¥è¯¢</strong></font>\n\n<!--more-->\n\n# blkid\n\næŸ¥çœ‹å—è®¾å¤‡çš„æ–‡ä»¶ç³»ç»Ÿç±»å‹ã€LABELã€UUIDç­‰ä¿¡æ¯\n\n## è¡¥å……è¯´æ˜\n\nåœ¨Linuxä¸‹å¯ä»¥ä½¿ç”¨ **blkidå‘½ä»¤** å¯¹æŸ¥è¯¢è®¾å¤‡ä¸Šæ‰€é‡‡ç”¨æ–‡ä»¶ç³»ç»Ÿç±»å‹è¿›è¡ŒæŸ¥è¯¢ã€‚blkidä¸»è¦ç”¨æ¥å¯¹ç³»ç»Ÿçš„å—è®¾å¤‡ï¼ˆåŒ…æ‹¬äº¤æ¢åˆ†åŒºï¼‰æ‰€ä½¿ç”¨çš„æ–‡ä»¶ç³»ç»Ÿç±»å‹ã€LABELã€UUIDç­‰ä¿¡æ¯è¿›è¡ŒæŸ¥è¯¢ã€‚è¦ä½¿ç”¨è¿™ä¸ªå‘½ä»¤å¿…é¡»å®‰è£…e2fsprogsè½¯ä»¶åŒ…ã€‚\n\n### è¯­æ³•\n\n```shell\nblkid -L | -U\nblkid [-c ] [-ghlLv] [-o] [-s ][-t ] -[w ] [ ...]\nblkid -p [-s ] [-O ] [-S ][-o] ...\nblkid -i [-s ] [-o] ...\n```\n\n### é€‰é¡¹\n\n```shell\n-c <file>   # æŒ‡å®šcacheæ–‡ä»¶(default: /etc/blkid.tab, /dev/null = none)\n-d          # don't encode non-printing characters\n-h          # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯\n-g          # garbage collect the blkid cache\n-o <format> # æŒ‡å®šè¾“å‡ºæ ¼å¼\n-k          # list all known filesystems/RAIDs and exit\n-s <tag>    # æ˜¾ç¤ºæŒ‡å®šä¿¡æ¯ï¼Œé»˜è®¤æ˜¾ç¤ºæ‰€æœ‰ä¿¡æ¯\n-t <token>  # find device with a specific token (NAME=value pair)\n-l          # look up only first device with token specified by -t\n-L <label>  # convert LABEL to device name\n-U <uuid>   # convert UUID to device name\n-v          # æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯\n-w <file>   # write cache to different file (/dev/null = no write)\n<dev>       # specify device(s) to probe (default: all devices)\nLow-level probing options:\n-p          # low-level superblocks probing (bypass cache)\n-i          # gather information about I/O limits\n-S <size>   # overwrite device size\n-O <offset> # probe at the given offset\n-u <list>   # filter by \"usage\" (e.g. -u filesystem,raid)\n-n <list>   # filter by filesystem type (e.g. -n vfat,ext3)\n```\n\n### å®ä¾‹\n\n1ã€åˆ—å‡ºå½“å‰ç³»ç»Ÿä¸­æ‰€æœ‰å·²æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿçš„ç±»å‹ï¼š\n\n```shell\nsudo blkid\n```\n\n2ã€æ˜¾ç¤ºæŒ‡å®šè®¾å¤‡ UUIDï¼š\n\n```shell\nsudo blkid -s UUID /dev/sda5\n```\n\n3ã€æ˜¾ç¤ºæ‰€æœ‰è®¾å¤‡ UUIDï¼š\n\n```shell\nsudo blkid -s UUID\n```\n\n4ã€æ˜¾ç¤ºæŒ‡å®šè®¾å¤‡ LABELï¼š\n\n```shell\nsudo blkid -s LABEL /dev/sda5\n```\n\n5ã€æ˜¾ç¤ºæ‰€æœ‰è®¾å¤‡ LABELï¼š\n\n```shell\nsudo blkid -s LABEL\n```\n\n6ã€æ˜¾ç¤ºæ‰€æœ‰è®¾å¤‡æ–‡ä»¶ç³»ç»Ÿï¼š\n\n```shell\nsudo blkid -s TYPE\n```\n\n7ã€æ˜¾ç¤ºæ‰€æœ‰è®¾å¤‡ï¼š\n\n```shell\nsudo blkid -o device\n```\n\n8ã€ä»¥åˆ—è¡¨æ–¹å¼æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼š\n\n```shell\nsudo blkid -o list\n```\n\n","tags":["linux","ç³»ç»Ÿ","è¿ç»´"],"categories":["_A3-linux","å‘½ä»¤"]},{"title":"FFmpeg_è§†é¢‘æ·»åŠ æ°´å°","url":"/2023/05/22/FFmpeg-è§†é¢‘æ·»åŠ æ°´å°/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>FFmpeg_è§†é¢‘æ·»åŠ æ°´å°ï¼š</strong></font>\n\n<!--more-->\n\n```python\nffmpeg -i v2.mp4 -i s_logo.png -filter_complex \"[1:v][0:v]scale2ref=iw*0.1:-1[logo1][base]; [base][logo1]overlay=W-(w+20):20[v]\" -map [v] -map 0:a -y -profile high -level 4.1 v3.mp4\n```\n\n","tags":["ffmpeg"],"categories":["_A4-FFmpeg","å‚æ•°è¯¦è§£"]},{"title":"mongodb æŸ¥è¯¢å¤šæ¡æ•°æ®è¿”å›é”™è¯¯","url":"/2023/05/22/mongodb-æŸ¥è¯¢å¤šæ¡æ•°æ®è¿”å›é”™è¯¯/","content":"\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>mongodb type it for more</strong></font>\n\n<!--more-->\n\nå½“ä½¿ç”¨mongodb shellçš„æ—¶å€™ ï¼Œéœ€è¦æŸ¥çœ‹æ›´å¤šçš„æ•°æ®æ—¶å€™ï¼Œç³»ç»Ÿæç¤º type it for more\n\nå¯ä»¥è®¾ç½®ç³»ç»Ÿå‚æ•° DBQuery.shellBatchSize = 300\n\nåˆ™å¯ä»¥æŸ¥çœ‹æ›´å¤š300æ¡æ•°æ®çš„æ•°æ®\n\n","tags":["mongodb","æ•°æ®åº“","é”™è¯¯"],"categories":["_9-æ•°æ®åº“","mongodb"]},{"title":"å…³äºGitHubé™æ€æ–‡ä»¶åŠ é€Ÿ","url":"/2023/05/22/å…³äºGitHubé™æ€æ–‡ä»¶åŠ é€Ÿ/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>å…³äºGitHubé™æ€æ–‡ä»¶åŠ é€Ÿï¼š</strong></font>\n\n<!--more-->\n\n```\nhttps://cdn.jsdelivr.net/gh/T25kevin/static@main/static/lib/init.css\nhttps://cdn.jsdelivr.net/gh/<ç”¨æˆ·å>/<ä»“åº“å>@main<ä»“åº“ä¸‹æ–‡ä»¶è·¯å¾„>\n```\n\n","tags":["GithubåŠ é€Ÿ"],"categories":["_A8-å·¥å…·","GitHub"]},{"title":"çŒ«è€³FMï¼ˆMissEvanï¼‰åŠ å¯†å‚æ•°ç ´è§£ä»£ç åŠæ¥å£æ±‡æ€»","url":"/2023/05/22/çŒ«è€³FMï¼ˆMissEvanï¼‰åŠ å¯†å‚æ•°ç ´è§£ä»£ç åŠæ¥å£æ±‡æ€»/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>çŒ«è€³FMï¼ˆMissEvanï¼‰åŠ å¯†å‚æ•°ç ´è§£ä»£ç åŠæ¥å£æ±‡æ€»</strong></font>\n\n<!--more-->\n\nè¿™æ¬¡æ‰¾äº†ä¸ªç®€å•çš„appæ¥ç»ƒç»ƒæ‰‹ï¼Œå°ä¼—appé€†å‘èµ·æ¥è¿˜æ˜¯ç®€å•çš„ï¼ŒçŒ«è€³çš„appæ—¢æ²¡æœ‰å£³æœ‰æ²¡æœ‰nativeå±‚ï¼Œä»…ä»…åªæœ‰ä¸€ä¸ªåŠ å¯†å‚æ•°ï¼Œè¿™é‡Œå°±ç›´æ¥ä¸Šä»£ç äº†ã€‚\n\n\n\n# é€šç”¨headersï¼š\n\n```javascript\nheader = {\n  'user-agent': 'MissEvanApp/5.5.0 (Android;5.1.1;Android OPPO R17 Pro shamu)',\n  'channel': 'missevan_huawei',\n  'Content-Type':'application/json; charset=UTF-8',\n  'Accept':'application/json',\n  'cookie': 'token=xxx; equip_id=xxx',// tokenä¸ºè´¦å·çš„æ ‡è¯†ï¼ˆæ²¡æœ‰åˆ™å»é™¤ï¼‰ï¼Œequip_idä¸ºdeviceid\n  'authorization': '',//è¿™ä¸ªå°±æ˜¯åŠ å¯†å‚æ•°ï¼Œç”Ÿæˆä»£ç çœ‹ä¸‹é¢\n  'x-m-date': '2021-03-23T16:08:44Z',// æ—¶é—´ï¼Œå¯ä¼ ç©ºå­—ç¬¦ä¸²\n  'x-m-nonce': '62271935-318e-4ff1-ba91-685579a9cdbc'// nonceï¼Œå¯ä¼ ç©ºå­—ç¬¦ä¸²\n}\n```\n\n\n\n# authorizationå‚æ•°ç”Ÿæˆä»£ç ï¼ˆpythonï¼‰ï¼š\n\n```python\n# æ­¤æ–¹æ³•çš„å®å‚ä¸ºurlï¼Œè¯·æ±‚æ–¹æ³•ï¼ˆGETä¸POSTï¼‰ï¼Œè¯·æ±‚å¤´ä¸è¯·æ±‚ä½“ï¼ˆæ˜¯GETå¯ä¸ä¼ ï¼‰\ndef fun(url,method,header,body):\n  data = ''\n  qs = url.split('?')[1] if len(url.split('?')) > 1 else ''\n  url = urllib.parse.quote(url.split('?')[0])\n  equip_id = re.findall(r'equip_id=(\\S+?);',header['cookie'])[0] if re.findall(r'equip_id=(\\S+?);',header['cookie']) else re.findall(r'equip_id=(\\S+?)$codeholder_1#39;,header['cookie'])[0]\n  token = re.findall(r'token=(\\S+?);',header['cookie']) if re.findall(r'token=(\\S+?);',header['cookie']) else re.findall(r'token=(\\S+?)$codeholder_1#39;,header['cookie'])\n  token = token[0] if len(token) else None\n\n  data += method + '\\n'\n  data += url + '\\n'\n  data += qs + '\\n'\n  data += 'equip_id:' + equip_id + '\\n'\n  if token != None:\n    data += 'token:' + token + '\\n'\n  data += 'x-m-date:' + header['x-m-date'] + '\\n'\n  data += 'x-m-nonce:' + header['x-m-nonce'] + '\\n'\n  if method == 'POST':\n    sha = sha256()\n    sha.update(body.encode('utf-8'))\n    body = base64.b64encode(sha.digest()).decode('utf-8')\n    data += body + '\\n'\n\n  signature = base64.b64encode(hmac.new(appsecret.encode('utf-8'), data.encode('utf-8'), digestmod=sha256).digest())\n  # è¿™é‡Œç›´æ¥å°†å‚æ•°ä¼ è¿›è¯·æ±‚å¤´ä¸­\n  header['authorization'] = 'MissEvan '+signature.decode('utf-8')\n```\n\n\n\n# æ¥å£ï¼š\n\n1.https://app.missevan.com/sound/sound?sound_id=xxx\n\nè·å–éŸ³é¢‘èµ„æºåœ°å€ï¼Œsound_idå‚æ•°ä¸ºéŸ³é¢‘çš„id\n\n\n\n2.https://app.missevan.com/you-might-like/get-recommends?persona_id=xxx\n\nâ€çŒœä½ å–œæ¬¢â€œåˆ—è¡¨ï¼Œpersona_idå‚æ•°æ„ä¹‰ä¸æ˜ï¼Œä¸è¿‡ä¸åŒæ•°å­—è¿”å›ä¸åŒåˆ—è¡¨\n\n\n\n3.https://app.missevan.com/drama/get-drama-by-sound?sound_id=xxx\n\néŸ³é¢‘ç›¸å…³ä¿¡æ¯ï¼Œsound_idå‚æ•°ä¸ºéŸ³é¢‘çš„id\n\n\n\n4.https://app.missevan.com/message/get-comments?order=1&type=1&e_id=xxx&page=1&page_size=20&recommend=1&recommend_page_size=10\n\néŸ³é¢‘è¯„è®ºåˆ—è¡¨ï¼Œe_idå‚æ•°ä¸ºéŸ³é¢‘çš„id,pageä¸page_sizeå‚æ•°æŒ‡å®šåˆ—è¡¨é¡µæ•°ä¸å¤§å°\n\n\n\n5.https://app.missevan.com/sound/recommend?sound_id=1226753\n\néŸ³é¢‘ç›¸å…³æ¨èåˆ—è¡¨ï¼Œsound_idå‚æ•°ä¸ºéŸ³é¢‘çš„id\n\n\n\n6.https://app.missevan.com/member/login\n\nç™»å½•ï¼Œæ­¤apiä¸ºpostæ–¹æ³•ï¼Œè¯·æ±‚ä½“ä¸ºå¦‚ä¸‹å­—ç¬¦ä¸²ï¼š\n\naccount=xxx&password=xxx\n\naccountä¸ºä½ çš„æ‰‹æœºå·ï¼Œpasswordä¸ºå¯†ç ï¼Œä¼šè¿”å›tokenä»¥åŠç”¨æˆ·ä¿¡æ¯ï¼Œå°†tokenåŠ å…¥cookieä¸­åˆ™å¯ä½¿ç”¨è´¦å·è®¿é—®\n\n\n\n7.https://app.missevan.com/person/get-user-info?user_id=5922770\n\nç”¨æˆ·ä¿¡æ¯1ï¼Œuser_idå‚æ•°ä¸ºç”¨æˆ·id\n\n\n\n8.https://app.missevan.com/person/homepage?user_id=5922770\n\nç”¨æˆ·ä¿¡æ¯2ï¼Œuser_idå‚æ•°ä¸ºç”¨æˆ·id\n","tags":["é€†å‘","è®°å½•"],"categories":["_A7-é€†å‘","app"]},{"title":"é€†å‘appè®°å½•","url":"/2023/05/22/é€†å‘appè®°å½•/","content":"\nå‡½æ•°å…¥å£ï¼š\n\n<!--more-->\n\n![image-20230309145137516](https://s2.loli.net/2023/05/26/fsRG6vZlICrO7e8.png)\n\n![image-20230309150703294](https://s2.loli.net/2023/05/26/4HF7qlDZmwr51NM.png)\n\n![image-20230309150720478](https://s2.loli.net/2023/05/26/DW1COxUHVk9vGE8.png)\n\n![image-20230309222050257](https://s2.loli.net/2023/05/26/8ZuoQLAgrEBbOYK.png)\n\n","tags":["é€†å‘","è®°å½•"],"categories":["_A7-é€†å‘","app"]},{"title":"Hookè®¾ç½®ç›¸å…³","url":"/2023/05/22/hookè®¾ç½®ç›¸å…³/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>é€†å‘hookè®¾ç½®ç›¸å…³ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>fridaé…ç½®</strong></font>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>PCï¼šfrida</strong></font>\n\n```python\npip install frida==14.2.18\npip install frida-tools==9.2.5\n```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>è®¾å¤‡ï¼šfrida-server 14.2.18ï¼š</strong></font>[ç‚¹å‡»ä¸‹è½½](https://github.com/frida/frida/releases)\n\n```\nä¸‹è½½åœ°å€ï¼š https://github.com/frida/frida/releases\n  \nå®‰è£…ï¼š\n\t- ã€ç”µè„‘ã€‘ è§£å‹\n\t- ã€ç”µè„‘ã€‘ æ–‡ä»¶ä¸Šä¼ åˆ°è®¾å¤‡\n\t\t- adb push C:\\\\ss.zip /sdcard\n\t\t\n    - ã€æ‰‹æœºã€‘å°†frida-server æ–‡ä»¶ç§»åŠ¨åˆ°æ‰‹æœºçš„ /data/local/tmp ç›®å½•\n    >>> adb shell\n    >>> su -\n    >>> cd sdcard\n    >>> mv frida-server-14.2.18-android-x86_64 /data/local/tmp\n    \n    - ã€è¿›å…¥ã€‘\n    >>> cd /data/local/tmp\n    \n    - ã€æˆæƒã€‘ æˆæƒå¯æ‰§è¡Œçš„æƒé™\n    >>> chmod 777 frida-server-14.2.18-android-x86_64\n```\n\n  \n\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>adbç›¸å…³è®¾ç½®</strong></font>\n\n```\n>>> adb kill-server   # æ€æ‰å½“å‰adb\n>>> adb start-server   # å¼€å¯adbæœåŠ¡\n>>> adb devices    # è¿æ¥è™šæ‹Ÿæœº\n>>> adb connect 127.0.0.1:7555   # ç”¨7555 ç«¯å£è¿æ¥\n>>> adb shell   # è¿›å…¥ç»ˆç«¯\n\n>>> adb -s emulator-7555 shell getprop ro.product.cpu.abi    # è·å–å½“å‰æ‰‹æœºçš„æ“ä½œç³»ç»Ÿæ¶æ„   ä¹Ÿå¯ä»¥è¿›å…¥shellæ‰§è¡Œ  getprop ro.product.cpu.abi\n\nå¦‚æœè¿æ¥å¤šä¸ªè®¾å¤‡  éœ€è¦åŠ  -s\n\n>>> su -    # è¿›å…¥è¶…çº§ç”¨æˆ·æƒé™ \n\n>>> adb push    # ä¸Šä¼ å‘½ä»¤    adb push C:\\\\Users\\\\Administrator\\\\Pictures\\\\4512332948.jpg /sdcard/\nC:\\Users\\Administrator\\Desktop\\åç¼–è¯‘å·¥å…·\nadb push C:\\\\Users\\\\Administrator\\\\Desktop\\\\åç¼–è¯‘å·¥å…·\\\\frida-server-14.2.18-android-x86_64 /sdcard/\n```\n\n\n\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>HOOKè¿è¡Œè®¾ç½®</strong></font>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>æ‰‹æœº</strong></font>\n\n```\n>>> adb shell\n>>> su -\n>>> cd /data/local/tmp/\n>>> ./frida-server-14.2.18-android-x86_64   # æ‰§è¡Œfrida\n```\n\n\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>ç”µè„‘ç«¯</strong></font>\n\n  + <font color=#b0171f size=2 face=å®‹ä½“><strong>ç«¯å£è½¬ç </strong></font>\n\n  ```\n  >>> adb forward tcp:27042 tcp:27042\n  >>> adb forward tcp:27043 tcp:27043\n  ```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>ç”µè„‘ç¼–å†™HOOKè„šæœ¬ ï¼š Python+Jsä»£ç  => xxxx.pyæ–‡ä»¶   ç”¨Pythonè§£é‡Šå™¨å»è¿è¡Œ</strong></font>\n\n","tags":["é€†å‘","Hook"],"categories":["_A7-é€†å‘","app"]},{"title":"adbç›¸å…³è®¾ç½®","url":"/2023/05/22/adbç›¸å…³è®¾ç½®/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>adbç›¸å…³è®¾ç½®ï¼š</strong></font>\n\n<!--more-->\n\n```\n>>> adb kill-server   # æ€æ‰å½“å‰adb\n>>> adb start-server   # å¼€å¯adbæœåŠ¡\n>>> adb devices    # è¿æ¥è™šæ‹Ÿæœº\n>>> adb connect 127.0.0.1:7555   # ç”¨7555 ç«¯å£è¿æ¥\n>>> adb shell   # è¿›å…¥ç»ˆç«¯\n\n>>> adb -s emulator-7555 shell getprop ro.product.cpu.abi    # è·å–å½“å‰æ‰‹æœºçš„æ“ä½œç³»ç»Ÿæ¶æ„   ä¹Ÿå¯ä»¥è¿›å…¥shellæ‰§è¡Œ  getprop ro.product.cpu.abi\n```\n\n","tags":["é€†å‘","adb"],"categories":["_A7-é€†å‘","app"]},{"title":"ESXiæ·»åŠ USBç¡¬ç›˜ä½œä¸ºæ•°æ®å­˜å‚¨","url":"/2023/05/22/ESXiæ·»åŠ USBç¡¬ç›˜ä½œä¸ºæ•°æ®å­˜å‚¨/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>ESXiæ·»åŠ USBç¡¬ç›˜ä½œä¸ºæ•°æ®å­˜å‚¨</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>åŸå§‹åšå®¢åœ°å€ï¼š[ESXiæ·»åŠ USBç¡¬ç›˜ä½œä¸ºæ•°æ®å­˜å‚¨ â€“ ä¸è¾‰åšå®¢ (dinghui.org)](https://www.dinghui.org/esxi-usb-datastore.html)</strong></font>\n\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>ESXiæ·»åŠ USBç¡¬ç›˜ä½œä¸ºæ•°æ®å­˜å‚¨</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>é€šå¸¸åœ¨ESXiæ’ä¸ŠUSBç¡¬ç›˜ï¼Œéƒ½æ˜¯æ˜ å°„ç»™è™šæ‹Ÿæœºä½¿ç”¨ï¼Œä½†æ˜¯æœ‰äº›æƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦æä¾›ç»™ESXiä½¿ç”¨ï¼Œç›´æ¥æ‰«æå­˜å‚¨æ˜¯æ— æ³•æ‰«æåˆ°USBç¡¬ç›˜çš„ï¼Œéœ€è¦åšå¦‚ä¸‹å¤„ç†æ‰èƒ½è¢«è¯†åˆ«ã€‚</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>1ã€å¼€å¯ä¸»æœºSSHåŠŸèƒ½ï¼šä¸»æœº-é…ç½®-æœåŠ¡ï¼Œæ‰¾åˆ°SSHæœåŠ¡ï¼Œå¯ç”¨ï¼›</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>2ã€å…ˆä¸è¦æ’USBç¡¬ç›˜ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</strong></font>\n\n```\n/etc/init.d/usbarbitrator stop\nchkconfig usbarbitrator off\n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>3ã€æ’å…¥USBç¡¬ç›˜ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°æœ‰Is USB:trueå­—æ ·ï¼Œè¡¨ç¤ºUSBè®¾å¤‡å·²ç»è¯†åˆ«å‡ºæ¥ã€‚</strong></font>\n\n```\nesxcli storage core device list |grep -i usb\n```\n\n![img](https://s2.loli.net/2023/05/22/txpebkovmzZ1ag3.png)\n\n<font color=red size=2 face=å®‹ä½“><strong>å¯ä»¥çœ‹åˆ°è®¾å¤‡åä¸ºï¼šmpx.vmhba34:C0:T0:L0ï¼ˆæ³¨æ„ï¼Œæ¯æ¬¾è®¾å¤‡ç¼–å·éƒ½ä¼šä¸åŒï¼‰</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>4ã€è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œä¼šåˆ—å‡ºæ‰€æœ‰çš„diskï¼Œç¡®è®¤ä¸€ä¸‹æ˜¯å¦æ­£ç¡®è¯†åˆ«è¯¥è®¾å¤‡åã€‚</strong></font>\n\n```\nls /dev/disks/\n```\n\n![img](https://s2.loli.net/2023/05/22/GOL7MRXdcQw12Br.png)\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>5ã€è¾“å…¥å‘½ä»¤ï¼Œæ³¨æ„æ›¿æ¢ï¼ˆå¦‚æœæ˜¯mpx.vmhba34:C0:T0:L0åˆ™å˜æˆmpx.vmhba34\\:C0\\:T0\\:L0ï¼‰</strong></font>\n\n```\npartedUtil mklabel /dev/disks/mpx.vmhba34\\:C0\\:T0\\:L0 gpt \npartedUtil getptbl /dev/disks/mpx.vmhba34\\:C0\\:T0\\:L0\n```\n\n![img](https://s2.loli.net/2023/05/22/sCVSHKkWEvr1y8M.png)\n\n![img](https://s2.loli.net/2023/05/22/AFKMBu68Sw1DXOj.png)\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>6ã€å¦‚ä¸Šå›¾ï¼Œå¾—åˆ°ä¸€ä¸²ç¡¬ç›˜çš„æ•°å€¼ï¼Œè¿™é‡Œæ˜¯4000731136ï¼Œæ³¨æ„æ¯ä¸ªç¡¬ç›˜æ•°å€¼éƒ½ä¸åŒã€‚</strong></font>\n\n```\neval expr $(partedUtil getptbl /dev/disks/mpx.vmhba34\\:C0\\:T0\\:L0 | tail -1 | awk '{print $1 \" \\\\* \" $2 \" \\\\* \" $3}') - 1\n```\n\n![img](https://s2.loli.net/2023/05/22/q5oIGFscKu7BSxv.png)\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>7ã€å¦‚ä¸Šï¼Œä¼šæ¢ç®—å‡ºå¦å¤–ä¸€ä¸ªæ•°å€¼ï¼š4000715144ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤</strong></font>\n\n```\npartedUtil setptbl /dev/disks/mpx.vmhba34\\:C0\\:T0\\:L0 gpt \"1 2048 4000715144 AA31E02A400F11DB9590000C2911D1B8 0\"\n```\n\n![img](https://s2.loli.net/2023/05/22/U1KHpTau2AZ5zjx.png)\næ³¨æ„ï¼šï¼ˆAA31E02A400F11DB9590000C2911D1B8ï¼‰æ˜¯VMFSæ•°æ®å­˜å‚¨åˆ†åŒºçš„GUIDï¼Œåé¢çš„0æ˜¯å±æ€§ï¼Œä¸è¦æ›´æ”¹ã€‚\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>8ã€æŒ‚è½½USBç¡¬ç›˜ï¼Œæ³¨æ„åé¢æœ‰ä¸ª:1</strong></font>\n\n```\nvmkfstools -C vmfs5 -S USB_Datastore /dev/disks/mpx.vmhba34\\:C0\\:T0\\:L0:1\n```\n\n[![img](https://s2.loli.net/2023/05/22/BcK2SyYV3vgznbH.png)](https://www.dinghui.org/wp-content/uploads/2021/04/image-7.png)è¯´æ˜ï¼švmfs5æ˜¯æŒ‡ç”¨vmfs5æ ¼å¼ï¼Œå¦‚æœåœ¨å…¶å®ƒesxiç‰ˆæœ¬ä¸æ”¯æŒvmfs5æ—¶ï¼Œå¯ä»¥æ”¹ä¸ºvmfs6ï¼Œ-S USB_Datastoreæ˜¯å­˜å‚¨çš„åå­—ï¼Œå¯è‡ªè¡Œå®šä¹‰ã€‚\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>9ã€è¿™æ ·USB_Datastoreå°±å·²ç»åˆ›å»ºå¥½äº†ï¼Œä»ESXiæ•°æ®å­˜å‚¨é‚£é‡Œå°±å¯ä»¥çœ‹åˆ°å¤šäº†ä¸€ä¸ªUSB_Datastoreäº†ã€‚</strong></font>\n\n![img](https://s2.loli.net/2023/05/22/5w63xHpMAtP4RVW.png)\n","tags":["å·¥å…·","è™šæ‹Ÿæœº"],"categories":["_A8-å·¥å…·","esxi"]},{"title":"Hexoä½¿ç”¨æ”»ç•¥-æ·»åŠ åˆ†ç±»åŠæ ‡ç­¾","url":"/2023/05/22/Hexoä½¿ç”¨æ”»ç•¥-æ·»åŠ åˆ†ç±»åŠæ ‡ç­¾/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Hexoä½¿ç”¨æ”»ç•¥-æ·»åŠ åˆ†ç±»åŠæ ‡ç­¾</strong></font>\n\n<!--more-->\n\næœ¬æ•™ç¨‹é’ˆå¯¹çš„æ˜¯Macç¯å¢ƒä¸‹ï¼ŒnexTä¸»é¢˜çš„æ–‡ç« åˆ†ç±»å’Œæ ‡ç­¾è®¾ç½®ï¼Œå…¶ä»–ä¸»é¢˜ä¹Ÿåº”è¯¥æ˜¯ç±»ä¼¼çš„ã€‚æ·»åŠ æˆåŠŸåä¼šåœ¨ä¾§è¾¹æ æˆ–å¯¼èˆªæ ç”Ÿæˆâ€œåˆ†ç±»â€å’Œâ€œæ ‡ç­¾â€è¿™ä¸¤ä¸ªé€‰é¡¹ï¼Œçœ‹ä¸‹å›¾ï¼š\n\n[!æ–‡ç« åˆ†ç±»ã€æ ‡ç­¾](/home/kate/å›¾ç‰‡ã€4626959-23b970682d0c20cf.png)\n\nç‚¹å‡»â€œåˆ†ç±»â€åçš„é¡µé¢ï¼š\n\n![4626959-23b970682d0c20cf.png](https://s2.loli.net/2023/02/15/1ThNDesyAwrUkmK.png)\n\nç‚¹å‡»â€œæ ‡ç­¾â€åçš„é¡µé¢ï¼š\n\n![æ ‡ç­¾](https://s2.loli.net/2023/05/22/2bGDplZvscdLEQI.webp)\n\n\n\nokï¼Œå¤§æ¦‚æ•ˆæœå°±æ˜¯è¿™æ ·çš„ï¼Œä¸‹é¢è¿›å…¥æ•™ç¨‹\n\n### 1ã€åˆ›å»ºâ€œåˆ†ç±»â€é€‰é¡¹\n\n#### 1.1 ç”Ÿæˆâ€œåˆ†ç±»â€é¡µå¹¶æ·»åŠ tpyeå±æ€§\n\næ‰“å¼€å‘½ä»¤è¡Œï¼Œè¿›å…¥åšå®¢æ‰€åœ¨æ–‡ä»¶å¤¹ã€‚æ‰§è¡Œå‘½ä»¤\n\n```\n$ hexo new page categories\n```\n\næˆåŠŸåä¼šæç¤ºï¼š\n\n```\nINFO  Created: ~/Documents/blog/source/categories/index.md\n```\n\næ ¹æ®ä¸Šé¢çš„è·¯å¾„ï¼Œæ‰¾åˆ°`index.md`è¿™ä¸ªæ–‡ä»¶ï¼Œæ‰“å¼€åé»˜è®¤å†…å®¹æ˜¯è¿™æ ·çš„ï¼š\n\n```\n---\ntitle: æ–‡ç« åˆ†ç±»\ndate: 2017-05-27 13:47:40\n---\n```\n\næ·»åŠ `type: \"categories\"`åˆ°å†…å®¹ä¸­ï¼Œæ·»åŠ åæ˜¯è¿™æ ·çš„ï¼š\n\n```\n---\ntitle: æ–‡ç« åˆ†ç±»\ndate: 2017-05-27 13:47:40\ntype: \"categories\"\n---\n```\n\nä¿å­˜å¹¶å…³é—­æ–‡ä»¶ã€‚\n\n#### 1.2 ç»™æ–‡ç« æ·»åŠ â€œcategoriesâ€å±æ€§\n\næ‰“å¼€éœ€è¦æ·»åŠ åˆ†ç±»çš„æ–‡ç« ï¼Œä¸ºå…¶æ·»åŠ categorieså±æ€§ã€‚ä¸‹æ–¹çš„`categories: webå‰ç«¯`è¡¨ç¤ºæ·»åŠ è¿™ç¯‡æ–‡ç« åˆ°â€œwebå‰ç«¯â€è¿™ä¸ªåˆ†ç±»ã€‚æ³¨æ„ï¼šhexoä¸€ç¯‡æ–‡ç« åªèƒ½å±äºä¸€ä¸ªåˆ†ç±»ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœåœ¨â€œ- webå‰ç«¯â€ä¸‹æ–¹æ·»åŠ â€œ-xxxâ€ï¼Œhexoä¸ä¼šäº§ç”Ÿä¸¤ä¸ªåˆ†ç±»ï¼Œè€Œæ˜¯æŠŠåˆ†ç±»åµŒå¥—ï¼ˆå³è¯¥æ–‡ç« å±äº â€œ- webå‰ç«¯â€ä¸‹çš„ â€œ-xxx â€åˆ†ç±»ï¼‰ã€‚\n\n```\n---\ntitle: jQueryå¯¹è¡¨å•çš„æ“ä½œåŠæ›´å¤šåº”ç”¨\ndate: 2017-05-26 12:12:57\ncategories: \n- webå‰ç«¯\n---\n```\n\nè‡³æ­¤ï¼ŒæˆåŠŸç»™æ–‡ç« æ·»åŠ åˆ†ç±»ï¼Œç‚¹å‡»é¦–é¡µçš„â€œåˆ†ç±»â€å¯ä»¥çœ‹åˆ°è¯¥åˆ†ç±»ä¸‹çš„æ‰€æœ‰æ–‡ç« ã€‚å½“ç„¶ï¼Œåªæœ‰æ·»åŠ äº†`categories: xxx`çš„æ–‡ç« æ‰ä¼šè¢«æ”¶å½•åˆ°é¦–é¡µçš„â€œåˆ†ç±»â€ä¸­ã€‚\n\n### 2ã€åˆ›å»ºâ€œæ ‡ç­¾â€é€‰é¡¹\n\n#### 2.1 ç”Ÿæˆâ€œæ ‡ç­¾â€é¡µå¹¶æ·»åŠ tpyeå±æ€§\n\næ‰“å¼€å‘½ä»¤è¡Œï¼Œè¿›å…¥åšå®¢æ‰€åœ¨æ–‡ä»¶å¤¹ã€‚æ‰§è¡Œå‘½ä»¤\n\n```\n$ hexo new page tags\n```\n\næˆåŠŸåä¼šæç¤ºï¼š\n\n```\nINFO  Created: ~/Documents/blog/source/tags/index.md\n```\n\næ ¹æ®ä¸Šé¢çš„è·¯å¾„ï¼Œæ‰¾åˆ°`index.md`è¿™ä¸ªæ–‡ä»¶ï¼Œæ‰“å¼€åé»˜è®¤å†…å®¹æ˜¯è¿™æ ·çš„ï¼š\n\n```\n---\ntitle: æ ‡ç­¾\ndate: 2017-05-27 14:22:08\n---\n```\n\næ·»åŠ `type: \"tags\"`åˆ°å†…å®¹ä¸­ï¼Œæ·»åŠ åæ˜¯è¿™æ ·çš„ï¼š\n\n```\n---\ntitle: æ–‡ç« åˆ†ç±»\ndate: 2017-05-27 13:47:40\ntype: \"tags\"\n---\n```\n\nä¿å­˜å¹¶å…³é—­æ–‡ä»¶ã€‚\n\n#### 2.2 ç»™æ–‡ç« æ·»åŠ â€œtagsâ€å±æ€§\n\næ‰“å¼€éœ€è¦æ·»åŠ æ ‡ç­¾çš„æ–‡ç« ï¼Œä¸ºå…¶æ·»åŠ tagså±æ€§ã€‚ä¸‹æ–¹çš„`tags:`ä¸‹æ–¹çš„`- jQuery` `- è¡¨æ ¼`\n`- è¡¨å•éªŒè¯`å°±æ˜¯è¿™ç¯‡æ–‡ç« çš„æ ‡ç­¾äº†\n\n```\n---\ntitle: jQueryå¯¹è¡¨å•çš„æ“ä½œåŠæ›´å¤šåº”ç”¨\ndate: 2017-05-26 12:12:57\ncategories: \n- webå‰ç«¯\ntags:\n- jQuery\n- è¡¨æ ¼\n- è¡¨å•éªŒè¯\n---\n```\n\nè‡³æ­¤ï¼ŒæˆåŠŸç»™æ–‡ç« æ·»åŠ åˆ†ç±»ï¼Œç‚¹å‡»é¦–é¡µçš„â€œæ ‡ç­¾â€å¯ä»¥çœ‹åˆ°è¯¥æ ‡ç­¾ä¸‹çš„æ‰€æœ‰æ–‡ç« ã€‚å½“ç„¶ï¼Œåªæœ‰æ·»åŠ äº†`tags: xxx`çš„æ–‡ç« æ‰ä¼šè¢«æ”¶å½•åˆ°é¦–é¡µçš„â€œæ ‡ç­¾â€ä¸­ã€‚\n\nç»†å¿ƒçš„æœ‹å‹å¯èƒ½å·²ç»å‘ç°ï¼Œè¿™ä¸¤ä¸ªçš„è®¾ç½®å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼æ˜¯çš„ï¼Œæ²¡é”™ï¼Œæ€è·¯éƒ½æ˜¯ä¸€æ ·çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ‰“å¼€scaffolds/post.mdæ–‡ä»¶ï¼Œåœ¨tages:ä¸Šé¢åŠ å…¥categories:,ä¿å­˜åï¼Œä¹‹åæ‰§è¡Œ`hexo new æ–‡ç« å`å‘½ä»¤ç”Ÿæˆçš„æ–‡ä»¶ï¼Œé¡µé¢é‡Œå°±æœ‰`categories:`é¡¹äº†ã€‚\n\nscaffoldsç›®å½•ä¸‹ï¼Œæ˜¯æ–°å»ºé¡µé¢çš„æ¨¡æ¿ï¼Œæ‰§è¡Œæ–°å»ºå‘½ä»¤æ—¶ï¼Œæ˜¯æ ¹æ®è¿™é‡Œçš„æ¨¡æ¿é¡µæ¥å®Œæˆçš„ï¼Œæ‰€ä»¥å¯ä»¥åœ¨è¿™é‡Œæ ¹æ®ä½ è‡ªå·±çš„éœ€æ±‚æ·»åŠ ä¸€äº›é»˜è®¤å€¼ã€‚\n\næ•™ç¨‹ç»“æŸï¼Œèµ¶ç´§å»è®¾ç½®å§ï¼\n","tags":["hexo"],"categories":["_A8-å·¥å…·","Hexo"]},{"title":"VMware_æ‰€æœ‰ç‰ˆæœ¬è®¸å¯è¯","url":"/2023/05/22/VMware-æ‰€æœ‰ç‰ˆæœ¬è®¸å¯è¯/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**æ¿€æ´»å¯†é’¥è®¸å¯è¯**</strong></font>\n\n<!--more-->\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**VM17 æ¿€æ´»è®¸å¯è¯**</strong></font>\n\n```\nMC60H-DWHD5-H80U9-6V85M-8280D\n\nJU090-6039P-08409-8J0QH-2YR7F\n\n5Y012-8HL8P-0J8U0-032Q6-93KKF\n```\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**VM16 æ¿€æ´»è®¸å¯è¯**</strong></font>\n\n```\nZF3R0-FHED2-M80TY-8QYGC-NPKYF\n```\n\n<br>\n\n---\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>**VM15 æ¿€æ´»è®¸å¯è¯**</strong></font>\n\n```\nUY758-0RXEQ-M81WP-8ZM7Z-Y3HDA\n\nVF750-4MX5Q-488DQ-9WZE9-ZY2D6\n\nUU54R-FVD91-488PP-7NNGC-ZFAX6\n\nYC74H-FGF92-081VZ-R5QNG-P6RY4\n\nYC34H-6WWDK-085MQ-JYPNX-NZRA2\n```\n\n<br>\n\n---\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>**VM14 æ¿€æ´»è®¸å¯è¯**</strong></font>\n\n```\nFF31K-AHZD1-H8ETZ-8WWEZ-WUUVA\n\nCV7T2-6WY5Q-48EWP-ZXY7X-QGUWD\n```\n\n<br>\n\n---\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>**VM12 æ¿€æ´»è®¸å¯è¯**</strong></font>\n\n```\n5A02H-AU243-TZJ49-GTC7K-3C61N\n\nVF5XA-FNDDJ-085GZ-4NXZ9-N20E6\n\nUC5MR-8NE16-H81WY-R7QGV-QG2D8\n\nZG1WH-ATY96-H80QP-X7PEX-Y30V4\n\nAA3E0-0VDE1-0893Z-KGZ59-QGAVF\n```\n\n<br>\n\n---\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>**VM10 æ¿€æ´»è®¸å¯è¯**</strong></font>\n\n```\n1Z0G9-67285-FZG78-ZL3Q2-234JG\n\n4C4EK-89KDL-5ZFP9-1LA5P-2A0J0\n\nHY086-4T01N-CZ3U0-CV0QM-13DNU\n```\n\n","tags":["è™šæ‹Ÿæœº","é”™è¯¯"],"categories":["_A8-å·¥å…·","è™šæ‹Ÿæœº"]},{"title":"Ubuntu20.04_VMware_æ˜¾ç¤ºå†…æ ¸æ›´æ–°é”™è¯¯","url":"/2023/05/22/Ubuntu20-04-VMware-æ˜¾ç¤ºå†…æ ¸æ›´æ–°é”™è¯¯/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Ubuntu20.04_VMware_æ˜¾ç¤ºå†…æ ¸æ›´æ–°é”™è¯¯</strong></font>\n\n<!--more-->\n\n<font color=red size=6 face=å®‹ä½“><strong>è¯´æ˜ï¼š</strong></font><font color=#b0171f size=3 face=å®‹ä½“><strong>unable to install all modules. see log /tmp/vmware</strong></font>\n\n```shell\ngit clone https://github.com/mkubecek/vmware-host-modules\ncd vmware-host-modules\ngit checkout workstation-16.1.1\nsudo make\nsudo make install\n```\n\n","tags":["è™šæ‹Ÿæœº","é”™è¯¯"],"categories":["_A5-å®‰è£…æ•™ç¨‹","ubuntu"]},{"title":"ubuntu 20.04å®‰è£…_Hexo_blogåˆ°giteeæ•™ç¨‹","url":"/2023/05/22/ubuntu-20-04å®‰è£…-Hexo-blogåˆ°giteeæ•™ç¨‹/","content":"\n#### <font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>ç³»ç»Ÿ:ubuntu 20.04ï¼š</strong></font>\n\n<!--more-->\n\n```shell\n# å®‰è£…nodejs npm\nsudo apt update\nsudo apt install nodejs npm\n\n# æŸ¥çœ‹ç‰ˆæœ¬\nnodejs --version\n```\n\n![image-20230214204218762](https://s2.loli.net/2023/02/14/SZ1iWgvyFUYn9t2.png)\n\n\n\n\n\n<font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>1ã€æˆ‘ä»¬å°†ä¼šå®‰è£… Node.js ç‰ˆæœ¬ 14.x:</strong></font>\n\n<font color=#f26522 size=3 face=\"å®‹ä½“\"><strong>1ï¼‰ä»¥ sudo ç”¨æˆ·èº«ä»½è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œä¸‹è½½å¹¶æ‰§è¡Œ NodeSource å®‰è£…è„šæœ¬ï¼š</strong></font>\n\n```bash\ncurl -sL https://deb.nodesource.com/setup_14.x | sudo -E bash -\n```\n\n\n\n<font color=#f26522 size=3 face=\"å®‹ä½“\"><strong>è¿™ä¸ªè„šæœ¬å°†ä¼šæ·»åŠ  NodeSource çš„ç­¾å key åˆ°ä½ çš„ç³»ç»Ÿï¼Œåˆ›å»ºä¸€ä¸ª apt æºæ–‡ä»¶ï¼Œå®‰è£…å¿…å¤‡çš„è½¯ä»¶åŒ…ï¼Œå¹¶ä¸”åˆ·æ–° apt ç¼“å­˜ã€‚</strong></font>\n\n<font color=#f26522 size=3 face=\"å®‹ä½“\"><strong>å¦‚æœä½ éœ€è¦å¦å¤–çš„ Node.js ç‰ˆæœ¬ï¼Œä¾‹å¦‚`12.x`ï¼Œå°†`setup_14.x`ä¿®æ”¹ä¸º`setup_12.x`</strong></font>\n\n<font color=#f26522 size=3 face=\"å®‹ä½“\"><strong>2ï¼‰NodeSource æºå¯ç”¨æˆåŠŸåï¼Œå®‰è£… Node.js å’Œ npm:</strong></font>\n\n```bash\nsudo apt install nodejs\n```\n\n<font color=#f26522 size=3 face=\"å®‹ä½“\"><strong>nodejs è½¯ä»¶åŒ…åŒæ—¶åŒ…å«`node`å’Œ`npm`äºŒè¿›åˆ¶åŒ…ã€‚</strong></font>\n\n<font color=#f26522 size=3 face=\"å®‹ä½“\"><strong>3ï¼‰éªŒè¯ Node.js å’Œ npm æ˜¯å¦æ­£ç¡®å®‰è£…ã€‚æ‰“å°å®ƒä»¬çš„ç‰ˆæœ¬å·ï¼š</strong></font>\n\n```bash\nnode --version\n```\n\n![image-20230214204628631](https://s2.loli.net/2023/02/14/WEa4s2cqZ8PVyBu.png)\n\n\n\n\n\n<font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>**2ã€è¿è¡Œ Git Bash å¹¶åˆ‡æ¢æ·˜å®é•œåƒã€‚**</strong></font>\n\n<font color=#f26522 size=3 face=\"å®‹ä½“\"><strong>å¦‚æœä¸éœ€è¦åˆ‡æ¢æºï¼Œåˆ™å¯è·³è¿‡æ­¤æ­¥éª¤ï¼š</strong></font>\n\n```bash\n# å…¨å±€åˆ‡æ¢å‘½ä»¤ï¼š\nnpm config set registry http://registry.npm.taobao.org/\n\n# æŸ¥çœ‹ç‰ˆæœ¬å‘½ä»¤ï¼š\nnpm get registry\n\n# åˆ‡å›å®˜æ–¹é•œåƒï¼š\nnpm config set registry http://www.npmjs.org\n```\n\n\n\n<font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>**3ã€å®‰è£…HEXOç¨‹åº**</strong></font>\n\n```bash\nnpm install -g hexo\n\n# æŸ¥çœ‹ç‰ˆæœ¬ï¼š\nhexo v\n```\n\n\n\n<font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>**4ã€åˆ›å»º hexo æ–‡ä»¶å¤¹**</strong></font>\n\n<font color=#f26522 size=3 face=\"å®‹ä½“\"><strong>hexo æ–‡ä»¶å¤¹ï¼Œæ˜¯æœªæ¥åšå®¢è¿è½¬çš„ç›®æ ‡æ–‡ä»¶å¤¹ï¼Œå†™æ–‡ã€ä¸»é¢˜å®‰è£…ç­‰ç­‰éƒ½åœ¨è¿™é‡Œå®Œæˆã€‚</strong></font>\n\n<font color=#f26522 size=3 face=\"å®‹ä½“\"><strong>è¯·åœ¨æŒ‡å®šè·¯å¾„æ–°å»ºæ–‡ä»¶å¤¹ï¼ˆè‹±æ–‡åï¼‰ï¼Œå³é”®ç©ºç™½å¤„ï¼Œé€‰æ‹© Git Bash hereï¼Œè¾“å…¥æŒ‡ä»¤ï¼š</strong></font>\n\n```bash\nhexo init\n```\n\n\n\n<font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>**5ã€å®‰è£…ä¸»é¢˜**</strong></font>\n\n<font color=#f26522 size=3 face=\"å®‹ä½“\"><strong>ç°åœ¨è¿™ä¸ªæ˜¯å¿…é¡»è¿‡ç¨‹äº†ï¼Œåæ­£è‡ªå¸¦çš„ä¸»é¢˜ä¹Ÿæ²¡äººç”¨ä¸æ˜¯ä¹ˆï¼Ÿ</strong></font>\n\n<font color=#f26522 size=3 face=\"å®‹ä½“\"><strong>6.1 åœ¨ theme æ–‡ä»¶å¤¹ä¸‹ï¼Œå»ºç«‹ä½ è¦ä½¿ç”¨çš„ä¸»é¢˜çš„åŒåæ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚ theme/next</strong></font>\n\n<font color=#f26522 size=3 face=\"å®‹ä½“\"><strong>6.2 cd åˆ° theme æ–‡ä»¶å¤¹ï¼Œæˆ–è€…ç›´æ¥åœ¨ theme æ–‡ä»¶å¤¹é‡Œå³é”®è¿è¡Œ Git Bashã€‚</strong></font>\n\n<font color=#f26522 size=3 face=\"å®‹ä½“\"><strong>6.3 è¾“å…¥è·å–ä¸»é¢˜çš„å‘½ä»¤ï¼š</strong></font>\n\n```shell\ngit clone -b theme https://github.com/niemingzhao/niemingzhao.github.io.git themes/default\n```\n\n![](https://s2.loli.net/2023/02/14/vC7O9xZuoVTRJht.png)\n\n\n\n<font color=red size=3 face=\"å®‹ä½“\"><strong>**æ³¨æ„ï¼šåœ¨ä¿®æ”¹æ¨¡æ¿çš„æ—¶å€™ï¼Œé™¤äº†éœ€è¦åˆ°ä¸»é…ç½®ä¸‹æ·»åŠ æ¨¡æ¿åä»¥å¤–ï¼Œè¿˜éœ€è¦å°†ä¸»é¢˜ä¸‹çš„é…ç½®æ–‡ä»¶ä¿®æ”¹ä¸ºÂ _config.yml**</strong></font>\n\n\n\n\n\n<font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>**6ã€Hexo ä¸»è¦å‘½ä»¤**</strong></font>\n\n```bash\nhexo cleanï¼šæ¸…é™¤ public é™æ€ç›®å½•\nhexo sï¼šæœ¬åœ°å¯åŠ¨é»˜è®¤æŒ‡å®š 4000 ç«¯å£é¢„è§ˆ (s æ˜¯ server æ˜¯ç¼©å†™ ä¹Ÿå°±æ˜¯å¯åŠ¨ hexo æœåŠ¡)\nhexo gï¼šç”Ÿæˆ public é™æ€ç›®å½•\nhexo dï¼š éƒ¨ç½²\n```\n\n\n\n\n\n<font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>**7ã€Hexo æ’ä»¶å®‰è£…**</strong></font>\n\n```bash\nnpm install hexo-generator-search --save\n# è¯„è®ºæ’ä»¶\nnpm i --save gitalk\n\n# RSSæ’ä»¶\nnpm install --save hexo-generator-feed\n\n# å®‰è£… æ–‡ç« è½¬æ¢äºŒç»´ç æ’ä»¶\nnpm install --save hexo-helper-qrcode\n\n# giteeç‰ˆæœ¬æ’ä»¶å®‰è£…\nnpm install --save gitment\n```\n\n\n\n","tags":["linux","Hexo","blog"],"categories":["_A8-å·¥å…·","Hexo"]},{"title":"å®‰è£…nodejs-cnpm","url":"/2023/05/22/å®‰è£…nodejs-cnpm/","content":"\n<strong><a class=\"wp-editor-md-post-content-link\" href=\"https://nodejs.org\">nodejså®˜æ–¹ç½‘å€</a></strong>\n\n<!--more-->\n\n**Nodejs v16.13.0ï¼š**[**å®˜æ–¹ç‰ˆ**](https://nodejs.org/dist/v16.13.0/node-v16.13.0-linux-x64.tar.xz)ã€[ç›´é“¾ä¸‹è½½](https://bd.bcebos.com/v1/xly-icafe/node-v16.2.0-linux-x64.tar-20240525034348-plibvg.xz)\n\n**Nodejs v20.0.0ï¼š**[**å®˜æ–¹ç‰ˆ**](https://nodejs.org/dist/v20.2.0/node-v20.2.0-linux-x64.tar.xz)ã€[ç›´é“¾ä¸‹è½½](https://bd.bcebos.com/v1/xly-icafe/node-v20.2.0-linux-x64.tar-20240525034121-bpmrw1.xz)\n\n**Nodejs v22.0.0ï¼š**[**å®˜æ–¹ç‰ˆ**](https://nodejs.org/dist/v22.0.0/node-v22.0.0-linux-x64.tar.xz)ã€[ç›´é“¾ä¸‹è½½](https://bd.bcebos.com/v1/xly-icafe/node-v22.0.0-linux-x64.tar-20240525034203-hmckok.xz)\n\n```python\n# ä¸‹è½½nodejs v22\nwget -O node-v22.0.0-linux-x64.tar.xz https://bd.bcebos.com/v1/xly-icafe/node-v22.0.0-linux-x64.tar-20240525034203-hmckok.xz\n\n# ä¸‹è½½å®Œæˆä¹‹å ä½¿ç”¨ï¼štar -xf <æ–‡ä»¶>  è§£å‹ *.tar.xzæ–‡ä»¶\ntar -xf node-v16.13.0-linux-x64.tar.xz\n# å°†æ–‡ä»¶ç§»åŠ¨åˆ°optæ–‡ä»¶å¤¹ä¸‹\nmv node-v16.13.0-linux-x64 /opt\n# åˆ›å»ºå…¨å±€å˜é‡ï¼Œä½¿nodeåœ¨ä»»ä½•åœ°æ–¹éƒ½èƒ½ä½¿ç”¨\nsudo ln -s /opt/node-v16.13.0-linux-x64/bin/node /usr/local/bin/node\nsudo ln -s /opt/node-v16.13.0-linux-x64/bin/npm /usr/local/bin/npm\n# åˆ°æ­¤ nodeå’Œ npm å°±ç®—å®‰è£…å®Œæˆäº†\nnode -v   # æŸ¥çœ‹nodeç‰ˆæœ¬ä¿¡æ¯\nnpm -v   # æŸ¥çœ‹npmç‰ˆæœ¬ä¿¡æ¯\n# æ¥ä¸‹æ¥ï¼Œå¼€å§‹å®‰è£…cnpm\n# cnpmæ˜¯npmçš„å›½å†…æºï¼Œå…¶æœåŠ¡å™¨æ˜¯æ·˜å®çš„ï¼Œæ‰€ä»¥å›½å†…æ¯”è¾ƒå¿«\n# cnpmçš„æ‰§è¡Œè¿‡ç¨‹æ˜¯å…ˆå»æ·˜å®æºä¸‹æ‰¾è½¯ä»¶ï¼Œå½“æ·˜å®æºä¸‹æ²¡æœ‰æ‰€éœ€è¦çš„åŒ…ï¼Œä¼šè‡ªåŠ¨åˆ°npmæœåŠ¡å™¨ä¸‹å¯»æ‰¾åŒ…\nnpm install -g cnpm --registry=https://registry.npm.taobao.org  # å®šä¹‰cnpmæ·˜å®æºç \nsudo ln -s /opt/node-v16.13.0-linux-x64/bin/cnpm /usr/local/bin/cnpm  #   åˆ›å»ºå…¨å±€å˜é‡\n```\n","tags":["å·¥å…·","å®‰è£…","nodejs"],"categories":["_A5-å®‰è£…æ•™ç¨‹","Node"]},{"title":"å®å¡”é¢æ¿_å†å²ç‰ˆæœ¬_è„±ç¦»å®˜æ–¹ä¸‹è½½","url":"/2023/05/22/å®å¡”é¢æ¿-å†å²ç‰ˆæœ¬-è„±ç¦»å®˜æ–¹ä¸‹è½½/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>å®å¡”é¢æ¿_å†å²ç‰ˆæœ¬_è„±ç¦»å®˜æ–¹ä¸‹è½½ï¼š</strong></font>\n\n<!--more-->\n\n<h2>1. å†å²ç‰ˆæœ¬å®å¡”ä¸‹è½½é“¾æ¥ï¼ˆé˜²æ­¢å®˜æ–¹åˆ é™¤å†å²ç‰ˆæœ¬ï¼Œè‡ªå¤‡ï¼è§‰å¾—åˆ«æ‰­çš„ï¼Œè¯·ç»•é“ï¼‰</h2>\n\n<ul>\n<li><strong>å®å¡”_5.9.1ï¼ˆç›®å‰ä»ç„¶å¾ˆå¤šäººåœ¨ç”¨çš„ç‰ˆæœ¬ï¼‰: <a class=\"wp-editor-md-post-content-link\" href=\"https://bd.bcebos.com/v1/xly-icafe/linuxpanel-5.9.1-20220110194703-1yjs8u.zip\">ç‚¹å‡»ä¸‹è½½</a></strong></li>\n<li><strong>å®å¡”_7.0.1: <a class=\"wp-editor-md-post-content-link\" href=\"https://bd.bcebos.com/v1/xly-icafe/linuxpanel-7.0.1-20220110195051-tayf6k.zip\">ç‚¹å‡»ä¸‹è½½</a></strong></li>\n<li><strong>å®å¡”_7.0.2: <a class=\"wp-editor-md-post-content-link\" href=\"https://bd.bcebos.com/v1/xly-icafe/linuxpanel-7.0.2-20220110195123-qyqem3.zip\">ç‚¹å‡»ä¸‹è½½</a></strong></li>\n<li><strong>å®å¡”_7.0.3: <a class=\"wp-editor-md-post-content-link\" href=\"https://bd.bcebos.com/v1/xly-icafe/linuxpanel-7.0.3-20220110195157-yssexv.zip\">ç‚¹å‡»ä¸‹è½½</a></strong></li>\n<li><strong>å®å¡”_7.1.0: <a class=\"wp-editor-md-post-content-link\" href=\"https://bd.bcebos.com/v1/xly-icafe/linuxpanel-7.1.0-20220110195229-gknrfv.zip\">ç‚¹å‡»ä¸‹è½½</a></strong></li>\n<li><strong>å®å¡”_7.1.1: <a class=\"wp-editor-md-post-content-link\" href=\"https://bd.bcebos.com/v1/xly-icafe/linuxpanel-7.1.1-20220110195255-p3429k.zip\">ç‚¹å‡»ä¸‹è½½</a></strong></li>\n<li><strong>å®å¡”_7.2.0: <a class=\"wp-editor-md-post-content-link\" href=\"https://bd.bcebos.com/v1/xly-icafe/linuxpanel-7.2.0-20220110195320-namkvo.zip\">ç‚¹å‡»ä¸‹è½½</a></strong></li>\n<li><strong>å®å¡”_7.3.0: <a class=\"wp-editor-md-post-content-link\" href=\"https://bd.bcebos.com/v1/xly-icafe/linuxpanel-7.3.0-20220110195346-wymfbj.zip\">ç‚¹å‡»ä¸‹è½½</a></strong></li>\n<li><strong>å®å¡”_7.4.0: <a class=\"wp-editor-md-post-content-link\" href=\"https://bd.bcebos.com/v1/xly-icafe/linuxpanel-7.4.0-20220110195410-3zwqjb.zip\">ç‚¹å‡»ä¸‹è½½</a></strong></li>\n<li><strong>å®å¡”_7.4.2ï¼ˆæœ‰pmaæ¼æ´ï¼‰: <a class=\"wp-editor-md-post-content-link\" href=\"https://bd.bcebos.com/v1/xly-icafe/linuxpanel-7.4.2-20220110195440-s6mdnj.zip\">ç‚¹å‡»ä¸‹è½½</a></strong></li>\n<li><strong>å®å¡”_7.4.3: <a class=\"wp-editor-md-post-content-link\" href=\"https://bd.bcebos.com/v1/xly-icafe/linuxpanel-7.4.3-20220110195505-kzoodl.zip\">ç‚¹å‡»ä¸‹è½½</a></strong></li>\n<li><strong>å®å¡”_7.4.5ï¼ˆä¼šæœ‰ç»‘å®šæé†’ï¼‰: <a class=\"wp-editor-md-post-content-link\" href=\"https://bd.bcebos.com/v1/xly-icafe/linuxpanel-7.4.5-20220110195541-sl6r0j.zip\">ç‚¹å‡»ä¸‹è½½</a></strong></li>\n<li><strong>å®å¡”_7.6.0: <a class=\"wp-editor-md-post-content-link\" href=\"https://bd.bcebos.com/v1/xly-icafe/linuxpanel-7.6.0-20220110211834-kfdtd3.zip\">ç‚¹å‡»ä¸‹è½½</a></strong></li>\n<li><strong>å®å¡”_7.7.0: <a class=\"wp-editor-md-post-content-link\" href=\"https://bd.bcebos.com/v1/xly-icafe/linuxpanel-7.7.0-20220110211841-kjhxx3.zip\">ç‚¹å‡»ä¸‹è½½</a></strong></li>\n<li><strong>å®å¡”_7.8.0: <a class=\"wp-editor-md-post-content-link\" href=\"http://download.bt.cn/install/update/LinuxPanel-7.8.0.zip\">ç‚¹å‡»ä¸‹è½½</a></strong></li>\n</ul>\n\n<h2>2. å®‰è£…æ–¹æ³•</h2>\n\n<ul>\n<li>å…ˆä½¿ç”¨å®å¡”å®˜æ–¹å‘½ä»¤æ­£å¸¸å®‰è£…ï¼Œä¹‹ååœ¨è¿›è¡Œå‡çº§/é™çº§æ“ä½œ</li>\n<li><strong>Centoså®‰è£…å‘½ä»¤ï¼š</strong></li>\n</ul>\n\n<pre><code class=\"language-shell line-numbers\">yum install -y wget && wget -O install.sh http://download.bt.cn/install/install_6.0.sh && sh install.sh\n</code></pre>\n\n<ul>\n<li><strong>Ubuntu/Deepinå®‰è£…å‘½ä»¤ï¼š</strong></li>\n</ul>\n\n<pre><code class=\"language-shell line-numbers\">wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh && sudo bash install.sh\n</code></pre>\n\n<ul>\n<li><strong>Debianå®‰è£…å‘½ä»¤ï¼š</strong></li>\n</ul>\n\n<pre><code class=\"language-shell line-numbers\">wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh && bash install.sh\n</code></pre>\n\n<ul>\n<li><strong>Fedoraå®‰è£…å‘½ä»¤:</strong></li>\n</ul>\n\n<pre><code class=\"language-shell line-numbers\">wget -O install.sh http://download.bt.cn/install/install_6.0.sh && bash install.sh\n</code></pre>\n\n<ul>\n<li><strong><em>*Linuxé¢æ¿7.9.0å‡çº§å‘½ä»¤ï¼š*</em></strong></li>\n</ul>\n\n<pre><code class=\"language-shell line-numbers\">curl https://download.bt.cn/install/update_panel.sh|bash\n</code></pre>\n\n<h2>3. å®˜æ–¹æ‰‹åŠ¨å‡çº§æ–¹æ³•</h2>\n\n<pre><code class=\"language-shell line-numbers\">ç¦»çº¿å‡çº§æ­¥éª¤ï¼š\n1ã€ä¸‹è½½ç¦»çº¿å‡çº§åŒ…\n2ã€å°†å‡çº§åŒ…ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸­çš„/rootç›®å½•\n3ã€è§£å‹æ–‡ä»¶ï¼šunzip LinuxPanel-*\n4ã€åˆ‡æ¢åˆ°å‡çº§åŒ…ç›®å½•ï¼š cd panel\n5ã€æ‰§è¡Œå‡çº§è„šæœ¬ï¼šbash update.sh\n6ã€åˆ é™¤å‡çº§åŒ…ï¼šcd .. && rm -f LinuxPanel-*.zip && rm -rf panel\n</code></pre>\n\n<h2>4. ä¸ºäº†æ›´å®‰å…¨ï¼Œä½ å¯ä»¥æ‰§è¡Œä»¥ä¸‹å†…å®¹ï¼Œé¿å…ä¸€äº›é—®é¢˜<del></del></h2>\n\n<pre><code class=\"language-shell line-numbers\">echo '127.0.0.1 bt.cn' >>/etc/hosts\n</code></pre>\n\n<h2><strong>5. é¢æ¿ç®¡ç†å¸¸ç”¨å‘½ä»¤ï¼š</strong> https://www.bt.cn/btcode.html</h2>\n\n<br>\n\n<br>\n\n<br>\n\n---\n\n","tags":["ç³»ç»Ÿ","è¿ç»´","å®å¡”"],"categories":["_A3-linux","å®å¡”é¢æ¿"]},{"title":"åˆ©ç”¨é˜¿é‡Œäº‘å·¥å•å®¢æœç³»ç»Ÿåšå…è´¹å›¾åºŠ","url":"/2023/05/22/åˆ©ç”¨é˜¿é‡Œäº‘å·¥å•å®¢æœç³»ç»Ÿåšå…è´¹å›¾åºŠ/","content":"\n<font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>æˆ‘è‡ªå·±æ˜¯ä¸ç”¨è¿™ä¸ªå›¾åºŠçš„ï¼Œæœ¬äººæœ‰æŸåº¦ï¼é‚£ä¸ªè¿˜æ˜¯å¾ˆç¨³å®šçš„ï¼æ‰€ä»¥æ²¡å¿…è¦æå¾ˆå¤šä¸ªï¼Œç²¾åŠ›è€—ä¸èµ·</strong></font>\n\n<!--more-->\n\n<font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>æœ‰éœ€è¦çš„å¯ä»¥è‡ªè¡Œæµ‹è¯•ï¼Œå¦å¤–æ ¹æ®åŸä½œè€…çš„æ„æ€ï¼Œkeyè¿‡æœŸäº†</strong></font>\n\n<font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>å¯ä»¥å»è¿™é‡Œæµè§ˆåŸç½‘é¡µï¼š<a class=\"wp-editor-md-post-content-link\" href=\"https://bbs.itzmx.com/thread-96020-1-1.html\">ç‚¹å‡»æµè§ˆ</a></strong></font>\n\nhttps://kfupload.alibaba.com/mupload\nPOST å‚æ•°        ç±»å‹        è¯´æ˜\nfile è¡¨å• æ–‡ä»¶çš„äºŒè¿›åˆ¶æ•°æ®\nname å‚æ•°        éšæœºæ–‡ä»¶å.jpg\nscene å‚æ•°        å›ºå®šä¸º aeMessageCenterV2ImageRule\næ”¯æŒ JPGã€PNGã€GIF æ ¼å¼\næ–‡ä»¶å¤§å°é™åˆ¶ä¸º 5MB\næ— éœ€èº«ä»½éªŒè¯\n5MBçš„GIFæ•ˆæœå›¾ï¼š\n<img src=\"https://ae01.alicdn.com/kf/H5fad35d66dca46108a4898efc0c79f7cT.jpg\" alt=\"5MBå›¾ç‰‡æ•ˆæœ\" />\nURLï¼šhttps://ae01.alicdn.com/kf/H5fad35d66dca46108a4898efc0c79f7cT.jpg\nURL2ï¼šhttps://sc01.alicdn.com/kf/H5fad35d66dca46108a4898efc0c79f7cT.jpg\ngoogleæ£€ç´¢äº†ä¸‹è¿˜æœ‰ä¸ªåº—é“ºæ¥å£ï¼šhttps://cbu01.alicdn.com/img/ibank/2018/578/980/8997089875_53215101.jpg\nå›æºé™é€Ÿ800KBï¼ŒCDNç¼“å­˜åè¾¹ç¼˜èŠ‚ç‚¹ä¸é™é€Ÿï¼Œ10Gbpså¯è·‘æ»¡\n\nè¯·æ±‚ç±»å‹ï¼šPOST\n\nURLï¼šhttps://kfupload.alibaba.com/mupload\n\næ–‡ä»¶è¡¨å•åç§°ï¼šfile\n\nå‚æ•°ï¼šsceneï¼Œå€¼å†™aeMessageCenterV2ImageRule\n\nå‚æ•°ï¼šnameï¼Œå€¼å†™éšæœº.jpg\n\nå“åº”ç±»å‹ï¼Œæ–‡æœ¬ï¼ŒURLå€¼ä¸ºï¼š$json:url$\nè¦å¯¼å…¥çš„è¯å¯ä»¥ç›´æ¥å¤åˆ¶è¿™ä¸ªå‰ªè´´æ¿å¯¼å…¥ï¼Œè®°å¾—æ”¹æˆè‡ªå·±çš„Tokenå°±èƒ½ç›´æ¥ç”¨äº†ï¼š\n\n<pre><code class=\"language-shell line-numbers\">{\n  \"Name\": \"kfupload.alibaba.com\",\n  \"DestinationType\": \"ImageUploader, FileUploader\",\n  \"RequestType\": \"POST\",\n  \"RequestURL\": \"https://kfupload.alibaba.com/mupload\",\n  \"FileFormName\": \"file\",\n  \"Arguments\": {\n    \"scene\": \"aeMessageCenterV2ImageRule\",\n    \"name\": \"itzmx.jpg\"\n  },\n  \"ResponseType\": \"Text\",\n  \"URL\": \"$json:url$\"\n}\n</code></pre>\n\nç”¨æ¥æè§†é¢‘å¹²å•¥éƒ½è¡Œ\nhttps://jsbin.com/nofapagalo/edit?html,output\næ³¨ï¼šæ²¡æœ‰å¹¶å‘æ•°é™åˆ¶ï¼Œä½†æ˜¯1åˆ†é’Ÿï¼ˆå¯èƒ½æ˜¯10åˆ†é’Ÿï¼‰å†…ä¸Šä¼ è¾¾åˆ°ç¬¬255ä¸ªå›¾ç‰‡ä¼šè§¦å‘ipå°ç¦10åˆ†é’Ÿï¼Œä¹Ÿå°±æ˜¯æœ€å¤šåªèƒ½ä¼ 254ä¸ªæ–‡ä»¶ï¼Œåé¢æ–‡ä»¶å°±ä¼šè·³éªŒè¯ç ï¼ŒéªŒè¯ç ä½¿ç”¨äº†cookieè®°å½•ï¼Œåªéœ€è¦æŠŠcookieæ‹¿ä¸‹æ¥ç»™è„šæœ¬ç”¨å°±è¡Œäº†\næœåŠ¡å™¨ä¸æ¥å—xffï¼Œç”¨xffä¼ªé€ IPæœåŠ¡å™¨ä¸è®¤ï¼Œä»£ç å¯ä»¥ä¸ç”¨å†™è¿™å—æ²¡å¿…è¦ã€‚\n<img src=\"https://s2.loli.net/2022/06/08/TmJEheiAIwS7RYO.png\" alt=\"\" />\n<img src=\"https://s2.loli.net/2022/06/08/w2hMIplreBzGutW.webp\" alt=\"\" />\næœ‰cookieåå¯ä»¥ç»•è¿‡éªŒè¯ç å‡ºç°ï¼Œå¯ä»¥ç”¨æ— ç—•æµè§ˆå™¨æµ‹è¯•ï¼Œæ¯æ¬¡éƒ½ä¼šè·³éªŒè¯ç ï¼Œå› ä¸ºä¸å­˜åœ¨cookieï¼Œé€šè¿‡æ’ä»¶æäº¤cookieåå°±ä¸ä¼šè·³éªŒè¯äº†ï¼Œæˆ–è€…è„šæœ¬ä¸Šå†™ä¸ªé™åˆ¶1åˆ†é’Ÿæœ€å¤šä¼ 254ä¸ªæ–‡ä»¶\n<img src=\"https://s2.loli.net/2022/06/08/CLxIqZOGJ3uW6yl.webp\" alt=\"\" />\n\n<pre><code class=\"line-numbers\">cookie: _uab_collina=159561074724936294593423; cna=ewSiFzONtW4CAXW3AF8ObdHU; x5sec=7b22736370726f78793b32223a2266636564636334376266313139313635616439373061346438356230333964344350717337506746454c3644383966596b5a474f6e41453d227d; isg=BImJ5hTjMiNB-s7XjdWWNVEsmLXj1n0It9DhIiv-2HCvcqiEcyRA2RQjtNZEKhVA; l=eBam3Oe7OP5g1GPGBO5ZPurza77taIRb8sPzaNbMiInca6Nl9eaAVNQqIXGBWdtjgt5cyetrA42DhR32Wba38-M5CY3ZqMKvK3J68e1..\n</code></pre>\n\nffmpeg æ— æŸHLSåˆ‡ç‰‡å‚æ•°ä¾‹å¦‚ï¼Œæ³¨æ„å‹åˆ¶æ—¶å…³é”®å¸§è®¾ç½®1ç§’\nffmpeg -y -i rc-24.mkv -c:a copy -c:v copy -hls_time 1 -hls_list_size 0 -hls_key_info_file videokey.info abc.m3u8\n\nç”¨æ¥æè§†é¢‘çš„è¯ï¼Œå»ºè®®crf19ï¼Œå³°å€¼ç ç‡40000ï¼Œç¼“å†²åŒº5000ï¼Œå…³é”®å¸§1ç§’ï¼Œè¿™æ ·å¯ä»¥ä¼ BDé«˜æ¸…æ— æŸï¼\n","tags":["å›¾åºŠ"],"categories":["_S9-æŠ˜è…¾","ç™½å«–"]},{"title":"æµè§ˆå™¨å¼ºåˆ¶è·³è½¬httpsçš„è§£å†³æ–¹æ³•","url":"/2023/05/22/æµè§ˆå™¨å¼ºåˆ¶è·³è½¬httpsçš„è§£å†³æ–¹æ³•/","content":"\n<h1>è°·æ­Œæµè§ˆå™¨å¼ºåˆ¶è·³è½¬åˆ° https çš„è§£å†³åŠæ³•</h1>\n\n<!--more-->\n\n<h2>1. åœ¨è°·æ­Œæµè§ˆå™¨çš„åœ°å€æ è¾“å…¥ï¼šchrome://net-internals/#hsts</h2>\n\n<h2>2. å¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„é¡µé¢ï¼š</h2>\n\n![](https://s2.loli.net/2022/06/08/5ucC8SWv6hEGOZJ.png)\n\n<h2>3. Delete domain æ çš„è¾“å…¥æ¡†ä¸­è¾“å…¥httpè®¿é—®çš„åŸŸåï¼Œç‚¹å‡»â€œdeleteâ€æŒ‰é’®ã€‚</h2>\n\n<h2>4. Query domain æ ä¸­æœç´¢åˆšæ‰è¾“å…¥çš„åŸŸåï¼Œç‚¹å‡»â€œqueryâ€æŒ‰é’®åå¦‚æœæç¤ºâ€œNot foundâ€ï¼Œå®Œæˆé…ç½®ã€‚</h2>\n","tags":["æµè§ˆå™¨","è·³è½¬"],"categories":["_A9-é”™è¯¯è§£å†³","æµè§ˆå™¨å¼ºåˆ¶è·³è½¬åˆ°httpsè§£å†³"]},{"title":"ç§‹æ°´ç‰ˆSSRæ•™ç¨‹","url":"/2023/05/22/ç§‹æ°´ç‰ˆSSRæ•™ç¨‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ç§‹æ°´ç‰ˆSSRæ•™ç¨‹ï¼š</strong></font>\n\n<!--more-->\n\n<h1><a class=\"wp-editor-md-post-content-link\" href=\"https://www.v2rayssr.com/qiushuissr.html\">ç§‹æ°´ç‰ˆSSR</a></h1>\n\n<pre><code class=\"language-shell line-numbers\">wget --no-check-certificate -O shadowsocks-all.sh https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-all.sh\nchmod +x shadowsocks-all.sh\n./shadowsocks-all.sh 2>&1 | tee shadowsocks-all.log\n</code></pre>\n\n<h5>1.1.1.1. å¦‚æœä¸Šæ–¹çš„è„šæœ¬æ— æ³•ä½¿ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™ä¸€æ¡ï¼</h5>\n\n<pre><code class=\"language-shell line-numbers\">wget --no-check-certificate -O shadowsocks-all.sh https://gitee.com/kanoc/image_data/raw/master/sdsks-all.sh\nchmod +x sdsks-all.sh\n./sdsks-all.sh 2>&1 | tee sdsks-all.log\n</code></pre>\n\n<img src=\"https://s2.loli.net/2022/06/08/KPD8RLf3kTscO4a.png\" alt=\"\" />\n\n<font color=red size=5 face=\"å®‹ä½“\">SSRå‘½ä»¤è¡Œ</font>\n\n```python\n# å¯åŠ¨SSRï¼š\n/etc/init.d/shadowsocks-r start\n# é€€å‡ºSSRï¼š\n/etc/init.d/shadowsocks-r stop\n# é‡å¯SSRï¼š\n/etc/init.d/shadowsocks-r restart\n# SSRçŠ¶æ€ï¼š\n/etc/init.d/shadowsocks-r status\n# å¸è½½SSRï¼š\n./shadowsocks-all.sh uninstall\n```\n","tags":["ä»£ç†","æ¢¯å­"],"categories":["_A8-å·¥å…·","æ¢¯å­"]},{"title":"é¡¹ç›®æ¥å•ç½‘ç«™åå½•","url":"/2023/05/22/é¡¹ç›®æ¥å•ç½‘ç«™åå½•/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>é¡¹ç›®æ¥å•ç½‘ç«™åå½•ï¼š</strong></font>\n\n<!--more-->\n\n<h2>1. ç¨‹åºå‘˜å®¢æ ˆ</h2>\n\n<a class=\"wp-editor-md-post-content-link\" href=\"https://www.proginn.com\">ç¨‹åºå‘˜å®¢æ ˆå®˜ç½‘</a>\nç¨‹åºå‘˜å®¢æ ˆä¸­å›½éå¸¸é¢†å…ˆçš„è‡ªç”±å·¥ä½œå¹³å°ï¼Œä¸ºä¸­é«˜ç«¯ç¨‹åºå‘˜ã€äº§å“ç»ç†å’Œè®¾è®¡å¸ˆç­‰ç­‰äº’è”ç½‘ç›¸å…³äººå‘˜æä¾›ç¨³å®šçš„çº¿ä¸Šå·¥ä½œæœºä¼šï¼ŒåŒ…æ‹¬è‡ªç”±å·¥ä½œã€è¿œç¨‹å·¥ä½œå’Œå…¼èŒå·¥ä½œï¼Œè¿˜æ”¯æŒæŒ‰éœ€é›‡ä½£ï¼Œå·¥ä½œæ¨¡å¼éå¸¸å¤šï¼Œæ„Ÿå…´è¶£çš„æ¨èå¤§å®¶å°è¯•ä¸€ä¸‹ã€‚è™½ç„¶åç§°å«ç¨‹åºå‘˜å®¢æ ˆï¼Œä½†æ˜¯é™¤äº†ç¨‹åºå‘˜ï¼Œåƒäº§å“ç»ç†ï¼Œè®¾è®¡å¸ˆç­‰ç­‰äº’è”ç½‘ç›¸å…³äººå‘˜ï¼Œéƒ½èƒ½åœ¨ä¸Šé¢æ‰¾åˆ°é€‚åˆè‡ªå·±çš„é¡¹ç›®ã€‚æ„Ÿå…´è¶£çš„å¯ä»¥ä½“éªŒä¸€ä¸‹ã€‚\n\n<h2>2. ç å¸‚</h2>\n\n<a class=\"wp-editor-md-post-content-link\" href=\"https://codemart.com\">ç å¸‚å®˜æ–¹ç½‘ç«™</a>\nç å¸‚æ˜¯ Coding æ¨å‡ºçš„äº’è”ç½‘è½¯ä»¶å¤–åŒ…æœåŠ¡å¹³å°,æ„åœ¨è¿æ¥éœ€æ±‚æ–¹ä¸å¹¿å¤§å¼€å‘è€…ã€‚è®©é¡¹ç›®çš„éœ€æ±‚æ–¹å¿«é€Ÿçš„æ‰¾åˆ°åˆé€‚çš„å¼€å‘è€…,å®Œæˆé¡¹ç›®å¼€å‘å·¥ä½œã€‚\n\n<h2>3. çŒªå…«æˆ’ç½‘</h2>\n\n<a class=\"wp-editor-md-post-content-link\" href=\"https://luoyang.zbj.com\">çŒªå…«æˆ’å®˜ç½‘</a>\nçŒªå…«æˆ’ç½‘åˆ›å»ºäº2006å¹´ï¼Œæ˜¯æœåŠ¡ä¸­å°å¾®ä¼ä¸šçš„äººæ‰å…±äº«å¹³å°ã€‚å¼€åˆ›å¼åœ°ä¸ºäººæ‰ä¸é›‡ä¸»æ­å»ºèµ·åŒè¾¹å¸‚åœºï¼Œé€šè¿‡çº¿ä¸Šçº¿ä¸‹èµ„æºæ•´åˆä¸å¤§æ•°æ®æœåŠ¡ï¼Œå®ç°äººæ‰ä¸é›‡ä¸»ç²¾å‡†æ— ç¼å¯¹æ¥ã€‚æ‰¾å…¼èŒçš„åœ°æ–¹ï¼Œä¸»è¦æ˜¯å…¥é—¨çº§é¡¹ç›®ï¼Œä¸é€‚åˆä¸“ä¸šç¨‹åºå‘˜ï¼Œåªé€‚åˆæ–°æ‰‹ã€‚\n\n<h2>4. å¼€æºä¼—åŒ…</h2>\n\n<a class=\"wp-editor-md-post-content-link\" href=\"https://zb.oschina.net\">å¼€æºä¼—åŒ…å®˜ç½‘</a>\nå¼€æºä¼—åŒ…â€“ä¸“ä¸šçš„è½¯ä»¶ä¼—åŒ…å¹³å°,350ä¸‡+ ä¼˜è´¨å¼€å‘è€…ä¸ºæ‚¨æä¾›ç½‘ç«™ã€APPã€å¾®ä¿¡/å°ç¨‹åºã€ä¼ä¸šåº”ç”¨ç­‰è½¯ä»¶å¼€å‘æœåŠ¡,æœ‰æ•ˆé™ä½ä¼ä¸š IT è½¯ä»¶å¼€å‘æˆæœ¬ã€è§£å†³æŠ€æœ¯èµ„æºä¸è¶³ç­‰é—®é¢˜ã€‚\nå¼€æºä¸­å›½çš„ä¼—åŒ…å¹³å°ï¼Œä¸»è¦æ˜¯ä»¥ä¼—åŒ…ä¸ºä¸»ã€‚\n\n<h2>5. æ™ºåŸå¤–åŒ…ç½‘</h2>\n\n<a class=\"wp-editor-md-post-content-link\" href=\"http://www.taskcity.com\">æ™ºåŸå¤–åŒ…ç½‘å®˜æ–¹ç½‘ç«™</a>\næ™ºåŸå¤–åŒ…ç½‘ï¼Œèšåˆå…¨å›½è½¯ä»¶å›¢é˜Ÿèµ„æºï¼Œå®˜æ–¹è®¤è¯ï¼Œ1å°æ—¶å“åº”ï¼Œé›¶äº¤æ˜“ä½£é‡‘ï¼Œæ‰˜ç®¡å®‰å…¨ä¿éšœã€‚åå¹´å£ç¢‘è¿è¥ï¼Œä¸‡å®¶é è°±å›¢é˜Ÿã€‚å…è´¹æ¯”ä»·ï¼Œå…è´¹ä¸€ç«™å¼å¤–åŒ…é¡¹ç›®ç®¡ç†å·¥å…·ã€‚å¹³å°æ±‡é›†è½¯ä»¶å’¨è¯¢ä¸“å®¶ï¼Œè½¯ä»¶æŠ€æœ¯ä¸“å®¶ï¼Œè½¯ä»¶å¼€å‘ä¸“å®¶ï¼Œè½¯ä»¶å¼€å‘å…¬å¸ï¼Œè½¯ä»¶å¤–åŒ…å…¬å¸ï¼Œè½¯ä»¶å¤–æ´¾å…¬å¸ã€‚åœ¨çº¿ç«æ ‡æ¨¡å¼ï¼Œè®©ITå¤–åŒ…é¡¹ç›®å’ŒçŸ­æœŸITæ‹›è˜ã€äººåŠ›æ´¾é£éœ€æ±‚å¯ä»¥è·å¾—é«˜æ€§ä»·æ¯”çš„å€™é€‰ã€‚æµ·é‡èµ„æºæ± åŒ…æ‹¬ï¼šç½‘ç«™è®¾è®¡ã€ç½‘ç«™å¼€å‘ã€æ‰‹æœºåº”ç”¨å¼€å‘ã€ç§»åŠ¨åº”ç”¨å¼€å‘ã€å®‰å“åº”ç”¨å¼€å‘ã€è‹¹æœåº”ç”¨å¼€å‘ã€å¾®ä¿¡åº”ç”¨å¼€å‘ã€JavaæŠ€æœ¯ã€Cï¼ƒæŠ€æœ¯ã€Webå‰ç«¯å¼€å‘ã€ITäººåŠ›å¤–åŒ…ã€ITäººåŠ›å¤–æ´¾ã€ITäººåŠ›çŸ­æœŸæ‹›è˜ã€æŠ€æœ¯åˆä¼™äººã€é€šç”¨è½¯ä»¶å¼€å‘ï¼ŒSaaSè½¯ä»¶å®æ–½ï¼Œè½¯ä»¶è¿ç»´ç­‰æœåŠ¡é—¨ç±»ã€‚\n\n<h2>6. å®ç°ç½‘</h2>\n\n<a class=\"wp-editor-md-post-content-link\" href=\"https://shixian.com\">å®ç°ç½‘å®˜ç½‘</a>\nåŒ—äº¬å®ç°ä¸çˆ±ç§‘æŠ€æœ‰é™å…¬å¸æ˜¯ä¸€ä¸ªäº’è”ç½‘å·¥ç¨‹å¸ˆå…¼èŒå¹³å°ã€‚è§£å†³åˆ›ä¸šå…¬å¸æ‹›äººéš¾ã€æˆæœ¬é«˜çš„é—®é¢˜ã€‚\nåˆ›ä¸šå…¬å¸é€šè¿‡å®ç°ç½‘å¯ä»¥å¿«é€Ÿé¢„çº¦çŸ¥åäº’è”ç½‘ä¼ä¸šçš„å·¥ç¨‹å¸ˆã€è®¾è®¡å¸ˆåˆ°è‡ªå·±çš„å›¢é˜Ÿå·¥ä½œã€‚ä¸Šåˆé¢„çº¦å·¥ç¨‹å¸ˆï¼Œæœ€å¿«æ™šä¸Šå³å¯åˆ°ç­å…¼èŒã€‚\näº’è”ç½‘å·¥ç¨‹å¸ˆå¯ä»¥åœ¨å®ç°ç½‘æ³¨å†Œæˆä¸ºæŠ€æœ¯é¡¾é—®ï¼Œåˆ©ç”¨ä¸šä½™æ—¶é—´åŠ©åŠ›åˆ›ä¸šå…¬å¸ï¼Œå¹¶ä¸”è·å¾—ä»¥æ—¶è–ªä¸ºå•ä½çš„æŠ¥é…¬ã€‚\nç›®å‰å·²æœ‰9000+å·¥ç¨‹å¸ˆæˆ–è®¾è®¡å¸ˆå¯åœ¨çº¿é¢„çº¦å’Œæ”¯ä»˜ï¼Œæ”¯ä»˜åå·¥ç¨‹å¸ˆä¼šåˆ°å›¢é˜Ÿé‡Œåç­æ²Ÿé€šï¼Œå¿«é€Ÿæ¨è¿›åˆ›ä¸šè€…çš„äº§å“å¼€å‘è¿›åº¦ã€‚\nå®ç°ç½‘ä¸ºä¼ä¸šæä¾›BATç­‰åä¼èƒŒæ™¯çš„ã€é è°±çš„å¼€å‘è®¾è®¡å…¼èŒäººæ‰å’Œè‡ªç”±èŒä¸šè€…ï¼Œæ»¡è¶³ä¼ä¸šé¡¹ç›®å¤–åŒ…ã€é©»åœºå¼€å‘ã€è¿œç¨‹å…¼èŒã€æŠ€æœ¯å’¨è¯¢ç­‰çŸ­æœŸäººåŠ›éœ€æ±‚ã€‚å·²æœåŠ¡2000å¤šå®¶ä¼ä¸šï¼ŒåŒ…æ‹¬å¥½æœªæ¥ã€æ–¹æ­£ã€äººäººè´·ã€ç§’æ‹ç­‰çŸ¥åä¼ä¸šã€‚\n\n<h2>7. çŒ¿æ€¥é€</h2>\n\n<a class=\"wp-editor-md-post-content-link\" href=\"https://www.yuanjisong.com\">çŒ¿æ€¥é€</a>\nçŒ¿æ€¥é€ï¼Œä¸€ä¸ªé«˜çº§æŠ€æœ¯å…±äº«å¹³å°ï¼Œè¿™é‡Œæ±‡èšçŸ¥åäº’è”ç½‘å…¬å¸çš„æŠ€æœ¯ã€è®¾è®¡ã€äº§å“å¤§ç‰›ï¼Œé€šè¿‡å®é™…åç­ã€è¿œç¨‹ç­‰æ–¹å¼ï¼Œä¸€å¯¹ä¸€ä¸ºåˆ›ä¸šå…¬å¸è§£å†³é—®é¢˜ï¼Œæé«˜åˆ›ä¸šæ•ˆç‡ã€‚\nçŒ¿æ€¥é€ä¸ºæ‚¨æä¾›å…¼èŒç¨‹åºå‘˜ï¼Œå…¼èŒå·¥ç¨‹å¸ˆä¿¡æ¯ï¼ŒçŒ¿æ€¥é€æ˜¯ä¸€ä¸ªé«˜çº§æŠ€æœ¯å…±äº«å¹³å°ï¼Œæ˜¯ä¼˜è´¨çš„ç¨‹åºå‘˜å…¼èŒç½‘ç«™ï¼Œè¿™é‡Œæ±‡èšBATç­‰çŸ¥åäº’è”ç½‘å…¬å¸çš„æŠ€æœ¯å¼€å‘ã€äº§å“ã€è®¾è®¡å¤§ç‰›ï¼Œé€šè¿‡å®é™…åç­ç­‰æ–¹å¼ï¼Œä¸€å¯¹ä¸€ä¸ºåˆ›ä¸šå…¬å¸è§£å†³ç¨‹åºå‘˜ã€å·¥ç¨‹å¸ˆç­‰å¼€å‘ã€äº§å“è®¾è®¡äººåŠ›é—®é¢˜ã€‚\n\n<h2>8. äººäººå¼€å‘</h2>\n\n<a class=\"wp-editor-md-post-content-link\" href=\"http://rrkf.com\">äººäººå¼€å‘å®˜æ–¹ç½‘ç«™</a>\näººäººå¼€å‘åŸºäºå¯è§†åŒ–å¿«é€Ÿå¼€å‘å¹³å°\næ·å¾—ï¼ˆJogetï¼‰æ·å¾—äº‘ï¼ˆJoget Cloudï¼‰ï¼ˆPaaSï¼‰ï¼Œé›†ä¼—å¤šå¼€å‘è€…èµ„æºï¼Œä¸ºä¼ä¸šæä¾›ä¼ä¸šç®¡ç†è½¯ä»¶æœåŠ¡ã€‚åº”ç”¨å¸‚åœºæä¾›åº”ç”¨äº§å“ã€æ’ä»¶çš„åœ¨çº¿è¯•ç”¨å’Œé”€å”®ï¼ŒæœåŠ¡å¸‚åœºä»¥å¨å®¢ä¼—åŒ…æ¨¡å¼æä¾›ç®¡ç†è½¯ä»¶å®šåˆ¶å¼€å‘æœåŠ¡ï¼Œå„ç±»ä¼ä¸šçº§åº”ç”¨å¼€å‘æœåŠ¡ï¼Œä¾‹å¦‚ï¼šååŒOAäº§å“ï¼ŒERPï¼ŒCRMï¼Œäººäº‹ç®¡ç†ï¼Œé¡¹ç›®ç®¡ç†ï¼Œèµ„äº§ç®¡ç†ï¼Œè®¾å¤‡ç®¡ç†ç­‰ã€‚\n\n<h2>9. å¼€å‘é‚¦</h2>\n\n<a class=\"wp-editor-md-post-content-link\" href=\"https://www.kaifabang.com\">å¼€å‘é‚¦å®˜æ–¹ç½‘ç«™</a>\n\nå…¬å¸ä½äºåŒ—äº¬ä¸­å…³æ‘ç§‘æŠ€å›­åŒºæ ¸å¿ƒåŒºæµ·æ·€å›­ï¼Œæˆç«‹äº2010å¹´ï¼Œä¸“æ³¨äºä¸ºå®¢æˆ·æä¾›äº’è”ç½‘è½¯ä»¶æŠ€æœ¯å¼€å‘ä¸å’¨è¯¢æœåŠ¡ï¼Œè‡´åŠ›äºåˆ©ç”¨äº’è”ç½‘è½¯ä»¶æŠ€æœ¯ä¸ºå®¢æˆ·æé«˜æ•ˆç‡ã€é™ä½æˆæœ¬ã€æå‡æ•ˆèƒ½ã€ä¼˜åŒ–ç®¡ç†ã€‚\nå›¢é˜Ÿæ ¸å¿ƒæˆå‘˜å‡å…·æœ‰åå¹´ä»¥ä¸Šè½¯ä»¶äº’è”ç½‘æŠ€æœ¯å¼€å‘ç»éªŒï¼Œæ¯•ä¸šäºå·¥ç§‘åæ ¡ã€‚è‡³ä»Šï¼Œå·²æˆåŠŸæ‰§è¡Œè¿‘ç™¾ä¸ªé¡¹ç›®ï¼Œæ¶µç›–ç®¡ç†è½¯ä»¶ã€äº’è”ç½‘ç³»ç»Ÿã€ç§»åŠ¨APPã€å‰ç«¯äº’åŠ¨å¼€å‘ç­‰ã€‚\nå…ˆåä¸ºåä¸ºå…¬å¸ã€å•†æ±¤ç§‘æŠ€ã€å·¥ä¿¡éƒ¨ä¸­å›½è½¯ä»¶è¯„æµ‹ä¸­å¿ƒã€ç¥å·æ•°ç ã€æ·±é‰´ç§‘æŠ€ã€ä¸­è½¯é›†å›¢ã€ä¸­å›½ä¸‡ç½‘ã€ä¸­çŸ³æ²¹åå“ˆæ°”ä¸¾ä¸­å¿ƒã€ååŒ—ç”µåŠ›å¤§å­¦ã€ä¸­ç§‘é™¢ç§‘æŠ€æ”¿ç­–ä¸ç®¡ç†ç ”ç©¶æ‰€ã€æµªæ½®é›†å›¢ã€ADIã€ä¸–ç•Œäº”ç™¾å¼ºä¼Šé¡¿ä¸­å›½ã€åŒ—äº¬å¤–å›½è¯­å¤§å­¦ã€51talkã€å‹¤é‚¦ç”Ÿç‰©ã€å®‰é¾™åŸºå› ç­‰çŸ¥åä¼ä¸šåŠæœºæ„æä¾›è¿‡äº’è”ç½‘è½¯ä»¶æŠ€æœ¯å¼€å‘ä¸æŠ€æœ¯å’¨è¯¢æœåŠ¡ã€‚\nå¼€å‘é‚¦è‡´åŠ›äºæˆä¸ºä¼ä¸šä¸šåŠ¡äº’è”ç½‘è½¯ä»¶æœåŠ¡ä¸å’¨è¯¢çš„å®šåˆ¶æ–¹æ¡ˆæä¾›å•†ã€‚\n\n<h2>10. ç”µé¸­ç¤¾åŒº</h2>\n\n<a class=\"wp-editor-md-post-content-link\" href=\"https://eleduck.com\">ç”µé¸­ç¤¾åŒºå®˜æ–¹ç½‘ç«™</a>\nç”µé¸­ç¤¾åŒºæ—¨åœ¨å¸®åŠ©æ›´å¤šäººèµ°ä¸Šã€Œåªå·¥ä½œï¼Œä¸ä¸Šç­ã€çš„è‡ªç”±å·¥ä½œä¹‹è·¯ï¼Œæˆ‘ä»¬æ˜¯ä¸€ä¸ªã€Œåˆ†å¸ƒå¼ç»„ç»‡ã€ï¼Œé€šè¿‡åˆ†äº«åŠè¡ŒåŠ¨å¸¦æ¥ç§¯æçš„å½±å“ï¼Œç›¸ä¿¡ç‚¹æ»´çš„åŠ›é‡èƒ½æ”¹å˜æ½®æ°´çš„æ–¹å‘ã€‚\n\n<h2>11. å¿«ç </h2>\n\n<a class=\"wp-editor-md-post-content-link\" href=\"https://kuaimacode.com\">å¿«ç å®˜æ–¹ç½‘ç«™</a>\næ·±åœ³å¿«ç ç§‘æŠ€æˆç«‹äº2014å¹´11æœˆï¼Œæ˜¯ä¸€å®¶åˆ›æ–°å‹çš„äº’è”ç½‘å…¬å¸ï¼Œè‡´åŠ›äºé€šè¿‡åˆ›æ–°çš„å¼€å‘æ–¹å¼ï¼Œä¸ºè½¯ä»¶æŠ€æœ¯å¼€å‘è¡Œä¸šå¸¦æ¥æ”¹å˜ï¼Œæä¾›æ›´å¿«é€Ÿã€æ›´é«˜æ€§ä»·æ¯”çš„è½¯ä»¶å®šåˆ¶æœåŠ¡ã€‚\n\n<h2>12. è‹±é€‰</h2>\n\n<a class=\"wp-editor-md-post-content-link\" href=\"https://www.yingxuan.io\">è‹±é€‰å®˜æ–¹ç½‘ç«™</a>\nè‹±é€‰ï¼Œå¯ä¿¡èµ–çš„è½¯ä»¶å¤–åŒ…æœåŠ¡ã€‚ç”¨ä¼˜ç§€çš„äººï¼Œåšæ¼‚äº®çš„äº§å“ï¼Œå†™å¹²å‡€çš„ä»£ç ã€‚å¹³å°ä»¥å®šåˆ¶å¼€å‘å¤–åŒ…æœåŠ¡ä¸ºä¸»ï¼Œä¹Ÿæ˜¯å¤–åŒ…é¡¹ç›®å¹³å°ã€‚\n\n<h2>13. Upwork</h2>\n\n<a class=\"wp-editor-md-post-content-link\" href=\"https://www.upwork.com\">å®˜æ–¹ç½‘ç«™</a>\nUpwork æ˜¯å…¨çƒæœ€å¤§çš„ã€æœ€ä¼˜ç§€çš„ã€æœ€è§„èŒƒçš„ç»¼åˆç±»äººåŠ›å¤–åŒ…æœåŠ¡å¹³å°ï¼Œç”±è‘—åçš„ Elance å’Œ oDesk åˆå¹¶ã€‚è¿™é‡Œèšé›† 900 ä¸‡æ¥è‡ªå…¨çƒå„åœ°çš„è‡ªç”±å·¥ä½œè€…ï¼Œä½ è‚¯å®šå¯ä»¥åœ¨æ‰¾åˆ°é€‚åˆä½ çš„èŒä½ã€‚\n\n<h2>14. Freelancer</h2>\n\n<a class=\"wp-editor-md-post-content-link\" href=\"https://www.freelance.com\">Freelancerå®˜æ–¹ç½‘ç«™</a>\nFreelancer çš„å·¥ä½œç±»å‹è¦†ç›–äº†å¾ˆå¤šä¸åŒçš„é¢†åŸŸï¼Œç”±ç¨‹åºå¼€å‘åˆ°å¸‚åœºè¥é”€ã€å¹¿å‘Šã€ä¼šè®¡ã€æ³•åŠ¡ç­‰ä¸€ç³»åˆ—çš„å¯ä»¥è¿œç¨‹çš„å·¥ä½œã€‚\n\n<h2>15. Remoteok</h2>\n\n<a class=\"wp-editor-md-post-content-link\" href=\"https://remoteok.io/\">Remoteokå®˜æ–¹ç½‘ç«™</a>\nRemoteok ä¸ä»…æä¾›æœ€åˆçš„å…¼èŒç±»è¿œç¨‹å·¥ä½œï¼Œè¿˜æœ‰å…¨èŒç±»ï¼Œç­¾ç½²åˆåŒç±»å’Œå®ä¹ ç±»çš„å·¥ä½œã€‚ç½‘ç«™åˆ›å§‹äºº Pieter Levels æœ¬èº«å°±æ˜¯ä¸€åæ•°å­—æ¸¸æ°‘ï¼Œä»–åŒæ ·æ˜¯ Nomadlist çš„åˆ›å§‹äººã€‚\n\n<h2>16. Toptal</h2>\n\n<a class=\"wp-editor-md-post-content-link\" href=\"https://www.toptal.com\">Toptalå®˜æ–¹ç½‘ç«™</a>\nToptal æ˜¯ä¸€ä¸ªé«˜ç«¯ä¸€äº›çš„è‡ªç”±èŒä¸šè€…å¹³å°ï¼Œé€‚åˆæ¯”è¾ƒæœ‰ç»éªŒå’Œå·¥ä½œå°½åŠ›çš„è¿œç¨‹å·¥ä½œè€…ã€‚å®ƒå°†ä¼ä¸šä¸å…¨çƒçš„è½¯ä»¶å·¥ç¨‹å¸ˆï¼Œè®¾è®¡å¸ˆå’Œä¸šåŠ¡é¡¾é—®è”ç³»èµ·æ¥ã€‚\n\n<h2>17. AngelList</h2>\n\n<a class=\"wp-editor-md-post-content-link\" href=\"https://angel.co/remote\">AngelListå®˜æ–¹ç½‘ç«™</a>\nAngelList ä¸»è¦æ˜¯æœåŠ¡äºåˆåˆ›å…¬å¸å’Œå¤©ä½¿æŠ•èµ„äººçš„å¹³å°ï¼Œè¿™é‡Œè¿˜æœ‰åˆåˆ›å…¬å¸æä¾›çš„è¿œç¨‹å·¥ä½œçš„æœºä¼šï¼Œå¦‚æœå¯¹è¿œç¨‹åŠ å…¥åˆåˆ›å…¬å¸æ„Ÿå…´è¶£çš„ï¼Œå¯ä»¥å°è¯•ä¸€ä¸‹ã€‚\n\n<h2>18. Topcoder</h2>\n\n<a class=\"wp-editor-md-post-content-link\" href=\"https://www.topcoder.com\">Topcoderå®˜æ–¹ç½‘ç«™</a>\nTopcoder é€šè¿‡ç®—æ³•æ¯”èµ›å¸å¼•ä¸–ç•Œé¡¶çº§çš„ç¨‹åºå‘˜ï¼Œä»–ä¼šå°†ä¸€ä¸‹å¤§å‹é¡¹ç›®åˆ†å‰²æˆå¾ˆå¤šå°æ¨¡å—ï¼Œé€šè¿‡ç«èµ›çš„æ¨¡å¼äº¤ç»™ç”¨æˆ·æ¥åšï¼Œä¼˜èƒœè€…å¯ä»¥æ‹¿åˆ°åˆ¶å®šæ¨¡å—çš„å¥–é‡‘ã€‚\n","tags":["æ¥å•é¡¹ç›®"],"categories":["_T1-èµšé’±","æ¥å•é¡¹ç›®"]},{"title":"ä¸€ä¸ªè½¯ä»¶æå®šæ‰€æœ‰éŸ³ä¹ï¼Œæ— è§†ç‰ˆæƒ","url":"/2023/05/22/ä¸€ä¸ªè½¯ä»¶æå®šæ‰€æœ‰éŸ³ä¹ï¼Œæ— è§†ç‰ˆæƒ/","content":"\n<font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>æ”¾æ¾å¿ƒæƒ…çš„æ—¶å€™ï¼Œå¾€å¾€éƒ½æƒ³æ¥ä¸Šä¸€é¦–æ­Œï¼Œä½†æ˜¯å¸‚é¢ä¸Šçš„éŸ³ä¹è½¯ä»¶ï¼Œç‰ˆæƒæ‚ä¹±ï¼Œå¾€å¾€ä¸€ä¸ªéŸ³ä¹è½¯ä»¶æ˜¯æ‰¾ä¸åˆ°è‡ªå·±æ‰€æƒ³è¦å¬çš„æ­Œã€‚</strong></font>\n\n<!--more-->\n\n<font color=#00b2c2 size=5 face=\"å®‹ä½“\">ç°åœ¨è€å¤«æ¥å¸¦ä¸€æ¬¾æ¥è‡ªgithubçš„å¼€æºè½¯ä»¶ -- </font> <font color=red size=6 face=\"å®‹ä½“\"><strong>Listen 1</strong></font>\n\n<font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>æ¥æ‹¯æ•‘ä½ é‚£æ— å¤„å®‰æ”¾ï¼Œæœ‰éªšåŠ¨çš„å¿ƒï¼è½¯ä»¶æœ€å¤§ç‰¹ç‚¹ï¼šè§£é”é¹…å‚ã€æŸæ˜“äº‘ã€æŸæˆ‘. . .ç­‰å¸‚é¢æ‰€æœ‰éŸ³ä¹è½¯ä»¶å› ç‰ˆæƒï¼Œè€Œå‘é»‘çš„é“¾æ¥ï¼è¾¾åˆ°å¯ä»¥ç›´æ¥æ’­æ”¾çš„ç›®çš„ï¼Œä¹Ÿå°±æ˜¯ï¼Œä»¥å‰ä½ å¬æ­Œéœ€è¦Næ­Œè½¯ä»¶ï¼Œé‚£ä¹ˆç°åœ¨ï¼Œä½ åªéœ€è¦ä¸€ä¸ªå°±å¤Ÿäº†ï¼</strong></font>\n\n<font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>é—æ†¾çš„æ˜¯ï¼šè½¯ä»¶ç›®å‰åŠŸèƒ½ç¨æœ‰BUGï¼Œå½“ç„¶ï¼Œè¿™äº›bugæ˜¯å¯¹äºæ‡‚ç¨‹åºçš„äººæ¥æ‰€ï¼Œå¦‚æœä½ å°±å•çº¯çš„å¬éŸ³ä¹ã€‚ä½ å¯èƒ½æ— æ³•å‘ç°è¿™äº›bugã€‚æ‰€æœ‰ä½ å¯ä»¥æ”¾å¿ƒé£Ÿç”¨</strong></font>\n\n<ul>\n<li><font color=#f26522 size=5 face=\"å®‹ä½“\"><strong>æµè§ˆå™¨æ’ä»¶ï¼š</strong></font>\n\n<ul>\n<li><font color=#102b6a size=5 face=\"å®‹ä½“\"><strong>Firefoxæ’ä»¶ï¼š</strong></font><strong><a class=\"wp-editor-md-post-content-link\" href=\"https://addons.mozilla.org/zh-CN/firefox/addon/listen1/\"><font color=#ef5b9c size=4 face=\"å®‹ä½“\">ç‚¹å‡»è¿›å…¥Firefoxæ’ä»¶ä¸­å¿ƒ</font></a></strong></li>\n<li><font color=#102b6a size=5 face=\"å®‹ä½“\"><strong>Microsoft Edgeæ’ä»¶ï¼š</strong></font><strong><a class=\"wp-editor-md-post-content-link\" href=\"https://microsoftedge.microsoft.com/addons/detail/hneiglcmpeedblkmbndhfbeahcpjojjg\"><font color=#ef5b9c size=4 face=\"å®‹ä½“\">ç‚¹å‡»è¿›å…¥Microsoft Edgeæ’ä»¶ä¸­å¿ƒ</font></a></strong></li>\n<li><font color=#102b6a size=5 face=\"å®‹ä½“\"><strong>Chrome æ’ä»¶ç‰ˆ V2.21.6ï¼š</strong></font><strong><a class=\"wp-editor-md-post-content-link\" href=\"https://github.com/listen1/listen1_chrome_extension/archive/v2.21.6.zip\"><font color=#ef5b9c size=4 face=\"å®‹ä½“\">ç‚¹å‡»ä¸‹è½½</font></a></strong></li>\n</ul></li>\n<li><font color=#f26522 size=5 face=\"å®‹ä½“\"><strong>å®¢æˆ·ç«¯ä¸‹è½½ï¼š</strong></font>\n\n<ul>\n<li><font color=#102b6a size=5 face=\"å®‹ä½“\"><strong>å®‰å“ï¼š</strong></font><strong><a class=\"wp-editor-md-post-content-link\" href=\"https://bd.bcebos.com/v1/xly-icafe/listen1_0.8.2.apk-20211106103255-fxfdwn.zip\"><font color=#ef5b9c size=4 face=\"å®‹ä½“\">ç‚¹å‡»ä¸‹è½½</font></a></strong></li>\n<li><font color=#102b6a size=5 face=\"å®‹ä½“\"><strong>Windows æ¡Œé¢ç‰ˆå®‰è£…åŒ…ï¼š</strong></font><strong><a class=\"wp-editor-md-post-content-link\" href=\"https://bd.bcebos.com/v1/xly-icafe/listen1_2.21.6_win-20211106103217-jkgf2r.exe\"><font color=#ef5b9c size=4 face=\"å®‹ä½“\">ç‚¹å‡»ä¸‹è½½</font></a></strong></li>\n<li><font color=#102b6a size=5 face=\"å®‹ä½“\"><strong>Mac Universal æ¡Œé¢ç‰ˆï¼š</strong></font><strong><a class=\"wp-editor-md-post-content-link\" href=\"https://bd.bcebos.com/v1/xly-icafe/listen1_2.21.6_mac_universal-20211106103400-rp3ith.dmg\"><font color=#ef5b9c size=4 face=\"å®‹ä½“\">ç‚¹å‡»è¿›å…¥ä¸‹è½½é¡µé¢</font></a></strong></li>\n<li><font color=#102b6a size=5 face=\"å®‹ä½“\"><strong>Linux 64ä½æ¡Œé¢ç‰ˆï¼š</strong></font><strong><a class=\"wp-editor-md-post-content-link\" href=\"https://bd.bcebos.com/v1/xly-icafe/listen1_2.21.6_linux_x86_64-20211106103435-yjknbv.appimage\"><font color=#ef5b9c size=4 face=\"å®‹ä½“\">ç‚¹å‡»ä¸‹è½½</font></a></strong></li>\n<li><font color=#102b6a size=5 face=\"å®‹ä½“\"><strong>Windows æ¡Œé¢ç»¿è‰²ç‰ˆ64ä½ï¼š</strong></font><strong><a class=\"wp-editor-md-post-content-link\" href=\"https://bd.bcebos.com/v1/xly-icafe/listen1_2.21.6_win_x64-20211106102449-eofmd6.7z\"><font color=#ef5b9c size=4 face=\"å®‹ä½“\">ç‚¹å‡»ä¸‹è½½</font></a></strong></li>\n<li><font color=#102b6a size=5 face=\"å®‹ä½“\"><strong>Windows æ¡Œé¢ç»¿è‰²ç‰ˆ32ä½ï¼š</strong></font><strong><a class=\"wp-editor-md-post-content-link\" href=\"https://bd.bcebos.com/v1/xly-icafe/listen1_2.21.6_win_ia32-20211106103130-offfio.7z\"><font color=#ef5b9c size=4 face=\"å®‹ä½“\">ç‚¹å‡»ä¸‹è½½</font></a></strong>\nç•Œé¢æ˜¯è¿™æ ·çš„ï¼š\n<img src=\"https://s2.loli.net/2022/06/08/1Uq6FsgeIQENkrY.png\" alt=\"d9bec25a85627a48\" /></li>\n</ul></li>\n</ul>\n\n<font color=#00b2c2 size=7 face=\"å®‹ä½“\">    å®‰è£…ï¼š</font>\n\n<ul>\n<li>Chromeæ’ä»¶ç‰ˆ\n\n<ul>\n<li>ä¸‹è½½Chromeæ’ä»¶ç‰ˆå‹ç¼©åŒ…ï¼Œå¹¶è§£å‹ç¼©</li>\n<li>æ‰“å¼€ Chrome æ‰©å±•é¡µé¢ï¼Œå‹¾é€‰å³ä¸Šè§’ã€Œå¼€å‘è€…æ¨¡å¼ã€</li>\n<li>é€‰æ‹©ã€ŒåŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åºâ€¦ã€ï¼Œé€‰æ‹©åˆšåˆšè§£å‹ç¼©çš„æ–‡ä»¶å¤¹</li>\n<li>å¼€å§‹ä½¿ç”¨</li>\n</ul></li>\n<li>Firefoxæ’ä»¶ç‰ˆ\n\n<ul>\n<li>ä¸‹è½½Firefoxæ’ä»¶ç‰ˆï¼Œå¹¶è§£å‹ç¼©</li>\n<li>æ‰“å¼€ about:config é¡µé¢ï¼Œxpinstall.signatures.required è®¾ç½®ä¸º false</li>\n<li>é€‰æ‹©ã€Œé™„åŠ ç»„ä»¶ã€ï¼Œé½¿è½®å›¾æ ‡ï¼Œé€‰æ‹©ä»æ–‡ä»¶å®‰è£…é™„åŠ ç»„ä»¶ï¼Œé€‰æ‹©ä¸‹è½½çš„xpiæ–‡ä»¶</li>\n<li>å¼€å§‹ä½¿ç”¨</li>\n</ul></li>\n<li><p>è‡³äº<del>windoså’Œlinux å°±ä¸è¯´äº†ï¼linuxå®‰è£…è½¯ä»¶ä¸ä¼šï¼Œä½ è¿˜æ˜¯ç”¨å›windoså§ï¼</del></p></li>\n<li><p>è‡³äº. . . windosä¸ä¼šçš„. . .è€å¤«å°±çˆ±è«èƒ½åŠ©äº†ï¼</p></li>\n</ul>\n","tags":["ç ´è§£","è½¯ä»¶"],"categories":["_A8-å·¥å…·","éŸ³ä¹æ’­æ”¾å™¨"]},{"title":"ç¡¬ä»¶å®‰è£…ç‰ˆlinuxä¸‹ï¼Œå®‰è£…VMwareæ’å‘è®°","url":"/2023/05/22/ç¡¬ä»¶å®‰è£…ç‰ˆlinuxä¸‹ï¼Œå®‰è£…VMwareæ’å‘è®°/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>ç¡¬ä»¶å®‰è£…ç‰ˆlinuxä¸‹ï¼Œå®‰è£…VMwareæ’å‘è®°ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>1. 1.linuxå‡çº§å†…æ ¸</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>æŸ¥çœ‹linuxæº</strong></font>\n\n```python\n# æŸ¥çœ‹æºç ä¿¡æ¯\ncat /etc/apt/sources.list\n# å®˜æ–¹æºæ²¡æœ‰5.14.0å†…æ ¸å¤´ï¼Œæ‰€ä»¥è¦ä¿®æ”¹æˆé˜¿é‡Œæº\n# é˜¿é‡Œæº\ndeb http://mirrors.aliyun.com/kali kali-rolling main non-free contrib\ndeb-src http://mirrors.aliyun.com/kali kali-rolling main non-free contrib\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>2. 2.linuxå‡çº§å†…æ ¸</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>æ›´æ–°ç³»ç»Ÿä»¥åŠä¾èµ–</strong></font>\n\n```python\nsudo -i\n# è¾“å…¥rootå¯†ç \napt update\napt upgrade\napt dist-upgrade\nreboot\n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>å®‰è£…å†…æ ¸å¤´æ–‡ä»¶</strong></font>\n\n```shell\napt-get install Linux-headers-$(uname -r)\n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>æ£€è½¦å†…æ ¸å¤´æ–‡ä»¶æ˜¯å¦å®‰è£…</strong></font>\n\n```shell\ndpkg-query -s linux-headers-$(uname -r)\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>3. å®‰è£…VMware</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>ä¸‹è½½Linuxç‰ˆæœ¬VMwareè™šæ‹Ÿæœº</strong></font>\n  [ç‚¹å‡»ä¸‹è½½](https://customerconnect.vmware.com/downloads/details?downloadGroup=WKST-1620-LX&productId=1038&rPId=75716)\n  [ç™¾åº¦äº‘ç›´ä¸‹ç‰ˆæœ¬](https://bd.bcebos.com/v1/xly-icafe/vmware-workstation-full-16.2.0-18760230.x86_64-20220126040532-c2o1rc.bundle)\n  [ç™¾åº¦äº‘ç›´ä¸‹æœ€16.2.5ç‰ˆæœ¬](https://bd.bcebos.com/v1/xly-icafe/vmware-workstation-full-16.2.5-20904516.x86_64-20221223172537-3gywfr.bundle)\n  [é˜¿é‡Œäº‘ç›˜ä¸‹è½½](https://www.aliyundrive.com/s/NARUSYFXZuR)\n\n```python\n# ä¸‹è½½å®Œæˆä¹‹åèµ‹äºˆæ–‡ä»¶æ‰§è¡Œæƒé™\nchmod +x VMware-Workstation-Full-16.2.0-18760230.x86_64.bundle\nsudo ./VMware-Workstation-Full-16.2.0-18760230.x86_64.bundle\n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>VMware16 pro æ³¨å†Œç </strong></font>\n\n```python\n# æ¯ä¸€è¡Œï¼Œä¸ºå•ç‹¬çš„ä¸€ä¸ªç¥–å†Œå—\nZF3R0-FHED2-M80TY-8QYGC-NPKYF\nYF390-0HF8P-M81RQ-2DXQE-M2UT6\nZF71R-DMX85-08DQY-8YMNC-PPHV8\n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>å¸è½½ VMware</strong></font>\n\n```python\nsudo vmware-installer -u vmware-workstation\n```\n\n","tags":["ç ´è§£","è½¯ä»¶"],"categories":["_A5-å®‰è£…æ•™ç¨‹","linuxå®‰è£…VMware"]},{"title":"MongoDB_å¢ã€åˆ ã€æ”¹ã€æŸ¥","url":"/2023/05/22/MongoDB-å¢ã€åˆ ã€æ”¹ã€æŸ¥/","content":"\n<font color=#f26522 size=5 face=\"å®‹ä½“\"><strong>Mongodbå¢ã€åˆ ã€æ”¹ã€æŸ¥ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#00b2c2 size=3 face=\"å®‹ä½“\"><strong>å¢ï¼š</strong></font>\n\n<pre><code class=\"language-mongodb line-numbers\"># æ–°å¢ pymongo\nImage_Push.<é›†åˆå>.insert_one({'name': 'æå››', 'age': '15'})   # å¢åŠ ä¸€æ¡æ•°æ®\n</code></pre>\n\n<font color=#00b2c2 size=3 face=\"å®‹ä½“\"><strong>åˆ ï¼š</strong></font>\n\n<pre><code class=\"language-mongodb line-numbers\"># åˆ é™¤ä¸€æ¡æ•°æ® pymongo\nImage_Push.<é›†åˆå>.delete_one({'name': 'æå››', 'age': '15'})   # å¢åŠ ä¸€æ¡æ•°æ®\n</code></pre>\n\n<font color=#00b2c2 size=3 face=\"å®‹ä½“\"><strong>æ”¹ï¼š</strong></font>\n\n<pre><code class=\"language-mongodb line-numbers\"># ä¿®æ”¹ã€æ›´æ–° pymongo\nImage_Push.<é›†åˆå>.update({'age': '15'},{\"$set\": {'age': 30}})   # æŸ¥æ‰¾age=15çš„æ•°æ®, æ›´æ–°ä¸º age=30\n</code></pre>\n\n<font color=#00b2c2 size=3 face=\"å®‹ä½“\"><strong>æŸ¥ï¼š</strong></font>\n\n<pre><code class=\"language-mongodb line-numbers\">db.é›†åˆå.find()  # æŸ¥è¯¢é›†åˆä¸­çš„æ‰€æœ‰æ•°æ®\ndb.é›†åˆå.find({'age': '1'})   # æŸ¥è¯¢ é›†åˆä¸­ age = 1  çš„æ•°æ®\ndb.é›†åˆå.find({'age': '6', 'sex': 'ç”·'})   # æŸ¥è¯¢é›†åˆä¸­  åŒæ—¶æ»¡è¶³ age=6 å’Œ sex=ç”· çš„æ•°æ®    andï¼ˆä¸æ“ä½œï¼‰\ndb.é›†åˆå.find('$or': [{'age': '6'},{'sex': 'ç”·'}])   # æŸ¥è¯¢é›†åˆä¸­  æ»¡è¶³ age=6 æˆ–è€… sex=ç”· çš„æ•°æ®  orï¼ˆæˆ–æ“ä½œ)\ndb.é›†åˆå.find('$or': [{'age': '6'},{'sex': 'ç”·'}])   # æŸ¥è¯¢é›†åˆä¸­  æ»¡è¶³ age=6 æˆ–è€… sex=ç”· çš„æ•°æ®  orï¼ˆæˆ–æ“ä½œ)\ndb.é›†åˆå.find({'city': 'åŒ—äº¬', '$or': [{'age': '6'},{'sex': 'ç”·'}]})  # ä¸æˆ–åŒæ—¶æ“ä½œ æ»¡è¶³ city=åŒ—äº¬, age=6æˆ–sex=ç”·çš„æ•°æ®\n\n\n#ä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°ï¼ŒæŒ‡å®šæ˜¾ç¤ºçš„åˆ—   (1æ˜¾ç¤º  0 ä¸æ˜¾ç¤º)\ndb.é›†åˆå.find({'age': '1'}, {'age':1})  # æŸ¥è¯¢ é›†åˆä¸­ age=1 çš„æ•°æ®  åªæ˜¾ç¤º ageåˆ—\ndb.é›†åˆå.find({'age': '1'}, {'age':0})  # æŸ¥è¯¢ é›†åˆä¸­ age=1 çš„æ•°æ®  æ˜¾ç¤ºé™¤äº† ageåˆ—\ndb.é›†åˆå.find({'age': '1'}, {'age':0, '_id':0})  # æŸ¥è¯¢ é›†åˆä¸­ age=1 çš„æ•°æ®  æ˜¾ç¤ºé™¤äº† ageåˆ— æŠŠ '_id' ä¹Ÿå»æ‰\n\n\n# ä½¿ç”¨æ­£åˆ™æŸ¥è¯¢æ•°æ®åº“\ndb.test.find({\"title\":{\"$regex\":\".*<åŒ…å«å†…çš„æ•°æ®>.*\"}})\n\n# éšæœºæŸ¥è¯¢30æ¡æ•°æ® pymongo\nImage_Push.<é›†åˆå>.aggregate([{\"$sample\": {\"size\": 30}}])\n</code></pre>\n\n<font color=#00b2c2 size=3 face=\"å®‹ä½“\"><strong>æ“ä½œç¬¦ï¼š</strong></font>\n\n<pre><code class=\"language-mongodb line-numbers\">$gt   #  å¤§äº\n$lt   # å°äº\n    ä¾‹å¦‚ï¼š db.é›†åˆå.find({'age': {'$lt': '30'}})   æŸ¥è¯¢ age <= 30 çš„æ•°æ®\n$eq   # ç­‰äº\n$gte   # å¤§äºç­‰äº\n$lte   # å°äºç­‰äº\n$ne    # ä¸ç­‰äº\n$in   # in   åœ¨é‡Œé¢\n$nin  # not in  ä¸åœ¨é‡Œé¢\n$not  # å–å\n$exists   # æ˜¯å¦å­˜åœ¨  å¸ƒå°”å€¼  ## db.é›†åˆå.find({'age': {'$exists': True}})  ## é›†åˆä¸­å­˜åœ¨ageçš„æ•°æ®\n</code></pre>\n\n<font color=#00b2c2 size=3 face=\"å®‹ä½“\"><strong>å¤æ‚æŸ¥è¯¢ï¼š</strong></font>\n\n<pre><code class=\"language-mongodb line-numbers\">æµ‹è¯•æ•°æ®: {'status': ['age': '6'], 'sex': 'ç”·'}\n\nmongodbå•ä¸ªæ•°æ®ä¸‹å­˜åœ¨ [ ]åˆ—è¡¨çš„æ—¶å€™ï¼Œç”¨.æ–¹æ³•æŸ¥è¯¢\n    ä¾‹å¦‚ï¼šdb.é›†åˆå.find({'status.age': '6'}) \n</code></pre>\n\n<font color=#f26522 size=5 face=\"å®‹ä½“\"><strong>Mogodbæ’åºåˆ†é¡µï¼š</strong></font>\n\n<font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>1.å‡†å¤‡ï¼š</strong></font>\n\n<pre><code class=\"language-mongodb line-numbers\">use test3\ndb.c1.insert({_id:1,name:\"a\",sex:1,age:1})\ndb.c1.insert({_id:2,name:\"b\",sex:1,age:2})\ndb.c1.insert({_id:3,name:\"c\",sex:2,age:3})\ndb.c1.insert({_id:4,name:\"d\",sex:2,age:4})\ndb.c1.insert({_id:5,name:\"e\",sex:2,age:5})\n</code></pre>\n\n<font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>2. æ’åºï¼š</strong></font>\n\n<pre><code class=\"language-mongodb line-numbers\">è¯­æ³•ï¼šdb.<é›†åˆå>.find().sort(jsonæ•°æ®)\n\n# è¯´æ˜:é”®â€”â€”å°±æ˜¯è¦æ’åºçš„åˆ—/å­—æ®µã€å€¼ï¼š1æ˜¯å‡åºï¼Œ-1æ˜¯é™åº\n# ä¾‹å¦‚ï¼šdb.c1.find().sort({age:-1}) # c1æ˜¯ç”±å¼€å§‹å†™å…¥æ•°æ®æ—¶éšå¼åˆ›å»º\n</code></pre>\n\n<font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>3. åˆ†é¡µï¼š</strong></font>\n\n<pre><code class=\"language-mongodb line-numbers\">è¯­æ³•ï¼šdb.<é›†åˆå>.find().sort().skip(æ•°å­—).limit(æ•°å­—)\n\n# skipâ€”â€”è·³è¿‡æŒ‡å®šæ•°æ®æ•°é‡ï¼ˆå¯é€‰ï¼‰ï¼ŒæŸ¥è¯¢æ–°çš„æ•°æ® # ç¬¬ä¸€é¡µä¸éœ€è¦è·³è¿‡ï¼Œå› ä¸ºæ˜¯æ–°æ•°æ®\n# limitâ€”â€”æŸ¥è¯¢æŒ‡å®šæ•°é‡æ•°æ®\n# ä¾‹å¦‚ï¼šdb.c1.find().sort({age:-1}).limit(2) # æŸ¥è¯¢é™åº ä¸¤æ¡æ•°æ®\n# ä¾‹å¦‚ï¼šdb.c1.find().sort({age:-1}).skip(2).limit(3) # æŸ¥è¯¢é™åº è·³è¿‡ä¸¤æ¡æ•°æ® ï¼Œæ˜¾ç¤ºä¸‰æ¡æ•°æ®\n# skipè®¡ç®—å…¬å¼ï¼šï¼ˆå½“å‰é¡µ - 1ï¼‰* æ¯é¡µæ˜¾ç¤ºæ•°é‡\n</code></pre>\n\n<font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>4. å°æ€»ç»“ï¼š</strong></font>\n\n<pre><code class=\"language-mongodb line-numbers\">db.<é›†åˆå>.find()\n.sort({åˆ—:1/-1})â€”â€”æ’åº\n.skip(æ•°å­—)â€”â€”è·³è¿‡æŒ‡å®šæ•°é‡\n.limit(æ•°å­—)â€”â€”é™åˆ¶æŸ¥è¯¢æ¡æ•°\n.count()â€”â€”ç»Ÿè®¡æ€»æ•°é‡\nå¦‚æœä¸å¤Ÿï¼Œåœ¨ç™¾åº¦roè°·æ­Œ\n</code></pre>\n","tags":["mongodb","æ•°æ®åº“"],"categories":["_9-æ•°æ®åº“","mongodb"]},{"title":"é‚£äº›è®©äººæƒŠå¥‡çš„äº‘é¡¹ç›®","url":"/2023/05/22/é‚£äº›è®©äººæƒŠå¥‡çš„äº‘é¡¹ç›®/","content":"\n<h1>æœ‰äº‘æœåŠ¡å™¨æ—¶èƒ½è‡ªå»ºçš„é¡¹ç›®</h1>\n\n<!--more-->\n\n<ul>\n<li>ssï¼šhttps://github.com/lrinQVQ/script https://github.com/mritd/dockerfile/tree/master/shadowsocks</li>\n<li>ç½‘ç›˜\n\n<ul>\n<li>Seafileï¼šå›½äº§ï¼ŒCï¼ŒåŒæ­¥ç›˜ï¼Œä½†å¿…é¡»ä¾èµ–Py2.7</li>\n<li>https://github.com/nextcloud/docker https://docs.nextcloud.com/server/17/user_manual/ ï¼šowncloudçš„åŒä½œè€…ï¼ŒPHPã€‚https://github.com/e-alfred/ocdownloader ç¦»çº¿ä¸‹è½½æ’ä»¶</li>\n<li>Cloudreveï¼šå›½äº§ï¼ŒGOï¼Œæ”¯æŒOSS</li>\n<li>zFileï¼šå›½äº§ï¼ŒJava</li>\n<li>https://github.com/syncthing/syncthing GO</li>\n<li>BTSync</li>\n<li>oneindex</li>\n<li>OLAINDEXï¼šä½¿ç”¨OneDrive API</li>\n<li>https://github.com/zhaojun1998/zfile è¯„æµ‹ï¼šhttps://xiaoyou66.com/archives/769</li>\n<li>https://www.directorylister.com/ indexerï¼ŒPHP</li>\n<li>https://github.com/prasathmani/tinyfilemanager PHP</li>\n<li>sparkleshare</li>\n<li>rclone</li>\n<li>https://freefilesync.org/</li>\n</ul></li>\n<li>æ–‡ä»¶æµè§ˆå™¨ï¼šhttps://larsjung.de/h5ai/ ï¼ˆPHPï¼‰ã€https://github.com/filebrowser/filebrowser ï¼ˆGOï¼‰</li>\n<li>gitlab</li>\n<li>çˆ¬è™«</li>\n<li>è®ºå›ï¼šdiscuzï¼ˆPHPï¼Œç»´æŠ¤ä¸å¿«ï¼‰ï¼ŒFlarumï¼ˆPHPï¼‰ï¼Œvanilla (PHP)</li>\n<li>ç›‘æ§ç¨‹åº/APIçš„ï¼šhttps://github.com/ivbeg/awesome-status-pages åˆé›†ã€‚https://cachethq.io/ ï¼ˆåˆé›†ä¸­æœ€æ´»è·ƒçš„ä½†æ˜¯PHPï¼‰ã€https://github.com/hunterlong/statping ï¼ˆGOï¼‰ã€https://github.com/bazzite/statusfy ï¼ˆJSï¼‰ã€‚https://uptimerobot.com/ ä¸å¼€æºï¼Œæœ‰å…è´¹ç‰ˆã€https://www.atlassian.com/zh/software/statuspage æœ‰å…è´¹ç‰ˆã€https://github.com/nicolargo/glances (Py)ã€https://eheh.org/ å›½äº§ã€https://www.fundebug.com/</li>\n<li>ç›‘æ§æœåŠ¡å™¨çŠ¶æ€ï¼šhttps://github.com/netdata/netdata C+Pythonï¼Œstaréå¸¸å¤šï¼Œæœ‰ä¸­æ–‡ç¿»è¯‘ã€‚https://github.com/grafana/grafana TS+GOï¼Œstaræ•°ç¨å°‘ï¼Œä½†commitæ•°å’Œè´¡çŒ®è€…æ•°éå¸¸å¤šã€‚https://github.com/open-falcon/falcon-plus GOï¼Œç›¸å¯¹è€Œè¨€staræ•°å°‘å¾ˆå¤šï¼Œä½†æ˜¯å›½äº§çš„ï¼Œéœ€è¦mysqlï¼›https://github.com/CokeMine/ServerStatus-Hotaru</li>\n<li>å„ç§å¯ä»¥è£…çš„è½¯ä»¶çš„æ”¶é›†ï¼šhttps://github.com/Kickball/awesome-selfhosted ã€https://www.softaculous.com/softaculous/apps ã€ https://github.com/luong-komorebi/Awesome-Linux-Software ã€https://statusfy.co/</li>\n<li>è‡ªå·±æŒ‚å¹¿å‘Š</li>\n<li>å›¾åºŠï¼šhttps://xiaoyou66.com/archives/774 https://molunerfinn.com/PicGo/ https://github.com/wisp-x/lsky-pro https://github.com/chevereto/Chevereto-Free</li>\n<li>å¯è§†åŒ–æ—¥å¿—ï¼šhttps://goaccess.io</li>\n<li>BTä¸‹è½½ï¼šhttps://github.com/jpillora/cloud-torrent</li>\n<li>åˆ›å»ºç½‘é¡µç‰ˆçš„Shellï¼šhttps://github.com/instantbox/instantbox</li>\n<li>jupyter notebook: https://xiaoyou66.com/archives/1095</li>\n<li>OSS: https://github.com/minio/minio https://www.digitalocean.com/community/tutorials/how-to-set-up-an-object-storage-server-using-minio-on-ubuntu-18-04 ä½†åè®®æ˜¯æœ€ä¸¥æ ¼çš„AGPL</li>\n<li>çŸ­é“¾æ¥ï¼šUOURLSï¼ˆPHPï¼Œéœ€è¦äºŒæ¬¡å¼€å‘ï¼‰Polrï¼ˆä¹Ÿæ˜¯PHPï¼Œä¸è¿‡åå‘å¼€ç®±å³ç”¨ï¼‰https://github.com/ellisonleao/pyshorteners</li>\n<li>https://apex.sh/up/ ä¸€é”®éƒ¨ç½²å‡ ç§è¯­è¨€çš„Serverlessåº”ç”¨åˆ°AWS</li>\n<li>https://github.com/chrislusf/seaweedfs åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œæ”¯æŒS3çš„APIï¼›https://github.com/syncthing/syncthing</li>\n<li>å½“æˆ‘æœ‰æœåŠ¡å™¨æ—¶æˆ‘åšäº†ä»€ä¹ˆï¼ˆåˆ«äººçš„é›†åˆï¼‰ï¼šhttps://shanyue.tech/op</li>\n<li>åå°æ§åˆ¶é¢æ¿ï¼šhttps://www.jianshu.com/p/3bc7404af887</li>\n<li>æœç´¢å¼•æ“ï¼šhttps://github.com/benbusby/whoogle-search https://github.com/milvus-io/milvus</li>\n<li>æ§åˆ¶é¢æ¿ï¼šhttps://github.com/cockpit-project/cockpit</li>\n<li>æ€§èƒ½æµ‹è¯•ï¼š<code>curl -L bench.sh | bash</code></li>\n<li>CMS: https://www.storyblok.com/</li>\n<li>CI\n\n<ul>\n<li>https://www.jetbrains.com/teamcity/</li>\n<li>https://drone.io/</li>\n</ul></li>\n</ul>\n\n<h2>1. è‡ªå»ºPaas</h2>\n\né›†åˆï¼šhttps://paasfinder.org\n\n<ul>\n<li>https://dokku.com/</li>\n<li>openstackï¼Œå¼€æºIaaSï¼Œæœºå™¨æœ€å¥½æœ‰10Gä»¥ä¸Šçš„å†…å­˜</li>\n<li>rancher, openshift, CloudFoundry, flynn</li>\n<li>https://www.rainbond.com/ å›½äº§çš„</li>\n<li>https://letscoded.com</li>\n<li>https://www.koding.com/</li>\n<li>https://kodcloud.com/ æœ‰ä½¿ç”¨è€…è¡¨ç¤ºâ€œæ¯æ¬¡è®¿é—®éƒ½ä¼šé‡‡é›†æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„éšç§ä¿¡æ¯ï¼Œé‡Œé¢æµæ°“è„šæœ¬ä¸€å¤§å †â€</li>\n<li>https://github.com/caprover/caprover</li>\n<li>https://convox.com/</li>\n<li>https://nanobox.io/</li>\n<li>https://caprover.com/</li>\n<li>https://rio.io/</li>\n<li>https://github.com/teamhephy/workflow</li>\n<li>https://www.kintohub.com/ åŸºäºk8s</li>\n</ul>\n","tags":["äº‘","å…è´¹é¡¹ç›®"],"categories":["_S9-æŠ˜è…¾","ç™½å«–"]},{"title":"é‚£äº›è®©äººæƒŠå¥‡çš„äº‘é¡¹ç›®(ç¬¬äºŒå¼¹)","url":"/2023/05/22/é‚£äº›è®©äººæƒŠå¥‡çš„äº‘é¡¹ç›®-ç¬¬äºŒå¼¹/","content":"\n<h2>1. ç½‘é¡µ</h2>\n\n<!--more-->\n\n<h3>1.1. åŸŸå</h3>\n\n<ul>\n<li>ç†è®ºä¸ŠDDNSä¹Ÿä¼šæä¾›ï¼Œä¸è¿‡ä¸æ˜¯äºŒçº§çš„</li>\n<li>https://my.freenom.com/clientarea.php  tkã€mlã€gaã€cfã€gqé¡¶çº§åŸŸå</li>\n<li>https://nic.eu.org/ æ¬§ç›Ÿä¸‹çš„ï¼Œä¸ªäººå…è´¹æ³¨å†Œï¼›httpä¼šè¢«é‡ç½®</li>\n<li>https://dns.txizd.cn/ ä¸‰çº§</li>\n<li>https://dns.yzjia.xin/ ä¸‰çº§</li>\n<li>http://cc.1xie.xyz</li>\n<li>https://github.com/fransallen/thedev.id https://github.com/js-org/js.org è¦å¼€PR</li>\n<li>https://www.freedomain.pro/ co.nr</li>\n<li>http://www.com.nu/</li>\n<li>https://domainoji.com/ https://www.punycoder.com/ emoji/idnåŸŸåè½¬æ¢ï¼›https://emojipedia.org/ emojiæœç´¢</li>\n<li>https://nic.ua/en/domains ä¹Œå…‹å…° pp.ua</li>\n<li>https://www.azote.org æ³•å›½ asso.stï¼Œfr.nfï¼Œfr.crï¼Œze.cxï¼Œinfos.st</li>\n<li>https://www.nom.za å—é</li>\n<li>https://www.sitelutions.com çº½åŸƒ rr.nu</li>\n<li>https://www.ipq.co å“¥ä¼¦æ¯”äºšå…±å’Œå›½</li>\n<li>https://fofa.so/ ç”¨æ¥æœç´¢åŸŸåçš„</li>\n</ul>\n\n<h3>1.2. è¯ä¹¦</h3>\n\n<ul>\n<li>https://freessl.cn</li>\n<li>https://freessl.org</li>\n<li>https://allinssl.com/zh/</li>\n<li>https://zerossl.com/</li>\n</ul>\n\n<h3>1.3. DNS</h3>\n\n<ul>\n<li>https://www.dns.la/</li>\n<li>https://www.bajiedns.com/</li>\n<li>https://www.dnsdun.com/</li>\n<li>https://nip.io/ è‡ªåŠ¨æ ¹æ®åŸŸåä¸­çš„IPè¿”å›DNSæŸ¥è¯¢ç»“æœã€‚xip.ioæŒ‚äº†</li>\n<li>https://dnsmadeeasy.com/</li>\n</ul>\n\n<h3>1.4. <a class=\"wp-editor-md-post-content-link\" href=\"https://github.com/ZE3kr/Cloudflare-CNAME-Setup/blob/master/README.zh.md\">Cloudflare CNAME/IP/NS æ¥å…¥</a></h3>\n\n<ul>\n<li>https://cdn.liang.ke/</li>\n<li>https://cf.tlo.xyz/</li>\n<li>https://dns.porta1.net/</li>\n<li>https://cdn.bnxb.com/</li>\n<li>https://cdn.wzfou.com/</li>\n<li>https://cdn.moeelf.com/</li>\n</ul>\n\n<h3>1.5. CDN</h3>\n\n<ul>\n<li>https://su.baidu.com/product/cdn.html</li>\n<li>http://cdn.meierlian.net/</li>\n<li>https://www.yunaq.com/jsl/ ä»…é™80ç«¯å£</li>\n<li>https://www.cdnfine.com/</li>\n<li>https://wangzhan.qianxin.com/ å‰èº«æ˜¯360ç½‘é¡µå«å£«</li>\n<li>https://www.merlincdn.com/ æ³¨å†Œé€$10ï¼Œä¸æ¸…æ¥šæœ‰æ²¡æœ‰é™æ—¶ï¼Œé¢åº¦æœ‰ä¸ªè‡ªé€‰çš„</li>\n<li>https://github.com/EtherDream/freecdn è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„CDNçš„ç¨‹åº</li>\n</ul>\n\n<h3>1.6. çŸ­ç½‘å€</h3>\n\n<ul>\n<li>https://1t.click/ ã€https://sina.lt/ æ–°æµªçš„</li>\n<li>https://u.nu/</li>\n<li>http://suo.im/</li>\n<li>https://tinyurl.com/ æ— æ³•ç›´æ¥è®¿é—®</li>\n<li>https://bitly.com/ æ— æ³•ç›´æ¥è®¿é—®</li>\n<li>https://sl.iyong.com/</li>\n<li>https://v.ht å›½å¤–çš„</li>\n</ul>\n\n<h2>2. å›½å†…æº/é•œåƒ</h2>\n\n<ul>\n<li>https://github.com/china-speed/china-speed.github.io apt/docker/pip/npmæ”¶é›†</li>\n<li>https://www.7ed.net Google Fonts/Librariesã€CDNJSã€Gravatarã€Github RAWã€Imgurã€SM.MSåä»£ï¼›æ›¾ç”¨cdn.staticdn.net cdn.con.sh</li>\n<li>https://cdn.geekzu.org/cached.html Google Fonts/Librariesã€Gravataråä»£</li>\n<li>https://sb.sb/blog/css-cdn/ loli.netåŸŸåï¼ŒGoogle Fonts/Librariesã€Gravataråä»£</li>\n<li>https://npm.taobao.org/mirrors ä¸€éƒ¨åˆ†GitHubå¼€æºé¡¹ç›®çš„release</li>\n</ul>\n\n<h3>2.1. GitHub</h3>\n\n<ul>\n<li>jsdelivrã€staticallyï¼šç›¸å½“äºåªæ”¯æŒraw</li>\n<li>https://doc.fastgit.org/zh-cn/node.html ä¸»ç«™ç½‘é¡µã€assetsã€<del>rawã€release</del></li>\n<li>https://gitclone.com/ æ”¯æŒhttp clone</li>\n<li>https://github.zhlh6.cn/ æ”¯æŒssh</li>\n<li>https://pd.zwc365.com/</li>\n<li>https://github.com/XIU2/UserScript/blob/master/GithubEnhanced-High-Speed-Download.user.js</li>\n<li>http://www.toolzl.com/tools/githubjiasu.html æ”¯æŒrelease</li>\n<li>https://github.com/zwc456baby/file-proxy https://pd.zwc365.com/</li>\n<li>https://github.wuyanzheshui.workers.dev/ https://github.rc1844.workers.dev/ ç½‘é¡µç‰ˆ</li>\n<li>https://github.com/nulastudio/mclone å®‰è£…åç”¨git mcloneå³å¯è‡ªåŠ¨ç”¨mirror</li>\n<li>https://shrill-pond-3e81.hunsh.workers.dev/ https://gh.api.99988866.xyz/ https://g.ioiox.com/ (https://github.com/hunshcn/gh-proxy)</li>\n<li>https://github.bajins.com/ ç½‘é¡µç‰ˆ</li>\n<li>https://gh.haval.gq æ²¡å¤„ç†csså’Œjsçš„ç½‘é¡µç‰ˆ</li>\n<li>https://ghproxy.com/</li>\n<li><del>github.com.cnpmjs.org</del> ç½‘é¡µç‰ˆï¼Œè§¦å‘äº†æ»¥ç”¨æ£€æµ‹</li>\n<li><del>https://d.serctl.com/</del> æ´»ç€ä½†æ˜¯æ—¥æœ¬Linodeï¼ŒIPå¹²æ‰°å¤§ï¼Œå‡ ä¹ä¸å¯è®¿é—®</li>\n<li><del>zll.us</del></li>\n<li><del>https://githubd.com</del></li>\n<li><del>widoraï¼šhttp://gg.widyun.com http://g.widyun.com/ http://g.widora.cn/ æ”¯æŒrelease</del></li>\n<li><del>https://git.best/</del></li>\n<li><del>http://gitd.cc/</del></li>\n<li><del>https://www.toolwa.com/github/</del> ç½‘ç«™æœ¬èº«æ´»ç€ï¼Œä½†çº¿è·¯ä¸€æ˜¯ç”¨ä¸äº†çš„jsproxyï¼Œçº¿è·¯äºŒæ˜¯fastgit</li>\n</ul>\n\n<h3>2.2. å‰ç«¯åº“</h3>\n\n<ul>\n<li>å›½å†…çš„ï¼ŒåŸºæœ¬éƒ½æ˜¯åŒæ­¥çš„cdnjsï¼Œå¦åˆ™è¦ä¹ˆä¸å…¨è¦ä¹ˆè€ï¼›é“¾æ¥æ ¼å¼åªæœ‰bootcdn.cnçš„ä¸cdnjså®Œå…¨ç›¸åŒï¼Œå…¶ä½™çš„éƒ½æ²¡æœ‰ajax/libs/éƒ¨åˆ†ï¼Œå­—èŠ‚çš„è¿˜å¤šä¸€éƒ¨åˆ†\n\n<ul>\n<li>https://www.bootcdn.cn/ ç”±bootcssç½‘ç«™æ”¯æŒï¼›https://cdn.bootcss.com/ æ²¡å…¬å¼€ä½†èƒ½ç”¨</li>\n<li>https://www.staticfile.org/ ä¸ƒç‰›äº‘ã€‚ç‰ˆæœ¬é»˜è®¤é€‰çš„æœ€è€çš„ï¼Œä¸çŸ¥é“æ€ä¹ˆæƒ³çš„</li>\n<li>https://cdn.baomitu.com/ 360</li>\n<li>https://cdn.bytedance.com/ å­—èŠ‚è·³åŠ¨ï¼Œç›´æ¥æŠŠæ‰€æœ‰åº“æŒ‰é¦–å­—æ¯åˆ—å‡ºæ¥</li>\n<li>https://jshub.com æœ‰ç‚¹æ—§ï¼Œæ„Ÿè§‰æ˜¯æ¨¡ä»¿bootcdnçš„</li>\n<li>https://cdnjs.net/ æœ‰å¯èƒ½2019å¹´åå°±æ²¡æ›´æ–°äº†</li>\n<li>https://lib.sinaapp.com/ æ–°æµªï¼Œå°‘ä¸”æ—§ï¼Œjqæœ€æ–°3.1</li>\n<li>http://jscdn.upai.com/ åˆæ‹äº‘ï¼Œæå°‘ä¸”ææ—§ï¼Œæ— https</li>\n<li>https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js éå…¬å¼€ï¼Œä¸æ›´æ–°</li>\n</ul></li>\n<li>å›½å¤–çš„\n\n<ul>\n<li>https://www.jsdelivr.com/ æœ‰å›½å†…CDNã€‚æ”¯æŒGitHubã€‚https://esm.run æ”¯æŒESM</li>\n<li>https://cdnjs.com/ CFè‡ªå·±çš„ï¼Œè®¿é—®æ…¢</li>\n<li>https://unpkg.com/ ç”¨çš„CFçš„CDNï¼Œå®éªŒæ€§æ”¯æŒESM</li>\n<li>https://statically.io/ ç”¨çš„Fastlyçš„CDNã€‚åªæ”¯æŒGitHubï¼ŒåŠ minåç¼€è‡ªåŠ¨å‹ç¼©ï¼Œè¿˜æœ‰å›¾ç‰‡å‹ç¼©æœåŠ¡å’Œç½‘é¡µå¿«ç…§æˆªå›¾åŠŸèƒ½</li>\n<li>https://jspm.org/ ä»…ESM</li>\n<li>https://www.skypack.dev/ snowpackå›¢é˜Ÿçš„ï¼ŒESMï¼Œé«˜åº¦ä¸ºæµè§ˆå™¨ä¼˜åŒ–</li>\n<li>https://esm.sh/ ä»…ESMï¼Œè‡ªåŠ¨è½¬æ¢çš„</li>\n<li>https://ajax.aspnetcdn.com å¾®è½¯çš„ï¼Œåªæœ‰jqç›¸å…³çš„å¾ˆå°‘å‡ ä¸ªï¼Œä½†è·¯å¾„æ ¼å¼ä¸jqå®˜ç½‘ç›¸åŒæ–¹ä¾¿æ›¿æ¢</li>\n</ul></li>\n<li>Font Awesome\n\n<ul>\n<li>å‰é¢é‚£äº›å‰ç«¯åº“ä»å¯ç”¨</li>\n<li>https://use.fontawesome.com/releases/v5.15.0/css/all.css å®˜æ–¹çš„ï¼Œä½†æ³¨æ„å®ƒå…¶å®å¯¹åº”çš„æ˜¯min.css</li>\n<li>http://apps.bdimg.com/libs/fontawesome/4.4.0/css/font-awesome.min.css éå…¬å¼€ï¼Œä¸æ›´æ–°</li>\n</ul></li>\n</ul>\n\n<h2>3. å‚¨å­˜</h2>\n\n<h3>3.1. OSS</h3>\n\n<ul>\n<li>https://www.zhihu.com/question/51309695 æœ‰å“ªäº›ä¼˜ç§€ä¸”å…è´¹çš„äº‘å­˜å‚¨æœåŠ¡ï¼Ÿ</li>\n<li>https://www.zhihu.com/question/34445630/answer/449868590 ç½‘æ˜“äº‘ï¼Œå…è´¹50Gç©ºé—´ï¼Œ20Gæµé‡</li>\n<li>https://developer.qiniu.com/af/kb/1574/free-credit-information https://www.qiniu.com/events/free ä¸ƒç‰›äº‘</li>\n<li>https://www.upyun.com/league åˆæ‹äº‘ï¼Œ10Gå‚¨å­˜15Gæµé‡</li>\n<li>https://www.ucloud.cn/site/product/ufile.html å®åè®¤è¯ç”¨æˆ·20GBå…è´¹äº‘å­˜å‚¨ç©ºé—´å’Œ20GB/æœˆå…è´¹ä¸‹è½½æµé‡</li>\n<li>http://www.cuplayer.com/price/ é…·æ’­äº‘ï¼Œè§†é¢‘å‚¨å­˜</li>\n<li>https://u-file.cn/ å¥½åƒéœ€è¦ç”³è¯·</li>\n<li>https://get.robin.io/ 5GB</li>\n</ul>\n\n<h3>3.2. ç½‘ç›˜</h3>\n\n<ul>\n<li>https://www.quqi.com/ æ›²å¥‡äº‘ç›˜ï¼Œä½†å¥½åƒæ²¡æœ‰ç”µè„‘ç«¯</li>\n<li><del>http://ddl.escience.cn/ ç§‘ç ”åœ¨çº¿</del></li>\n<li>https://own-cloud.cn/ å°éº¦äº‘ç›˜</li>\n<li>https://cowtransfer.com/ å¥¶ç‰›å¿«ä¼ ï¼Œ<del>ç°åœ¨ä¹Ÿæä¾›ç½‘ç›˜åŠŸèƒ½</del></li>\n<li>https://www.wenshushu.cn/</li>\n<li>https://www.liupan.net/</li>\n<li>https://teracloud.jp 10Gç©ºé—´ï¼Œæ”¯æŒ WebDAVï¼›æ¨èç NDMSQ</li>\n<li>https://www.furk.net/ å¾ˆæ…¢ï¼Œ1G/Dä¸”5G/W</li>\n<li>https://www.lanzou.com/ è“å¥äº‘ï¼Œå•ä¸ªæ–‡ä»¶é™100M</li>\n<li>äº¿æ–¹äº‘</li>\n<li>å¤©ç¿¼äº‘ç›˜ã€æ²ƒå®¶äº‘ç›˜ã€å’Œå½©äº‘</li>\n<li>https://www.zoho.com.cn/workdrive/</li>\n<li>è¶…æ˜Ÿäº‘ç›˜</li>\n<li>è…¾è®¯å¾®äº‘</li>\n<li>https://www.asuswebstorage.com</li>\n<li>https://pan.bitqiu.com/ æ¯”ç‰¹çƒäº‘ç›˜</li>\n<li>https://www.90pan.com/ é€Ÿåº¦æœ‰4M</li>\n<li>https://github.com/xausky/DockerRegisterCloud æŠŠdocker registryå˜æˆç½‘ç›˜</li>\n<li>https://6pan.cn/ https://2dland.cn/</li>\n<li>https://www.mediafire.com/</li>\n<li>https://github.com/apachecn/CDNDrive</li>\n</ul>\n\n<h3>3.3. Onedrive</h3>\n\n<ul>\n<li>https://products.office.com/en-us/student?tab=students</li>\n<li>https://t.odmail.cn/</li>\n<li>http://od.obagg.com</li>\n<li>http://onedrive.readmail.net/</li>\n<li>http://xkx.me/</li>\n<li>https://xlu.me/</li>\n<li>http://xix.men:3000/</li>\n<li>https://xyxywan.gitee.io/web/ æœ‰æ¡Œé¢officeä½†éœ€å®¡æ‰¹</li>\n<li>https://get.porta1.net/</li>\n<li>https://zhuanlan.zhihu.com/p/105438817 å…è´¹ç”³è¯·office E5å¼€å‘è€…è®¢é˜…ï¼Œé™„æ— é™ç»­æœŸ+ç§äººç½‘ç›˜æ•™ç¨‹</li>\n<li>Indexï¼šhttps://github.com/spencerwooo/onedrive-vercel-index https://github.com/vcheckzen/FODI https://github.com/qkqpttgf/OneManager-php</li>\n</ul>\n\n<h3>3.4. æ–‡ä»¶åˆ†äº«</h3>\n\n<ul>\n<li>https://catbox.moe/ ä¸Šä¼ é€Ÿåº¦ä¸ç¨³å®šï¼Œå¿«çš„æ—¶å€™æœ‰600Kï¼Œå•æ¬¡ä¸Šé™200MB</li>\n<li>https://www.zippyshare.com/ ä¸Šä¼ é€Ÿåº¦ä¸º0</li>\n<li><del>https://send.firefox.com/ ä¸Šä¼ é€Ÿåº¦èƒ½åˆ°2Mï¼Œä½†æœ‰æ—¶ä¼ åˆ°ä¸€åŠä¼šæ–­æ‰ï¼›VPSçš„ä¸‹è½½é€Ÿåº¦èƒ½åˆ°21MB/s</del></li>\n<li>https://www.up-4ever.org/ ä¸Šä¼ é€Ÿåº¦ä¸åˆ°1Mï¼Œéœ€è¦å…³é—­å¹¿å‘Šè¿‡æ»¤æ‰©å±•æ‰èƒ½ç”¨ï¼Œæœ‰çš„åç¼€ä¸è®©ä¼ ï¼Œä¸‹è½½ç­‰30ç§’äººæœºéªŒè¯åå€’æ˜¯èƒ½åˆ›å»ºå‡ºç›´é“¾ï¼Œå•æ¬¡ä¸Šé™200MB</li>\n<li>https://transfer.sh/</li>\n<li>https://uguu.se/ å•æ¬¡ä¸Šé™100MB</li>\n<li>https://anonfiles.com/</li>\n<li>https://letsupload.co/</li>\n<li>https://secufiles.com/</li>\n<li>https://wetransfer.com/</li>\n<li>https://wormhole.app/</li>\n</ul>\n\n<h3>3.5. ç¦»çº¿ä¸‹è½½</h3>\n\n<ul>\n<li>https://www.loadbt.com å…è´¹ç”¨æˆ·2Gï¼›æ›¾ç»æœ‰ä¸­æ–‡ä¸”crowdinä¸Šç¿»è¯‘å®Œæˆä½†ç°åœ¨ä¸æä¾›é€‰é¡¹äº†</li>\n<li>https://zhuanlan.zhihu.com/p/37785481 19æ¬¾ç¦»çº¿ä¸‹è½½æœåŠ¡å¯¹æ¯”</li>\n</ul>\n\n<h3>3.6. å›¾åºŠ</h3>\n\n<ul>\n<li>http://www.zmonster.me/2013/12/06/image-host-service.html å›½å†…å¤–å›¾åºŠåŠå…¶å¯¹æ¯”</li>\n<li>https://www.zhihu.com/question/21667151</li>\n<li>https://sm.ms/</li>\n<li>https://moxtu.cc</li>\n<li>https://postimages.org/</li>\n<li>https://imgbox.com/</li>\n<li>https://imgbb.com/</li>\n<li>https://www.freeimagehosting.net/</li>\n<li>https://imgchr.com/</li>\n<li>https://pic.xiaojianjian.net/</li>\n<li>https://imgurl.org/</li>\n<li>https://postimages.org/</li>\n<li>https://img.kuibu.net/</li>\n<li>https://www.superbed.cn/ pic.imgdb.cn</li>\n<li>https://imgs.thankjava.com/</li>\n<li>https://www.moepicx.cc</li>\n<li>https://www.hualigs.cn/</li>\n<li>https://jpg.dog/</li>\n<li>https://www.z4a.net/</li>\n<li>https://moetu.org/</li>\n<li>https://imgbb.com/</li>\n<li>https://www.picgd.com/</li>\n<li>https://tuchuang.richuyun.com/</li>\n<li>http://pan.duiai.cc/</li>\n<li>https://osrpay.com/</li>\n<li>https://233.pictures</li>\n<li>https://images.weserv.nl/ image cache & resize service ç›¸å½“äºå›¾ç‰‡çš„CDN</li>\n<li>https://imgtu.com/</li>\n<li>https://img.blueskyxn.com/</li>\n</ul>\n\n<h3>3.7. ä¸‹è½½ç™¾åº¦ç½‘ç›˜çš„</h3>\n\n<ul>\n<li>https://xdown.org/baiduyun/</li>\n<li><del>https://www.baiduwp.com/</del> æŒ‚äº†</li>\n<li>https://github.com/TkzcM/baiduwp</li>\n</ul>\n\n<h3>3.8. BT Trackers</h3>\n\n<ul>\n<li>https://github.com/ngosang/trackerslist</li>\n<li>https://github.com/XIU2/TrackersListCollection</li>\n<li>https://github.com/DeSireFire/animeTrackerList</li>\n</ul>\n\n<h2>4. (ç›—ç‰ˆ)èµ„æº</h2>\n\n<ul>\n<li>https://discx.yuntu.io/ å…‰ç›˜</li>\n</ul>\n\n<h3>4.1. è½¯ä»¶</h3>\n\n<ul>\n<li>https://masuit.com/</li>\n<li>https://www.lanzous.com/u/roustar31cn</li>\n</ul>\n\n<h3>4.2. ä¹¦</h3>\n\n<ul>\n<li>https://t.me/ebookdl äº²æµ‹ç¡®å®èƒ½æœåˆ°</li>\n<li>https://github.com/hoodiearon/w3-goto-world/tree/master/é›†æˆå®ç”¨å¤¹/ä¹¦ç±ä¸æ–‡æ¡£</li>\n<li>https://smtebooks.com/</li>\n<li>https://foxgreat.com/ æœä¸åˆ°C#çš„ä¹¦</li>\n<li>https://dokumen.pub ç½‘ç«™ä¸æ˜¯è‹±æ–‡çš„</li>\n<li>https://www.wowebook.org ä¸‹è½½é¡µé¢ä¸ºturbobit.netï¼Œå¾ˆæ…¢ï¼Œè€Œä¸”æœ‰çš„è¦å¼€ä¼šå‘˜</li>\n<li>https://www.zhihu.com/question/21202757 æœ‰å“ªäº›å¥½çš„ç”µå­ä¹¦ä¸‹è½½ç½‘ç«™æ¨èï¼Ÿ</li>\n<li>https://zhuanlan.zhihu.com/p/53064677 æœ‰äº†è¿™åå‡ ä¸ªç½‘ç«™ï¼Œæ²¡æœ‰ä½ æ‰¾ä¸åˆ°çš„ç”µå­ä¹¦ï¼</li>\n<li>https://www.jiumodiary.com/ é¸ æ‘©æœä¹¦ï¼Œä¹Ÿèƒ½æœåˆ°ç™¾åº¦ç½‘ç›˜çš„å†…å®¹</li>\n<li>https://gist.github.com/baiwfg2/af827b8b75eebf8ab29f5531a0d265ce</li>\n<li><del>https://www.allitebooks.com/</del> è¶…å¥½ä½†æ˜¯æŒ‚äº†ï¼Œä¸æ¸…æ¥šç°åœ¨çš„å‡ ä¸ªæ˜¯å¦æœ‰å…³ï¼šhttps://www.allitebooks.in/ https://allitebook.xyz/ https://allitbooks.net/</li>\n<li>https://www.jb51.net/books/ ä¸‹è½½éœ€è¦å…³æ³¨å…¬ä¼—å·è·å–æå–ç </li>\n<li>https://zh.4lib.org/</li>\n<li>http://sd.blackball.lv/books/</li>\n<li>https://sobooks.cc/ ä¸æ˜¯ä¸“é—¨è®¡ç®—æœºçš„</li>\n<li>http://www.kgbook.com/ ä¸æ˜¯ä¸“é—¨è®¡ç®—æœºçš„</li>\n<li>https://z-lib.org/ æ— æ³•ç›´æ¥è®¿é—®</li>\n<li>https://www.zhihu.com/question/19709630 æœ‰å“ªäº›ç½‘ç«™å¯ä»¥è·å–å…è´¹çš„å›½å¤–çš„åŸç‰ˆä¹¦ç±ï¼ˆç”µå­ç‰ˆï¼‰</li>\n<li>https://github.com/EbookFoundation/free-programming-books å…è´¹çš„</li>\n</ul>\n\n<h3>4.3. éŸ³ä¹</h3>\n\n<ul>\n<li>https://myfreemp3cc.com/ å¥½åƒå¯ä»¥ç”¨</li>\n<li>http://tool.liumingye.cn/music/ æ–°ç‰ˆï¼šhttps://music.liumingye.cn/ ç”µå½±ï¼šhttp://lab.liumingye.cn</li>\n<li>http://tool.yijingying.com/musictools/ ä¸€éƒ¨åˆ†ç”¨ä¸äº†</li>\n<li>https://www.boxpaper.club/musicdownloader/ æœªæµ‹è¯•</li>\n<li>http://music.moresound.tk/ æš‚æ—¶æ‰€æœ‰çš„éƒ½ç”¨ä¸äº†ï¼Œä½†æ˜¯ç½‘ç«™è¿˜åœ¨ï¼Œä¸çŸ¥æ˜¯å¦æœ‰ç‰¹æ®Šçš„æ–¹æ³•</li>\n<li>https://www.52pojie.cn/thread-929831-1-1.html é›†åˆ</li>\n<li>https://listen1.github.io/listen1/ åªæ˜¯æ•´åˆå¯ä»¥ç›´æ¥å¬çš„</li>\n<li>https://github.com/lyswhut/lx-music-desktop</li>\n<li>http://www.guqiankun.com/tools/music/</li>\n<li>æŒ‚äº†çš„ï¼šhttps://music.2333.me/ https://github.com/maicong/music</li>\n</ul>\n\n<h3>4.4. GeoIP2æ•°æ®åº“</h3>\n\n<ul>\n<li>https://geolite.clash.dev/</li>\n<li>https://github.com/Dreamacro/maxmind-geoip/releases</li>\n<li>https://static.clash.to/GeoIP2/GeoIP2-Country.tar.gz ï¼ˆRixCloud å…¬å…±åº“ï¼‰</li>\n<li>https://quantumult.crossutility.com/download/geoip/database/GeoLite2-Country.mmdb</li>\n</ul>\n\n<h3>4.5. å­—ä½“</h3>\n\n<ul>\n<li>https://zenozeng.github.io/Free-Chinese-Fonts/</li>\n<li>https://www.webfont.com/onlinefont/index</li>\n<li>https://www.marksimonson.com/fonts</li>\n</ul>\n\n<h2>5. å®‰å…¨</h2>\n\n<ul>\n<li>https://github.com/euphrat1ca/security_w1k1</li>\n<li>https://github.com/No-Github/1earn</li>\n</ul>\n\n<h3>5.1. æ¶æ„è½¯ä»¶åˆ†ææ²™ç®±</h3>\n\n<ul>\n<li>https://habo.qq.com/ è…¾è®¯å“ˆå‹ƒã€‚ç°åœ¨åªèƒ½åˆ†æå¾ˆå°‘çš„ä¸€éƒ¨åˆ†ï¼Œè¯¦ç»†æŠ¥å‘Šéœ€è¦é«˜çº§ä¼šå‘˜ï¼Œè€Œç”³è¯·é€šé“å·²ç»å…³é—­äº†</li>\n<li>https://www.maldun.com/ é­”ç›¾å®‰å…¨ã€‚æœ‰æ•ˆï¼Œä½†æ˜¯è²Œä¼¼é€Ÿåº¦å¾ˆæ…¢ï¼Œæˆ‘æ˜¯ç›´æ¥ç¬¬äºŒå¤©å†å»çœ‹çš„</li>\n<li>https://s.threatbook.cn/ å¾®æ­¥ã€‚è²Œä¼¼å‡ºæ¥ä¸ä¹…</li>\n<li>https://www.hybrid-analysis.com å›½å¤–çš„</li>\n<li>https://app.sndbox.com</li>\n<li>https://scan.anxinsec.com/</li>\n</ul>\n\n<h3>5.2. æœåŠ¡å™¨å®‰å…¨è½¯ä»¶</h3>\n\n<ul>\n<li>https://www.yunsuo.com.cn/download.html</li>\n<li>https://scanner.baidu.com webshellæ£€æµ‹å¼•æ“</li>\n</ul>\n\n<h2>6. Gitå¹³å°</h2>\n\n<ul>\n<li>https://code.aliyun.com</li>\n<li>https://xiaolvyun.baidu.com</li>\n<li>https://opendev.org Ubuntu, Gitea</li>\n<li>https://salsa.debian.org/ GitLab</li>\n</ul>\n\n<h2>7. Paste Bin</h2>\n\n<ul>\n<li>https://pastebin.com/</li>\n<li>https://ghostbin.com/</li>\n<li>https://rentry.co/</li>\n<li>https://hastebin.com/</li>\n<li>https://pastebin.ubuntu.com/</li>\n<li>https://www.cacher.io/ åŠŸèƒ½å¾ˆå¤š</li>\n<li>https://write.as/ å…¶å®æ˜¯åšå®¢</li>\n<li>https://del.dog/</li>\n<li>https://psty.io</li>\n<li>https://telegra.ph RSTäº†</li>\n</ul>\n\n<h2>8. æœç´¢å¼•æ“</h2>\n\n<ul>\n<li>https://goobe.io/ ç¨‹åºå‘˜æœç´¢</li>\n<li>https://fofa.so/ ç±»ä¼¼äºé’Ÿé¦—ä¹‹çœ¼çš„æœç´¢å¼•æ“</li>\n<li>http://www.sousuoyinqingtijiao.com æœç´¢å¼•æ“æäº¤å…¥å£ï¼ˆä½†æ²¡æœ‰Googleï¼‰</li>\n<li>https://2tool.top/ èšåˆæœç´¢å¼•æ“ç½‘é¡µå¿«ç…§</li>\n<li>https://www.cn-ki.net/ å­¦æœ¯æœç´¢ï¼›http://cnki.cn-ki.net/ çŸ¥ç½‘</li>\n</ul>\n\n<h2>9. Dockerå¹³å°ï¼ˆéå…è´¹ï¼‰</h2>\n\n<ul>\n<li>https://www.tenxcloud.com/ æ—¶é€Ÿäº‘</li>\n<li>https://www.daocloud.io/ æœ‰ä¸€ç‚¹ç‚¹å…è´¹æµ‹è¯•ç¯å¢ƒ http://docs.daocloud.io/app-deploy-mgmt/cloud-limited-resources</li>\n<li>https://www.mopaas.com/ é­”æ³Šäº‘</li>\n<li>https://www.alauda.cn/ çµé›€äº‘</li>\n<li>https://canister.io/solo</li>\n<li>https://hostpresto.com/docker-hosting å…è´¹å…­ä¸ªæœˆ</li>\n</ul>\n\n<h2>10. CI</h2>\n\n<ul>\n<li>https://www.shippable.com/pricing.html</li>\n<li>https://codefresh.io/</li>\n</ul>\n\n<h2>11. å›¾æ ‡</h2>\n\n<ul>\n<li>https://octicons.github.com/</li>\n</ul>\n\n<h2>12. äº‘åŠå…¬ç›¸å…³</h2>\n\n<ul>\n<li>https://uzer.me/ æœ‰officeï¼Œpsï¼Œaiï¼Œcadï¼Œmatlabï¼Œvisioï¼Œffã€‚è®ºå›æŒ‚äº†</li>\n<li>http://www.gleasy.com/ æ ¼å­äº‘ï¼Œåˆ°å“ªéƒ½èƒ½åŠå…¬</li>\n<li>http://www.everydo.com/ æ–‡æ¡£ç®¡ç†ç³»ç»Ÿ</li>\n</ul>\n\n<h2>13. PDF</h2>\n\n<ul>\n<li>https://www.hipdf.com/</li>\n<li>https://smallpdf.com/cn</li>\n</ul>\n\n<h2>14. çˆ¬è™«</h2>\n\n<ul>\n<li>https://www.bazhuayu.com/ å…«çˆªé±¼ï¼›å›½å¤–ç‰ˆ https://www.octoparse.com/</li>\n<li>http://www.houyicaiji.com/</li>\n<li>http://www.gooseeker.com/</li>\n<li>ä»¥ä¸‹æ˜¯å›½å¤–çš„</li>\n<li>https://www.zyte.com</li>\n<li>https://apify.com/</li>\n<li>https://www.diffbot.com/</li>\n<li>https://www.import.io/</li>\n</ul>\n\n<h2>15. å¾®ä¿¡æ¶ˆæ¯æ¨é€</h2>\n\n<ul>\n<li>https://sct.ftqq.com/ Serveré…±</li>\n<li>http://www.xtuis.cn/ è™¾æ¨å•¥</li>\n<li>https://pushplus.hxtrip.com/ push+</li>\n<li>https://qmsg.zendee.cn/ Qmsgé…±</li>\n<li>https://wxpusher.zjiecode.com å¼€æº</li>\n<li>https://letserver.run/ Serveré¥­ï¼Œå¼€æº</li>\n<li>https://github.com/songquanpeng/message-pusher å¼€æº</li>\n</ul>\n\n<h2>16. CI</h2>\n\n<ul>\n<li>Circle CI è€ç‰Œ</li>\n<li>AppVeyor ä»¥Winå‡ºå</li>\n<li>https://cloud.drone.io æœ‰äººè¯´æ–‡æ¡£çƒ‚</li>\n<li>https://semaphoreci.com/</li>\n<li>https://buildkite.com/</li>\n</ul>\n\n<h2>17. å…¶å®ƒä¸­çš„å…¶å®ƒ</h2>\n\n<ul>\n<li>https://img.xjh.me/ éšæœºå›¾ç‰‡ https://api.lolicon.app/#/setu éšæœºè‰²å›¾</li>\n<li>http://shaofan.org/jetbrains-active/ Jetbrainsåœ¨çº¿æ¿€æ´»å·¥å…·</li>\n<li>https://apiary.io/ API Design Stackï¼Œä¸Oracleåˆä½œ</li>\n<li>https://www.sap.cn/products/cloud-platform/pricing.html ERPç³»ç»Ÿï¼›æ³¨å†ŒBetaç‰ˆæ˜¯å…è´¹çš„ï¼Œä½†è¦å¡«å§“åå…¬å¸ç”µè¯</li>\n<li>https://developer.okta.com/ adds authentication, authorization, and user management to your web or mobile app within minutes.</li>\n<li>https://www.chanzhi.org/dynamic.html https://www.chanzhi.org/book/chanzhieps/5.html https://www.zentao.net/ è‰çŸ¥å’Œç¦…é“ï¼Œå‰è€…æ˜¯CMSï¼Œåè€…æ˜¯é¡¹ç›®ç®¡ç†ç³»ç»Ÿã€‚ä¸è¿‡æ˜¯PHP</li>\n<li>https://www.kancloud.cn/ https://www.yuque.com/ https://www.baklib.com/ MDå¹³å°</li>\n<li>http://www.ypppt.com/ ppt</li>\n<li>https://enterprise.glyptodon.com/ ç½‘é¡µç‰ˆWindowsè¿œç¨‹æ¡Œé¢</li>\n<li>https://squoosh.app/ å›¾ç‰‡å‹ç¼©ï¼Œè°·æ­Œå‡ºçš„å·¥å…·</li>\n<li>http://www.freeyun.net/ è½¯ä»¶æˆæƒç®¡ç†ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆ</li>\n<li>https://prerender.io/ é¢„æ¸²æŸ“åŠ¨æ€ç½‘é¡µ</li>\n<li>https://termible.io è¿˜åœ¨å†…æµ‹çš„åœ¨çº¿ç»ˆç«¯ï¼ŒåŸºäºDocker</li>\n<li>https://heyterm.com/zh-cn/ WebSSH</li>\n<li>https://www.freepik.com/ å…è´¹psdå›¾åƒèµ„æº</li>\n<li>https://pyup.io/ ç›‘æµ‹Pythonä¾èµ–</li>\n<li>https://waifulabs.com/ AIç”ŸæˆäºŒæ¬¡å…ƒå¤´åƒ</li>\n<li>https://appcenter.ms/ å­˜æ”¾release</li>\n<li>https://bell-sw.com/ OpenJDK</li>\n<li>https://dev.to/doobled/listing-the-best-services-for-free-domain-email-addresses-in-2020-3hkb å‡ ä¸ªé‚®ç®±æµ‹è¯„</li>\n<li>https://newrelic.com é¥æµ‹ï¼Ÿ</li>\n<li>https://mailchimp.com/ ç¾¤å‘é‚®ä»¶</li>\n<li>æ€§èƒ½æµ‹è¯•ï¼š<code>wget -qO- 86.re/bench.sh | bash</code></li>\n<li>https://github.com/fangzesheng/free-api å…è´¹çš„æ¥å£</li>\n<li>https://github.com/zhaojh329/rtty web tty</li>\n<li>https://www.plasticscm.com/ ä¸åŒäºgitçš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¯ä»¥ç©ç©</li>\n<li>https://trinket.io/ Pyçš„Turtlesè¿è¡Œç¯å¢ƒï¼Œè°·æ­Œçš„Blocksï¼Œé€‚åˆå°å­©å­å­¦</li>\n<li>æ‰‹æœºåŸç”Ÿåº”ç”¨æ¨é€ï¼šhttps://www.getui.com/push https://www.jiguang.cn/push</li>\n<li>æœåŠ¡å™¨ç›‘æ§ï¼šhttps://www.oneapm.com https://www.tingyun.com/ https://www.jiankongbao.com/</li>\n<li>https://www.authing.cn/pricing ç»Ÿä¸€èº«ä»½éªŒè¯</li>\n</ul>\n\n<h2>18. åˆ«äººçš„æ”¶é›†</h2>\n\n<ul>\n<li>https://www.freehao123.com/</li>\n<li>https://51.ruyo.net/</li>\n<li>https://github.com/Sicmatr1x/Free-Resource</li>\n<li>https://www.producthunt.com/</li>\n</ul>\n\n<h2>19. æŒ‚äº†çš„</h2>\n\n<ul>\n<li>Ohosti â€œéª—äººçš„ï¼Œå»å¹´ç”³è¯·çš„ç°åœ¨è¿˜åœ¨Pendingä¸­â€</li>\n<li>https://vitu.ai</li>\n</ul>\n","tags":["äº‘","å…è´¹é¡¹ç›®"],"categories":["_S9-æŠ˜è…¾","ç™½å«–"]},{"title":"é‚£äº›è®©äººæƒŠå¥‡çš„äº‘é¡¹ç›®(ç¬¬ä¸‰å¼¹_ç½‘ç»œå’Œddns)","url":"/2023/05/22/é‚£äº›è®©äººæƒŠå¥‡çš„äº‘é¡¹ç›®-ç¬¬ä¸‰å¼¹-ç½‘ç»œå’Œddns/","content":"\n<hr />\n\nDDNSéœ€è¦å…¬ç½‘IPï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯éš”ä¸€æ®µæ—¶é—´è®¿é—®ä¸€ä¸‹æ¥å£ï¼Œè¿æ¥å’Œä¼ è¾“æ•°æ®æ˜¯ä¸ä¼šæ¶ˆè€—æœåŠ¡å•†çš„æµé‡çš„ã€‚\n\n<!--more-->\n\nå†…ç½‘ç©¿é€éœ€è¦æ¶ˆè€—æœåŠ¡å™¨çš„æµé‡ã€‚\nè¿˜æœ‰ç‚¹å¯¹ç‚¹/å†…ç½‘æ‰“æ´çš„æŠ€æœ¯ï¼Œä½†æ˜¯éœ€è¦ä¸¤è¾¹éƒ½å®‰è£…è½¯ä»¶ï¼šxtcpï¼Œn2nï¼Œmoonï¼Œzerotier one\n\n<h2>1. frp</h2>\n\n<ul>\n<li>https://www.natfrp.org/ Sakura Frp</li>\n<li>https://bob.kim/frp åšä¸»è‡ªå·±æ­çš„</li>\n<li>https://www.lu8.win/ ngrokã€frpã€n2nã€npsã€å…è´¹åŸŸå</li>\n<li>https://napyy.com/</li>\n<li>https://qydev.com é™é€Ÿ1M</li>\n</ul>\n\n<h2>2. ngrok</h2>\n\n1.xå¼€æºä½†ç°åœ¨å·²ç»åœæ­¢ç»´æŠ¤äº†ï¼›2.xä¸å¼€æºã€‚\n\n<ul>\n<li>https://ngrok.com/ å®˜ç½‘ï¼ŒæœåŠ¡å™¨åœ¨å›½å¤–</li>\n<li>https://natapp.cn/ å…è´¹çš„éœ€å®åè®¤è¯</li>\n<li>https://www.ngrok.cc/ Sunny Ngrokï¼Œä¸è¿‡å®˜ç½‘è¯´ä¹Ÿæ”¯æŒfrp</li>\n<li>https://www.tunnelnat.com/ è™½ç„¶ä¹Ÿå†™äº†frpï¼Œä½†å¥½åƒåªæœ‰ngrokæœ‰å…è´¹é€šé“</li>\n</ul>\n\n<h2>3. å…¶å®ƒå¼€æºçš„</h2>\n\n<ul>\n<li>https://github.com/ffay/lanproxy Java</li>\n<li>http://wdom.net/ å…è´¹20åˆ†é’Ÿ</li>\n<li>https://github.com/inlets/inlets</li>\n</ul>\n\n<h2>4. å…¶å®ƒä¸å¼€æºçš„</h2>\n\n<ul>\n<li>https://hsk.oray.com/ èŠ±ç”Ÿå£³ï¼Œæ³¨å†Œéœ€è¦æ‰‹æœºå·ï¼›DDNSå’Œå†…ç½‘ç©¿é€éƒ½æ”¯æŒï¼Ÿåè€…å…è´¹é€Ÿåº¦1Mã€‚</li>\n<li>https://www.kingdriod.cn/ ç¥å“ï¼Œå…è´¹é€Ÿåº¦1Mï¼›éœ€è¦å®åè®¤è¯ä¸Šä¼ èº«ä»½è¯</li>\n<li>http://www.luyouxia.com/ è·¯ç”±ä¾ </li>\n<li>https://www.notr.tech/ å…è´¹3å°æ—¶</li>\n<li>https://www.nsloop.com/ é‡å­äº’è”ï¼Œå†™çš„ä¸é™æµé‡</li>\n<li>http://www.mofasuidao.cn/ é­”æ³•éš§é“ï¼Œå†™çš„æ˜¯â€œå…è´¹åˆ›å»ºè´¦æˆ·â€</li>\n<li>http://www.youtusoft.com/ ç½‘ç»œé€š</li>\n<li>https://xiaomy.net/ ç½‘äº‘ç©¿</li>\n<li>https://localhost.run/ æ— éœ€æ³¨å†Œï¼Ÿ</li>\n</ul>\n\n<h2>5. å…è´¹DDNS</h2>\n\n<ul>\n<li>https://dyndnss.net/eng/</li>\n<li>https://freedns.afraid.org/</li>\n<li>https://www.duckdns.org/</li>\n<li>https://www.noip.com/</li>\n<li>https://www.spdyn.de/ åªæœ‰å¾·è¯­ï¼Ÿ</li>\n<li>https://dynv6.com/</li>\n</ul>\n","tags":["äº‘","å…è´¹é¡¹ç›®"],"categories":["_S9-æŠ˜è…¾","ç™½å«–"]},{"title":"é‚£äº›è®©äººæƒŠå¥‡çš„äº‘é¡¹ç›®(ç¬¬å››å¼¹_äº‘)","url":"/2023/05/22/é‚£äº›è®©äººæƒŠå¥‡çš„äº‘é¡¹ç›®-ç¬¬å››å¼¹-äº‘/","content":"\n<h1>äº‘</h1>\n\n<!--more-->\n\nIaaSæŒ‡æä¾›ç³»ç»Ÿï¼ˆå¯ä»¥è‡ªå·±é€‰ï¼‰æˆ–è€…å‚¨å­˜ç©ºé—´ä¹‹ç±»çš„ç¡¬ä»¶ï¼Œè½¯ä»¶è¦è‡ªå·±æ‰‹åŠ¨è£…ï¼›PaaSæä¾›è¯­è¨€ç¯å¢ƒå’Œæ¡†æ¶ï¼ˆå¯ä»¥è‡ªå·±é€‰ï¼‰ï¼›SaaSåªèƒ½ä½¿ç”¨å¼€å‘å¥½çš„è½¯ä»¶ï¼ˆå–è½¯ä»¶æœ¬èº«ï¼‰ï¼›BaaSä¸€èˆ¬ç±»ä¼¼äºéå…³ç³»æ•°æ®åº“ï¼Œä½†å„å®¶ä¸é€šç”¨ï¼Œæœ‰æ—¶è¿˜æœ‰ä¸€äº›å…¶å®ƒä¸œè¥¿ã€‚\n\n<h2>1. å…¶ä»–äººçš„é›†åˆ</h2>\n\n<ul>\n<li>https://education.github.com/pack GitHubå­¦ç”ŸåŒ…ï¼Œéœ€ç”¨æ•™è‚²é‚®ç®±éªŒè¯ã€‚å„ç§ç¦åˆ©ï¼Œå¯ä»DigitalOceanä¸Šæ‰‹</li>\n<li>https://github.com/ripienaar/free-for-dev</li>\n<li>https://github.com/AchoArnold/discount-for-student-dev</li>\n<li>https://github.com/ivmm/Student-resources</li>\n<li>https://www.freeforstudents.org/</li>\n<li>https://github.com/255kb/stack-on-a-budget</li>\n<li>https://github.com/Ibexoft/awesome-startup-tools-list</li>\n<li>https://www.cokemine.com/</li>\n</ul>\n\n<h2>2. Paas</h2>\n\n<ul>\n<li>https://www.heroku.com/ java go py dockerã€‚å›½å†…è®¿é—®ä¸ä½³</li>\n<li>https://fly.io/docs/pricing/ py node go é™æ€ï¼Œæ„Ÿè§‰å¾ˆå®Œç¾</li>\n<li>https://www.deta.sh/ py3.7 node12 å†…å­˜128MBï¼Œä¾èµ–250MBï¼Œå¤§æ¦‚ç‡ä¸æ”¯æŒDBMSï¼Œæ”¯æŒå®šæ—¶ä»»åŠ¡ã€‚æœ‰ç±»dictæ•°æ®åº“å’Œ10GBå­˜å‚¨ä¸”å¯ç‹¬ç«‹ä½¿ç”¨</li>\n<li>https://www.pythonanywhere.com/ é™åˆ¶éå¸¸å¤šï¼Œå‡ ä¹å°±å’Œè™šæ‹Ÿä¸»æœºå·®ä¸å¤šäº†ï¼Œå…è´¹è´¦æˆ·ä¸å…è®¸è®¿é—®ç™½åå•ä¹‹å¤–çš„ç½‘ç«™ã€‚ä½†å¥½æ­¹èƒ½æä¾›ä¸€ä¸ªè‡ªåŠ¨httpsçš„web app</li>\n<li>https://www.divio.com/ docker</li>\n<li>https://www.clever-cloud.com/en/pricing çœ‹ä»‹ç»é€20â‚¬ï¼Œä½†åº”è¯¥åªä¼šé€ä¸€æ¬¡ï¼Œå¯ä»¥ç”¨4ä¸ªæœˆ</li>\n<li>https://cloud.google.com/appengine/docs/ æ ‡å‡†ç¯å¢ƒæœ‰ä¸€ç‚¹å‚¨å­˜ç©ºé—´å’Œæµé‡ï¼Œè¦æ±‚å¯ç”¨APIå³è¦æ±‚ç»‘å¡ï¼ŒæŸ”æ€§ç¯å¢ƒ(.NET)å¿…é¡»å¯ç”¨ç»“ç®—ã€‚å›½å†…æ— æ³•è®¿é—®</li>\n<li>https://clustered.com/pricing ç°åœ¨åªå…è´¹14å¤©ï¼Œæ°¸ä¹…å…è´¹çš„planè¿˜æ²¡å‡ºï¼Œä½†è‡³å°‘ä»2020å¹´11æœˆå°±æ˜¯è¿™æ ·äº†</li>\n<li>https://www.koyeb.com docker node py goï¼Œé¦–é¡µè¢«RST</li>\n<li>https://railway.app/ node py go javaï¼Œç”¨äº†ç±»ä¼¼äºherokuçš„buildpacksï¼ŒRST</li>\n</ul>\n\n<h3>2.1. .net</h3>\n\n<ul>\n<li>https://appharbor.com çœ‹èµ·æ¥æ¯”è¾ƒå¥½ï¼Œæ”¯æŒ3.1ã€‚å¥½åƒä¸æ”¯æŒ5ï¼šhttps://support.appharbor.com/discussions/problems/117063-net-5-support</li>\n<li>https://freeasphosting.net/ ç½‘ç«™è¯´äº†ä¸€å¤§å †å­¦ä¹ çš„ä¸œè¥¿ï¼Œä¸è¿‡è¯´æ”¯æŒ.NET5</li>\n<li>https://www.gearhost.com/ çœ‹èµ·æ¥æ¯”è¾ƒå¥½ï¼Œæ”¯æŒ3.1ã€‚è¿˜æ”¯æŒPHP7å’Œnodeã€‚ç°åœ¨å¼€äº†CFå±è”½å¤§é™†IP</li>\n<li>https://order.aspify.com/en/freehosting/ 100MBç¡¬ç›˜100MBæ•°æ®åº“ï¼Œæ”¯æŒ5ã€‚ä½†ä¹‹å‰ä¸è®©æ³¨å†Œè¯´æœåŠ¡åœ¨ä¸­å›½ä¸å¯ç”¨</li>\n<li>https://somee.com/ è¢«å¢™äº†ï¼Œä¸”IPè¢«å°äº†</li>\n<li>https://www.myasp.net/hosting_plans å…è´¹ä¸¤ä¸ªæœˆä½†å¥½åƒèƒ½å…è´¹ç»­æœŸ</li>\n</ul>\n\n<h2>3. äº‘ç«¯ç©ºé—´/IDE</h2>\n\n<ul>\n<li>https://cloudstudio.net VSCï¼ŒæœåŠ¡å™¨åœ¨ä¸Šæµ·ï¼Œæ¯æ—¥é™æ—¶å››å°æ—¶</li>\n<li>https://www.gitpod.io/ VSCï¼Œå…è´¹ç‰ˆæ¯æœˆ50å°æ—¶ï¼Œæ”¯æŒåœ¨æœ¬åœ°æ‰“å¼€ï¼›ä¸“ä¸šç‰ˆåœ¨å­¦ç”ŸåŒ…é‡Œå…è´¹6ä¸ªæœˆä½†è¦æ±‚Primary Emailæ˜¯å­¦æ ¡çš„è´¦æˆ·</li>\n<li>GitHub Workspacesï¼šå¯èƒ½æ”¶è´¹</li>\n<li>https://workspaces.openshift.com/ é­”æ”¹VSCï¼Œä¸æ”¯æŒæ‰©å±•ï¼Œå›½å†…è®¿é—®æ…¢ï¼›ä¹‹å‰æ˜¯codenvyå’Œche.openshift.io</li>\n<li>https://repl.it/ æœ‰å…è´¹ç‰ˆï¼›ä¸“ä¸šç‰ˆåœ¨å­¦ç”ŸåŒ…é‡Œå…è´¹3ä¸ªæœˆ</li>\n<li>https://paiza.cloud/en/ æ—¥äº§ï¼Œå¥½åƒè¿˜æ”¯æŒSSHè¿ä¸Šå»</li>\n<li>https://codetasty.com/</li>\n<li>https://www.suishencode.com/ å›½å†…çš„ï¼Œcode-serverï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆå…¨ç½‘éƒ½æœä¸åˆ°ä¿¡æ¯</li>\n<li>https://next.tech/ å­¦ç”ŸåŒ…ä¸­æœ‰</li>\n<li>https://ide.goorm.io/pricing å¯ä»¥å»ºç«‹äº”ä¸ªå·¥ä½œåŒºï¼Œå¯ä»¥ç”¨SSHè¿ä¸Šå»ã€‚å¥½åƒæ˜¯è‡ªåˆ¶çš„ï¼Œç•Œé¢å®Œæˆåº¦è›®é«˜çš„ï¼Œæœ‰ç»ˆç«¯ï¼Œä½†æ²¡æœ‰intellisenseï¼Œåªèƒ½ç©ç©</li>\n<li>https://www.tutorialspoint.com/codingground.htm http://codepad.org/ https://ideone.com/ https://coliru.stacked-crooked.com/ https://wandbox.org/ https://tio.run https://code.xueersi.com/ide/code/1 https://jsrun.net/ æ— éœ€ç™»å½•ï¼Œèƒ½æ‰§è¡Œè®¸å¤šè¯­è¨€ï¼Œä½†åªèƒ½è¯´èƒ½è¿è¡Œä»£ç ï¼Œç§°ä¸ä¸ŠIDE</li>\n</ul>\n\n<h3>3.1. å‰ç«¯åœ¨çº¿IDE</h3>\n\n<ul>\n<li>https://jsbin.com ç®€æ´ï¼Œæ— éœ€æ³¨å†Œ</li>\n<li>https://codepen.io/ å¯ä¸æ³¨å†Œ</li>\n<li>https://stackblitz.com/</li>\n<li>https://codesandbox.io/</li>\n<li>https://bit.dev/</li>\n<li>https://runkit.com ç±»ä¼¼äºjupyter notebookï¼Œä¹Ÿèƒ½åˆ›å»ºapiï¼Œä»¥åŠæŠŠjsçš„codeblockå˜å¾—å¯è¿è¡Œ</li>\n<li>https://www.codeply.com/</li>\n<li>https://plnkr.co/ æ¯”è¾ƒç®€é™‹</li>\n<li>https://jsfiddle.net/ æˆ‘è¿™é‡Œæ‰“ä¸å¼€ï¼Œä¸”æ„Ÿè§‰æ˜¯ä»–ä»¬å°çš„æˆ‘ä»¬</li>\n</ul>\n\n<h3>3.2. Jupyter Notebook/Lab</h3>\n\n<ul>\n<li>https://colab.research.google.com/ æœ‰å…è´¹gpué¢åº¦ï¼Œå›½å†…æ— æ³•ç›´æ¥æ‰“å¼€ã€‚å…è´¹ç‰ˆæ— ç»ˆç«¯</li>\n<li>https://tianchi.aliyun.com/notebook-ai/home å…è´¹gpu 60å°æ—¶/å¹´ã€‚ç™»å½•è¦ç”¨é˜¿é‡Œäº‘è´¦å·ï¼Œä¸æƒ³è®°ä½å¯†ç ï¼Œæ¯æ¬¡éƒ½è¦ç”¨æ‰‹æœºæ‰«å¾ˆéº»çƒ¦ï¼Œæœ‰æ—¶è¿˜è¦çŸ­ä¿¡äºŒæ¬¡éªŒè¯</li>\n<li>https://aistudio.baidu.com/aistudio/projectoverview/private å†…å­˜8Gï¼Œç£ç›˜100Gï¼Œworkç›®å½•æ°¸ä¹…ä¿å­˜ï¼Œå®åè®¤è¯æœ‰ä¸€äº›GPUèµ„æºï¼›é•¿æ—¶é—´ä¸ç”¨æ— æ³•è‡ªåŠ¨é‡è¿</li>\n<li>https://www.kaggle.com éªŒè¯ç”µè¯åæœ‰å…è´¹gpuå’Œå¤–ç½‘ï¼Œèƒ½è¿ç»­è¿è¡Œ9å°æ—¶ï¼Œæœ‰æœºå™¨å­¦ä¹ çš„æ•™ç¨‹</li>\n<li>https://www.heywhale.com/home/project å›½äº§</li>\n<li>https://datalore.jetbrains.com/</li>\n<li>https://cocalc.com/doc/jupyter-notebook.html</li>\n<li>https://jupyter.org/try å®˜æ–¹ï¼Œèµ„æºéå¸¸å°‘ï¼Œæœ‰C++ï¼›mybinderå¯ä»¥ä»GitHubä»“åº“å»ºç«‹ä¸´æ—¶NB</li>\n<li>https://kogence.com/app/landing/pricing</li>\n<li>https://deepnote.com å…è´¹é¢åº¦750å°æ—¶ï¼Œ5Gç©ºé—´</li>\n<li>https://www.dclab.run/project_list.html å›½äº§</li>\n<li>https://software.intel.com/content/www/cn/zh/develop/tools/devcloud.html</li>\n</ul>\n\n<h2>4. æ•°æ®åº“</h2>\n\n<ul>\n<li>https://db4free.net/ mysql 200M</li>\n<li>https://www.freemysqlhosting.net/ mysql 5.5ï¼Œ5MBï¼Œæ¯å‘¨ä¼šæ”¶åˆ°è¦æ‰‹åŠ¨æ“ä½œæ¥å»¶æœŸçš„é‚®ä»¶</li>\n<li>https://mlab.com/ https://www.mongodb.com/pricing 500MBï¼›åè€…å­¦ç”ŸåŒ…ä¸­æœ‰</li>\n<li>https://app.redislabs.com/ redisï¼Œ30M</li>\n<li>https://www.elephantsql.com/plans.html pg</li>\n<li>https://remotemysql.com/ mysql 100M</li>\n<li>https://www.elephantsql.com/ pg 20M</li>\n<li>https://www.freesqldatabase.com/ mysql 5MB</li>\n</ul>\n\n<h2>5. BaaS</h2>\n\n<ul>\n<li>https://bmob.cn/</li>\n<li>https://leancloud.cn/pricing/</li>\n<li>https://firebase.google.cn/pricing ç”¨å¤„ï¼šhttps://zhuanlan.zhihu.com/p/95334890</li>\n<li>https://www.zhihu.com/question/34124789/answer/72495188</li>\n<li>https://maxleap.cn/s/web/zh_cn/devcenter-pricing.html</li>\n<li>https://www.8base.com GraphQL</li>\n<li>JSON\n\n<ul>\n<li>https://jsonstores.com/ 100ä¸ªJSONå¯¹è±¡ï¼Œæ¯ä¸ªæœ€å¤§2MB</li>\n<li>https://jsonbin.io/</li>\n<li>https://extendsclass.com/json-storage.html</li>\n<li>https://json.psty.io/</li>\n<li>https://www.jsonstorage.net/ æœ‰æ— éœ€æ³¨å†Œçš„</li>\n<li>https://db.neelr.dev/ æ— éœ€æ³¨å†Œï¼Œæ‰“å¼€ç½‘é¡µæ—¶è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªTOKENã€‚ä½†å›½å†…æ‰“ä¸å¼€</li>\n</ul></li>\n</ul>\n\n<h2>6. Managed K8S</h2>\n\n<ul>\n<li>https://www.openshift.com/products/online/ æ¯60å¤©æ¸…é™¤</li>\n<li>https://okteto.com/pricing å…è´¹ç‰ˆ2CPUï¼Œ4Gå†…å­˜ï¼Œ10Gå‚¨å­˜ã€‚åˆšæ³¨å†Œé€ä¸€ä¸ªæœˆproï¼Œä¸ä»˜æ¬¾è‡ªåŠ¨é™åˆ°å…è´¹ç‰ˆã€‚å…è´¹ç‰ˆ24å°æ—¶ä¸æ´»åŠ¨å°±sleepã€‚åŸæ„æ˜¯ä¸ºå¼€å‘è€…æ—¥å¸¸å¼€å‘ä½¿ç”¨çš„</li>\n<li>https://usekrucible.com ä¸€ä¸ªæœˆèƒ½ç”¨25å°æ—¶ï¼Œè‡ªå·±åˆ†é…</li>\n<li>https://kubernauts.sh/ å®£ä¼ å…è´¹ç‰ˆæœ‰1CPUï¼Œ1Gå†…å­˜ï¼›ç”³è¯·æ³¨å†Œåæ²¡æ”¶åˆ°ä»»ä½•é‚®ä»¶ï¼Œæ— æ³•ç™»å½•</li>\n<li>https://labs.play-with-k8s.com/ å¥½åƒæ¯å¤©åªæœ‰å››å°æ—¶ï¼›https://labs.play-with-docker.com/</li>\n<li>zarvis.ai staroid.com ç½‘é¡µéƒ½ç”¨çš„æ˜¯Googleçš„æœåŠ¡å™¨ï¼Œæ— æ³•ç›´æ¥è®¿é—®</li>\n<li>https://kubesail.com/ åœæ­¢å…è´¹ç‰ˆäº†ï¼Œä¸è¿‡è¿˜æ˜¯èƒ½ä½œä¸ºç®¡ç†å¹³å°</li>\n<li>https://loft.sh/ å¥½åƒåªæ˜¯å®¢æˆ·ç«¯æˆ–è€…ç®¡ç†å¹³å°</li>\n<li>æŒ‚äº†çš„ï¼šk8spin.cloud tryk8s.com</li>\n</ul>\n\n<h2>7. Serverless/Node Paasï¼ˆæ— çŠ¶æ€çš„apiï¼‰</h2>\n\n<ul>\n<li>https://glitch.com/</li>\n<li>https://workers.cloudflare.com/ ï¼›https://github.com/booster-labs/rocket-booster</li>\n<li>https://vercel.com/ node go py</li>\n<li>https://deno.com/deploy</li>\n<li>https://pipedream.com/</li>\n<li>https://keen.io/</li>\n<li>https://www.openode.io/pricing</li>\n<li>https://www.cloud66.com/node/ å…è´¹ä¸€ä¸ªæœˆ</li>\n<li>https://www.jexia.com/</li>\n<li>https://www.openode.io/</li>\n<li>https://encore.dev/ RST</li>\n<li>è°·æ­Œçš„functionsæœ‰ä¸€äº›å…è´¹é¢åº¦ï¼Œä½†ä¸€å®šä¼šäº§ç”Ÿéƒ¨ç½²è´¹ç”¨ï¼Œæœ€å°‘$0.03/mo</li>\n<li>å›½å†…çš„äº‘æœåŠ¡å‚å•†ä¸€èˆ¬éƒ½æœ‰FaaSæœåŠ¡ï¼Œä¹Ÿæœ‰ä¸€å®šçš„å…è´¹é¢åº¦ï¼Œä½†é—®é¢˜æ˜¯å…¬ç½‘æµå‡ºæµé‡æ˜¯æ²¡æœ‰å…è´¹é¢åº¦çš„</li>\n<li>https://www.slappforge.com/sigma ä»…å¼€å‘å¹³å°</li>\n<li>https://catalyst.zoho.com/ æœ‰å…è´¹çš„</li>\n</ul>\n\n<h2>8. é™æ€ç½‘é¡µæ‰˜ç®¡ï¼ˆå¿…é¡»è¦èƒ½è‡ªåŠ¨æ›´æ–°ï¼‰</h2>\n\n<ul>\n<li>https://surge.sh/</li>\n<li>https://www.netlify.com/</li>\n<li>https://render.com/ æ”¶è´¹ç‰ˆæœ‰PaaSï¼Œä½†å…è´¹ç‰ˆåªèƒ½Static</li>\n<li>https://cloudcannon.com</li>\n<li>https://tiiny.host åªèƒ½å­˜æ´»7å¤©ï¼Ÿ</li>\n<li>https://pages.cloudflare.com/</li>\n</ul>\n\n<h2>9. ä¹Ÿè®¸å¯ç”¨çš„IaaS</h2>\n\n<ul>\n<li>euservï¼Œå¾·å›½çš„ï¼Œåªæœ‰IPV6ï¼Œäº²æµ‹ç¡®å®å¯ä»¥ï¼Œä½†ç¡¬ç›˜å¾ˆæ…¢ https://github.com/YG-tsj/EUserv-warp</li>\n<li>https://open.iot.10086.cn/cloud/introduction/cloud-server OneNETç§»åŠ¨çš„ï¼ŒMQã€å¯¹è±¡å‚¨å­˜ã€å¯è§†åŒ–ã€CIéƒ½æœ‰ä¸€å®šçš„å…è´¹é¢åº¦</li>\n<li>https://activity.xinruiyun.cn/free/ æ–°ç¿äº‘ï¼Œå‘ä¸ªå¹¿å‘Šå¯ä»¥å…è´¹ç”¨ä¸€ä¸ªæœˆçš„ECS</li>\n<li>https://www.oracle.com/cn/cloud/free/ ä½“éªŒæ–‡ç« ï¼šhttps://51.ruyo.net/14138.html ä¸æ”¯æŒprepaid cardï¼›https://www.blueskyxn.com/202109/5232.html</li>\n<li>https://51.ruyo.net/14583.html Azure</li>\n<li>https://www.atlantic.net/ <del>å…è´¹12ä¸ªæœˆ</del>ç°åœ¨å¥½åƒå˜æˆå…è´¹ä¸€ä¸ªæœˆäº†ï¼Œéœ€è¦ä¿¡ç”¨å¡</li>\n<li>è°·æ­Œäº‘ã€Amazonã€Azureã€Yandex Cloudï¼šæ³¨å†Œåéƒ½ä¼šé€ä¸€äº›é¢åº¦</li>\n</ul>\n\n<h3>9.1. <a class=\"wp-editor-md-post-content-link\" href=\"https://www.ibm.com/cn-zh/cloud/free\">IBM Cloud</a></h3>\n\n<ul>\n<li>Lite(è½»é‡)ç‰ˆæ— éœ€ä¿¡ç”¨å¡ï¼Œæ²¡æœ‰åˆ°æœŸæ—¶é—´ï¼Œå®Œå…¨ä¸ä¼šå˜åˆ°ä»˜è´¹å¥—é¤ä¸Šï¼Œé¢åº¦åˆ°äº†å°±æ— æ³•ä½¿ç”¨ï¼Œ30å¤©ä¸æ´»åŠ¨è‡ªåŠ¨åˆ é™¤ï¼Œä¸€å…±44é¡¹æœåŠ¡</li>\n<li>Cloud Foundryï¼šPaaS 256Må†…å­˜ï¼Œæ”¯æŒJava Node .NET GO PHP Pyã€‚10å¤©ä¸æ´»åŠ¨å°±ä¼‘çœ ã€‚apic.mybluemix.netå’Œmybluemix.netéƒ½è¢«å¢™äº†ã€‚è¦ç”¨ibmcloudå‘½ä»¤è¡Œ</li>\n<li>å¯¹è±¡å‚¨å­˜ï¼š25GBå‚¨å­˜ï¼Œ5GBå‡ºç«™ï¼›Cloudant JSONæ–‡æ¡£æ•°æ®åº“ï¼š1GBï¼›DB2æ•°æ®åº“ï¼š200MBï¼Œæ¯90å¤©è¦é‚®ä»¶å»¶æœŸ</li>\n<li>æœºå™¨ç¿»è¯‘ï¼šä½†æ— ja-zhæ¨¡å‹ï¼Œåªèƒ½å’Œenäº’è½¬ï¼Œæ¯æœˆ100ä¸‡å­—ç¬¦</li>\n<li>API Gatewayï¼šè½¬å‘ä¸€æ¬¡åˆ°å¦ä¸€ä¸ªendpointä¸Šï¼Œèƒ½ç”¨äºé™æ€æ–‡ä»¶çš„åä»£ï¼Œèƒ½è®¾å®šå¯†é’¥éªŒè¯å’Œé™åˆ¶é€Ÿç‡ï¼Œæ˜¾ç¤ºè°ƒç”¨é¢‘ç‡ã€‚å…è´¹è°ƒç”¨100ä¸‡æ¬¡ä½†æ˜¯æ²¡å†™æ¯æœˆï¼Œä¹‹åé™é€Ÿ</li>\n<li>Cloud for Educationï¼šæŒç»­æ—¶é—´ä¸€å°æ—¶çš„ECSï¼Œèƒ½ç”¨RDPè¿ä¸Šä½†å¡åˆ°å®Œå…¨æ— æ³•ä½¿ç”¨ï¼Œå¥½åƒæ— å¤–éƒ¨äº’è”ç½‘è¿æ¥</li>\n<li>æœºå™¨å­¦ä¹ </li>\n<li>Docker Registryï¼šå‚¨å­˜0.5GBï¼Œæµé‡5GB</li>\n<li>Event Streamsï¼šKafka</li>\n<li>é‚£äº›â€œè½¯ä»¶â€è™½ç„¶æœ‰éå¸¸å¤šå…è´¹çš„ï¼Œä½†å¿…é¡»éƒ¨ç½²åˆ°k8sä¸Šï¼›k8sä¹Ÿæœ‰å…è´¹å¥—é¤ï¼Œä½†liteæ— æ³•åˆ›å»ºï¼Œå› ä¸ºæµé‡å’ŒIPå¯èƒ½è¦æ”¶è´¹</li>\n<li>å‡½æ•°è®¡ç®—ï¼šè™½ç„¶æœ‰ä¸€ç‚¹å…è´¹é¢åº¦ï¼Œä½†æ˜¯æ— liteç‰ˆ</li>\n</ul>\n\n<h3>9.2. <a class=\"wp-editor-md-post-content-link\" href=\"https://cloud.tencent.com/act/free\">è…¾è®¯äº‘</a></h3>\n\n<ul>\n<li>å¯¹è±¡å‚¨å­˜ï¼šå…è´¹åŠå¹´</li>\n<li>CDNï¼šå…è´¹åŠå¹´</li>\n<li>Serverlessï¼šå…è´¹ä¸€å¹´</li>\n<li>æ–‡ä»¶å‚¨å­˜ï¼šå…è´¹10G</li>\n<li>æœºå™¨ç¿»è¯‘ï¼šå…è´¹500ä¸‡å­—ç¬¦/æœˆï¼Œå¼€é€šå…è´¹ç‰ˆå¿…ä¸ä¼šæ”¶ä»»ä½•è´¹ç”¨</li>\n<li>äº‘æ‰˜ç®¡ CloudBase Runï¼šä¸çŸ¥é“å¹²ä»€ä¹ˆç”¨çš„</li>\n</ul>\n\n<h3>9.3. <a class=\"wp-editor-md-post-content-link\" href=\"https://free.aliyun.com\">é˜¿é‡Œäº‘</a></h3>\n\n<ul>\n<li>ECSï¼šhttps://www.aliyun.com/daily-act/ecs/free éœ€è¦å®åè®¤è¯ä¸”æœªè´­ä¹°è¿‡ä»»ä½•äº§å“ï¼Œæœ‰ä¸ªt6çš„ECSå¯ä»¥å…è´¹è¯•ç”¨ä¸€å¹´</li>\n<li>MaxComputeå¤§æ•°æ®è®¡ç®—æœåŠ¡å¼€å‘è€…ç‰ˆhttps://www.aliyun.com/product/odps</li>\n<li>äº‘æ•ˆDevOpsæœ‰ä¸€äº›å…è´¹é¢åº¦ï¼ŒåŒ…æ‹¬5GB Mavenä»“åº“</li>\n<li>æœºå™¨ç¿»è¯‘é€šç”¨ç‰ˆï¼šæ¯æœˆ100ä¸‡å­—ç¬¦å…è´¹é¢åº¦</li>\n</ul>\n\n<h2>10. ä½ä»£ç å¹³å°/aPaaS</h2>\n\n<ul>\n<li>æŒ‡ä¸ç”¨å†™å¾ˆå¤šä»£ç å°±èƒ½è®¾è®¡å‡ºè½¯ä»¶ï¼Œæœ‰å¯è§†åŒ–å·¥å…·</li>\n<li>å¤§éƒ¨åˆ†éƒ½æ˜¯BPMå¹³å°ï¼Œå³ è¡¨å•+å·¥ä½œæµå®¡æ‰¹ï¼Œé€‚åˆä¼ä¸šå»ºç«‹ä¸šåŠ¡é€»è¾‘åœ¨çº¿åŠå…¬</li>\n<li>å¾€å¾€ä¸å¹³å°æœ¬èº«ä¸¥é‡ç»‘å®šï¼Œéš¾ä»¥å¤ç”¨å’Œç»´æŠ¤ï¼Œåˆ‡æ¢å¹³å°ä»£ä»·å¤§ï¼Œå¼€å‘è€…è‡ªèº«éš¾ä»¥æå‡</li>\n</ul>\n\n<h3>10.1. å›½å†…çš„</h3>\n\n<ul>\n<li>https://github.com/taowen/awesome-lowcode æ”¶é›†</li>\n<li>https://www.aliwork.com/ å®œæ­ï¼Œé˜¿é‡Œ+é’‰é’‰</li>\n<li>https://www.apicloud.com/ äº‘ç«¯å¼€å‘ç®¡ç†ç±»</li>\n<li>https://www.mingdao.com/ æ˜é“äº‘</li>\n<li>https://www.jiandaoyun.com/ ç®€é“äº‘</li>\n<li>https://www.huoban.com/ ä¼™ä¼´äº‘</li>\n<li>https://qingflow.com/ è½»æµ</li>\n<li>https://www.steedos.com/pricing/platform/ åç‚é­”æ–¹ï¼Œå¼€æºï¼Œç§æœ‰éƒ¨ç½²å…è´¹</li>\n<li>https://baidu.gitee.io/amis/docs/index å¼€æºï¼Œåç¨‹åºå‘˜</li>\n<li>https://modao.cc/ å¢¨åˆ€ï¼ŒåŸå‹è®¾è®¡å·¥å…·</li>\n<li>https://www.imgcook.com/ æ·˜å®ï¼Œç”±è®¾è®¡ç¨¿ç”Ÿæˆç•Œé¢</li>\n<li>https://www.huaweicloud.com/product/appcube.html åä¸ºäº‘åº”ç”¨é­”æ–¹ï¼Œå¤ªæ–°</li>\n<li>https://www.informat.cn/ ç»‡ä¿¡</li>\n<li>https://seatable.cn/ åœ¨çº¿ååŒè¡¨æ ¼å’Œä¿¡æ¯ç®¡ç†å·¥å…·ï¼Œç±»ä¼¼äºexcelï¼Œæœ¬ä½“ä¸å¼€æºä½†å¼€æºäº†ä¸€äº›ç»„ä»¶</li>\n<li>https://www.baishuyun.com/ ç™¾æ•°äº‘</li>\n<li>ç½‘é¡µæ„Ÿè§‰ä¸å¤ªå¥½çš„\n\n<ul>\n<li>https://www.iyunbiao.com/ äº‘è¡¨</li>\n<li>https://www.grapecity.com.cn/solutions/huozige æ´»å­—æ ¼</li>\n<li>https://www.learun.cn/ åŠ›è½¯æ•æ·æ¡†æ¶</li>\n<li>https://www.ivx.cn å·ç§°é›¶ä»£ç å¼€å‘Web Appå’Œå°ç¨‹åºï¼Œå‰èº«æ˜¯ih5.cnï¼Œä¸æ˜¯BPM</li>\n<li>https://wuyuan.io/ https://enhancer.io/ æ— è¿œå¼€å‘å¹³å°ï¼Œä¸ªäººä½¿ç”¨å…è´¹ï¼Œå•†ä¸šæ”¶è´¹</li>\n<li>https://www.wudaima.com/ å®œåˆ›æ— ä»£ç ï¼Œå®˜ç½‘çš„footerçš„é“¾æ¥éƒ½æ˜¯åºŸçš„ï¼Œä¸€ç‚¹ä¹Ÿä¸é€æ˜</li>\n<li>https://www.bn100.com/ æŸæ€ç§‘æŠ€/Workfine</li>\n</ul></li>\n<li>æ”¶è´¹çš„\n\n<ul>\n<li>https://h3yun.com/ æ°šäº‘ï¼Œåªå…è´¹15å¤©ï¼Œé›†æˆé’‰é’‰ https://www.cloudpivot.cn/ äº‘æ¢ https://www.h3bpm.com/ éƒ½æ˜¯â€œå¥¥å“²â€å…¬å¸çš„</li>\n<li>https://www.newdao.net/ ç‰›åˆ€ï¼Œå…è´¹ä¸¤å‘¨</li>\n<li>https://www.clickpaas.com/ ä¸æ”¯æŒä¸ªäºº</li>\n<li>https://www.dadayun.cn/ æ­æ­äº‘ æ²¡æœ‰æ³¨å†Œçš„åœ°æ–¹</li>\n</ul></li>\n<li>æ²¡æœ‰httpsçš„ï¼š http://www.joget.cn/ æ·å¾— ã€http://www.putdb.com/ WebBuilder ã€http://www.mf999.com/ é­”æ–¹ç½‘è¡¨(çº¯è¡¨å•ç±»)ã€http://www.delit.cn/ åº¦é‡å¿«é€Ÿå¼€å‘å¹³å°ã€http://www.jinyunweb.com è¿›äº‘ã€http://dev.easydo.cn æ˜“å¼€å‘ã€http://www.jepaas.com/ ã€</li>\n</ul>\n\n<h3>10.2. å›½å¤–çš„</h3>\n\n<ul>\n<li>https://anvil.works/ pyå…¨æ ˆï¼Œå‰ç«¯Drag and Drop UIï¼Œåç«¯å’Œæ•°æ®å‚¨å­˜ç”¨çš„æ˜¯è¯¥ç½‘ç«™çš„åº“</li>\n<li>https://www.outsystems.com/pricing-and-editions/ å¼€å‘ç§»åŠ¨åº”ç”¨ï¼Œæ˜¯è¯¥è¡Œçš„è€å¤§ï¼›å‰ç«¯ç»„ä»¶æ¯”è¾ƒå¤šï¼Œåå°ç›¸å¯¹å¼±ä¸€ç‚¹å„¿ï¼›æ³¨å†Œéœ€è¦å§“åï¼Œé‚®ç®±</li>\n<li>https://www.mendix.com/ å¼€å‘ç§»åŠ¨åº”ç”¨ï¼Œåå°èƒ½åŠ›æ¯”è¾ƒå¼ºï¼ˆæœ‰å¾®æµç³»ç»Ÿï¼‰</li>\n<li>https://free.caspio.com/ Database-Powered Apps</li>\n<li>https://thunkable.com å¼€å‘ç§»åŠ¨åº”ç”¨</li>\n<li>https://www.appsheet.com/ æ— æ³•ç›´æ¥æ‰“å¼€</li>\n<li>https://www.zoho.com/creator/ ç½‘é¡µåœ¨æˆ‘è¿™é‡Œæ‰“å¼€å·¨æ…¢ã€‚å¯ä»¥ä¸€ç›´ç”¨å…è´¹ç‰ˆåªè¦ä¸ä½¿ç”¨é«˜çº§ç‰¹æ€§</li>\n<li>https://airtable.com/</li>\n<li>https://zenkit.com/ æ— æ³•ç›´æ¥æ‰“å¼€</li>\n<li>Googleçš„App Makerï¼ˆG Suiteæ”¶è´¹ï¼‰ã€å¾®è½¯çš„PowerAppsï¼ˆæ”¶è´¹10$/moï¼‰</li>\n<li>https://www.dronahq.com/</li>\n<li>https://zhuanlan.zhihu.com/p/375252561</li>\n<li>https://www.odoo.com/zh_CN/ å¼€æº</li>\n<li>https://bubble.io/ æ–°å‡ºçš„</li>\n</ul>\n\n<h2>11. æœªåˆ†ç±»</h2>\n\n<ul>\n<li>https://www.litespeedtech.com/experience-litespeed-for-free ä¸€ä¸ªæœˆæœ‰æ•ˆï¼Ÿéœ€è¦å§“åï¼Œç”µè¯ï¼Œé‚®ç®±ï¼Œåœ°å€ã€‚å¥½åƒåªæœ‰wordpressï¼Œè¿˜æ˜¯åªæœ‰è½¯ä»¶ï¼Ÿ</li>\n<li>https://github-students.educationhost.co.uk/ å…è´¹ä¸€å¹´</li>\n<li>æœ‰å¯èƒ½ä¸Jupyteræœ‰å…³ï¼š\n\n<ul>\n<li>https://www.dataquest.io/plans-pricing/</li>\n<li>https://mode.com/compare-plans/</li>\n<li>https://kyso.io/pricing</li>\n</ul></li>\n<li>https://studio.azureml.net/ å¯è§†åŒ–æœºå™¨å­¦ä¹ å®éªŒå·¥å…·ï¼Œå¯ä¸ç™»é™†ä½¿ç”¨</li>\n<li>https://quic.cloud/ Wordpress cache cdn</li>\n<li>https://apis.baidu.com/</li>\n<li>https://platform.sh/pricing/ å¥½åƒåªå…è´¹30å¤©</li>\n</ul>\n","tags":["äº‘","å…è´¹é¡¹ç›®"],"categories":["_S9-æŠ˜è…¾","ç™½å«–"]},{"title":"BBR pulsè„šæœ¬","url":"/2023/05/22/BBR-pulsè„šæœ¬/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>BBR pulsè„šæœ¬</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>-- å°±æ˜¯çˆ±ç”Ÿæ´» | 94ish.me --</strong></font>\n\n```\nwget -N --no-check-certificate \"https://raw.githubusercontent.com/chiakge/Linux-NetSpeed/master/tcp.sh\" && chmod +x tcp.sh && ./tcp.sh\n```\n\n<img src=\"https://s2.loli.net/2022/06/08/5ylZN1kzbxA4Sgh.png\" alt=\"\" />\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>é‡å¯ä¹‹åä¸ç”¨åœ¨ä¸‹è½½è„šæœ¬ï¼Œç›´æ¥ä½¿ç”¨</strong></font>\n\n```shell\n# å¯åŠ¨è„šæœ¬\n./tcp.sh\n\n# åœ¨[4 - 8]ä¸­é€‰ä½ è¦å¼€çš„åŠ é€Ÿã€‚\n# 1ã€å®‰è£… BBR/BBRé­”æ”¹ç‰ˆå†…æ ¸å¯¹åº”4ï¼Œ5ï¼Œ6ï¼ˆåŸç‰ˆï¼Œé­”æ”¹ï¼Œæš´åŠ›é­”æ”¹ï¼‰\n# 2ã€å®‰è£…BBRplusç‰ˆå†…æ ¸ï¼Œå¯¹åº”7ï¼ˆplusï¼‰\n# 3ã€å®‰è£…Lotserverï¼ˆé”é€Ÿï¼‰å†…æ ¸ï¼Œå¯¹åº”8ï¼ˆé”é€Ÿï¼‰\n# 4ã€å¼€å¯ååœ¨ä½¿ç”¨  â€œ./tcp.shâ€ï¼Œæ˜¾ç¤ºå¼€å¯æˆåŠŸï¼Œåˆ™å¯åŠ¨æˆåŠŸï¼\n```\n\n","tags":["BBRåŠ é€Ÿ"],"categories":["_A8-å·¥å…·","BBR"]},{"title":"centos7 é˜²ç«å¢™ç›¸å…³é…ç½®","url":"/2023/05/22/centos7-é˜²ç«å¢™ç›¸å…³é…ç½®/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>centos  ä¹‹æ‰€ä»¥å«centos æœ€ä¸»è¦æ˜¯å› ä¸ºcentosçš„ç¨³å®š+å¯¹ä¼ä¸šçš„å‹å¥½</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=2 face=å®‹ä½“><strong>è€Œé˜²ç«å¢™ç¡®å®centosçš„ä¸€å¤§ç‰¹è‰²ï¼Œå½“ç„¶ä¸æ˜¯è¯´å…¶ä»–çš„linuxç‰ˆæœ¬ï¼Œæˆ–è€…å…¶ä»–ç³»ç»Ÿæ²¡æœ‰é˜²ç«å¢™ï¼Œæ˜¯å› ä¸ºcentosçš„é˜²ç«å¢™æ›´æœ‰ç‰¹ç‚¹è€Œå·²</strong></font>\n\n<font color=#f26522 size=2 face=å®‹ä½“><strong>è€Œå†™è¿™ç¯‡åšå®¢æ˜¯å› ä¸ºï¼Œè‡ªå·±å†™äº†ä¸ªpythoné¡¹ç›®ï¼Œåœ¨centos7ä¸‹å¾ˆé¡ºç•…çš„è¿è¡Œï¼Œä½†æ˜¯æœ¬æœºèƒ½è®¿é—®ï¼Œå±€åŸŸç½‘éƒ½ä¸èƒ½è®¿é—®ï¼Œæœ€ç»ˆç¡®å®šäº†æ˜¯é˜²ç«å¢™çš„é—®é¢˜ï¼</strong></font>\n\n+ <font color=red size=3 face=å®‹ä½“><strong>é˜²ç«å¢™ç›¸å…³å‘½ä»¤</strong></font>\n\n```python\nsystemctl start firewalld.service    # å¯åŠ¨é˜²ç«å¢™\nsystemctl stop firewalld.service    # åœæ­¢é˜²ç«å¢™\nfirewall-cmd --state  # æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€\nnetstat -lnpt   # æŸ¥çœ‹ç›‘å¬çš„ç«¯å£\nnetstat -lnpt |grep 5672  # æ£€æŸ¥ 5672ç«¯å£ è¢«å“ªä¸ªè¿›ç¨‹å ç”¨\nps 6832  # æŸ¥çœ‹ 6832 è¿›ç¨‹çš„è¯¦ç»†ä¿¡æ¯\nkill -9 6832   # å¼ºåˆ¶ç»ˆæ­¢6832è¿›ç¨‹\n\nfirewall-cmd --permanent --zone=public --add-port=8080/tcp     # å¼€æ”¾8080/tcp ç«¯å£\nfirewall-cmd --permanent --zone=public --remove-port=8080/tcp  # åˆ é™¤8080/tcp ç«¯å£\n\nfirewall-cmd --permanent --zone=public --add-port=8080/udp     # å¼€æ”¾8080/udp ç«¯å£\nfirewall-cmd --permanent --zone=public --remove-port=8080/udp  # åˆ é™¤8080/udp ç«¯å£\n\nfirewall-cmd --reload   # é…ç½®äº†ç«‹å³ç”Ÿæ•ˆ\n\nfirewall-cmd --zone=public --list-ports    # æŸ¥çœ‹é˜²ç«å¢™æ‰€æœ‰å¼€æ”¾çš„ç«¯å£\n```\n\n","tags":["ç³»ç»Ÿ","è¿ç»´","é˜²ç«å¢™"],"categories":["_A3-linux","é˜²ç«å¢™"]},{"title":"centos7ä¸‹å®‰è£…python3.8","url":"/2023/05/22/centos7ä¸‹å®‰è£…python3-8/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>centos7ä¸‹å®‰è£…python3.8</strong></font>\n\n<!--more-->\n\n<br>\n\n---\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>1. æŸ¥çœ‹å½“å‰pythonç‰ˆæœ¬ï¼š</strong></font>\n\n```shell\n[root@iZwz99sau950q2nhb3pn0aZ ~]# python\nPython 2.7.5 (default, Aug  7 2019, 00:51:29)\n\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-39)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>>\n```\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>2. å®‰è£…ä¾èµ–åŒ…</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ç¼–è¯‘pythonæºç æ—¶ï¼Œéœ€è¦ä¸€äº›ä¾èµ–åŒ…ï¼Œä¸€æ¬¡å®‰è£…å®Œæ¯•</strong></font>\n\n```shell\nsudo yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel libffi-devel gdbm-devel db4-devel libpcap-devel xz-devel make\nsudo yum install -y zlib zlib-dev openssl-devel sqlite-devel bzip2-devel libffi libffi-devel gcc gcc-c++\n\n# ubuntu é…ç½®ç¯å¢ƒ\nsudo apt-get install -y gcc make build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev libncursesw5-dev xz-utils tk-dev libffi-dev liblzma-dev\n```\n\n<br>\n\n---\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>3. å®‰è£…wget</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>è¿™ä¸ªåŒ…æ˜¯ä¸ºäº†ä¸‹è½½pythonæºç ç”¨çš„</strong></font>\n\n```\nyum install wget\n```\n\n<br>\n\n---\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>4. ä¸‹è½½æºç åŒ…</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æˆ‘æ˜¯ä¸‹è½½çš„æœ€æ–°çš„python3.8ï¼Œå¦‚æœæƒ³å®‰è£…å…¶ä»–ç‰ˆæœ¬ï¼Œå»pythonå®˜ç½‘ä¸‹è½½é¡µé¢ä¸‹è½½å¯¹åº”çš„ç‰ˆæœ¬å³å¯ã€‚</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ä½†æ˜¯è¿™ä¸ªä¸‹è½½é“¾æ¥æ¯”è¾ƒæ…¢ï¼Œæˆ‘æ˜¯ç”¨è¿…é›·ä¸‹è½½åˆ°æœ¬åœ°ä¹‹åï¼Œå†scpåˆ°æœåŠ¡å™¨çš„ã€‚</strong></font>\n\n```python\nwget https://www.python.org/ftp/python/3.8.1/Python-3.8.1.tgz\n# å›½å†…ç”¨è¿™ä¸ª\nwget https://repo.huaweicloud.com/python/3.8.1/Python-3.8.1.tgz\nwget https://www.python.org/ftp/python/3.10.5/Python-3.10.5.tgz\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong><br>\n\n---\n\n<br>5. è§£å‹å®‰è£…</strong></font>\n\n```\n# è§£å‹å‹ç¼©åŒ…\ntar -zxvf Python-3.8.1.tgz  \n\n# è¿›å…¥æ–‡ä»¶å¤¹\ncd Python-3.8.1\n\n# é…ç½®å®‰è£…ä½ç½®\n# ./configure prefix=/usr/local/python3 æ³¨æ„ä¸è¦åŠ  --enable-optimizations\n./configure prefix=/usr/local/python3\n\n# å¦‚æœç¼–è¯‘è¿‡ï¼Œå°±éœ€è¦æ¸…ç©ºç¼“å­˜\nmake clean  # æ¸…ç©ºç¼“å­˜ ï¼ˆé‡è¦ï¼‰\n\n# å®‰è£…\nmake && make install\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong><br>\n\n---\n\n<br>6. å¦‚æœæœ€åæ²¡æç¤ºå‡ºé”™ï¼Œå°±ä»£è¡¨æ­£ç¡®å®‰è£…äº†ï¼Œåœ¨/usr/local/ç›®å½•ä¸‹å°±ä¼šæœ‰python3ç›®å½•</strong></font>\n\n```\n[root@iZwz99sau950q2nhb3pn0aZ local]# cd /usr/local/\n[root@iZwz99sau950q2nhb3pn0aZ local]# ls\naegis  bin  etc  games  include  lib  lib64  libexec  python3  sbin  share  src\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong><br>\n\n---\n\n<br>7. æ·»åŠ è½¯è¿æ¥</strong></font>\n\n```\n#æ·»åŠ python3çš„è½¯é“¾æ¥ \nln -s /usr/local/python3/bin/python3.8 /usr/bin/python3 \n\n#æ·»åŠ  pip3 çš„è½¯é“¾æ¥ \nln -s /usr/local/python3/bin/pip3.8 /usr/bin/pip3\n```\n\n<br>\n\n---\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>8. å¥½äº†ï¼Œæˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹python3</strong></font>\n\n```\n[root@iZwz99sau950q2nhb3pn0aZ local]# python3\nPython 3.8.1 (default, Feb  4 2020, 11:28:31) \n[GCC 4.8.5 20150623 (Red Hat 4.8.5-39)] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>>\n```\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>è¿™é‡Œæˆ‘æ²¡æœ‰é“¾æ¥åˆ°pythonä¸Šï¼Œæ˜¯å› ä¸ºyumè¦ç”¨åˆ°python2æ‰èƒ½æ‰§è¡Œï¼Œæ‰€ä»¥ç°åœ¨è¾“å…¥pythonçš„è¯è¿˜æ˜¯ä¼šè¿›å…¥python2.7ï¼Œè¾“å…¥python3æ‰ä¼šè¿›å…¥python3.8\nå¦‚æœæ‰§æ„æƒ³è¦é“¾æ¥åˆ°pythonçš„è¯ï¼Œå°±å¾—ä¿®æ”¹ä¸€ä¸‹yumçš„é…ç½®ï¼š</strong></font>\n\n```\nvi /usr/bin/yum \n#! /usr/bin/python ä¿®æ”¹ä¸º #! /usr/bin/python2\nvi /usr/libexec/urlgrabber-ext-down \n#! /usr/bin/python ä¿®æ”¹ä¸º #! /usr/bin/python2\n```\n\n","tags":["linux","python","å®‰è£…"],"categories":["_A5-å®‰è£…æ•™ç¨‹","Python"]},{"title":"centosã€kalié•œåƒä¸‹è½½","url":"/2023/05/22/centosã€kalié•œåƒä¸‹è½½/","content":"\n<font color=#00b2c2 size=6 face=\"å®‹ä½“\"><strong>centos_7</strong></font>\n\n<!--more-->\n\n   + ç‰ˆæœ¬å·ï¼š7ï¼ˆå‘å¸ƒæ—¶é—´ï¼š2009ï¼‰\n       + x86_64-DVD\n           + <font color=#000080 size=2 face=\"å®‹ä½“\"><strong>æ ‡å‡†ç‰ˆ ä¸‹è½½é“¾æ¥ï¼š</strong></font><a class=\"wp-editor-md-post-content-link\" href=\"https://mirrors.ustc.edu.cn/centos/7/isos/x86_64/CentOS-7-x86_64-DVD-2009.iso\">ç‚¹å‡»ä¸‹è½½</a>\n           + <font color=#000080 size=2 face=\"å®‹ä½“\"><strong>å®Œæ•´ç‰ˆ ä¸‹è½½é“¾æ¥ï¼š</strong></font><a class=\"wp-editor-md-post-content-link\" href=\"https://mirrors.ustc.edu.cn/centos/7/isos/x86_64/CentOS-7-x86_64-Everything-2009.iso\">ç‚¹å‡»ä¸‹è½½</a>\n           + <font color=#000080 size=2 face=\"å®‹ä½“\"><strong>æœ€å°å®‰è£…ç‰ˆ ä¸‹è½½é“¾æ¥ï¼š</strong></font><a class=\"wp-editor-md-post-content-link\" href=\"https://mirrors.ustc.edu.cn/centos/7/isos/x86_64/CentOS-7-x86_64-Minimal-2009.iso\">ç‚¹å‡»ä¸‹è½½</a>\n           + <font color=#000080 size=2 face=\"å®‹ä½“\"><strong>è”ç½‘ç‰ˆ ä¸‹è½½é“¾æ¥ï¼š</strong></font><a class=\"wp-editor-md-post-content-link\" href=\"https://mirrors.ustc.edu.cn/centos/7/isos/x86_64/CentOS-7-x86_64-NetInstall-2009.iso\">ç‚¹å‡»ä¸‹è½½</a>\n\n<font color=#00b2c2 size=6 face=\"å®‹ä½“\"><strong>centos_8</strong></font>\n   + ç‰ˆæœ¬å·ï¼š8ï¼ˆå‘å¸ƒæ—¶é—´ï¼šä¸è¯¦ï¼‰\n       + aarch64-DVD\n           + <font color=#000080 size=2 face=\"å®‹ä½“\"><strong>æ ‡å‡†ç‰ˆ ä¸‹è½½é“¾æ¥ï¼š</strong></font><a class=\"wp-editor-md-post-content-link\" href=\"https://mirrors.ustc.edu.cn/centos/8/isos/aarch64/CentOS-8.4.2105-aarch64-dvd1.iso\">ç‚¹å‡»ä¸‹è½½</a>\n       + x86_64-DVD\n           + <font color=#000080 size=2 face=\"å®‹ä½“\"><strong>æ ‡å‡†ç‰ˆ ä¸‹è½½é“¾æ¥ï¼š</strong></font><a class=\"wp-editor-md-post-content-link\" href=\"https://mirrors.ustc.edu.cn/centos/8/isos/x86_64/CentOS-8.4.2105-x86_64-dvd1.iso\">ç‚¹å‡»ä¸‹è½½</a>\n\n<font color=#00b2c2 size=6 face=\"å®‹ä½“\"><strong>kali</strong></font>\n   + ç‰ˆæœ¬å·ï¼šé•œåƒå®‰è£…ç‰ˆkali-2020.4ï¼ˆå‘å¸ƒæ—¶é—´ï¼š2020.4ï¼‰\n       + amd64_iso(å°±æ˜¯x86_64ä½)\n           + <font color=#000080 size=2 face=\"å®‹ä½“\"><strong>æ ‡å‡†ç‰ˆ ä¸‹è½½é“¾æ¥ï¼š</strong></font><a class=\"wp-editor-md-post-content-link\" href=\"https://mirrors.ustc.edu.cn/kali-images/kali-2020.4/kali-linux-2020.4-installer-amd64.iso\">ç‚¹å‡»ä¸‹è½½</a>\n           + <font color=#000080 size=2 face=\"å®‹ä½“\"><strong>è”ç½‘ç‰ˆ ä¸‹è½½é“¾æ¥ï¼š</strong></font><a class=\"wp-editor-md-post-content-link\" href=\"https://mirrors.ustc.edu.cn/kali-images/kali-2020.4/kali-linux-2020.4-installer-netinst-amd64.iso\">ç‚¹å‡»ä¸‹è½½</a>\n       + i386_iso(å°±æ˜¯x86_32ä½)\n           + <font color=#000080 size=2 face=\"å®‹ä½“\"><strong>æ ‡å‡†ç‰ˆ ä¸‹è½½é“¾æ¥ï¼š</strong></font><a class=\"wp-editor-md-post-content-link\" href=\"https://mirrors.ustc.edu.cn/kali-images/kali-2020.4/kali-linux-2020.4-installer-i386.iso\">ç‚¹å‡»ä¸‹è½½</a>\n           + <font color=#000080 size=2 face=\"å®‹ä½“\"><strong>è”ç½‘ç‰ˆ ä¸‹è½½é“¾æ¥ï¼š</strong></font><a class=\"wp-editor-md-post-content-link\" href=\"https://mirrors.ustc.edu.cn/kali-images/kali-2020.4/kali-linux-2020.4-installer-netinst-i386.iso\">ç‚¹å‡»ä¸‹è½½</a>\n   + ç‰ˆæœ¬å·ï¼šé•œåƒå®‰è£…ç‰ˆkali-2021.3ï¼ˆå‘å¸ƒæ—¶é—´ï¼š2021.3ï¼‰\n       + amd64_iso(å°±æ˜¯x86_64ä½)\n           + <font color=#000080 size=2 face=\"å®‹ä½“\"><strong>æ ‡å‡†ç‰ˆ ä¸‹è½½é“¾æ¥ï¼š</strong></font><a class=\"wp-editor-md-post-content-link\" href=\"https://mirrors.ustc.edu.cn/kali-images/kali-2021.3/kali-linux-2021.3-installer-amd64.iso\">ç‚¹å‡»ä¸‹è½½</a>\n           + <font color=#000080 size=2 face=\"å®‹ä½“\"><strong>liveç‰ˆ ä¸‹è½½é“¾æ¥ï¼š</strong></font><a class=\"wp-editor-md-post-content-link\" href=\"https://mirrors.ustc.edu.cn/kali-images/kali-2021.3/kali-linux-2021.3-live-amd64.iso\">ç‚¹å‡»ä¸‹è½½</a>\n           + <font color=#000080 size=2 face=\"å®‹ä½“\"><strong>è”ç½‘ç‰ˆ ä¸‹è½½é“¾æ¥ï¼š</strong></font><a class=\"wp-editor-md-post-content-link\" href=\"https://mirrors.ustc.edu.cn/kali-images/kali-2021.3/kali-linux-2021.3-installer-netinst-amd64.iso\">ç‚¹å‡»ä¸‹è½½</a>\n       + i386_iso(å°±æ˜¯x86_32ä½)\n           + <font color=#000080 size=2 face=\"å®‹ä½“\"><strong>æ ‡å‡†ç‰ˆ ä¸‹è½½é“¾æ¥ï¼š</strong></font><a class=\"wp-editor-md-post-content-link\" href=\"https://mirrors.ustc.edu.cn/kali-images/kali-2021.3/kali-linux-2021.3-installer-i386.iso\">ç‚¹å‡»ä¸‹è½½</a>\n           + <font color=#000080 size=2 face=\"å®‹ä½“\"><strong>liveç‰ˆ ä¸‹è½½é“¾æ¥ï¼š</strong></font><a class=\"wp-editor-md-post-content-link\" href=\"https://mirrors.ustc.edu.cn/kali-images/kali-2021.3/kali-linux-2021.3-live-i386.iso\">ç‚¹å‡»ä¸‹è½½</a>\n           + <font color=#000080 size=2 face=\"å®‹ä½“\"><strong>è”ç½‘ç‰ˆ ä¸‹è½½é“¾æ¥ï¼š</strong></font><a class=\"wp-editor-md-post-content-link\" href=\"https://mirrors.ustc.edu.cn/kali-images/kali-2021.3/kali-linux-2021.3-installer-netinst-i386.iso\">ç‚¹å‡»ä¸‹è½½</a>\n       + arm64_iso(å°±æ˜¯x86_32ä½)\n           + <font color=#000080 size=2 face=\"å®‹ä½“\"><strong>æ ‡å‡†ç‰ˆ ä¸‹è½½é“¾æ¥ï¼š</strong></font><a class=\"wp-editor-md-post-content-link\" href=\"https://mirrors.ustc.edu.cn/kali-images/kali-2021.3/kali-linux-2021.3-installer-arm64.iso\">ç‚¹å‡»ä¸‹è½½</a>\n           + <font color=#000080 size=2 face=\"å®‹ä½“\"><strong>liveç‰ˆ ä¸‹è½½é“¾æ¥ï¼š</strong></font><a class=\"wp-editor-md-post-content-link\" href=\"https://mirrors.ustc.edu.cn/kali-images/kali-2021.3/kali-linux-2021.3-live-arm64.iso\">ç‚¹å‡»ä¸‹è½½</a>\n           + <font color=#000080 size=2 face=\"å®‹ä½“\"><strong>è”ç½‘ç‰ˆ ä¸‹è½½é“¾æ¥ï¼š</strong></font><a class=\"wp-editor-md-post-content-link\" href=\"https://mirrors.ustc.edu.cn/kali-images/kali-2021.3/kali-linux-2021.3-installer-netinst-arm64.iso\">ç‚¹å‡»ä¸‹è½½</a>\n","tags":["centos","kali","é•œåƒ"],"categories":["_S9-æŠ˜è…¾","é•œåƒ"]},{"title":"Linuxä¸‹_ç»™cpå’Œmvå‘½ä»¤ä¸­æ·»åŠ è¿›åº¦æ¡","url":"/2023/05/22/Linuxä¸‹-ç»™cpå’Œmvå‘½ä»¤ä¸­æ·»åŠ è¿›åº¦æ¡/","content":"\n<h2>1. <mark>ä¿®æ”¹åçš„æ–¹æ³•</mark></h2>\n\n<!--more-->\n\n<ul>\n<li>ç³»ç»Ÿè¯´æ˜ï¼š\n\n<ul>\n<li>æœ¬äººä½¿ç”¨Debian 11</li>\n<li>KDE Plasmaç‰ˆæœ¬ï¼š 5.20.5</li>\n<li>KDE æ¡†æ¶ç‰ˆæœ¬ï¼š 5.78.0</li>\n<li>Qt ç‰ˆæœ¬ï¼š5.15.2</li>\n<li>å†…æ ¸ç‰ˆæœ¬ï¼š5.10.0-9-amd64</li>\n</ul></li>\n</ul>\n\n<a class=\"wp-editor-md-post-content-link\" href=\"https://wwwqe.lanzoui.com/iR7cKvxp82j\">è“å¥äº‘ä¸‹è½½</a>\n<strong>1. è§£å‹æ–‡ä»¶ï¼ˆcoreutils-8.32.tar.gzï¼‰</strong>\n\n<pre><code class=\"language-shell line-numbers\">tar -xzvf coreutils-8.32.tar.gz\n</code></pre>\n\n<strong>2. è¿›å…¥coreutils-8.32</strong>\n\n<pre><code class=\"language-shell line-numbers\">cd coreutils-8.32\n</code></pre>\n\n<strong>2. å®‰è£…ç¼–è¯‘ç¯å¢ƒ</strong>\n\n<pre><code class=\"language-shell line-numbers\">sudo apt install gcc make build-essential manpages-dev\n</code></pre>\n\n<strong>3. ç¼–è¯‘è¡¥ä¸</strong>\n\n<pre><code class=\"language-shell line-numbers\"># å¢åŠ ç¯å¢ƒ\npatch -p1 -i advcpmv-0.8-8.32.patch\n# å¼€å§‹ç¼–è¯‘\n./configure\nmake\n</code></pre>\n\n<strong>4. å®‰è£…è¡¥ä¸</strong>\n\n<pre><code class=\"language-shell line-numbers\"># å°†è¡¥ä¸å¤åˆ¶åˆ°ç³»ç»Ÿå˜é‡æ–‡ä»¶å¤¹ä¸­\nsudo cp src/cp /usr/local/bin/cp\nsudo cp src/mv /usr/local/bin/mv\n</code></pre>\n\n<h2>2. <mark>åŸæ–¹æ³•</mark></h2>\n\n<strong>1. ä¸‹è½½è¡¥ä¸åŒ…</strong>\n\n<pre><code class=\"language-shell line-numbers\">wget http://ftp.gnu.org/gnu/coreutils/coreutils-8.32.tar.xz\n</code></pre>\n\n<strong>2.è§£å‹è¡¥ä¸åŒ…</strong>\n\n<pre><code class=\"language-shell line-numbers\">tar xJf coreutils-8.32.tar.xz\n</code></pre>\n\n<strong>3. è¿›å…¥è¡¥ä¸æ–‡ä»¶å¤¹</strong>\n\n<pre><code class=\"language-shell line-numbers\">cd coreutils-8.32/\n</code></pre>\n\n<strong>4. ä¸‹è½½copyè¡¥ä¸</strong>\n\n<pre><code class=\"language-shell line-numbers\">wget https://raw.githubusercontent.com/jarun/advcpmv/master/advcpmv-0.8-8.32.patch\n</code></pre>\n<img src=\"https://s2.loli.net/2022/06/08/joqVudecLTNs26w.png\" alt=\"cp-mv-1\" />\n<strong>5. åº”ç”¨è¡¥ä¸</strong>\n\n<pre><code class=\"language-shell line-numbers\">patch -p1 -i advcpmv-0.8-8.32.patch\n./configure\nmake\n</code></pre>\n\n<img src=\"https://s2.loli.net/2022/06/08/SJ6MZ7UgRcBWinu.png\" alt=\"cp-mv-3\" />\n<img src=\"https://s2.loli.net/2022/06/08/8kHDzYER61Nb7pU.png\" alt=\"cp-mv-4\" />\n<strong>6. å®‰è£…è¡¥ä¸</strong>\n\n<pre><code class=\"language-shell line-numbers\"># å°†è¡¥ä¸å¤åˆ¶åˆ°ç³»ç»Ÿå˜é‡æ–‡ä»¶å¤¹ä¸­\nsudo cp src/cp /usr/local/bin/cp\nsudo cp src/mv /usr/local/bin/mv\n</code></pre>\n\n<h4>2.1.1. ä½¿ç”¨æ–¹æ³•</h4>\n\n<pre><code class=\"language-shell line-numbers\"># ç§»åŠ¨å‘½ä»¤\nmv -g <åŸä½ç½®> <ç°ä½ç½®>\n# å¤åˆ¶å‘½ä»¤\ncp -g <åŸä½ç½®> <ç°ä½ç½®>\n# å¤åˆ¶å‘½ä»¤(åŒ…å«æ–‡ä»¶å¤¹)\ncp -g -r <åŸä½ç½®> <ç°ä½ç½®>\n</code></pre>\n","tags":["linux","ç³»ç»Ÿ","è¿ç»´"],"categories":["_A3-linux","å‘½ä»¤"]},{"title":"cssåŸºæœ¬ä»£ç ã€è¯­æ³•","url":"/2023/05/22/cssåŸºæœ¬ä»£ç ã€è¯­æ³•/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>cssåŸºæœ¬ä»£ç ã€è¯­æ³•ï¼š</strong></font>\n\n<!--more-->\n\n```python\nbackground-color: red; # èƒŒæ™¯é¢œè‰²çº¢è‰²\nbackground-image: url(images/1.jpg) # èƒŒæ™¯å›¾ç‰‡\nbackground-size: (åƒç´ å€¼ã€ç™¾åˆ†æ¯”å€¼ã€containï¼ˆè‡ªé€‚åº”æ‹‰ä¼¸ï¼‰ã€coverï¼ˆè‡ªé€‚åº”è£å‰ªï¼‰) # èƒŒæ™¯å°ºå¯¸\nbackground-position: (leftâ€ã€â€œrightâ€ã€â€œtopâ€ã€â€œbottomâ€å’Œâ€œcenterâ€ã€ â€œleft topâ€ï¼ˆé»˜è®¤ï¼‰)èƒŒæ™¯å®šä½\n```\n\n<br>\n\n<br>\n\n<br>\n\n---\n\n","tags":["html","css"],"categories":["_A2-å‰ç«¯","html"]},{"title":"Linux(debian)ä¸‹é…ç½®ftpæœåŠ¡å™¨","url":"/2023/05/22/Linux-debian-ä¸‹é…ç½®ftpæœåŠ¡å™¨/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Linux(debian)ä¸‹é…ç½®ftpæœåŠ¡å™¨ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#00b2c2 size=4 face=\"å®‹ä½“\"><strong>å¦‚æœé…ç½®ä¸å¤Ÿï¼Œæˆ–è€…æƒ³å¢åŠ ç”¨æˆ·åå¯ä»¥å»è¿™é‡Œå¯»æ‰¾ç­”æ¡ˆï¼š</strong></font><a class=\"wp-editor-md-post-content-link\" href=\"https://help.aliyun.com/document_detail/60152.html\"><font color=#102b6a size=3 face=\"å®‹ä½“\"><strong>ç‚¹å‡»è¿›å…¥</strong></fout></a>\n<font color=#00b2c2 size=4 face=\"å®‹ä½“\"><strong>è§†é¢‘æ•™ç¨‹ï¼ˆæœ‰å¯èƒ½ä½ æ‰“ä¸å¼€ï¼‰ï¼š</strong></font><a class=\"wp-editor-md-post-content-link\" href=\"https://www.youtube.com/watch?v=v1dEgUrm_Ig\"><font color=#102b6a size=3 face=\"å®‹ä½“\"><strong>ç‚¹å‡»è¿›å…¥</strong></fout></a>\n\n<h1><font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>é™¤äº†FTPæœåŠ¡å™¨ï¼Œæ›´ä¸ºç®€å•çš„æŒ‚è½½è¿œç¨‹æœåŠ¡å™¨çš„æ˜¯ç›´æ¥ç”¨sshæŒ‚è½½ï¼š</strong></font></h1>\n\n<pre><code class=\"language-shell line-numbers\"># å®‰è£…sshfsæœåŠ¡\nsudo apt install sshfs\nsshfs <ç”¨æˆ·å>@<ipåœ°å€>:<æƒ³è¦æŒ‚è½½çš„è¿œç¨‹è·¯å¾„> <æŒ‚è½½åˆ°æœ¬åœ°çš„è·¯å¾„>\n# ä¾‹å¦‚ï¼š\nsshfs kk@211.34.109.38:/mnt/share /mnt/share\n# å–æ¶ˆæŒ‚è½½\nfusermount  -u  /mnt/share\n# fusermount  -u <æœ¬åœ°æŒ‚è½½çš„ç›®å½•>\n</code></pre>\n\n<h1><font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>debianä¸‹é…ç½®ftpæœåŠ¡å™¨ï¼š</strong></font></h1>\n\n<font color=#102b6a size=3 face=\"å®‹ä½“\"><strong>ç”±äºå¼€å‘éœ€è¦ä½¿ç”¨ftpåŠŸèƒ½ï¼Œä¸€æ—¶ä¹‹é—´æœ‰ç‚¹è’™ï¼Œè¿™ç©æ„ä¸€ç›´éƒ½ä¼šç”¨ï¼Œä½†æ€ä¹ˆé…ç½®è¿˜æ˜¯æœ‰ç‚¹è’™ï¼Œç„¶åèŠ±äº†ä¸¤ä¸ªå°æ—¶å»æ¶è¡¥äº†ä¸‹ç›¸å…³çŸ¥è¯†ï¼</strong></font>\n\n<h1><font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>å®‰è£…ftpï¼š</strong></font></h1>\n\n<font color=#102b6a size=3 face=\"å®‹ä½“\">ç›´æ¥ä½¿ç”¨å‘½ä»¤å®‰è£…å³å¯</fout>\n\n<pre><code class=\"language-shell line-numbers\">sudo apt install vsftpd\n# é‡ç‚¹ï¼šè¿™é‡Œæ˜¯vsftpdä¸æ˜¯ftpï¼ï¼ï¼\n</code></pre>\n\n<h1><font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>ftpæœåŠ¡å¯åŠ¨ï¼š</strong></font></h1>\n\n<font color=#102b6a size=3 face=\"å®‹ä½“\">ç¬¬ä¸€ç§æ–¹å¼ï¼š</fout>\n\n<pre><code class=\"language-shell line-numbers\">/etc/init.d/vsftpd {start|stop|restart|reload|status}\n# é‡ç‚¹ï¼šä¸­æ‹¬å·å‰é¢çš„ä¸å˜ï¼Œåé¢çš„æ˜¯å‘½ä»¤\n</code></pre>\n\n<font color=#102b6a size=3 face=\"å®‹ä½“\">ç¬¬äºŒç§æ–¹å¼ï¼š</fout>\n\n<pre><code class=\"language-shell line-numbers\">service vsftpd {start|stop|restart|reload|status}\n# é‡ç‚¹ï¼šä¸­æ‹¬å·å‰é¢çš„ä¸å˜ï¼Œåé¢çš„æ˜¯å‘½ä»¤\n</code></pre>\n\n<font color=#102b6a size=3 face=\"å®‹ä½“\">ç¬¬ä¸‰ç§æ–¹å¼ï¼š</fout>\n\n<pre><code class=\"language-shell line-numbers\">systemctl {start|stop|restart|reload|status} vsftpd.service\n# é‡ç‚¹ï¼šåªæœ‰ä¸­æ‹¬å·ä¸­çš„å‘½ä»¤åœ¨å˜\n# ä¸ªäººæ›´å–œæ¬¢ç¬¬ä¸‰ç§ï¼Œç®€å•ç²—æš´ï¼Œæœ‰æ·±åº¦ï¼\n</code></pre>\n\n<h1><font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>å¼€æœºè‡ªå¯ï¼š</strong></font></h1>\n\n<font color=#102b6a size=3 face=\"å®‹ä½“\">è‡ªåŠ¨å¯åŠ¨ï¼š</fout>\n\n<pre><code class=\"language-shell line-numbers\">systemctl enable vsftpd.service\n</code></pre>\n\n<font color=#102b6a size=3 face=\"å®‹ä½“\">å–æ¶ˆè‡ªåŠ¨å¯åŠ¨ï¼š</fout>\n\n<pre><code class=\"language-shell line-numbers\">systemctl disable vsftpd.service\n</code></pre>\n\n<h1><font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>ä¿®æ”¹é…ç½®ï¼š</strong></font></h1>\n\n<font color=#102b6a size=3 face=\"å®‹ä½“\">aptæ–¹å¼å®‰è£…çš„ftpï¼Œé…ç½®æ–‡ä»¶é»˜è®¤åœ¨'/etc/vsftpd.conf</fout>\n\n<pre><code class=\"language-shell line-numbers\">vim /etc/vsftpd.conf\n</code></pre>\n\n<font color=#102b6a size=3 face=\"å®‹ä½“\">æˆ‘çš„é…ç½®å¦‚ä¸‹ï¼š</fout>\n\n<pre><code class=\"language-shell line-numbers\"># Example config file /etc/vsftpd.conf\n#\n# The default compiled in settings are fairly paranoid. This sample file\n# loosens things up a bit, to make the ftp daemon more usable.\n# Please see vsftpd.conf.5 for all compiled in defaults.\n#\n# READ THIS: This example file is NOT an exhaustive list of vsftpd options.\n# Please read the vsftpd.conf.5 manual page to get a full idea of vsftpd's\n# capabilities.\n#\n#\n# Run standalone?  vsftpd can run either from an inetd or as a standalone\n# daemon started from an initscript.\nlisten=NO\n#\n# This directive enables listening on IPv6 sockets. By default, listening\n# on the IPv6 \"any\" address (::) will accept connections from both IPv6\n# and IPv4 clients. It is not necessary to listen on *both* IPv4 and IPv6\n# sockets. If you want that (perhaps because you want to listen on specific\n# addresses) then you must run two copies of vsftpd with two configuration\n# files.\nlisten_ipv6=YES\n#\n# Allow anonymous FTP? (Disabled by default).\nanonymous_enable=YES\n#\n# Uncomment this to allow local users to log in.\nlocal_enable=YES\n#\n# Uncomment this to enable any form of FTP write command.\n#write_enable=YES\n#\n# Default umask for local users is 077. You may wish to change this to 022,\n# if your users expect that (022 is used by most other ftpd's)\n#local_umask=022\n#\n# Uncomment this to allow the anonymous FTP user to upload files. This only\n# has an effect if the above global write enable is activated. Also, you will\n# obviously need to create a directory writable by the FTP user.\nanon_upload_enable=YES\n#\n# Uncomment this if you want the anonymous FTP user to be able to create\n# new directories.\n#anon_mkdir_write_enable=YES\n#\n# Activate directory messages - messages given to remote users when they\n# go into a certain directory.\ndirmessage_enable=YES\n#\n# If enabled, vsftpd will display directory listings with the time\n# in  your  local  time  zone.  The default is to display GMT. The\n# times returned by the MDTM FTP command are also affected by this\n# option.\nuse_localtime=YES\n#\n# Activate logging of uploads/downloads.\nxferlog_enable=YES\n#\n# Make sure PORT transfer connections originate from port 20 (ftp-data).\nconnect_from_port_20=YES\n#\n# If you want, you can arrange for uploaded anonymous files to be owned by\n# a different user. Note! Using \"root\" for uploaded files is not\n# recommended!\n#chown_uploads=YES\n#chown_username=whoever\n#\n# You may override where the log file goes if you like. The default is shown\n# below.\n#xferlog_file=/var/log/vsftpd.log\n#\n# If you want, you can have your log file in standard ftpd xferlog format.\n# Note that the default log file location is /var/log/xferlog in this case.\n#xferlog_std_format=YES\n#\n# You may change the default value for timing out an idle session.\n#idle_session_timeout=600\n#\n# You may change the default value for timing out a data connection.\n#data_connection_timeout=120\n#\n# It is recommended that you define on your system a unique user which the\n# ftp server can use as a totally isolated and unprivileged user.\n#nopriv_user=ftpsecure\n#\n# Enable this and the server will recognise asynchronous ABOR requests. Not\n# recommended for security (the code is non-trivial). Not enabling it,\n# however, may confuse older FTP clients.\n#async_abor_enable=YES\n#\n# By default the server will pretend to allow ASCII mode but in fact ignore\n# the request. Turn on the below options to have the server actually do ASCII\n# mangling on files when in ASCII mode.\n# Beware that on some FTP servers, ASCII support allows a denial of service\n# attack (DoS) via the command \"SIZE /big/file\" in ASCII mode. vsftpd\n# predicted this attack and has always been safe, reporting the size of the\n# raw file.\n# ASCII mangling is a horrible feature of the protocol.\n#ascii_upload_enable=YES\n#ascii_download_enable=YES\n#\n# You may fully customise the login banner string:\n#ftpd_banner=Welcome to blah FTP service.\n#\n# You may specify a file of disallowed anonymous e-mail addresses. Apparently\n# useful for combatting certain DoS attacks.\n#deny_email_enable=YES\n# (default follows)\n#banned_email_file=/etc/vsftpd.banned_emails\n#\n# You may restrict local users to their home directories.  See the FAQ for\n# the possible risks in this before using chroot_local_user or\n# chroot_list_enable below.\n#chroot_local_user=YES\n#\n# You may specify an explicit list of local users to chroot() to their home\n# directory. If chroot_local_user is YES, then this list becomes a list of\n# users to NOT chroot().\n# (Warning! chroot'ing can be very dangerous. If using chroot, make sure that\n# the user does not have write access to the top level directory within the\n# chroot)\nchroot_local_user=YES\nchroot_list_enable=YES\n# (default follows)\nchroot_list_file=/etc/vsftpd.chroot_list\n#\n# You may activate the \"-R\" option to the builtin ls. This is disabled by\n# default to avoid remote users being able to cause excessive I/O on large\n# sites. However, some broken FTP clients such as \"ncftp\" and \"mirror\" assume\n# the presence of the \"-R\" option, so there is a strong case for enabling it.\n#ls_recurse_enable=YES\n#\n# Customization\n#\n# Some of vsftpd's settings don't fit the filesystem layout by\n# default.\n#\n# This option should be the name of a directory which is empty.  Also, the\n# directory should not be writable by the ftp user. This directory is used\n# as a secure chroot() jail at times vsftpd does not require filesystem\n# access.\nsecure_chroot_dir=/var/run/vsftpd/empty\n#\n# This string is the name of the PAM service vsftpd will use.\npam_service_name=vsftpd\n\npasv_min_port=37564\n#è®¾ç½®è¢«åŠ¨æ¨¡å¼ä¸‹ï¼Œå»ºç«‹æ•°æ®ä¼ è¾“å¯ä½¿ç”¨çš„ç«¯å£èŒƒå›´çš„æœ€å¤§å€¼ã€‚\npasv_max_port=43997\n#\n# This option specifies the location of the RSA certificate to use for SSL\n# encrypted connections.\nrsa_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem\nrsa_private_key_file=/etc/ssl/private/ssl-cert-snakeoil.key\nssl_enable=NO\n\n#\n# Uncomment this to indicate that vsftpd use a utf8 filesystem.\n#utf8_filesystem=YES\n\n</code></pre>\n","tags":["linux","ç³»ç»Ÿ","è¿ç»´"],"categories":["_A3-linux","æŒ‚è½½"]},{"title":"Django_å­¦ä¹ ç¬”è®°","url":"/2023/05/22/Django-å­¦ä¹ ç¬”è®°/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Django_å­¦ä¹ ç¬”è®°ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>1. å®‰è£…python(å·²ç»å®‰è£…pythonè·³è¿‡ï¼ŒLinuxé»˜è®¤å·²ç»å®‰è£…äº†python)</strong></font>\n\n<br>\n\n<br>\n\n<br>\n\n---\n\n\n\n<font color=red size=4 face=å®‹ä½“><strong>1. pythonç¯‡</strong></font>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>1. æ£€æµ‹æ˜¯å¦å®‰è£…python</strong></font>\n\n```shell\npython -V\n```\n\n<br>\n\n---\n\n<br>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>2. æ£€æµ‹pythonåŒ…å®‰è£…æƒ…å†µ</strong></font>\n\n```shell\npip3 list\n```\n\n<br>\n\n---\n\n<br>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>3. å®‰è£…virtualenv</strong></font>\n\n```shell\npip3 install virtualenv\n```\n\n<br>\n\n---\n\n<br>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>4.Â åˆ›å»ºpythonç¯å¢ƒæ–‡ä»¶å¤¹</strong></font>\n\n```shell\npython3 -m venv django_venv     # (bash è¿è¡Œç»“æœï¼Œä¼šåœ¨å½“å‰æ–‡ä»¶å¤¹åˆ›å»ºä¸€ä¸ªdjango_venvçš„æ–‡ä»¶å¤¹)\n```\n\n<br>\n\n---\n\n<br>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>5.Â è¿›å…¥åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒ</strong></font>\n\n```shell\n# source /bin/activate\nsource ./django_venv/bin/activate\n# å¤‡æ³¨ï¼šå¦‚æœè¿›å…¥è™šæ‹Ÿç¯å¢ƒæˆåŠŸï¼Œåœ¨å‘½ä»¤è¡Œå‰é¢ä¼šæœ‰ä¸€ä¸ªå°æ‹¬å·\n```\n\n<br>\n\n---\n\n<br>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>6. è¿›å…¥æˆåŠŸåï¼Œå®‰è£…djangoç¯å¢ƒ</strong></font>\n\n```shell\npip3 install django #å›½å¤–æœåŠ¡å™¨ä¸‹è½½\npip3 install django==2.2     #  æŒ‡å®šå®‰è£…djangoç‰ˆæœ¬2.2\npip3 install django -i https://pypi.douban.com/simple   #  å›½å†…è±†ç“£æºåŠ é€Ÿè¿æ¥\n```\n\n<font color=red size=2 face=å®‹ä½“><strong>pythonå’Œdjangoç‰ˆæœ¬æœ‰å…¼å®¹é—®é¢˜ï¼Œå…·ä½“å¯¹åº”ç‰ˆæœ¬å¦‚ä¸‹:</strong></font>\n\n![](https://s2.loli.net/2022/06/08/Xf5MS9YHPajdnWR.png)\n\n\n\n<br>\n\n<br>\n\n<br>\n\n---\n\n<font color=red size=4 face=å®‹ä½“><strong>2. djiangoç¯‡</strong></font>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>1. åˆ›å»ºç½‘ç«™é¡¹ç›®å·¥ç¨‹</strong></font>\n\n```shell\n# django-admin startproject <ç½‘ç«™å·¥ç¨‹å>\ndjango-admin startproject mysite\n```\n\n<br>\n\n---\n\n<br>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>2. å¼€å¯pythonâ€”djangoç½‘ç«™æœåŠ¡</strong></font>\n\n```shell\npython3 manage.py runserver 0.0.0.0:8000\nnohup python3 manage.py runserver 0.0.0.0:8000 > manage.log 2>&1 &\n```\n\n<br>\n\n---\n\n<br>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>3. django æ¡†æ¶ä¸­æ·»åŠ å­åº”ç”¨</strong></font>\n\n```shell\n# python manage.py startapp <å­åº”ç”¨åç§°>\npython manage.py startapp index  # åˆ›å»ºäº†ä¸€ä¸ªåå« çš„æ–‡ä»¶å¤¹\n```\n\n<br>\n\n---\n\n<br>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>4. å¦‚æœdjangoå®‰è£…æˆåŠŸ ä½¿ç”¨pythonè¿›å…¥ä¹‹åï¼Œä½¿ç”¨å‘½ä»¤ä¼šæ˜¾ç¤ºdjangoç‰ˆæœ¬ä¿¡æ¯</strong></font>\n\n```shell\n>>>import django\n>>>django.__version__\n```\n\n<br>\n\n<br>\n\n<br>\n\n---\n\n","tags":["python","django"],"categories":["Python","Django"]},{"title":"html_ä¸‹å„ç±»æ ‡ç­¾å«ä¹‰","url":"/2023/05/22/html-ä¸‹å„ç±»æ ‡ç­¾å«ä¹‰/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>html_ä¸‹å„ç±»æ ‡ç­¾å«ä¹‰ï¼š</strong></font>\n\n<!--more-->\n\n```html\n<center></center> â€ƒâ€ƒå±…ä¸­æ ‡ç­¾\n<head></head>    â€ƒâ€ƒæµè§ˆå™¨å¤´\n<body></body>  â€ƒâ€ƒ æµè§ˆå™¨\n<title></title>    â€ƒâ€ƒheadä¸‹çš„titleæ ‡ç­¾  å°±æ˜¯æµè§ˆå™¨å¤´åç§°\n<p></p>  â€ƒâ€ƒ æ®µè½æ ‡ç­¾\n<br>  â€ƒâ€ƒæ¢è¡Œæ ‡ç­¾\n<hr>    â€ƒâ€ƒåˆ†å‰²çº¿æ ‡ç­¾\n<u></u>â€ƒâ€ƒä¸‹åˆ’çº¿æ ‡ç­¾\n<sub></sub>â€ƒâ€ƒä¸‹æ ‡\n<sup></sup>â€ƒâ€ƒä¸Šæ ‡\n\n<h2><strong>åŠ ç²—æ ‡ç­¾</strong></h2>\n\n<b></b>    â€ƒâ€ƒåŠ ç²—æ˜¾ç¤º\n<strong></strong>   â€ƒâ€ƒçªå‡ºæ–‡æœ¬ï¼Œå¼ºè°ƒå†…å®¹\n\nå€¾æ–œæ ‡ç­¾\n<em></em>\n<i></i>\n\nåˆ é™¤çº¿æ ‡ç­¾\n<s></s>\n<del></del>\n\ncolor='<é¢œè‰²>'     â€ƒâ€ƒé¢œè‰²\nwidth='<å®½åº¦>'      â€ƒâ€ƒ  å®½åº¦\n\nalign='left'    â€ƒâ€ƒé å·¦è¾¹\nalign='right'   â€ƒâ€ƒ é å³è¾¹\n\n<   â€ƒâ€ƒ å·¦å°–è§’å·\n>    â€ƒâ€ƒå³å°–è§’å·\n\n\\Â      â€ƒâ€ƒç©ºæ ¼å ä½ç¬¦   å—å­—ä½“å½±å“\n\\â€ƒ      â€ƒâ€ƒç©ºæ ¼å ä½ç¬¦   å®½åº¦æ˜¯ä¸€ä¸ªä¸­æ–‡å®½åº¦ï¼Œä¸å—å­—ä½“å½±å“\n\\Â©      â€ƒâ€ƒç¬¦å· Â©ï¼Œç‰ˆæƒ\nâ„¢              â€ƒâ€ƒå•†æ ‡â„¢\nÂ®              â€ƒâ€ƒ å•†æ ‡Â®\n\n<div></div>    åˆ’åˆ†åŒºåŸŸ\n<span><\\span>    æ›´æ²¡æœ‰å®é™…æ„ä¹‰ï¼Œä¸»è¦ç”¨äºæ–‡æœ¬ç‹¬ç«‹è£…é¥°çš„æ˜¯å¦ï¼Œå†…å®¹å¤šå®½ï¼Œå°±å ç”¨å¤šå®½çš„ç©ºé—´è·ç¦»\n\næ— åºåˆ—è¡¨æ ‡ç­¾\n    1ã€ulé‡Œé¢åªèƒ½æ”¾liæ ‡ç­¾ï¼Œlié‡Œé¢å¯ä»¥æ”¾å…¶ä»–æ ‡ç­¾\n    2ã€é»˜è®¤çš„æ˜¯é»‘è‰²çš„å®å¿ƒåœ†\n    3ã€type   disc(é»˜è®¤çš„å®å¿ƒåœ†)   circle(ç©ºå¿ƒåœ†)    square(æ­£æ–¹å½¢åœ†)  none(ä¸æ˜¾ç¤ºåœ†)\n<ul>\n    <li>å†…å®¹</li>\n    <li>å†…å®¹</li>\n</ul>\n\n\næœ‰åºåˆ—è¡¨æ ‡ç­¾\n<ol>æ ‡ç­¾åªèƒ½ç”¨æ¥å­˜æ”¾\\<li>æ ‡ç­¾ï¼Œæ•°å­—æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„)\n1ã€liæ ‡ç­¾é‡Œé¢å¯ä»¥éšæ„æ”¾ä»»ä½•æ ‡ç­¾ï¼Œä½†æ˜¯åœ¨olæ ‡ç­¾é‡Œé¢åªèƒ½æ”¾liæ ‡ç­¾\n2ã€æ•°å­—æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ \n3ã€olæ ‡ç­¾æ‹¥æœ‰å±æ€§\n    typeå±æ€§:å…±5ä¸ª\n    å–å€¼èŒƒå›´: 1ã€aã€Aã€iã€I\n    start:å–å€¼åªèƒ½æ˜¯ä¸€ä¸ªæ•°å­—\n<ol>\n    <li>1.æŠŠå†°ç®±æ‰“å¼€</li>\n    <li>2.å¤§è±¡è£…è¿›å»</li>\n    <li>3.å†°ç®±å…³ä¸Š</li>\n</ol>\n\nè‡ªå®šä¹‰åˆ—è¡¨\n\n<dl>\n    <dt>æˆ‘æ˜¯å›¾ç‰‡</dt>\n    <dd>æˆ‘æ˜¯æ–‡å­—</dd>\n</dl>\n\nimgæ ‡ç­¾å±æ€§\n\nsrc  é“¾æ¥\nalt æ˜¯å½“å›¾ç‰‡å®æ•ˆï¼Œæ— æ³•æ˜¾ç¤ºä¹‹åå‡ºç°çš„æ–‡å­—\ntitle  å›¾ç‰‡çš„åå­—\nwidth  å®½åº¦\nheight   é«˜åº¦\n\nè¶…é“¾æ¥æ ‡ç­¾\n\nè¶…é“¾æ¥<a></a> æ ‡ç­¾\ntarget=\"_self\"     é»˜è®¤å€¼æ˜¯:_self  åœ¨å‰é¡µé¢æ‰“å¼€è¶…é“¾æ¥\ntarget=\"_blank\"    æ–°çª—å£æ‰“å¼€è¶…é“¾æ¥\nè¶…é“¾æ¥å¯ä»¥åŒ…è£¹å›¾ç‰‡æˆ–è€…æ–‡å­—ç­‰ç­‰\n\n<h5>ä¾‹å¦‚ï¼š</h5>\n\n<pre data-language=HTML><code class=\"language-markup line-numbers\"><a href=\"\">\n    <img src=\"\" alt=\"\">\n</a>\n\n<h1>å•å…ƒæ ¼</h1>\n</code></pre>\n\n<pre data-language=HTML><code class=\"language-markup line-numbers\"><table>  <!-- åˆ›å»ºè¡¨æ ¼ -->\n    <tr>     <!-- trè¡¨ç¤ºè¡Œ -->\n        <td>1</td>     <!-- tdè¡¨ç¤ºå•å…ƒæ ¼ -->\n        <td>2</td>\n    </tr>\n    <tr>\n        <td>3</td>\n        <td>4</td>\n    </tr>\n</table>\n\n<!--\ntable è¡¨æ ¼å±æ€§\n1ã€å®½åº¦ width\n2ã€é«˜åº¦ height\n3ã€ è¾¹æ¡† border\n4ã€è¾¹æ¡†é¢œè‰² bordercolor\n5ã€èƒŒæ™¯é¢œè‰²  bgcolor\n6ã€æ°´å¹³å¯¹é½  align=\"leftæˆ–è€…right æˆ–è€…center\"\n7ã€cellspacing = \"å•å…ƒæ ¼ä¸å•å…ƒæ ¼ä¹‹é—´çš„é—´è·\"\n8ã€cellpadding= \"å•å…ƒæ ¼ä¸å†…å®¹ä¹‹é—´çš„ç©ºéš™\"\nç™¾åˆ†æ¯”æ˜¯ç›¸å½“äºçˆ¶å…ƒç´ çš„ç™¾åˆ†æ¯”ï¼Œè€Œéå±å¹•çš„ç™¾åˆ†æ¯”\n-->\n\n<!--\nè¡Œ tr å±æ€§\n1ã€é«˜åº¦ height\n2ã€èƒŒæ™¯é¢œè‰²  bgcolor\n3ã€æ–‡å­—æ°´å¹³å¯¹é½  align=\"leftæˆ–è€…right æˆ–è€…center\"\n4ã€æ–‡å­—é”¤å­å¯¹å…¶  valign=\"\"topæˆ–è€…middleæˆ–è€…bottom\n-->\n<!--\ntd ä¸‹å¤¸è¡Œåˆå¹¶ colspan=\"2\"\ntd ä¸‹å¤¸åˆ—åˆå¹¶  rowspan=\"2\"\n-->\n</code></pre>\n\n<img src=\"https://s2.loli.net/2022/06/08/mgGdypov1PTbnkJ.png\" alt=\"å•å…ƒè¡¨æ ¼\" />\n\n<pre data-language=HTML><code class=\"language-markup line-numbers\">è¡¨å•æ ‡ç­¾form å’Œinput\n\n\n<form action=\"å‘ä½•å¤„å‘é€è¡¨å•æ•°æ®\" method=\"postæˆ–è€…get\">\n    <input type=\"text\">\n    <!--\n    Aã€ å±æ€§ type å®šä¹‰è¾“å…¥æ¡†çš„ç±»å‹\n        aã€æ–‡æœ¬æ¡† type=\"text\"   å¯†ç æ¡†  type=\"password\"\n        bã€æäº¤æ¡† type=\"submit\"  å’Œ  <button>æäº¤æŒ‰é’®</button>> ä¸€æ ·\n        cã€æŒ‰é’®æ¡† type=\"button\"  å•çº¯çš„æŒ‰é’®\n        dã€é‡ç½®æ¡† type=\"reset\" æ¸…ç©ºçš„æ•ˆæœ\n    Bã€å±æ€§ placeholder æè¿°è¾“å…¥å­—æ®µé¢„æœŸå€¼çš„å‰ªçŸ­æç¤ºä¿¡æ¯ã€‚å…¼å®¹åˆ°IE8ä»¥ä¸Š\n    Cã€å±æ€§ name å¿…é¡»è®¾ç½®ï¼Œå¦åˆ™åœ¨æäº¤è¡¨å•æ—¶ï¼Œç”¨æˆ·è¾“å…¥å…¶ä¸­çš„æ•°æ®ä¸ä¼šè¢«å‘é€åˆ°æœåŠ¡å™¨\n    Dã€å±æ€§ value\n    -->\n</form>\n</code></pre>\n\ncssæ ·å¼è¡¨å¼•å…¥\n\n<!--ç¬¬ä¸€ç§å¼•å…¥æ ·å¼    åŠ è½½é¡µé¢çš„åŒæ—¶ï¼ŒåŠ è½½css-->\n<link rel=\"stylesheet\" type=\"text/css\" href=\"css/htmlå‰ç«¯_18-csså¤–éƒ¨æ ·å¼.css\">\n<!--stylesheet æ ·å¼      typeå±æ€§ ä¸ºcss          hrefä¸ºè·¯å¾„-->\n<!--ç¬¬äºŒç§å¯¼å…¥æ–¹å¼    #  ç‰¹æ€§æ˜¯åœ¨é¡µé¢åŠ è½½å®Œä¹‹åï¼Œæ‰ä¼šåŠ è½½css-->\n<style>\n    @import url(css/htmlå‰ç«¯_18-csså¤–éƒ¨æ ·å¼.css);\n</style>\n</code></pre>\n\né€‰æ‹©å™¨æ·»åŠ å±æ€§\n\n/*classç±»é€‰æ‹©å™¨*/\ndiv.idm{background-color: sienna;}    /*å…¶ä¸­divæ˜¯æ ‡ç­¾ï¼Œidmæ˜¯classç±»*/\ndiv.idm#xiao{color: red;}      /*å…¶ä¸­divæ˜¯æ ‡ç­¾ï¼Œidmæ˜¯classç±» #xiao æ˜¯idå€¼*/\n</code></pre>\n\né€šé…ç¬¦\n\nmargin    å¤–è¾¹è·\npadding   å†…è¾¹è·\n\n*{margin:0;padding:0;}    /* è®¾ç½®æ‰€æœ‰å…ƒç´ å¤–è¾¹è·ä¸º0ï¼Œå†…è¾¹è·ä¸º0*/\n</code></pre>\n\nç»„ç¾¤é€‰æ‹©å™¨\n\n<!--ç»„ç¾¤é€‰æ‹©å™¨ç”¨é€—å·éš”å¼€-->\n<style>\n    div,p,h1{\n        color: red;\n    }\n</style>\n</code></pre>\n\nåä»£é€‰æ‹©å™¨\n\n<!-- ç‰¹æ€§  æ˜¯å…ˆåŒ¹é…æ‰€æœ‰çš„pæ ‡ç­¾ï¼Œç„¶ååœ¨åŒ¹é…divæ ‡ç­¾\nåä»£é€‰æ‹©å™¨\nä¾‹å¦‚ï¼š é€‰æ‹©divä¸‹çš„pæ ‡ç­¾-->\n<style>\n    div p {\n        color: red;\n    }\n</style>\n\nä¼ªç±»é€‰æ‹©å™¨\n\n<!--\nä¼ªç±»é€‰æ‹©å™¨\nè¯­æ³•ï¼š\n    a:link{å±æ€§: å±æ€§å€¼;}   è¶…é“¾æ¥çš„åˆå§‹çŠ¶æ€;\n    a:visited{å±æ€§: å±æ€§å€¼;}    è¶…é“¾æ¥è¢«è®¿é—®åçš„çŠ¶æ€;\n    a:hover{å±æ€§: å±æ€§å€¼;}    é¼ æ ‡æ‚¬åœï¼Œå³é¼ æ ‡åˆ’è¿‡è¶…é“¾æ¥æ—¶çš„çŠ¶æ€;\n    a:active{å±æ€§: å±æ€§å€¼;}    è¶…é“¾æ¥è¢«æ¿€æ´»æ—¶çš„çŠ¶æ€ï¼Œå³é¼ æ ‡æŒ‰ä¸‹æ—¶è¶…é“¾æ¥çš„çŠ¶æ€\nlink--visited--hover--active\n\nè¯´æ˜ï¼š\nAï¼šå½“è¿™4ä¸ªè¶…é“¾æ¥ä¼ªç±»é€‰æ‹©ç¬¦è”åˆä½¿ç”¨æ—¶ï¼Œåº”æ³¨æ„ä»–ä»¬çš„é¡ºåºï¼Œæ­£å¸¸é¡ºåºä¸ºï¼š\n    a:link > a:visited > a:hover > a:active ,é”™è¯¯çš„é¡ºåºæœ‰æ—¶ä¼šä½¿è¶…é“¾æ¥çš„æ ·å¼å®æ•ˆï¼›\nBï¼šä¸ºäº†ç®€åŒ–ä»£ç ï¼Œå¯ä»¥æŠŠä¼ªç±»é€‰æ‹©å™¨ä¸­ç›¸åŒçš„å£°æ˜æå‡ºæ¥æ”¾åœ¨aé€‰æ‹©ç¬¦ä¸­ï¼›\n    ä¾‹å¦‚ï¼š a{color:red;} a:hover{color:green}  è¡¨ç¤ºè¶…é“¾æ¥çš„åˆå§‹å’Œè®¿é—®è¿‡åçš„çŠ¶æ€ä¸€æ ·ï¼›é¼ æ ‡åˆ’è¿‡çš„çŠ¶æ€å’Œç‚¹å‡»æ—¶çš„çŠ¶æ€ä¸€æ ·\n-->\n<img src=\"https://s2.loli.net/2022/06/08/iNHdzGOKsuIBfvS.png\" alt=\"é€‰æ‹©å™¨çš„æƒé‡\" />\n</code></pre>\n```\n\n![é€‰æ‹©å™¨çš„æƒé‡](https://s2.loli.net/2022/06/08/iNHdzGOKsuIBfvS.png)\n","tags":["æ•™ç¨‹","html"],"categories":["_A2-å‰ç«¯","html"]},{"title":"django_SQLite_3.9.0_required(found3.7.17)_é”™è¯¯è§£å†³æ–¹æ¡ˆ","url":"/2023/05/22/django-SQLite-3-9-0-required-found3-7-17-é”™è¯¯è§£å†³æ–¹æ¡ˆ/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>django_SQLite_3.9.0_required(found3.7.17)_é”™è¯¯è§£å†³æ–¹æ¡ˆï¼š</strong></font>\n\n<!--more-->\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>è§£å†³ djangoâ€”SQLiteæŠ¥é”™</strong></font>\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>é”™è¯¯ä¿¡æ¯</strong></font>\n\n```\ndjango.core.exceptions.ImproperlyConfigured: SQLite 3.9.0 or later is required (found 3.7.17).\n```\n\n<br>\n\n---\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>1. è¿›å…¥ä½ çš„è™šæ‹Ÿç¯å¢ƒæ–‡ä»¶å¤¹</strong></font>\n\n```python\nvim django_venv/lib/python3.8/site-packages/django/db/backends/sqlite3/base.py\n\næ‰¾åˆ°check_sqlite_version() å‡½æ•°è°ƒç”¨è¯­å¥  ==> ç¬¬66è¡Œ  æ³¨é‡Š\n```\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å°†django_venv/lib/python3.8/site-packages/django/db/backends/sqlite3/base.py ä¸‹çš„check_sqlite_version()å‡½æ•°ç¦ç”¨</strong></font>\n\n![](https://s2.loli.net/2022/06/08/azvcJnsmBe1RWfF.png)\n\n<br>\n\n---\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>2. å‡ºç°å¦‚ä¸‹é”™è¯¯ï¼Œç»§ç»­å¤„ç†ï¼Œå¦åˆ™ç•¥è¿‡</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>django.db.utils.NotSupportedError: deterministic=True requires SQLite 3.8.3 or higher</strong></font>\n\n```python\n# å°†208è¡Œçš„\ndeterministic=True,\n# æ”¹ä¸º\ndeterministic=False,\n```\n\n![](https://s2.loli.net/2022/06/08/Wo2rHfMtcFlDBS6.png)\n\n![](https://s2.loli.net/2022/06/08/hq5WjezyHZCfiBv.png)\n\n<br>\n\n<br>\n\n<br>\n\n---\n\n","tags":["python","django","é”™è¯¯"],"categories":["_A9-é”™è¯¯è§£å†³","python","SQLite"]},{"title":"Djangoè·¯ç”±é…ç½®","url":"/2023/05/22/Djangoè·¯ç”±é…ç½®/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Djangoè·¯ç”±é…ç½®</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>1. Djangoè·¯ç”±é…ç½®</strong></font>\n\n- <font color=red size=3 face=å®‹ä½“><strong>**åˆå§‹åŒ–djangoé…ç½®**</strong></font>\n- <font color=red size=3 face=å®‹ä½“><strong>**ä¸»è·¯ç”±**</strong></font>\n\n<br>\n\n---\n\n<br>\n\n- <font color=red size=3 face=å®‹ä½“><strong>**ä¸»è·¯ç”±(ä¸å˜)**</strong></font>\n\n```python\nfrom django.contrib import admin\nfrom django.urls import path, include\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    path('', include('app.urls'))           # ç»‘å®šåˆ°å­è·¯ç”±è¯­å¥\n]\n```\n\n<br>\n\n---\n\n<br>\n\n+ <font color=red size=3 face=å®‹ä½“><strong>å­è·¯ç”±(å¸¦é—®å·è®¿é—®æ–¹å¼http://192.168.48.182:8000/index/?name=name&age=age)</strong></font>\n\n```python\nfrom django.urls import path\nfrom .views import index\nurlpatterns = [\n    path('index', index.as_view()),\n]\n```\n\n<br>\n\n---\n\n<br>\n\n+ <font color=red size=3 face=å®‹ä½“><strong>viewsé…ç½®(å¸¦é—®å·è®¿é—®æ–¹å¼http://192.168.48.182:8000/?name=name&age=age)</strong></font>\n\n```python\nfrom django.shortcuts import render\nfrom django.views.generic import View\nfrom django.http import HttpResponse\n# Create your views here.\nclass index(View):\n    def get(self, request):\n        name = request.GET.get('name', '')\n        age = request.GET.get('age', 10)\n        return HttpResponse(name + age)\n```\n\n<br>\n\n---\n\n<br>\n\n+ <font color=red size=3 face=å®‹ä½“><strong>å­è·¯ç”±(ç›´æ¥è®¿é—®http://192.168.48.182:8000/index/name/age)</strong></font>\n\n```python\nfrom django.urls import path\nfrom .views import index\nurlpatterns = [\n    path('index//', index.as_view()),\n]\n```\n\n<br>\n\n---\n\n<br>\n\n+ <font color=red size=3 face=å®‹ä½“><strong>viewsé…ç½®(ç›´æ¥è®¿é—®http://192.168.48.182:8000/index/name/age)</strong></font>\n\n```python\nfrom django.shortcuts import render\nfrom django.views.generic import View\nfrom django.http import HttpResponse\n\n# Create your views here.\nclass index(View):\n    def get(self, request, name, age):\n        return HttpResponse(name + age)\n```\n\n<br>\n\n---\n\n<br>\n\n+ <font color=red size=3 face=å®‹ä½“><strong>templatesåˆ›å»ºå®Œæˆåçš„settings.pyçš„é…ç½®</strong></font>\n\n```python\nfrom pathlib import Path\n# Build paths inside the project like this: BASE_DIR / 'subdir'.\nBASE_DIR = Path(__file__).resolve().parent.parent\n# Quick-start development settings - unsuitable for production\n# See https://docs.djangoproject.com/en/3.2/howto/deployment/checklist/\n# SECURITY WARNING: keep the secret key used in production secret!\nSECRET_KEY = 'django-insecure-5ttic0454bv9_&yj99u3z@7u0x6(h!1@3^2&^fn462znki3q)*'\n# SECURITY WARNING: don't run with debug turned on in production!\nDEBUG = True\nALLOWED_HOSTS = ['*']\n# Application definition\nINSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'app'\n]\nMIDDLEWARE = [\n    'django.middleware.security.SecurityMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n]\nROOT_URLCONF = 'django_02.urls'\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(BASE_DIR, 'templates')],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\nWSGI_APPLICATION = 'django_02.wsgi.application'\n# Database\n# https://docs.djangoproject.com/en/3.2/ref/settings/#databases\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.sqlite3',\n        'NAME': BASE_DIR / 'db.sqlite3',\n    }\n}\n# Password validation\n# https://docs.djangoproject.com/en/3.2/ref/settings/#auth-password-validators\nAUTH_PASSWORD_VALIDATORS = [\n    {\n        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',\n    },\n    {\n        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',\n    },\n]\n# Internationalization\n# https://docs.djangoproject.com/en/3.2/topics/i18n/\nLANGUAGE_CODE = 'zh-hans'\nTIME_ZONE = 'Asia/Shanghai'\nUSE_I18N = True\nUSE_L10N = True\nUSE_TZ = False\n# Static files (CSS, JavaScript, Images)\n# https://docs.djangoproject.com/en/3.2/howto/static-files/\nSTATIC_URL = '/static/'\nSTATICFILES_DIRS = [os.path.join(BASE_DIR, 'static')]\n# Default primary key field type\n# https://docs.djangoproject.com/en/3.2/ref/settings/#default-auto-field\nDEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'\n```\n\n<br>\n\n<br>\n\n<br>\n\n---\n\n\n\n","tags":["python","django"],"categories":["Python","Django"]},{"title":"Djangoä¸‹ä½¿ç”¨MongoDBæ•°æ®åº“æ•™ç¨‹","url":"/2023/05/22/Djangoä¸‹ä½¿ç”¨MongoDBæ•°æ®åº“æ•™ç¨‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Djangoä¸‹ä½¿ç”¨MongoDBæ•°æ®åº“æ•™ç¨‹ï¼š</strong></font>\n\n<!--more-->\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>1ã€å®‰è£…</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>è¦åœ¨Djangoä¸‹ä½¿ç”¨mongodbæ•°æ®åº“ï¼Œé¦–å…ˆåœ¨è™šæ‹Ÿç¯å¢ƒä¸‹å®‰è£…mongodbåŒ…</strong></font>\n\n```shell\npip install pymongo\n```\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>2ã€é…ç½®settings</strong></font>\n\n```\nfrom pymongo import MongoClient   # å¯¼å…¥æ¨¡å—ï¼Œmongoå®¢æˆ·ç«¯\n```\n\n![](https://s2.loli.net/2022/06/08/bicEP2eHOylFaxJ.png)\n\n<br>\n\n---\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>3ã€åˆ›å»ºpythonæ–‡ä»¶</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>åœ¨APPä¸‹åˆ›å»ºä¸€ä¸ªmongo_models.pyæ–‡ä»¶</strong></font>\n\n```python\nfrom django.conf import settings\nconn = settings.MONGOCLIENT['user_one']\n\nclass user(object):\n    db = conn['user_one']\n\n    @classmethod\n    def insert(cls, **params):\n        return cls.db.insert(params)\n\n    @classmethod\n    def get(cls, **params):\n        return cls.db.find_one(params)\n    @classmethod\n    def gets(cls, **params):\n        return list(cls.db.find(params))\n    @classmethod\n    def update(cls, _id, **params):\n        return cls.db.update({'_id': _id}, {'$set': params})\n\n```\n\n<br>\n\n---\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>4ã€åˆ›å»ºpythonæ–‡ä»¶_mongoæ•°æ®åº“å¼•æ“</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>å®‰è£…mongoengine</strong></font>\n\n```shell\npip install mongoengine\n```\n\n<br>\n\n<br>\n\n<br>\n\n---\n\n","tags":["python","mongodb","django","æ•°æ®åº“"],"categories":["_9-æ•°æ®åº“","mongodb"]},{"title":"Flask_åŸºç¡€æ•™ç¨‹","url":"/2023/05/22/Flask-åŸºç¡€æ•™ç¨‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Flask_åŸºç¡€æ•™ç¨‹ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>Flaskè½»é‡çº§æ¡†æ¶ï¼Œå…¥é—¨é…ç½®æ•™ç¨‹</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>å®‰è£…Flask</strong></font>\n\n```shell\npip install flask\n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>åŸºæœ¬ä½¿ç”¨</strong></font>\n\n```python\nfrom flask import Flask    # å¯¼å…¥FlaskåŒ…\napp = Flask(__name__, template_folder='templates')  #  é»˜è®¤æ¨¡æ¿æ–‡ä»¶å¤¹æ˜¯templates    # å®ä¾‹åŒ–Flaskåˆ°app  __name__ Flaskæœ¬èº«\n@app.route('/index')    # å®šä¹‰è·¯ç”± ä¸º/index\n\n\ndef index():\n    return 'Hello World'   # è®¿é—®è¿”å›å†…å®¹\nif __name__ == '__main__':\n    app.run()    # è¿è¡Œ Flask\n\n```\n\n<br>\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>é‡ç‚¹ï¼š</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>Flaskå…¶å®æ˜¯æœ‰werkzeug ä¸‹æ‹“å±•å‡ºæ¥çš„</strong></font>\n\n```python\nfrom werkzeug.wrappers import Request, Response\nfrom werkzeug.serving import run_simple\n\n@Request.application\ndef hello(request):\n    return Response('Hello World!')\n\nif __name__ == '__main__':\n    run_simple('localhost', 4000, hello)   # ç›‘å¬ç«¯å£localhost:4000   è¿”å›å‡½æ•° hello()ä¸‹å†…å®¹\n```\n\n<br>\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>Flask æ¡†æ¶ä¸‹çš„getä¸postå†™æ³•ï¼š</strong></font>\n\n```python\nfrom flask import Flask,render_template, request, redirect\napp = Flask(__name__, template_folder='templates')\napp.secret_key = 'sdqx4q4we2w'  # session_cookie åŠ ç›\n\n\n@app.route('/login', methods=['GET','POST'])\ndef login():\n    if request.method == 'GET':\n        return render_template('login.html')\n    # request.args   # è·å–GETä¼ æ¥çš„å‚æ•°\n    # request.form   # è·å–POSTä¼ é€’è¿‡æ¥çš„å‚æ•°\n    user = request.form.get('user') # è·å–POSTè¿‡æ¥çš„å€¼ USER\n    pwd = request.form.get('pwd')  # è·å–POSTè¿‡æ¥çš„å€¼  pwd\n    if user == 'alex' and pwd =='123':\n        session['user_info'] = user   # å°†ä¸ªäººä¿¡æ¯å­˜å…¥ sessionç»™æµè§ˆå™¨\n        return redirect('/index')    # è·³è½¬é¡µé¢\n    else:\n        return render_template('login.html', msg = 'ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯')  # flask çš„ä¸¤ç§ä¼ å‚æ–¹å¼\n        # return render_template('login.html', **{'msg': 'ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯'})\n\n\n@app.route('/index')\ndef index():  # é»˜è®¤getè¯·æ±‚\n    return 'ç™»é™†æˆåŠŸ'\n\n\nif __name__ == '__main__':\n    app.run()    # è¿è¡Œ Flask\n\n```\n\n<br>\n\n<br>\n\n<br>\n\n---\n\n","tags":["python","Flask"],"categories":["Python","Flask"]},{"title":"Hexo æ·»åŠ åˆ†ç±»åŠæ ‡ç­¾","url":"/2023/05/22/Hexo-æ·»åŠ åˆ†ç±»åŠæ ‡ç­¾/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Hexo æ·»åŠ åˆ†ç±»åŠæ ‡ç­¾ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>1. åˆ›å»ºâ€œåˆ†ç±»â€é€‰é¡¹</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ç”Ÿæˆâ€œåˆ†ç±»â€é¡µå¹¶æ·»åŠ tpyeå±æ€§,è¿›å…¥åšå®¢ç›®å½•ã€‚æ‰§è¡Œå‘½ä»¤ä¸‹æ–¹å‘½ä»¤</strong></font>\n\n```\nhexo new page categories\n```\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>categoriesæ–‡ä»¶å¤¹ä¸‹ä¼šæœ‰index.mdè¿™ä¸ªæ–‡ä»¶ï¼Œæ‰“å¼€åé»˜è®¤å†…å®¹æ˜¯è¿™æ ·çš„ï¼š</strong></font>\n\n```\n---\ntitle: categories\ndate: 2019-04-22 14:47:40\n---\n\n```\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æ·»åŠ type: â€œcategoriesâ€åˆ°å†…å®¹ä¸­ï¼Œæ·»åŠ åæ˜¯è¿™æ ·çš„ï¼š</strong></font>\n\n```\n---\ntitle: åˆ†ç±»\ndate: 2019-04-24 15:30:30\ntype: categories\n---\n\n```\n\n\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ä¿å­˜å¹¶å…³é—­æ–‡ä»¶ã€‚</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ç»™æ–‡ç« æ·»åŠ â€œcategoriesâ€å±æ€§</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æ‰“å¼€éœ€è¦æ·»åŠ åˆ†ç±»çš„æ–‡ç« ï¼Œä¸ºå…¶æ·»åŠ categorieså±æ€§ã€‚ä¸‹æ–¹çš„categories:Hexoè¡¨ç¤ºè¿™ç¯‡æ–‡ç« æ·»åŠ åˆ°åˆ°â€œHexoâ€è¿™ä¸ªåˆ†ç±»ã€‚æ³¨æ„ï¼šä¸€ç¯‡æ–‡ç« åªä¼šæ·»åŠ åˆ°ä¸€ä¸ªåˆ†ç±»ä¸­ï¼Œ</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å¦‚æœæ˜¯å¤šä¸ªé»˜è®¤æ”¾åˆ°ç¬¬ä¸€ä¸ªåˆ†ç±»ä¸­ã€‚</strong></font>\n\n```\n---\ntitle: Hexo æ·»åŠ åˆ†ç±»åŠæ ‡ç­¾\ndate: 2017-05-26 12:12:57\ncategories: Hexo\n---\n\n```\n\n```\n---\ntitle: linuxå®‰è£…VMwareå‘\ndate: 2021-11-01 20:05:30\ncategories: \n- [Hexo]\n- [Linuxç¬”è®°]\ntags:\n---\n```\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>è‡³æ­¤ï¼ŒæˆåŠŸç»™æ–‡ç« æ·»åŠ åˆ†ç±»ï¼Œç‚¹å‡»é¦–é¡µçš„â€œåˆ†ç±»â€å¯ä»¥çœ‹åˆ°è¯¥åˆ†ç±»ä¸‹çš„æ‰€æœ‰æ–‡ç« ã€‚å½“ç„¶ï¼Œåªæœ‰æ·»åŠ äº†categories: xxxçš„æ–‡ç« æ‰ä¼šè¢«æ”¶å½•åˆ°é¦–é¡µçš„â€œåˆ†ç±»â€ä¸­ã€‚</strong></font>\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>2. åˆ›å»ºâ€œæ ‡ç­¾â€é€‰é¡¹</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ç”Ÿæˆâ€œæ ‡ç­¾â€é¡µå¹¶æ·»åŠ tpyeå±æ€§</strong></font>\n\n```\nhexo new page tags\n```\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>åœ¨tagsæ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰¾åˆ°index.mdè¿™ä¸ªæ–‡ä»¶ï¼Œæ‰“å¼€åé»˜è®¤å†…å®¹æ˜¯è¿™æ ·çš„ï¼š</strong></font>\n\n```\n---\ntitle: æ ‡ç­¾\ndate: 2019-04-22 14:22:08\n---\n```\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>æ·»åŠ type: â€œtagsâ€åˆ°å†…å®¹ä¸­ï¼Œæ·»åŠ åæ˜¯è¿™æ ·çš„ï¼š</strong></font>\n\n```\n---\ntitle: æ ‡ç­¾\ndate: 2019-04-24 15:40:24\ntype: tags\n---\n```\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ä¿å­˜å¹¶å…³é—­æ–‡ä»¶ã€‚</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ç»™æ–‡ç« æ·»åŠ â€œtagsâ€å±æ€§,æ‰“å¼€éœ€è¦æ·»åŠ æ ‡ç­¾çš„æ–‡ç« ï¼Œä¸ºå…¶æ·»åŠ tagså±æ€§ã€‚</strong></font>\n\n```\n---\ntitle: Hexo æ·»åŠ åˆ†ç±»åŠæ ‡ç­¾\ndate: 2019-04-24 15:40:24\ncategories:\n- Hexo\ntags:\n- åšå®¢\n---\n```\n\n","tags":["hexo"],"categories":["_A8-å·¥å…·","Hexo"]},{"title":"hexoæ–‡ç« åˆ†ç±»","url":"/2023/05/22/hexoæ–‡ç« åˆ†ç±»/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>hexoæ–‡ç« åˆ†ç±»ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>1ã€è¿›å…¥åšå®¢ç›®å½•ï¼Œåˆ›å»ºé¡µé¢ã€‚</strong></font>\n\n```\nhexo new page categories\n```\n\n<br>\n\n---\n\n<br>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å®Œæˆåæœ‰æç¤ºï¼š</strong></font>\n\n```\nINFO Created: /opt/blog/source/categories/index.md\n```\n\n<br>\n\n---\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>2ã€ä¿®æ”¹ä¸Šä¸€æ­¥ç”Ÿæˆçš„mdæ–‡ä»¶ï¼Œæ·»åŠ type: â€œcategoriesâ€åˆ°æ–‡ä»¶ä¸­ï¼Œæ”¹å¥½åæ˜¯è¿™æ ·çš„ï¼š</strong></font>\n\n```\nâ€”\ntitle: æ–‡ç« åˆ†ç±»\ndate: 2020-02-18 05:07:50\ntype: â€œcategoriesâ€\nâ€”\n```\n\n<font color=red size=2 face=å®‹ä½“><strong>è‡³æ­¤ï¼Œæ–‡ç« åˆ†ç±»å·²ç»åˆ›å»ºå®Œæˆï¼Œä¸‹é¢éœ€è¦ç»™åšæ–‡æŒ‡å®šåˆ†ç±»ã€‚</strong></font>\n\n<br>\n\n---\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>3ï¼Œæ‰“å¼€åšæ–‡mdæ–‡ä»¶ï¼Œæ·»åŠ åˆ†ç±»å±æ€§ï¼š</strong></font>\n\n```\ncategories:\nâ€“ server\n```\n\n<br>\n\n---\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>4ï¼Œé‡æ–°å‘å¸ƒå³å¯çœ‹åˆ°ã€‚</strong></font>\n\n<font color=red size=2 face=å®‹ä½“><strong>æ³¨æ„ï¼Œä¸€ç¯‡åšæ–‡åªèƒ½å±äºä¸€ä¸ªåˆ†ç±»ï¼Œè®¾ç½®å¤šä¸ªåˆ†ç±»æ—¶å°†ä¼šæˆä¸ºåˆ†ç±»åµŒå¥—ã€‚</strong></font>\n\n<br><br><br>\n\n---\n\n","tags":["hexo"],"categories":["_A8-å·¥å…·","Hexo"]},{"title":"HLSä¸‹ ffmpegå‘½ä»¤è¯¦è§£","url":"/2023/05/22/HLSä¸‹-ffmpegå‘½ä»¤è¯¦è§£/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>FFMPEGä¸‹å‘½ä»¤ç¹å¤šï¼Œç‰¹æ­¤è®°å½•å…³äºHLSçš„ç›¸å…³å‘½ä»¤ï¼Œä»¥å¤‡ä¸æ—¶ä¹‹éœ€</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å¦‚æœçœ‹åˆ°æœ‰éœ€è¦çš„å‘½ä»¤ï¼Œç„¶ååœ¨æ¥æ›´æ–°</strong></font>\n\n<br>\n\n---\n\n<br>\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>é€šè¿‡m3u8ä¸‹è½½è§†é¢‘ï¼Œå¹¶åˆæˆmp4</strong></font>\n\n```python\nffmpeg -i  -c copy <ä¿å­˜è·¯å¾„>\n# ä¾‹å¦‚ï¼š ffmpeg -i 'https://xxx.com/aaa.m3u8' -c copy '/home/ll/aaa.mp4'\n# ä¸æ”¹å˜è§†é¢‘æµçš„ç ç‡ï¼Œç›´æ¥åˆæˆmp4   è¿™æ˜¯æœ€å¿«çš„ä¸€ç§ä¸‹è½½è§†é¢‘çš„æ–¹æ³•\n```\n\n<br>\n\n---\n\n<br>\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>æ·»åŠ headersåˆ° å‘½ä»¤ä¸­ä¸‹è½½è§†é¢‘</strong></font>\n\n```python\nffmpeg -headers $'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36\\r\\nHost: xxx.com' -i 'xxx.m3u8' -c copy 'xxx.mp4'\n# è¿™ç§å°±æ˜¯ç®€å•çš„ç›´æ¥å°† headers è¯·æ±‚å¤´æ–‡ä»¶åŠ å¦‚hlsè¯·æ±‚ä¸­å»ï¼Œç„¶åè·å–æ•°æ®\n```\n\n<br>\n\n---\n\n<br>\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>ffmpeg æ·»åŠ  headers è¯¦è§£ä¸­é«˜çº§æ–¹æ³•</strong></font>\n\n```python\nffmpeg -headers 'Origin: https://xxx.com\\r\\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36\\r\\nReferer: https://xxx.com' -threads 0 -i 'åœ°å€' -c copy -y -f mpegts 'æ–‡ä»¶å.ts' -v trace\n\n#  >>>  ä½¿ç”¨-headersâ€™å¤´ä¸€\\r\\nå¤´äºŒâ€™æ·»åŠ header\n# æ³¨æ„é¡ºåº ï¼Œæ”¾åœ¨å‘½ä»¤è¡Œæœ€åé¢æ— æ³•ç”Ÿæ•ˆå›°æ‰°äº†åŠå¤©..\n# åæ¥è¾“å‡ºäº†ä¸€ä¸‹ä¿¡æ¯æ‰å‘ç°é—®é¢˜\n# -v trace ç”¨äºè¾“å‡ºå½“å‰çš„headerä¿¡æ¯æ–¹ä¾¿è°ƒè¯•\n# åœ¨Linuxç»ˆç«¯ä¸‹æ­£å¸¸ä½¿ç”¨ï¼ŒWindowsä¸‹åº”è¯¥å¤§åŒå°å¼‚ã€‚\n# è®¾ç½®UAå¯ä»¥ä½¿ç”¨å•ç‹¬çš„-user-agentæŒ‡ä»¤\n# åœ¨è¾“å‡ºæ–‡ä»¶åå‰ä½¿ç”¨-fs 1024Ké™åˆ¶ä¸º1024K\n```\n\n<br>\n\n---\n\n<br>\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>ffmpeg æ·»åŠ  headers è½¬ç  çº¿ç¨‹ é«˜çº§æ–¹æ³•</strong></font>\n\n```python\nffmpeg -headers 'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36\\r\\nHost: xxx.net\\r\\nReferer: https://xxx.com/\\r\\n' -i 'https://xxx.m3u8' -threads 5 -preset ultrafast -y -c:v libx264 -strict -2 'æµ‹è¯•2.mp4'\n\n\n#  >>>  ä½¿ç”¨-headersâ€™å¤´ä¸€\\r\\nå¤´äºŒâ€™æ·»åŠ header\n#  >>>  éœ€è¦æ³¨æ„çš„æ˜¯ åœ¨æ·»åŠ  headers çš„æ—¶å€™ ,   åœ¨headers ç»“æŸæ—¶   éœ€è¦æ·»åŠ \\r\\n æ¥ç»“æŸï¼Œå¦åˆ™ä¼šæ”¶åˆ°é”™è¯¯ \n#  >>>  No trailing CRLF found in HTTP header. Adding it        å½“ç„¶è¿™æ˜¯é”™è¯¯æç¤ºï¼Œä¸æ˜¯æŠ¥é”™ï¼Œå¹¶ä¸å½±å“ç¨‹åºè¿è¡Œï¼Œ ffmpeg ä¼šä¸»åŠ¨æ·»åŠ  \\r\\næ¥ç»“æŸheaders\n# æ³¨æ„é¡ºåº ï¼Œæ”¾åœ¨å‘½ä»¤è¡Œæœ€åé¢æ— æ³•ç”Ÿæ•ˆå›°æ‰°äº†åŠå¤©..\n# threads 5   çº¿ç¨‹è½¬ç \n# -y -c:v libx264 -strict -2     è½¬æ¢h264 ç¼–ç è§†é¢‘\n# åæ¥è¾“å‡ºäº†ä¸€ä¸‹ä¿¡æ¯æ‰å‘ç°é—®é¢˜\n# -v trace ç”¨äºè¾“å‡ºå½“å‰çš„headerä¿¡æ¯æ–¹ä¾¿è°ƒè¯•\n# åœ¨Linuxç»ˆç«¯ä¸‹æ­£å¸¸ä½¿ç”¨ï¼ŒWindowsä¸‹åº”è¯¥å¤§åŒå°å¼‚ã€‚\n# è®¾ç½®UAå¯ä»¥ä½¿ç”¨å•ç‹¬çš„-user-agentæŒ‡ä»¤\n# åœ¨è¾“å‡ºæ–‡ä»¶åå‰ä½¿ç”¨-fs 1024Ké™åˆ¶ä¸º1024K\n```\n\n<br>\n\n<br>\n\n<br>\n\n---\n\n","tags":["ffmpeg"],"categories":["_A4-FFmpeg","å‚æ•°è¯¦è§£"]},{"title":"å‰ç«¯ html csså±æ€§","url":"/2023/05/18/å‰ç«¯-html-csså±æ€§/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>å‰ç«¯ html csså±æ€§</strong></font>\n\n<!--more-->\n\n<br>\n\n<br>\n\n------\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>cssä¹‹æ–‡æœ¬å±æ€§</strong></font>\n\n```python\nfont-size   # å­—ä½“å¤§å°    å•ä½æ˜¯px æµè§ˆå™¨é»˜è®¤æ˜¯16px   è®¾è®¡å›¾å¸¸ç”¨å­—å·æ˜¯12px\n\nfont-family    # å­—ä½“    å½“å­—ä½“æ˜¯ä¸­æ–‡å­—ä½“ã€è‹±æ–‡å­—ä½“ä¸­æœ‰ç©ºæ ¼æ—¶ï¼Œéœ€è¦åŠ å¼•å·ï¼›å¤šä¸ªå­—ä½“ä¸­é—´ç”¨é€—å·é“¾æ¥ï¼Œå…ˆè§£æç¬¬1ä¸ªå­—ä½“ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™è§£æç¬¬2ä¸ªå­—ä½“ï¼Œä»¥æ­¤ç±»æ¨\n\ncolor    # é¢œè‰²      colorï¼šredï¼›   color:#ff0;   color:rgb(255,0,0); 0-255\n\nfont-weight     # åŠ ç²— font-weight:bolder(æ›´ç²—çš„)ã€bold(åŠ ç²—)ã€normal(å¸¸è§„)ã€font-weight:100-900;       100-500ä¸åŠ ç²—   600-900åŠ ç²—\n\nfont-style   # å€¾æ–œ   font-style:italic(å€¾æ–œå­—ä½“)ã€oblique(å€¾æ–œçš„æ–‡å­—)ã€normal(å¸¸è§„æ˜¾ç¤º)\n\ntext-align   # æ–‡å­—æ°´å¹³å¯¹é½     text-align:left;    æ°´å¹³é å·¦      text-align:right;   æ°´å¹³é å³        text-align:center;   æ°´å¹³å±…ä¸­          text-align:justify;  æ°´å¹³ä¸¤ç«¯å¯¹é½  ä½†æ˜¯åªå¯¹å¤šè¡Œèµ·ä½œç”¨\nline-height       # è¡Œé«˜            line-heightçš„æ•°æ®=heightçš„æ•°æ®ï¼Œå¯ä»¥å®ç°å•è¡Œæ–‡æœ¬å‚ç›´å±…ä¸­\ntext-indent        #  é¦–è¡Œç¼©è¿›      text-indent å¯ä»¥å–è´Ÿå€¼ï¼Œ    text-indentå±æ€§åªå¯¹ç¬¬ä¸€è¡Œèµ·ä½œç”¨   2em  ä¸ç®¡å­—ä½“å¤§å°ï¼Œéƒ½æ˜¯ç©ºå‡ºä¸¤ä¸ªå­—ä½“\nletter-spacing       # å­—é—´è·   æ§åˆ¶æ–‡å­—å’Œæ–‡å­—ä¹‹é—´çš„é—´è·\ntext-decoration       #  æ–‡æœ¬ä¿®é¥°      noneï¼ˆæ²¡æœ‰ï¼‰ã€ underlineï¼ˆä¸‹åˆ’çº¿ï¼‰ã€overlineï¼ˆä¸Šåˆ’çº¿ï¼‰ã€line-throughï¼ˆåˆ é™¤çº¿ï¼‰\nfont               # æ–‡å­—ç®€å†™         fout-style   font-weight    font-size   line-height  fout-family         fout:italic    é¡ºåºä¸èƒ½å˜ï¼Œå¿…é¡»åŒæ—¶æŒ‡å®šfontsizeå’Œfont-familyå±æ€§æ—¶æ‰èµ·ä½œç”¨\n```\n\n<br>\n\n<br>\n\n------\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>èƒŒæ™¯å›¾ç‰‡</strong></font>\n\n```python\nbackground-size:  å›¾ç‰‡å¤§å°    ä¾‹å¦‚ background-size: 20px 20px     å¯ä»¥æ˜¯ç™¾åˆ†æ¯”   cover å®Œå…¨è¦†ç›–ã€contain  å®½é«˜æ”¾å¤§è‡³å½“å‰ç›’å­æœ€å¤§\nbackground-color: èƒŒæ™¯é¢œè‰²;\nbackground-image: èƒŒæ™¯å›¾ç‰‡;    ä¾‹å¦‚ background-image: url();\nbackground-repeat: èƒŒæ™¯å›¾ç‰‡çš„å¹³é“º;     background-repeat: no-repeat(ä¸å¹³é“º)ã€repeat(é»˜è®¤å¹³é“º)ã€repeat-x(xè½´å¹³é“º)ã€repeat-y(yè½´å¹³é“º)\nbackground-position: èƒŒæ™¯å›¾ç‰‡å®šä½;     background-position: æ°´å¹³ä½ç½®   é”¤å­ä½ç½®  å¯ä»¥ç»™è´Ÿå€¼\nbackground-attachment: èƒŒæ™¯å›¾ç‰‡çš„å›ºå®š;   background-attachment: scroll(æ»šåŠ¨)ã€fixed(å›ºå®š,å›ºå®šåœ¨æµè§ˆå™¨çš„çª—å£é‡Œé¢)\n```\n\n\n\n![å›¾ç‰‡å±æ€§](https://s2.loli.net/2022/06/08/Mb2xYeqFTdaBuHX.png)\n\n<br>\n\n<br>\n\n------\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>æµ®åŠ¨</strong></font>\n\n```python\næµ®åŠ¨\nfloat:right;    å³æµ®åŠ¨ã€‚\nfloat: left;    å·¦æµ®åŠ¨\nfloat: none;    ä¸æµ®åŠ¨\n\nç¬¬ä¸€ç§ æ¸…æµ®åŠ¨\nç›´æ¥å†™æ­»ï¼Œè®©å‰å…ƒç´ çš„å®½é«˜ç­‰äºç°å…ƒç´ ï¼Œä¸å¸¸ç”¨\n\nç¬¬äºŒç§ åœ¨ç°å…ƒç´ ä¸­ä½¿ç”¨\nclear: left;   æ¸…é™¤å·¦æµ®åŠ¨\nclear: right;  æ¸…é™¤å³æµ®åŠ¨\nclear: none;   ä¸æ¸…é™¤æµ®åŠ¨\nclear: both;   æ¸…é™¤å‰é¢æ‰€æœ‰æµ®åŠ¨\n\nç¬¬ä¸‰ç§ åœ¨å·²ç»ä½¿ç”¨æµ®åŠ¨çš„çˆ¶å…ƒç´ ä¸­ä½¿ç”¨ç©ºç›’å­ï¼Œç„¶å  style=\"clear:both\"\nç¬¬å››ä¸­ åœ¨çˆ¶å…ƒç´ ä¸­ä½¿ç”¨ overflow: hidden style=\"overflow: hidden;\"\n```\n\n<br>\n\n<br>\n\n------\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>ç›’å­æ¨¡å‹â€”â€”paddingå±æ€§</strong></font>\n\n```css\npadding: 10px;       ä¸€ä¸ªå€¼   å››ä¸ªæ–¹å‘éƒ½æ˜¯10px\npadding: 10px 20px       ä¸¤ä¸ªå€¼    ä¸Šä¸‹10px    å·¦å³20px\npadding: 10px   20px  30px         ä¸‰ä¸ªå€¼   ä¸Š10px    å·¦å³20px     ä¸‹30px\npadding:  10px 20px 30px 40px      å››ä¸ªå€¼   é€†æ—¶é’ˆ    ä¸Š  å³  ä¸‹ å·¦ \n```\n\n<br>\n\n<br>\n\n------\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>ç›’å­æ¨¡å‹â€”â€”è¾¹æ¡†å±æ€§ï¼ˆborderï¼‰</strong></font>\n\n```css\nborder: 1px  solid red        è¾¹æ¡†å¤§å°ä¸º1px       solid(å®çº¿)        çº¢è‰²\n\nborder:æ”¯æŒå±æ€§    æ ·å¼>>>   solid(å®çº¿)     double(åŒå®çº¿)      dashed(è™šçº¿)    dotted(ç‚¹çŠ¶çº¿)\n\nå¯æ‹†åˆ†æˆ\nborder-width:    å¯è®¾ç½®4ä¸ªå€¼     é€†æ—¶é’ˆ    ä¸Š  å³  ä¸‹ å·¦\nborder-color:     å¯è®¾ç½®4ä¸ªå€¼     é€†æ—¶é’ˆ    ä¸Š  å³  ä¸‹ å·¦\nborder-style:     å¯è®¾ç½®4ä¸ªå€¼     é€†æ—¶é’ˆ    ä¸Š  å³  ä¸‹ å·¦\n\n\nç›’å­ç‰¹æ€§\nä¸Šä¸‹ç›’å­å¤–è¾¹è·ä¼šå–æœ€å¤§çš„ä¸€ä¸ªå€¼\nå·¦å³ç›’å­ä¼šç›¸äº’å åŠ \n\n\nå¤–è¾¹è·ä¼šä½œç”¨åœ¨çˆ¶ç›’å­èº«ä¸Š\n    è§£å†³åŠæ³•ï¼š\n        1ã€å­ç›’å­margin-top ==> çˆ¶ç›’å­çš„padding-top    ,å°†å­ç›’å­çš„å¤–è¾¹è·è½¬æ¢æˆçˆ¶ç›’å­çš„å†…è¾¹è·ï¼Œæ³¨æ„é«˜åº¦è®¡ç®—\n        2ã€ç»™çˆ¶ç›’å­è®¾ç½®è¾¹æ¡†  border\n        3ã€æ·»åŠ æµ®åŠ¨æ•ˆæœï¼Œå­ç›’å­æˆ–è€…çˆ¶ç›’å­éƒ½å¯ä»¥\n        4ã€overflow: hidden.    BFCæ„å»º\n```\n\n<br>\n\n<br>\n\n<br>\n\n------\n\n","tags":["å‰ç«¯","html","css"],"categories":["_A2-å‰ç«¯","html"]},{"title":"linux killå‘½ä»¤è¯¦è§£","url":"/2023/05/18/linux-killå‘½ä»¤è¯¦è§£/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>linux killå‘½ä»¤è¯¦è§£ï¼š</strong></font>  \n\n<!--more-->\n\n+ <font color=#f26522 size=3 face=å®‹ä½“><strong>linuxä¸‹å„ç±»å‘½ä»¤è¯¦è§£</strong></font>\n\n```shell\n# æˆ‘ä»¬å¼€ç½‘é¡µï¼Œç»å¸¸æ€§å¼€10. 20. 30 ä¸ªï¼Œç”šè‡³æ›´å¤šçš„æµè§ˆå™¨çª—å£ï¼Œæ¥æ»¡è¶³æˆ‘ä»¬ä¸€è¾¹æ–‡æ¡£ï¼Œä¸€è¾¹ä»£ç çš„è¾“å‡ºï¼Œä½†æ˜¯å½“æˆ‘ä»¬ç”¨å®Œäº†ï¼Œæƒ³è¦ç»“æŸçš„æ—¶å€™ï¼Œç¡®å®å¾ˆéº»çƒ¦ï¼Œéœ€è¦ä¸€ä¸ªä¸€ä¸ªå»ç‚¹å‡»ã€‚\n# è¯¶ï¼ è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨åˆ° --killå‘½ä»¤äº†\n# ä¾‹å¦‚ï¼š\nkill 2338    #ç»“æŸè¿›ç¨‹2338\nkill -9 2338    # å¼ºåˆ¶ç»“æŸè¿›ç¨‹ 2338\nkillall edge    # ç»“æŸæ¥è‡ªåº”ç”¨ç¨‹åºä¸º Edgeçš„è¿›ç¨‹\nkill -9 edge   # å¼ºåˆ¶ç»“æŸæ¥è‡ªåº”ç”¨ç¨‹åºä¸º Edgeçš„è¿›ç¨‹ æ‰€æœ‰edge\npkill edge      # å…¶å®ä¸killall edge çš„æ•ˆæœå·®ä¸å¤šï¼Œä½†æ˜¯æ²¡å¿…è¦è¾ƒçœŸï¼Œæƒ³è¦äº†è§£çš„æœ‹å‹è‡ªå·±å»ç™¾åº¦\npkill -9 edge\n```\n\n<br>\n\n<br>\n\n<br>\n\n------\n\n","tags":["linux","ç³»ç»Ÿ","å‘½ä»¤"],"categories":["_A3-linux","å‘½ä»¤"]},{"title":"linux æ‰‹åŠ¨å®ç°rc.local","url":"/2023/05/18/linux-æ‰‹åŠ¨å®ç°rc-local/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>linux æ‰‹åŠ¨å®ç°rc.localï¼š</strong></font>\n\n<!--more-->\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>Ubuntu 16.04 ç‰ˆæœ¬å¼€å§‹å»é™¤äº† rc.local æ–‡ä»¶ï¼Œè‡ªå¯åŠ¨æœåŠ¡æ–¹é¢åŸºæœ¬ç”± systemd å…¨é¢æ¥ç®¡äº†ã€‚æƒ³è¦æ·»åŠ ä¸€äº›å¼€æœºè¿è¡Œçš„æ“ä½œåªèƒ½åˆ›å»º systemd æœåŠ¡æˆ–è€…æ·»åŠ  desktop æ–‡ä»¶ï¼Œæœ‰ç‚¹éº»çƒ¦ã€‚å¹²è„†æŠŠ rc.local é‡æ–°å®ç°ã€‚</strong></font>\n\n<br>\n\n------\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>åŸç†ï¼š</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>åˆ›å»ºä¸€ä¸ª systemd æœåŠ¡ï¼Œå¼€æœºæ‰§è¡ŒæŒ‡å®šè„šæœ¬ï¼ˆrc.localï¼‰çš„å†…å®¹ã€‚</strong></font>\n\n<br>\n\n------\n\n<br>\n\n<font color=blue size=4 face=å®‹ä½“><strong>**å®ç°ï¼š**</strong></font>\n\n+ <font color=red size=4 face=å®‹ä½“><strong>1. rc-local.service æ–‡ä»¶</strong></font>\n  + åœ¨ Ubuntu 20.04 ä¸­è¿™ä¸ªæ–‡ä»¶å­˜åœ¨ã€‚çœ‹èµ·æ¥åªæ˜¯æŠŠ rc.local åŠŸèƒ½éšè—èµ·æ¥äº†ã€‚å¦‚æœä½ çš„ç‰ˆæœ¬æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥è‡ªå·±åˆ›å»ºä¸€ä¸ªï¼Œç„¶åæŠŠå†…å®¹æ·»åŠ ä¸Šå»ã€‚\n\n```shell\nsudo nano /lib/systemd/system/rc-local.service\n```\n\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</strong></font>\n\n```shell\n[Install]\nWantedBy=multi-user.target\nAlias=rc-local.service\n```\n\n<br>\n\n------\n\n<br>\n\n<font color=blue size=4 face=å®‹ä½“><strong>**å®Œæ•´å†…å®¹ï¼š**</strong></font>\n\n![](https://s2.loli.net/2022/06/08/anMG6W4ANJPbtCY.png)\n\n<br>\n\n------\n\n<br>\n\n+ <font color=red size=4 face=å®‹ä½“><strong>2. rc.local æ–‡ä»¶</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>åˆ›å»º rc.local æ–‡ä»¶</strong></font>\n\n```shell\nsudo nano /etc/rc.local\n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>æ–‡ä»¶å†…å®¹ï¼š</strong></font>\n\n```shell\n#!/bin/sh\n\n# è¿™é‡Œæ·»åŠ è¦å¼€æœºæ‰§è¡Œçš„è„šæœ¬å’Œå‘½ä»¤ç­‰ç­‰\n\nexit 0\n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>æ·»åŠ å¯æ‰§è¡Œæƒé™</strong></font>\n\n```shell\nsudo chmod +x /etc/rc.local\n```\n\n<br>\n\n------\n\n<br>\n\n+ <font color=red size=4 face=å®‹ä½“><strong>3. **åˆ›å»ºè½¯é“¾æ¥**</strong></font>\n\n```\nsudo ln -s /lib/systemd/system/rc-local.service /etc/systemd/system/rc-local.service\n```\n\n<br>\n\n------\n\n<br><font color=#00b2c2 size=5 face=å®‹ä½“><strong>é‡å¯ç³»ç»Ÿ rc.local å°±ç”Ÿæ•ˆäº†ã€‚</strong></font>\n\n<font color=red size=5 face=å®‹ä½“><strong>é‡ç‚¹æ³¨æ„ï¼š</strong></font>\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>ä¸è¦åœ¨ rc.local æ–‡ä»¶ä¸­æ·»åŠ é˜»å¡æˆ–è€…æ­»å¾ªç¯æ“ä½œï¼Œä¼šè¿›ä¸äº†ç³»ç»Ÿçš„ï¼Œè¯•è¯•å°±é€ä¸–ã€‚</strong></font>\n\n<br>\n\n<br>\n\n<br>\n\n------\n\n","tags":["linux","ç³»ç»Ÿ","å‘½ä»¤"],"categories":["_A3-linux","å¯åŠ¨"]},{"title":"linux debianä¸‹æ— æ³•ä½¿ç”¨ä¸­ç§‘å¤§æºè¿›è¡Œrarå®‰è£…_è‡ªç¼–è¯‘æ•™ç¨‹","url":"/2023/05/18/linux-debianä¸‹æ— æ³•ä½¿ç”¨ä¸­ç§‘å¤§æºè¿›è¡Œrarå®‰è£…-è‡ªç¼–è¯‘æ•™ç¨‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>debianä¸‹æ— æ³•ä½¿ç”¨ä¸­ç§‘å¤§æºè¿›è¡Œrarå®‰è£…_è‡ªç¼–è¯‘æ•™ç¨‹</strong></font>\n\n<!--more-->\n\n<br>\n\n------\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>ç”±äºåœ¨ä¸­ç§‘å¤§æºä¸‹æ— æ³•ä½¿ç”¨rarè§£å‹ã€å‹ç¼©å‘½ä»¤ï¼Œä½†æ˜¯ç½‘ä¸Šå¾ˆå¤šwindosè¿‡æ¥çš„å‹ç¼©åŒ…ï¼Œæ‰€ä»¥å°±å¾ˆå¤´ç–¼ï¼Œç„¶åè¿™é‡Œæ•´ç†ä¸€ä¸ªè‡ªç¼–è¯‘å®‰è£…çš„æ•™ç¨‹</strong></font>\n\n<br>\n\n------\n\n<br><font color=#b0171f size=4 face=å®‹ä½“><strong>ä¸‹è½½æºç ï¼Œæºç æˆ‘å·²ç»ä»å®˜ç½‘ä¸‹è½½å¥½äº†ï¼Œæ”¾åœ¨Â <font color=blue size=4 face=å®‹ä½“><strong>è“å¥äº‘</strong></font></strong></font>\n\n- <font color=#b0171f size=3 face=å®‹ä½“><strong>rarlinux-x64-6.0.2Â  Â [ç‚¹å‡»ä¸‹è½½](https://wwwqe.lanzouo.com/ihpbgx7ptyd)</strong></font>\n- <font color=#b0171f size=3 face=å®‹ä½“><strong>å½“ç„¶ï¼Œå¦‚æœä½ è§‰å¾—ä¸æ”¾å¿ƒï¼Œè¿™æ˜¯äººä¹‹å¸¸æƒ…çš„äº‹æƒ…ï¼Œé‚£ä¹ˆä½ ä¹Ÿå¯ä»¥å»å®˜æ–¹ä¸‹è½½ï¼Œ[å®˜æ–¹ç‚¹å‡»ä¸‹è½½](https://www.rarlab.com/download.htm)</strong></font>\n\n<br>\n\n------\n\n<br>\n\n<font color=red size=4 face=å®‹ä½“><strong>å¼€å§‹è§£å‹å¹¶ç¼–è¯‘</strong></font>\n\n```shell\ntar -xzvf rarlinux-x64-6.0.2.tar.gz\ncd ./rar\nsudo make\n```\n\n![](https://s2.loli.net/2022/06/08/q4Nvf9uS3GQaXWT.png)\n\n<font color=red size=4 face=å®‹ä½“><strong>åˆ°è¿™é‡Œå°±å·²ç»å®Œæˆäº†ç¼–è¯‘ï¼Œå¹¶ä¸”å®ƒä¼šè‡ªåŠ¨çš„å¤åˆ¶åˆ°å¯¹åº”çš„æ–‡ä»¶ä¸­ï¼Œä½ å°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†</strong></font>\n\n<br>\n\n<br>\n\n<br>\n\n------\n\n","tags":["linux","ç³»ç»Ÿ","ç¼–è¯‘"],"categories":["_A3-linux","æº"]},{"title":"linux PSå‘½ä»¤è¯¦è§£","url":"/2023/05/18/linux-PSå‘½ä»¤è¯¦è§£/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>linux PSå‘½ä»¤è¯¦è§£ï¼š</strong></font>\n\n<!--more-->\n\n<br>\n\n------\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong><font color=red size=4 face=å®‹ä½“><strong>å‘½ä»¤ï¼š</strong></font>ps -ef|grepè¯¦è§£</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>pså‘½ä»¤å°†æŸä¸ªè¿›ç¨‹æ˜¾ç¤ºå‡ºæ¥</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>grepå‘½ä»¤æ˜¯æŸ¥æ‰¾</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>ä¸­é—´çš„|æ˜¯ç®¡é“å‘½ä»¤ æ˜¯æŒ‡pså‘½ä»¤ä¸grepåŒæ—¶æ‰§è¡Œ</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>PSæ˜¯LINUXä¸‹æœ€å¸¸ç”¨çš„ä¹Ÿæ˜¯éå¸¸å¼ºå¤§çš„è¿›ç¨‹æŸ¥çœ‹å‘½ä»¤</strong></font>\n\n<br>\n\n------\n\n<br>\n\n<font color=#b0171f size=4 face=å®‹ä½“><strong>grepå‘½ä»¤æ˜¯æŸ¥æ‰¾ï¼Œæ˜¯ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·ï¼Œå®ƒèƒ½ä½¿ç”¨[æ­£åˆ™è¡¨è¾¾å¼](https://www.baidu.com/s?wd=%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F&tn=44039180_cpr&fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1d9uWD3PhP9n1b4m1nduAcz0ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6KdThsqpZwYTjCEQLGCpyw9Uz4Bmy-bIi4WUvYETgN-TLwGUv3EPjfvrHnzPWT3)æœç´¢æ–‡æœ¬ï¼Œå¹¶æŠŠåŒ¹é…çš„è¡Œæ‰“å°å‡ºæ¥ã€‚</strong></font>\n\n<font color=#b0171f size=4 face=å®‹ä½“><strong>**grepå…¨ç§°æ˜¯Global Regular Expression Printï¼Œè¡¨ç¤ºå…¨å±€æ­£åˆ™è¡¨è¾¾å¼ç‰ˆæœ¬ï¼Œå®ƒçš„ä½¿ç”¨æƒé™æ˜¯æ‰€æœ‰ç”¨æˆ·ã€‚**</strong></font>\n\n<br>\n\n------\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong><font color=red size=4 face=å®‹ä½“><strong>**ä»¥ä¸‹è¿™æ¡å‘½ä»¤æ˜¯æ£€æŸ¥java è¿›ç¨‹æ˜¯å¦å­˜åœ¨ï¼š**</strong></font>**ps -ef |grep java**</strong></font>\n\n![](https://s2.loli.net/2022/06/09/Ig1kvBzHcVCYsFQ.png)\n\n```shell\nUID      # ç¨‹åºè¢«è¯¥ UID æ‰€æ‹¥æœ‰\nPID      # å°±æ˜¯è¿™ä¸ªç¨‹åºçš„ ID \nPPID     # åˆ™æ˜¯å…¶ä¸Šçº§çˆ¶ç¨‹åºçš„ID\nC        # CPUä½¿ç”¨çš„èµ„æºç™¾åˆ†æ¯”\nSTIME    # ç³»ç»Ÿå¯åŠ¨æ—¶é—´\nTTY      # ç™»å…¥è€…çš„ç»ˆç«¯æœºä½ç½®\nTIME     # ä½¿ç”¨æ‰çš„CPUæ—¶é—´ã€‚\nCMD      # æ‰€ä¸‹è¾¾çš„æ˜¯ä»€ä¹ˆæŒ‡ä»¤\n```\n\n<br>\n\n------\n\n<br><font color=#b0171f size=4 face=å®‹ä½“><strong><font color=red size=4 face=å®‹ä½“><strong>å‘½ä»¤ï¼š</strong></font>ps -e|grep dae</strong></font>\n\n![](https://s2.loli.net/2022/06/09/qzExaJbnupBVjwQ.png)\n\n<br>\n\n------\n\n<br><font color=#b0171f size=4 face=å®‹ä½“><strong><font color=red size=4 face=å®‹ä½“><strong>å‘½ä»¤ï¼š</strong></font>ps -f|grep dae</strong></font>\n\n![](https://s2.loli.net/2022/06/09/s89eDSz1ln7VvyZ.png)\n\n<br>\n\n------\n\n<br><font color=#b0171f size=4 face=å®‹ä½“><strong><font color=red size=4 face=å®‹ä½“><strong>å‘½ä»¤ï¼š</strong></font>ps -ef|grep dae</strong></font>\n\n![](https://s2.loli.net/2022/06/09/S1OuE38Pb9XyHV2.png)\n\n<br><br><br>\n\n------\n\n","tags":["linux","ç³»ç»Ÿ","å‘½ä»¤"],"categories":["_A3-linux","å‘½ä»¤"]},{"title":"linux ç»ˆç«¯å…‰æ ‡æ“ä½œæŠ€å·§","url":"/2023/05/18/linux-ç»ˆç«¯å…‰æ ‡æ“ä½œæŠ€å·§/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>linux ç»ˆç«¯å…‰æ ‡æ“ä½œæŠ€å·§ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>linux å‘½ä»¤è¡Œ å…‰æ ‡ç§»åŠ¨æŠ€å·§ç­‰ï¼š</strong></font>\n\n```shell\nCtrl+a   # è·³åˆ°æœ¬è¡Œçš„è¡Œé¦–ï¼Œ\nCtrl+e   # åˆ™è·³åˆ°é¡µå°¾ã€‚\nCtrl+u   # åˆ é™¤å½“å‰å…‰æ ‡å‰é¢çš„æ–‡å­—\nctrl+k   # åˆ é™¤å½“å‰å…‰æ ‡åé¢çš„æ–‡å­—\nCtrl+wå’ŒAlt+d  # å¯¹äºå½“å‰çš„å•è¯è¿›è¡Œåˆ é™¤æ“ä½œï¼Œwåˆ é™¤å…‰æ ‡å‰é¢çš„å•è¯çš„å­—ç¬¦ï¼Œdåˆ™åˆ é™¤åé¢çš„å­—ç¬¦\nAlt+Backsapce  # åˆ é™¤å½“å‰å…‰æ ‡åé¢çš„å•è¯ï¼Œ\n# å¦‚æœåˆ é™¤é”™è¯¯ï¼Œä½¿ç”¨Ctrl+yè¿›è¡Œæ¢å¤Ctrl+Lè¿›è¡Œæ¸…å±æ“ä½œ\n\nctrl+a   # å…‰æ ‡ç§»åˆ°è¡Œé¦–ã€‚\nctrl+b   # å…‰æ ‡å·¦ç§»ä¸€ä¸ªå­—æ¯\nctrl+c   # æ€æ­»å½“å‰è¿›ç¨‹ã€‚\nctrl+d   # é€€å‡ºå½“å‰ Shellã€‚\nctrl+e   # å…‰æ ‡ç§»åˆ°è¡Œå°¾ã€‚\nctrl+h   # åˆ é™¤å…‰æ ‡å‰ä¸€ä¸ªå­—ç¬¦ï¼ŒåŒ backspace é”®ç›¸åŒã€‚\nctrl+k   # æ¸…é™¤å…‰æ ‡åè‡³è¡Œå°¾çš„å†…å®¹ã€‚\nctrl+l   # æ¸…å±ï¼Œç›¸å½“äºclearã€‚\nctrl+r   # æœç´¢ä¹‹å‰æ‰“è¿‡çš„å‘½ä»¤ã€‚ä¼šæœ‰ä¸€ä¸ªæç¤ºï¼Œæ ¹æ®ä½ è¾“å…¥çš„å…³é”®å­—è¿›è¡Œæœç´¢bashçš„history\nctrl+u   # æ¸…é™¤å…‰æ ‡å‰è‡³è¡Œé¦–é—´çš„æ‰€æœ‰å†…å®¹ã€‚\nctrl+w   # ç§»é™¤å…‰æ ‡å‰çš„ä¸€ä¸ªå•è¯\nctrl+t   # äº¤æ¢å…‰æ ‡ä½ç½®å‰çš„ä¸¤ä¸ªå­—ç¬¦\nctrl+y   # ç²˜è´´æˆ–è€…æ¢å¤ä¸Šæ¬¡çš„åˆ é™¤\nctrl+d   # åˆ é™¤å…‰æ ‡æ‰€åœ¨å­—æ¯;æ³¨æ„å’Œbackspaceä»¥åŠctrl+hçš„åŒºåˆ«ï¼Œè¿™2ä¸ªæ˜¯åˆ é™¤å…‰æ ‡å‰çš„å­—ç¬¦\nctrl+f   # å…‰æ ‡å³ç§»\nctrl+z    # æŠŠå½“å‰è¿›ç¨‹è½¬åˆ°åå°è¿è¡Œï¼Œä½¿ç”¨â€™ fg â€˜å‘½ä»¤æ¢å¤ã€‚æ¯”å¦‚top -d1 ç„¶åctrl+z ï¼Œåˆ°åå°ï¼Œç„¶åfg,é‡æ–°æ¢å¤\n\n# escç»„åˆ\nesc+d:   # åˆ é™¤å…‰æ ‡åçš„ä¸€ä¸ªè¯\nesc+f:   # å¾€å³è·³ä¸€ä¸ªè¯\nesc+b:   # å¾€å·¦è·³ä¸€ä¸ªè¯\nesc+t:   # äº¤æ¢å…‰æ ‡ä½ç½®å‰çš„ä¸¤ä¸ªå•è¯ã€‚\n```\n\n","tags":["linux","ç³»ç»Ÿ","å‘½ä»¤"],"categories":["_A3-linux","å‘½ä»¤"]},{"title":"Linuxä¸‹åˆ›å»ºRaid0ç£ç›˜é˜µåˆ—","url":"/2023/05/18/Linuxä¸‹åˆ›å»ºRaid0ç£ç›˜é˜µåˆ—/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Linuxä¸‹åˆ›å»ºRaid0ç£ç›˜é˜µåˆ—</strong></font>\n\n<!--more-->\n\n<br>\n\n------\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>åˆ›å»ºraid0</strong></font>\n\n```shell\n# 1ã€æ›´æ–°ä»“åº“\nsudo apt update\n# 2ã€å®‰è£…mdadm\nsudo apt install -y mdadm\n# 3ã€æŸ¥çœ‹è®¾å¤‡ä¿¡æ¯\nlsblk\n# ä½¿ç”¨å‘½ä»¤å¼€å§‹ç»„ç£ç›˜é˜µåˆ—\nmdadm -C /dev/md0 -a yes -l 0 -n 5 /dev/sd{a1,b1,c1,d1,d2}\n# è¿™æ®µç­‰åŒäºmdadm -C /dev/md0 -a yes -l 0 -n 5 /dev/sda1 /dev/sdb1 /dev/sdc1 /dev/sdd1 /dev/sdd2\n# ç¿»è¯‘ä¸€ä¸‹è¿™æ¡å‘½ä»¤ï¼Œæ„æ€å°±æ˜¯åˆ›å»ºç£ç›˜è®¾å¤‡ /dev/md0 , md0 æ˜¯ä¸€ä¸ªraid0è®¾å¤‡ï¼Œè®¾å¤‡ç”±5ä¸ªè®¾å¤‡ç»„æˆï¼Œåˆ†åˆ«æ˜¯sda1,sdb1,sdc1,sdd1,sdd2\n```\n\n<br>\n\n------\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>è§£é™¤raid0</strong></font>\n\n```shell\nmdadm -S /dev/md0   # åœæ­¢/dev/md0è®¾å¤‡\nmdadm --misc --zero-superblock /dev/<è®¾å¤‡åç§°>    # raidä¸‹åˆ›å»ºäº†å‡ ä¸ªè®¾å¤‡ï¼Œå°±è‡ªè¡Œå‡ æ¡\n```\n\n<br><br><br>\n\n------\n\n","tags":["linux","ç³»ç»Ÿ","è¿ç»´","å‘½ä»¤"],"categories":["_A3-linux","æŒ‚è½½"]},{"title":"Linuxä¸‹æŒ‚è½½ç£ç›˜orç½‘ç»œç£ç›˜","url":"/2023/05/18/Linuxä¸‹æŒ‚è½½ç£ç›˜orç½‘ç»œç£ç›˜/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Linuxä¸‹æŒ‚è½½ç£ç›˜orç½‘ç»œç£ç›˜ï¼š</strong></font>\n\n<!--more-->\n\n<br>\n\n------\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>å‰è¨€ï¼š</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>ç£ç›˜è‡ªåŠ¨åŒ–æŒ‚è½½</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>ç½‘ç»œå…±äº«æŒ‚è½½</strong></font>\n\n<br>\n\n------\n\n<br>\n\n# æŒ‚è½½æœ¬åœ°ç£ç›˜ï¼š\n\n### **æ­¥éª¤ 1ï¼šå®‰è£…å¿…è¦å·¥å…·**\n\n```bash\n# å®‰è£… CIFS å®¢æˆ·ç«¯å·¥å…·ï¼ˆUbuntu/Debianï¼‰\nsudo apt install cifs-utils\n\n# å®‰è£… NTFS-3Gï¼ˆæœ¬åœ° NTFS ç£ç›˜æ‰éœ€è¦ï¼Œç½‘ç»œå…±äº«ä¸éœ€è¦ï¼‰\nsudo apt install ntfs-3g  # ä»…ç”¨äºæœ¬åœ°ç£ç›˜\n```\n\n\n\n```shell\n# æŸ¥çœ‹ç£ç›˜ä¿¡æ¯\nlsblk\n# è¿™ä¸ªæ ·å­å°±æ˜¯æ²¡æœ‰æŒ‚è½½\nmkdir /home/<ç”¨æˆ·å>/share  # åœ¨æŒ‡å®šç”¨æˆ·åä¸‹åˆ›å»ºä¸€ä¸ªshareæ–‡ä»¶å¤¹æ¥è½¬è½½ç£ç›˜\nmount /dev/sda /home/<ç”¨æˆ·å>/share    # å°†sdaç¡¬ç›˜æŒ‚è½½åˆ°/home/<ç”¨æˆ·å>/share è¿™ä¸ªç›®å½•ä¸‹\n```\n\n![](https://s2.loli.net/2022/06/09/O5tfZRacdP2UGK9.png)\n\n<br>\n\n------\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**UUIDæŒ‚è½½ï¼š**</strong></font>\n\n```shell\nmount -U  76c825c3-1f61-463f-a229-f2294e605eb3 /media/usb\n```\n\n<br>\n\n------\n\n<br>\n\n# æŒ‚è½½ç½‘ç»œç£ç›˜ï¼š\n\n### **æ­¥éª¤ 1ï¼šåˆ›å»ºæŒ‚è½½ç‚¹**\n\n```bash\nsudo mkdir -p /mnt/network_drive\n```\n\n### **æ­¥éª¤ 2ï¼šé…ç½® `/etc/fstab`**\n\nåœ¨ `/etc/fstab` ä¸­æ·»åŠ ä»¥ä¸‹è¡Œï¼ˆæ ¹æ®éœ€æ±‚è°ƒæ•´å‚æ•°ï¼‰ï¼š\n\n```bash\n# ç¤ºä¾‹ï¼šåŒ¿åè®¿é—®ï¼ˆæ— å¯†ç ï¼‰\n//192.168.1.100/share_name  /mnt/network_drive  cifs  username=guest,password=,rw,uid=1000,gid=1000,dir_mode=0777,file_mode=0777,vers=3.0,noperm,_netdev  0  0\n\n# ç¤ºä¾‹ï¼šä½¿ç”¨å‡­æ®æ–‡ä»¶ï¼ˆæ¨èï¼‰\n//192.168.1.100/share_name  /mnt/network_drive  cifs  credentials=/etc/samba/credentials,rw,uid=1000,gid=1000,dir_mode=0777,file_mode=0777,vers=3.0,noperm,_netdev  0  0\n```\n\n#### **å‚æ•°è¯¦è§£**ï¼š\n\n| **å‚æ•°**          | **ä½œç”¨**                                                     |\n| :---------------- | :----------------------------------------------------------- |\n| `username=guest`  | åŒ¿åè®¿é—®æ—¶ä½¿ç”¨ `guest` ç”¨æˆ·                                  |\n| `password=`       | ç©ºå¯†ç ï¼ˆåŒ¿åè®¿é—®æ—¶ä½¿ç”¨ï¼‰                                     |\n| `rw`              | è¯»å†™æ¨¡å¼ï¼ˆå¿…é¡»æ˜¾å¼æŒ‡å®šï¼‰                                     |\n| `uid=1000`        | æŒ‚è½½åçš„æ–‡ä»¶æ‰€æœ‰è€… UIDï¼ˆæ›¿æ¢ä¸ºä½ çš„ç”¨æˆ· IDï¼Œé€šè¿‡ `id -u` æŸ¥çœ‹ï¼‰ |\n| `gid=1000`        | æŒ‚è½½åçš„æ–‡ä»¶æ‰€å±ç»„ GIDï¼ˆæ›¿æ¢ä¸ºä½ çš„ç»„ IDï¼Œé€šè¿‡ `id -g` æŸ¥çœ‹ï¼‰ |\n| `dir_mode=0777`   | ç›®å½•æƒé™è®¾ç½®ä¸º 777ï¼ˆæ‰€æœ‰ç”¨æˆ·å¯è¯»å†™æ‰§è¡Œï¼‰                     |\n| `file_mode=0777`  | æ–‡ä»¶æƒé™è®¾ç½®ä¸º 777ï¼ˆæ‰€æœ‰ç”¨æˆ·å¯è¯»å†™æ‰§è¡Œï¼‰                     |\n| `vers=3.0`        | æŒ‡å®š SMB åè®®ç‰ˆæœ¬ï¼ˆä¸æœåŠ¡å™¨å…¼å®¹ï¼Œå¸¸è§å€¼ï¼š`3.0`/`2.1`/`1.0`ï¼‰ |\n| `noperm`          | å¿½ç•¥å®¢æˆ·ç«¯æƒé™æ£€æŸ¥ï¼Œç›´æ¥ä½¿ç”¨æœåŠ¡å™¨ç«¯æƒé™                     |\n| `_netdev`         | æ ‡è¯†ä¸ºç½‘ç»œè®¾å¤‡ï¼Œé˜²æ­¢å¯åŠ¨æ—¶æŒ‚è½½å¤±è´¥å¯¼è‡´ç³»ç»Ÿå¡æ­»               |\n| `credentials=...` | æŒ‡å®šå‡­æ®æ–‡ä»¶è·¯å¾„ï¼ˆæ›´å®‰å…¨ï¼Œé¿å…å¯†ç æ˜æ–‡å†™å…¥ `fstab`ï¼‰         |\n\n### **æ­¥éª¤ 3ï¼šé…ç½® `mountæ–¹å¼æŒ‚è½½`ï¼š**\n\n```bash\nsudo mount -t cifs -o username=guest,password=,rw,uid=1000,gid=1000,dir_mode=0777,file_mode=0777,vers=3.0,noperm,_netdev //192.168.1.100/share_name /mnt/network_drive\n```\n\n","tags":["linux","ç³»ç»Ÿ","è¿ç»´","å‘½ä»¤"],"categories":["_A3-linux","æŒ‚è½½"]},{"title":"linuxä¸‹smbå…±äº«æ–‡ä»¶","url":"/2023/05/18/linuxä¸‹smbå…±äº«æ–‡ä»¶/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>linuxä¸‹smbå…±äº«æ–‡ä»¶ï¼š</strong></font>\n\n<!--more-->\n\n<br>\n\n------\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>å‰è¨€ï¼š</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>å¹³æ—¶çš„æ•°æ®éœ€è¦å­˜æ”¾åœ¨ç‰¹å®šçš„åœ°æ–¹ï¼Œä»¥æ–¹ä¾¿éšæ‹¿éšç”¨ã€‚ä½†éšç€å¤šç«¯ã€æ™ºèƒ½è®¾å¤‡çš„æ™®åŠï¼Œè¿™ç§éœ€æ±‚å°±æ›´åŠ è¿«åˆ‡äº†ã€‚</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>**ä½†å‡å¦‚ä½ æœ‰ä¸€ä¸ªlinuxè®¾å¤‡ï¼Œå°±å¯ä»¥å¾ˆå¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨å®¶åº­è®¾å¤‡ä¸­æ·»åŠ ä¸€ä¸ªlinuxè®¾å¤‡ï¼Œå¹¶ä¸ä¼šåƒwindosé‚£æ ·è€—ç”µï¼Œä½ å¯ä»¥åƒä½ å®¶ä¸€å¹´365å¤©å¸¸å¼€çš„ç”µè§†ç›’å­çš„åŠŸè€—å·®ä¸å¤šã€‚**</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>**å…¶å®ç”µè§†ç›’å­å°±æ˜¯ä¸€ä¸ªå†…åµŒçš„linuxç³»ç»Ÿï¼Œä½†æˆ‘å¹¶ä¸æ¨èåˆšæ¥è§¦linuxçš„äººå»é­”æ”¹ç›’å­ï¼Œæœ‰å¾ˆå¤§å‡ ç‡è®©ä½ çš„ç›’å­å˜æˆç –ã€‚**</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>**ä½†ä½ å¦‚æœçœŸçš„éœ€è¦ï¼Œå¯ä»¥å»ä¹°ä¸€ä¸ªçŸ¿æ¸£ã€‚ä¾‹å¦‚ï¼šè€æ¯é¸¡ï¼ˆç©å®¢äº‘ï¼‰ã€çŒ«ç›’. . . .**</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>**è¿™ç§ä¸œè¥¿å‡ åå—é’±å°±å¯ä»¥æå®šï¼Œåªéœ€è¦ä½ ç¨å¾®åŠ¨ä¸‹æ‰‹ï¼Œå°±å®Œå…¨OKçš„ã€‚**</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>**å³ä½¿æ˜¯ç™¾å…†ç½‘å£ï¼Œå°±åŸºæœ¬èƒ½æ»¡è¶³ä½ çš„éœ€æ±‚äº†ã€‚ç™¾å…†ç½‘å£çš„å®é™…è¯»å†™é€Ÿåº¦å¤§æ¦‚åœ¨20m/så·¦å³ã€‚**</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>**å¥½äº†ï¼Œé‡ç‚¹ï¼linuxå…±äº«æ–‡ä»¶æœåŠ¡â€”â€”samba**</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>**æˆ‘ç›¸ä¿¡ï¼Œèƒ½å¤Ÿçœ‹åˆ°è¿™ç¯‡åšæ–‡çš„ï¼Œåº”è¯¥éƒ½ä¸éœ€è¦åœ¨æ™®åŠå•¥æ˜¯sambaäº†ï¼Œå’±ä»¬ç›´æ¥åˆ‡å…¥ä¸»é¢˜**</strong></font>\n\n<br>\n\n------\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å®‰è£…sambaæœåŠ¡ï¼š</strong></font>\n\n```bash\n# ä»¥ä¸‹ï¼Œæˆ‘ç›´æ¥ä»¥debianå‘½ä»¤å®‰è£…\n# å¦‚æœä½ çš„ç³»ç»Ÿæ˜¯centos ï¼Œå¯ç›´æ¥å°†apt ==> yum ä½¿ç”¨\nsudo apt update  # æ›´æ–°ç³»ç»Ÿæº\nsudo apt install samba  # å®‰è£…sambaæœåŠ¡\n```\n\n<br>\n\n------\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>åˆ›å»ºå…±äº«ç›®å½•ï¼š</strong></font>\n\n```bash\nmkdir ~/share   # åœ¨å½“å‰ç”¨æˆ·ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªå«shareçš„æ–‡ä»¶å¤¹\n# å½“ç„¶ä½ ä¹Ÿå¯ä»¥æŒ‡å®šç”¨æˆ·ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚ï¼š\n# mkdir /home/xiaoxi/share   #  åœ¨ç”¨æˆ·xiaoxiçš„ç”¨æˆ·ä¹‹ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªshareæ–‡ä»¶å¤¹,å‰ææ˜¯xiaoxiè¿™ä¸ªç”¨æˆ·å­˜åœ¨\nchmod -R 777 ~/share   # èµ‹äºˆåˆšæ‰åˆ›å»ºçš„shareæ–‡ä»¶å¤¹ï¼Œæœ€é«˜æ‰§è¡Œæƒé™\n\n```\n\n<br>\n\n------\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä¿®æ”¹sambaé…ç½®ï¼š</strong></font>\n\n```bash\nvim /etc/samba/smb.conf   #  ç¼–è¾‘smb.conf é…ç½®æ–‡ä»¶\n# å‡å¦‚æç¤ºvimæœªæ‰¾åˆ°ï¼Œç›´æ¥ä½¿ç”¨ sudo apt install vim å®‰è£…ä»¥ä¸‹å³å¯\n# åœ¨globalå…¨å±€ä¸­æ·»åŠ ä¸€æ¡\n#\nguest account = root  # è¿™ä¸€æ¡å¾ˆé‡è¦ï¼Œæ„æ€å°±æ˜¯æ‰€æœ‰ç™»å½•çš„ç”¨æˆ·ï¼Œéƒ½ä»¥rootæƒé™è¯»å†™ï¼Œå¦‚æœæ²¡æœ‰è¿™æ¡å‘½ä»¤ï¼Œå¾ˆå¯èƒ½ï¼Œä½ åˆ†äº«ä¹‹åï¼Œèƒ½æ‹¿å‡ºæ¥ï¼Œå´æŠŠæ–‡ä»¶æ”¾ä¸è¿›å»\n#\n# åœ¨smb.confæœ€åæ·»åŠ \n[share]  #  åˆ†äº«åï¼Œåœ¨ç½‘ç»œä¸­æ˜¾ç¤ºçš„åå­—\npath = /home/xiaoxi/share   #  æœ¬åœ°ä½ æƒ³è¦åˆ†äº«çš„æ–‡ä»¶å¤¹è·¯å¾„ï¼Œæ³¨æ„ï¼šè¿™é‡Œçš„è·¯å¾„æ˜¯ç»å¯¹è·¯å¾„\navailable = yes\nbrowseable = yes\npublic = yes\nwritable = yes\n```\n\n<br>\n\n------\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>sambaå‘½ä»¤ï¼š</strong></font>\n\n```bash\n# éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®‰è£…å®Œæˆåçš„æœåŠ¡ï¼Œå¹¶ä¸æ˜¯sambaï¼Œè€Œæ˜¯smbd\nservice smbd status     #  æŸ¥çœ‹çŠ¶æ€\nservice smbd stop     #  åœæ­¢æœåŠ¡\nservice smbd start     #  å¯åŠ¨æœåŠ¡\nservice smbd restart    #  é‡å¯æœåŠ¡\n```\n\n<br>\n\n------\n\n<br><font color=red size=5 face=å®‹ä½“><strong>ç»“è¯­ï¼š</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>**sambaå¾€å¾€éœ€è¦ä¸è‡ªåŠ¨æŒ‚è½½ç£ç›˜ç»“åˆï¼Œè¾¾åˆ°å¼€æœºè‡ªåŠ¨å¯åŠ¨æŒ‚è½½åˆ†äº«çš„ç›®çš„ã€‚**</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>**æœ‰ç©ºåœ¨å†™è‡ªåŠ¨æŒ‚è½½æ–¹æ³•æŠŠ**</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>**å“Ÿè¥¿ï¼æ„Ÿè§‰åˆç‰¹ä¹ˆè¿›äº†ä¸€æ­¥**</strong></font>\n\n<br><br><br>\n\n------\n\n","tags":["linux","ç³»ç»Ÿ","è¿ç»´","å‘½ä»¤"],"categories":["_A3-linux","æŒ‚è½½"]},{"title":"Mogodbæ’åºåˆ†é¡µ","url":"/2023/05/18/Mogodbæ’åºåˆ†é¡µ/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Mogodbæ’åºåˆ†é¡µï¼š</strong></font>\n---\n\n<!--more-->\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**1.å‡†å¤‡ï¼š**</strong></font>\n\n```\nuse test3\ndb.c1.insert({_id:1,name:\"a\",sex:1,age:1})\ndb.c1.insert({_id:2,name:\"b\",sex:1,age:2})\ndb.c1.insert({_id:3,name:\"c\",sex:2,age:3})\ndb.c1.insert({_id:4,name:\"d\",sex:2,age:4})\ndb.c1.insert({_id:5,name:\"e\",sex:2,age:5})\n```\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**2. æ’åºï¼š**</strong></font>\n\n```mongodb\nè¯­æ³•ï¼šdb.<é›†åˆå>.find().sort(jsonæ•°æ®)\n\n\n# è¯´æ˜:é”®â€”â€”å°±æ˜¯è¦æ’åºçš„åˆ—/å­—æ®µã€å€¼ï¼š1æ˜¯å‡åºï¼Œ-1æ˜¯é™åº\n# ä¾‹å¦‚ï¼šdb.c1.find().sort({age:-1}) # c1æ˜¯ç”±å¼€å§‹å†™å…¥æ•°æ®æ—¶éšå¼åˆ›å»º\n```\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**3. åˆ†é¡µï¼š**</strong></font>\n\n```mongodb\nè¯­æ³•ï¼šdb.<é›†åˆå>.find().sort().skip(æ•°å­—).limit(æ•°å­—)\n\n\n# skipâ€”â€”è·³è¿‡æŒ‡å®šæ•°æ®æ•°é‡ï¼ˆå¯é€‰ï¼‰ï¼ŒæŸ¥è¯¢æ–°çš„æ•°æ® # ç¬¬ä¸€é¡µä¸éœ€è¦è·³è¿‡ï¼Œå› ä¸ºæ˜¯æ–°æ•°æ®\n# limitâ€”â€”æŸ¥è¯¢æŒ‡å®šæ•°é‡æ•°æ®\n# ä¾‹å¦‚ï¼šdb.c1.find().sort({age:-1}).limit(2) # æŸ¥è¯¢é™åº ä¸¤æ¡æ•°æ®\n# ä¾‹å¦‚ï¼šdb.c1.find().sort({age:-1}).skip(2).limit(3) # æŸ¥è¯¢é™åº è·³è¿‡ä¸¤æ¡æ•°æ® ï¼Œæ˜¾ç¤ºä¸‰æ¡æ•°æ®\n# skipè®¡ç®—å…¬å¼ï¼šï¼ˆå½“å‰é¡µ - 1ï¼‰* æ¯é¡µæ˜¾ç¤ºæ•°é‡\n```\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**4. å°æ€»ç»“ï¼š**</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>db.<é›†åˆå>.find()</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>.sort({åˆ—:1/-1})â€”â€”æ’åº</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>.skip(æ•°å­—)â€”â€”è·³è¿‡æŒ‡å®šæ•°é‡</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>.limit(æ•°å­—)â€”â€”é™åˆ¶æŸ¥è¯¢æ¡æ•°</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>.count()â€”â€”ç»Ÿè®¡æ€»æ•°é‡</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>å¦‚æœä¸å¤Ÿï¼Œåœ¨ç™¾åº¦roè°·æ­Œ</strong></font>\n\n<br>\n\n<br>\n\n<br>\n\n------\n\n","tags":["mongodb","æ•°æ®åº“"],"categories":["_9-æ•°æ®åº“","mongodb"]},{"title":"MongoDB åˆ›å»ºè¶…çº§ç®¡ç†å‘˜è´¦æˆ·å¯†ç ","url":"/2023/05/18/MongoDB-åˆ›å»ºè¶…çº§ç®¡ç†å‘˜è´¦æˆ·å¯†ç /","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>MongoDB åˆ›å»ºè¶…çº§ç®¡ç†å‘˜è´¦æˆ·å¯†ç ï¼š</strong></font>\n\n<!--more-->\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>1. è¿›å…¥æ•°æ®åº“ï¼š</strong></font>\n\n```javascript\nuse admin   # è¿›å…¥æ•°æ®åº“è¶…çº§ç”¨æˆ·åº“\ndb.createUser({user:'root', pwd:'123456', roles:['root']})      # åˆ›å»ºç®¡ç†å‘˜è´¦å·å¯†ç      #   åˆ›å»ºä¸€ä¸ªrootçš„ç”¨æˆ·åï¼Œ å¯†ç æ˜¯123456ï¼Œ ä»–çš„è§’è‰²æ˜¯rootç”¨æˆ·è¶…çº§ç®¡ç†å‘˜\n```\n\n<br>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>2. ç™»å½•ï¼š</strong></font>\n\n```javascript\nuse admin   # è¿›å…¥adminåº“\ndb.auth('root', '123456')    # ç™»å½•è¶…çº§ç”¨æˆ·root     # db.auth('ç”¨æˆ·å', 'å¯†ç ')\n```\n\n![](https://s2.loli.net/2022/06/09/7apYgE28fGiWvl5.png)\n\n<font color=red size=2 face=å®‹ä½“><strong>å¯¹äºérootç”¨æˆ·çš„æƒé™è®¾ç½®ï¼š</strong></font>\n\n![](https://s2.loli.net/2022/06/09/4uUMhNvGLy9SqKV.png)\n\n<br>\n\n<br>\n\n<br>\n\n---\n\n","tags":["mongodb","æ•°æ®åº“"],"categories":["_9-æ•°æ®åº“","mongodb"]},{"title":"MongoDB å…³äºpythonä¸‹ä½¿ç”¨mongodbçš„_idå€¼æŸ¥è¯¢æ•°æ®å‘","url":"/2023/05/18/MongoDB-å…³äºpythonä¸‹ä½¿ç”¨mongodbçš„-idå€¼æŸ¥è¯¢æ•°æ®å‘/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>MongoDB å…³äºpythonä¸‹ä½¿ç”¨mongodbçš„_idå€¼æŸ¥è¯¢æ•°æ®å‘ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>pymongoä¸‹æŸ¥è¯¢_idå€¼å‘ï¼</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>è¿™ä¸ªå‘æœ‰ç‚¹å¤§</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨ _id å€¼æŸ¥è¯¢çš„æ—¶å€™ç»“æ„æ˜¯è¿™æ ·çš„</strong></font>\n\n```\ndb.<é›†åˆå>.find({\"_id\": ObjectId(\"61ae375007e3e461a29e48c0\")})\n```\n\n<br>\n\n---\n\n---\n\n<br>\n\n<font color=#00b2c2 size=4 face=å®‹ä½“><strong>ç„¶è€Œåœ¨pythonä¸‹è¿™ç§å†™æ³•ä¼šæŠ¥é”™ï¼Œé”™è¯¯å†…å®¹å¤§ä½“å°±æ˜¯ï¼Œæ‰¾ä¸åˆ°objectæ¨¡å—ã€‚</strong></font>\n\n<font color=#00b2c2 size=4 face=å®‹ä½“><strong>æœ€ååœ¨ä¸€ä¸ªç‰›äººçš„åšå®¢ä¸‹æ‰¾åˆ°äº†è§£å†³åŠæ³•ï¼<font color=red size=4 face=å®‹ä½“><strong>å…¶å®å°±æ˜¯æ²¡æœ‰å¯¼å…¥åŒ…</strong></font></strong></font>\n\n```python\nfrom bson.objectid import ObjectId\n\n# ä¸‹é¢è¿™æ¡å‘½ä»¤åœ¨pythonä¸­æ— æ³•ç›´æ¥ä½¿ç”¨ï¼Œä½ éœ€è¦è‡ªå·±è®¾ç½®ç¯å¢ƒ   è¿™é‡Œæˆ‘å°±ä¸æ”¾æˆ‘çš„è®¾ç½®ç¯å¢ƒäº†ï¼\ndb.<é›†åˆå>.find({\"_id\": ObjectId(\"61ae375007e3e461a29e48c0\")})\n\n```\n\n<br>\n\n<br>\n\n<br>\n\n---\n\n","tags":["python","mongodb","æ•°æ®åº“"],"categories":["_9-æ•°æ®åº“","mongodb"]},{"title":"MongoDB_å‘½ä»¤è®°å½•","url":"/2023/05/18/MongoDB-å‘½ä»¤è®°å½•/","content":"\n<font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>ç”±äºè®°å½•è¿‡äºè¯¦ç»†ï¼Œå¾ˆå¤šå‘½ä»¤åˆ†äº†ä¸åŒæ–‡æ¡£ç»†åŒ–ï¼Œç‰¹åˆ«å¼€å‡ºä¸€ä¸ªæ–‡æ¡£è®°å½•ç›¸å…³å‘½ä»¤ï¼š</strong></font>\n\n<!--more-->\n\n```python\n\n# MongoDB_åŸºæœ¬æ“ä½œè¯­æ³•ï¼š\n\nshow databases       # å±•ç¤ºæ•°æ®åº“\nuse admin     # è¿›å…¥ adminæ•°æ®åº“è¡¨(éšå¼åˆ›å»º:åœ¨mongodbä¸­é€‰æ‹©ä¸å­˜åœ¨çš„æ•°æ®åº“ä¸ä¼šæŠ¥é”™ï¼ŒåæœŸå½“è¯¥æ•°æ®åº“æœ‰æ•°æ®æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»º)\nshow collections     # æŸ¥çœ‹é›†åˆ å¤šä¸ªé›†åˆ\ndb.createCollection(â€˜é›†åˆåâ€™)    # åˆ›å»ºé›†åˆ\ndb.é›†åˆå.drop()       # åˆ é™¤é›†åˆ\n\n================================\n\n# åˆ é™¤æ•°æ®åº“\n\t# 1ã€é€šè¿‡use è¿›å…¥æ•°æ®åº“\n    # 2ã€ä½¿ç”¨db.dropDatabase() åˆ é™¤æ•°æ®åº“\n\n\n================================\n## æ•´åˆä»¥å•æ¡æ•°æ®æ¨¡å¼æŸ¥çœ‹\ndb.books.find().pretty()\n\n# åˆ›å»ºç”¨æˆ·å\ndb.createUser({user:'root', pwd:'123456', roles:['root']})      # åˆ›å»ºç®¡ç†å‘˜è´¦å·å¯†ç      #   åˆ›å»ºä¸€ä¸ªrootçš„ç”¨æˆ·åï¼Œ å¯†ç æ˜¯123456ï¼Œ ä»–çš„è§’è‰²æ˜¯rootç”¨æˆ·è¶…çº§ç®¡ç†\n\n# ç™»å½•\ndb.auth('root', '123456')    # ç™»å½•è¶…çº§ç”¨æˆ·root     # db.auth('ç”¨æˆ·å', 'å¯†ç ')\n\n# åº“çš„åˆ›å»ºä¸åˆ é™¤\nuse koko    #  éšå¼åˆ›å»ºkakoæ•°æ®åº“\nshow dbs   # show databases  çš„ç®€å†™ï¼Œå±•ç¤ºæ‰€æœ‰æ•°æ®åº“\ndb.dropDatabase()    #åˆ é™¤æ•°æ®åº“ï¼Œ  é¦–å…ˆè¿›å…¥æŸä¸ªæ•°æ®åº“ï¼Œç„¶ååœ¨ä½¿ç”¨è¯¥å‘½ä»¤\n\n# é›†åˆæ“ä½œ\nshow collections    # å±•ç¤ºè¯¥æ•°æ®åº“ä¸‹çš„é›†åˆ\ndb.col.drop()      # è¿›å…¥æ•°æ®åº“ï¼Œåœ¨è¯¥æ•°æ®åº“ä¸‹åˆ é™¤ col é›†åˆï¼\n\n\n# 1â€”æ’å…¥æ•°æ®\ndb.col.insert({user:'å¼ ä¸‰', sex:'ç”·', age:19})     # ç›´æ¥æ’å…¥æ•°æ®\n\n# 2â€”ä»¥å˜é‡çš„æ–¹å¼æ’å…¥\ndocument = {'title':'æœèŠ±å¤•æ‹¾', 'author':'é²è¿…'}     # å®šä¹‰ä¸€ä¸ªå­—å…¸å˜é‡\ndb.books.insert(document)       # æ’å…¥documentå˜é‡çš„æ•°æ®\n\n# 3â€”ä»¥save()çš„æ–¹å¼æ’å…¥æ•°æ®___(ç°å·²ç»å¼ƒç”¨æ›´æ–°)\n#### å¦‚æœ_idå­—æ®µé‡åˆï¼Œé‚£ä¹ˆsave()ä¼šå˜æˆæ›´æ–°æ“ä½œï¼Œå¦‚æœä¸æŒ‡å®š_idé‚£ä¹ˆï¼Œsave()å°±æ˜¯æ’å…¥æ“ä½œ\ndocument = {'title':'å‘å–Š', 'author':'é²è¿…'}      # å®šä¹‰ä¸€ä¸ªå­—å…¸å˜é‡\ndb.books.save(document)           #  åœ¨booksé›†åˆä¸­æ’å…¥æ•°æ®\ndocument = { '_id': ObjectId(\"61a1cf8bee408bbb6d3a44d2\"), 'title':'è¿™æ˜¯ä¸€ä¸ªå‘', 'author':'é²è¿…',}\n\n\n\n# æ›´æ–°æ“ä½œ\ndb.books.update({_id:100}, {$set:{title:'å¹ç‰›é€¼'}})       # æŸ¥æ‰¾_idç­‰äº100çš„æ•°æ®ï¼Œæ›´æ”¹ä»–çš„titleå€¼ä¸º å¹ç‰›é€¼\ndb.books.update({_id:ObjectId(\"61a1cf8bee408bbb6d3a44d2\")}, {$set:{title:'å¹ç‰›é€¼'}})   \n\n# åˆ é™¤æ•°æ®\ndb.books.remove({author:'é²è¿…'})  # åˆ é™¤å­—æ®µauthor=é²è¿…çš„æ‰€æœ‰æ•°æ®\ndb.books.remove({author:'é²è¿…'}, {justOne:true})    # åªåˆ é™¤å­—æ®µauthor=é²è¿…çš„ç¬¬ä¸€æ¡æ•°æ®  $$$ é‡ç‚¹ï¼Œä¸¥æ ¼åŒºåˆ†å¤§å°å†™ï¼Œå¤§å°å†™é”™è¯¯å¯èƒ½åˆ é™¤è¯¥å­—æ®µä¸‹çš„æ‰€æœ‰æ•°æ®\n```\n\n<br>\n\n<br>\n\n<br>\n\n---\n\n","tags":["mongodb","æ•°æ®åº“"],"categories":["_9-æ•°æ®åº“","mongodb"]},{"title":"MongoDB_æ— æ³•é‡å¯è¶…çº§å¤§å‘","url":"/2023/05/18/MongoDB-æ— æ³•é‡å¯è¶…çº§å¤§å‘/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>MongoDB æ— æ³•é‡å¯è¶…çº§å¤§å‘ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>åœ¨mongodbä¸‹ï¼Œå› ä¸ºåœ¨æ²¡æœ‰åœæ­¢æœåŠ¡ï¼Œå°±å»ä¿®æ”¹é…ç½®æ–‡ä»¶çš„å‘ï¼è¶…çº§å¤§. . .</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>ä¸€èˆ¬æˆ‘ä»¬åœ¨ä½¿ç”¨linuxçš„æ—¶å€™éƒ½ä¹ æƒ¯ä¿®æ”¹å®Œé…ç½®æ–‡ä»¶ä¹‹åï¼Œç›´æ¥é‡å¯æœåŠ¡ï¼Œä»è€Œè¾¾åˆ°é‡æ–°åŠ è½½é…ç½®çš„ç›®çš„ï¼Œä½†æ˜¯åœ¨mongodbä¸‹è¿™ä¸ªå‘å´æœ‰ç‚¹å¤§</strong></font>\n\n![](https://s2.loli.net/2022/06/09/Uy3cAtxPgprumDR.png)\n\n<br><br><font color=blue size=4 face=å®‹ä½“><strong>è§£å†³åŠæ³•å¦‚ä¸‹ï¼ˆæ­¤æ–¹æ³•é€‚ç”¨äº yumæºå®‰è£…çš„mongodbï¼‰</strong></font>\n\n---\n\n<font color=red size=3 face=å®‹ä½“><strong>**åˆ é™¤é…ç½®æ–‡ä»¶ï¼Œé‡å¯æœåŠ¡**</strong></font>\n\n```shell\nrm -rf /tmp/mongodb-27017.sock      # åˆ é™¤ç”±äºæœªæ›¾åœæ­¢æœåŠ¡ï¼Œä¿®æ”¹é…ç½®ä¹‹åçš„è¿›ç¨‹é”æ–‡ä»¶\nsudo systemctl restart mongod         # é‡å¯mongodbæœåŠ¡\n```\n\n<br>\n\n<br>\n\n<br>\n\n---\n\n","tags":["mongodb","æ•°æ®åº“"],"categories":["_A9-é”™è¯¯è§£å†³","æ•°æ®åº“"]},{"title":"Typoraå¿«æ·é”®è®°å½•","url":"/2023/05/18/Typoraå¿«æ·é”®è®°å½•/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>Typoraå¿«æ·é”®è®°å½•ï¼šÂ </strong></font>\n\n<!--more-->\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>Typoraå¿«æ·ç”¨æ³•ï¼šè®©ä½ çš„å†™ä½œæ›´é«˜æ•ˆ</strong></font>\n\nTyporaæ˜¯ä¸€æ¬¾è½»é‡çº§çš„Markdownç¼–è¾‘å™¨ï¼Œå®ƒçš„å¿«æ·ç”¨æ³•å¯ä»¥è®©ä½ çš„å†™ä½œæ›´åŠ é«˜æ•ˆã€‚ä¸‹é¢æˆ‘å°†ä»‹ç»ä¸€äº›å¸¸ç”¨çš„å¿«æ·ç”¨æ³•ï¼Œå¸®åŠ©ä½ æ›´å¥½åœ°ä½¿ç”¨Typoraã€‚\n\n <font color=#f26522 size=4 face=å®‹ä½“><strong>1. æ ‡é¢˜</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>Typoraæ”¯æŒå…­çº§æ ‡é¢˜ï¼Œä½ å¯ä»¥ä½¿ç”¨å¿«æ·é”®Ctrl+æ•°å­—é”®æ¥å¿«é€Ÿæ·»åŠ æ ‡é¢˜ã€‚ä¾‹å¦‚ï¼ŒCtrl+1æ·»åŠ ä¸€çº§æ ‡é¢˜ï¼ŒCtrl+2æ·»åŠ äºŒçº§æ ‡é¢˜ï¼Œä»¥æ­¤ç±»æ¨ã€‚</strong></font>\n\n```\nCtrl+æ•°å­—é”®   æ·»åŠ æ ‡é¢˜ 1 ~ 6 çº§æ ‡é¢˜\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>2. åˆ—è¡¨</strong></font> \n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>Typoraæ”¯æŒæœ‰åºåˆ—è¡¨å’Œæ— åºåˆ—è¡¨ã€‚ä½ å¯ä»¥ä½¿ç”¨å¿«æ·é”®Ctrl+Shift+Oæ¥æ·»åŠ æœ‰åºåˆ—è¡¨ï¼Œä½¿ç”¨Ctrl+Shift+Uæ¥æ·»åŠ æ— åºåˆ—è¡¨ã€‚ </strong></font>\n\n```\nCtrl+Shift+O   æœ‰åºåˆ—è¡¨\nCtrl+Shift+U   æ— åºåˆ—è¡¨\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>3. å¼•ç”¨</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>å¼•ç”¨æ˜¯ä¸€ç§å¸¸ç”¨çš„å†™ä½œæ–¹å¼ï¼ŒTyporaæ”¯æŒå¼•ç”¨ã€‚ä½ å¯ä»¥ä½¿ç”¨å¿«æ·é”®Ctrl+Shift+Qæ¥æ·»åŠ å¼•ç”¨ã€‚</strong></font>\n\n```\nCtrl+Shift+Q   å¼•ç”¨\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>4. åŠ ç²—å’Œæ–œä½“</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>åŠ ç²—å’Œæ–œä½“æ˜¯å¸¸ç”¨çš„æ–‡æœ¬æ ¼å¼ï¼ŒTyporaæ”¯æŒå¿«æ·é”®Ctrl+Bæ¥æ·»åŠ åŠ ç²—ï¼ŒCtrl+Iæ¥æ·»åŠ æ–œä½“ã€‚</strong></font>\n\n```\nCtrl+B   åŠ ç²—\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>5. æ’å…¥å›¾ç‰‡</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>Typoraæ”¯æŒæ’å…¥å›¾ç‰‡ï¼Œä½ å¯ä»¥ä½¿ç”¨å¿«æ·é”®Ctrl+Shift+Iæ¥æ’å…¥å›¾ç‰‡ã€‚</strong></font>\n\n```\nCtrl+Shift+I    æ’å…¥å›¾ç‰‡\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>6. æ’å…¥é“¾æ¥</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>Typoraæ”¯æŒæ’å…¥é“¾æ¥ï¼Œä½ å¯ä»¥ä½¿ç”¨å¿«æ·é”®Ctrl+Kæ¥æ’å…¥é“¾æ¥ã€‚</strong></font>\n\n```\nCtrl+K    æ’å…¥é“¾æ¥\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>7. è¡¨æ ¼</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>Typoraæ”¯æŒè¡¨æ ¼ï¼Œä½ å¯ä»¥ä½¿ç”¨å¿«æ·é”®Ctrl+Tæ¥æ·»åŠ è¡¨æ ¼ã€‚</strong></font>\n\n```\nCtrl+T    æ·»åŠ è¡¨æ ¼\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>8. ä»£ç å—</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>Typoraæ”¯æŒä»£ç å—ï¼Œä½ å¯ä»¥ä½¿ç”¨å¿«æ·é”®Ctrl+Shift+Kæ¥æ·»åŠ ä»£ç å—ã€‚</strong></font>\n\n```\nCtrl+Shift+K    æ·»åŠ ä»£ç å—\n```\n\n\n\n<br>\n\n<br>\n\n<font color=#00b2c2 size=3 face=å®‹ä½“><strong>ä»¥ä¸Šæ˜¯Typoraçš„ä¸€äº›å¸¸ç”¨å¿«æ·ç”¨æ³•ï¼Œå®ƒä»¬å¯ä»¥è®©ä½ çš„å†™ä½œæ›´åŠ é«˜æ•ˆã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå¿«æ·ç”¨æ³•ï¼Œå¯ä»¥åœ¨Typoraä¸­æŒ‰ä¸‹å¿«æ·é”®Ctrl+/æ¥æŸ¥çœ‹æ‰€æœ‰å¿«æ·é”®ã€‚</strong></font>\n\n<br>\n\n<br>\n\n<br>\n\n---\n\n","tags":["å·¥å…·","Markdown"],"categories":["_A5-å®‰è£…æ•™ç¨‹","Typora"]},{"title":"MongoDBåŸºæœ¬æ“ä½œ","url":"/2023/05/18/MongoDBåŸºæœ¬æ“ä½œ/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>MongoDBåŸºæœ¬æ“ä½œï¼š</strong></font>\n\n<!--more-->\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>1. åŸºæœ¬æ¦‚å¿µ</strong></font>\n\n+ ç”Ÿæ´»ä¸­ï¼šä»“åº“ã€æ¶å­ã€ç‰©å“\n\n+ è®¡ç®—æœºï¼šæ•°æ®åº“(database)ã€é›†åˆ(collection)ã€æ•°æ®/æ–‡æ¡£(document)\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>2. æŸ¥çœ‹æ•°æ®åº“</strong></font>\n\n```\nshow  databases      # å±•ç¤ºæ•°æ®åº“\n```\n\n![](https://s2.loli.net/2022/06/09/TyhxKGYmI48bJv6.png)\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>3. é€‰æ‹©æ•°æ®åº“</strong></font>\n\n```\nuse database   # è¿›å…¥æ•°æ®åº“\n# å‡å¦‚æ²¡æœ‰è¯¥æ•°æ®åº“ï¼Œé‚£ä¹ˆè¯¥æ•°æ®åº“ä¼šè¢«éšå¼åˆ›å»º\n# å¦‚æœæ•°æ®åº“ä¸­æ²¡æœ‰é›†åˆåï¼Œè€Œæˆ‘ä»¬å±•ç¤ºäº†æ­¤é›†åˆåã€‚é‚£ä¹ˆè¿™ç§æ–¹æ³•ï¼Œä¹Ÿè¢«ç§°ä¸ºéšå¼åˆ›å»ºï¼Œæœ‰æ•°æ®åä¼šåˆ›å»º\n```\n\n![](https://s2.loli.net/2023/05/18/TN4eXFZLvdqBzS3.png)\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>4. æŸ¥çœ‹é›†åˆ</strong></font>\n\n```\nshow collections\n# æŸ¥çœ‹è¯¥æ•°æ®åº“ä¸‹é›†åˆ\n```\n\n![](https://s2.loli.net/2022/06/09/CcoKUrFuvE3RGMD.png)\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>5. åˆ›å»ºé›†åˆ</strong></font>\n\n![](https://s2.loli.net/2022/06/09/7xcDBu4C3aLRqEz.png)\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>6. åˆ é™¤é›†åˆ</strong></font>\n\n```\ndb.é›†åˆå.drop()\n# åˆ é™¤é›†åˆ\n```\n\n![](https://s2.loli.net/2022/06/09/ZhPyefgFou64q71.png)\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>7. åˆ é™¤æ•°æ®åº“</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>1. é€šè¿‡useè¯­æ³•é€‰ä¸­æ•°æ®åº“</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>2.Â é€šè¿‡db.dropDatabase()åˆ é™¤æ•°æ®åº“</strong></font>\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>8. å°æ€»ç»“</strong></font>\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>æ•°æ®åº“(æŸ¥çœ‹ã€åˆ›å»ºã€é€‰æ‹©ã€åˆ é™¤)</strong></font>\n\n  - <font color=#00b2c2 size=2 face=å®‹ä½“><strong>1.æŸ¥çœ‹ï¼šshow databases</strong></font>\n\n  - <font color=#00b2c2 size=2 face=å®‹ä½“><strong>2.åˆ›å»ºï¼šæœ‰å•ç‹¬è¯­æ³•ï¼Œä½†æ˜¯å¿½ç•¥ï¼Œéšå¼åˆ›å»º</strong></font>\n\n  - <font color=#00b2c2 size=2 face=å®‹ä½“><strong>3.é€‰æ‹©ï¼šuse æ•°æ®åº“å</strong></font>\n\n  - <font color=#00b2c2 size=2 face=å®‹ä½“><strong>4.åˆ é™¤ï¼š</strong></font>\n    - 1.é€šè¿‡useé€‰ä¸­æ•°æ®åº“\n    - 2.é€šè¿‡db.dropDatabase()åˆ é™¤æ•°æ®åº“\n  \n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>é›†åˆï¼ˆæŸ¥çœ‹ã€åˆ›å»ºã€åˆ é™¤)</strong></font>\n  - <font color=#00b2c2 size=2 face=å®‹ä½“><strong>1.æŸ¥çœ‹ï¼šshow collections</strong></font>\n  - <font color=#00b2c2 size=2 face=å®‹ä½“><strong>2.åˆ›å»ºï¼šdb.createCollection(â€˜é›†åˆåâ€™)</strong></font>\n  - <font color=#00b2c2 size=2 face=å®‹ä½“><strong>3.//å¿½ç•¥ï¼ŒåæœŸæ’å…¥æ•°æ®ï¼Œéšå¼åˆ›å»ºé›†åˆ</strong></font>\n  - <font color=#00b2c2 size=2 face=å®‹ä½“><strong>4.åˆ é™¤:db.é›†åˆå.drop()</strong></font>\n\n<br>\n\n<br>\n\n<br>\n\n---\n\n","tags":["mongodb","æ•°æ®åº“"],"categories":["_9-æ•°æ®åº“","mongodb"]},{"title":"MP4è§†é¢‘åˆ‡ç‰‡æˆTS,å¹¶ç”Ÿæˆm3u8æ–‡ä»¶","url":"/2023/05/18/MP4è§†é¢‘åˆ‡ç‰‡æˆTS-å¹¶ç”Ÿæˆm3u8æ–‡ä»¶/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>MP4è§†é¢‘åˆ‡ç‰‡æˆTS,å¹¶ç”Ÿæˆm3u8æ–‡ä»¶ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>python mp4 åˆ‡ç‰‡_FFmpeg MP4è§†é¢‘åˆ‡ç‰‡æˆTS m3u8æ’­æ”¾ï¼š</strong></font>\n\n<br>\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>1. çœ‹çœ‹åŸè§†é¢‘æ˜¯ä¸æ˜¯MP4å•¦ å¦‚æœä¸æ˜¯å°±éœ€è¦è½¬æˆMP4</strong></font>\n\n```Bash\n# è½¬æ¢æˆmp4æ–‡ä»¶\nffmpeg -i åŸæ–‡ä»¶ -y -c:v libx264 -strict -2 D:\\home\\lsh.mp4\n```\n\n<br>\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>2. æŠŠMP4è½¬æˆtsæ–‡ä»¶</strong></font>\n\n```bash\n# å°†mp4æ–‡ä»¶  è½¬æ¢æˆtsåç¼€ï¼Œæ–¹ä¾¿åˆ‡å‰²\nffmpeg -y -i D:\\home\\999.mp4 -vcodec copy -acodec copy -vbsf h264_mp4toannexb D:\\home\\999.ts\n```\n\n<br>\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>3. å†æŠŠts åˆ‡æˆå¥½å¤šä¸ªå°çš„ts</strong></font>\n\n```bash\n# å°†ç¬¬äºŒæ­¥è½¬æ¢çš„ å¤§tsæ–‡ä»¶ åˆ‡æˆ å¾ˆå¤šå°çš„tsæ–‡ä»¶ï¼Œå¹¶ç”Ÿæˆm3u8æ–‡ä»¶    å…¶ä¸­çš„30 å°±æ˜¯å°†å°çš„tsï¼Œä»¥30ç§’ä¸ºå•ä½åˆ‡å‰²ï¼Œå¦‚æœä½ ä¿®æ”¹ä¸º10   é‚£ä¹ˆåˆ‡å‡ºæ¥çš„å°çš„tsè§†é¢‘çš„æ—¶é•¿  å°±æ˜¯10å·¦å³ä¸€ä¸ªçš„\nffmpeg -i D:\\home\\999.ts -c copy -map 0 -f segment -segment_list D:\\home\\999\\index.m3u8 -segment_time 30 D:\\home\\999\\nxb-%04d.ts\n```\n\n<br><font color=#b0171f size=3 face=å®‹ä½“><strong>4. å¦‚æœä½ çš„è§†é¢‘æ–‡ä»¶æœ¬èº«å°±æ˜¯MP4æ ¼å¼çš„ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥è½¬æ¢åˆ‡ç‰‡</strong></font>\n\n```\nffmpeg -i xxx.mp4 -f segment -segment_time 60 -segment_format mpegts -segment_list /home/higherlevel/video-folder/video_name.m3u8 -c copy -bsf:v h264_mp4toannexb -map 0 /home/higherlevel/video-folder/course-%04d.ts\n```\n\n<br><font color=#b0171f size=3 face=å®‹ä½“><strong>5. åœ¨pythonä¸‹åªéœ€è¦å°†è·¯å¾„å­˜ä¸ºå˜é‡ å³å¯å®çº¿è‡ªåŠ¨åŒ–åˆ‡ç‰‡</strong></font>\n\n```bash\nimport os\nos.system() #å³å¯\n```\n\n<br><font color=#b0171f size=3 face=å®‹ä½“><strong>6. ffmpeg å–æ¶ˆæ§åˆ¶å°æ‰“å°ä¿¡æ¯ï¼Œä¸æ‰“å°logæ—¥å¿—</strong></font>\n\n```bash\nffmpeg åé¢åŠ ä¸Š -loglevel quiet\n```\n\n<br>\n\n<br>\n\n<br>\n\n---\n\n","tags":["ffmpeg","m3u8","åˆ‡ç‰‡","è½¬ç "],"categories":["_A4-FFmpeg","å‚æ•°è¯¦è§£"]},{"title":"mysql_å®å¡”ä¸‹æ•°æ®åº“ç®¡ç†å¯†ç é”™è¯¯","url":"/2023/05/18/mysql-å®å¡”ä¸‹æ•°æ®åº“ç®¡ç†å¯†ç é”™è¯¯/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>mysql_å®å¡”ä¸‹æ•°æ®åº“ç®¡ç†å¯†ç é”™è¯¯ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>é”™è¯¯ç±»å‹ï¼šæ•°æ®åº“ç®¡ç†å¯†ç é”™è¯¯ï¼</strong></font>\n\n![](https://s2.loli.net/2022/06/09/bJtePg3cA98CHXG.jpg)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>è¯¥é”™è¯¯çš„å¼•å‘çš„æœ€é«˜ä¸¤ç§å¯èƒ½æ€§ï¼š</strong></font>\n\n+ **1. å¯†ç ä¸æ­£ç¡®**\n\n+ **2. å­˜åœ¨ç©ºå¯†ç **\n\n<br>\n\n<br><font color=red size=5 face=å®‹ä½“><strong>ç¬¬ä¸€ç§è§£å†³æ–¹æ¡ˆ(å¯†ç ä¸æ­£ç¡®)ï¼š</strong></font>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>é€šè¿‡å±è”½mysqlçš„ç™»å½•å¯†ç ï¼Œå…ˆè¿›å…¥mysqlå†…éƒ¨ï¼Œå†é€šè¿‡updateå‘½ä»¤æ›´æ–°å¯†ç </strong></font>\n\n<br>\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>1ã€å…³é—­mysql</strong></font>\n\n```Bash\nservice mysqld stop   //linuxä¸‹ä½¿ç”¨   \nnet stop mysql    //windowä¸‹ä½¿ç”¨ \n```\n\n<font color=#00b2c2 size=2 face=å®‹ä½“><strong>æ³¨ï¼šå¦‚æœwindowå‘½ä»¤æ— æ•ˆï¼ŒæŸ¥çœ‹æœåŠ¡é‡Œé¢çš„å…·ä½“åç§°ï¼Œç„¶åä»¥ç®¡ç†å‘˜æ¨¡å¼é‡å¯cmd</strong></font>\n\n![](https://s2.loli.net/2022/06/09/7ZCg4bnl1BwkeRO.png)\n\n![](https://s2.loli.net/2022/06/09/fGekTwxMlqWribE.png)\n\n<br>\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>**2ã€å±è”½æƒé™**</strong></font>\n\n```bash\nmysqld_safe --skip-grant-table //linuxä¸‹ä½¿ç”¨\nmysqld --skip-grant-table  //windowä¸‹ä½¿ç”¨\n// æˆ–è€…ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤\n// mysqld_safe --user=mysql --skip-grant-tables --skip-networking & //linuxä¸‹ä½¿ç”¨\n// å±å¹•å‡ºç°ï¼š Starting demo from .....\n\n```\n\n<br>\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>**3ã€æ–°å¼€èµ·ä¸€ä¸ªç»ˆç«¯è¾“å…¥**</strong></font>\n\n```bash\nmysql -u root mysql\nmysql> UPDATE user SET Password=PASSWORD('123456') where USER='root';\nmysql> FLUSH PRIVILEGES;   //æ›´æ–°å‘½ä»¤   è®°å¾—è¦è¿™å¥è¯ï¼Œå¦åˆ™å¦‚æœå…³é—­å…ˆå‰çš„ç»ˆç«¯ï¼Œåˆä¼šå‡ºç°åŸæ¥çš„é”™è¯¯\nmysql> \\q\n```\n\n<br>\n\n<br><font color=red size=5 face=å®‹ä½“><strong>ç¬¬äºŒç§è§£å†³æ–¹æ¡ˆ(å­˜åœ¨ç©ºå¯†ç )ï¼š</strong></font>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>æœ‰æ—¶å€™ï¼Œmysqlè™½ç„¶æ‹¥æœ‰äº†è´¦å·å’Œå¯¹åº”çš„å¯†ç ã€‚ä½†æ˜¯ï¼Œç”±äºå­˜åœ¨ç©ºå¯†ç çš„æƒ…å†µï¼Œä¼šé»˜è®¤ç™»å½•åˆ°ç©ºå¯†ç ä¸­ã€‚</strong></font>\n\n  <font color=#f26522 size=4 face=å®‹ä½“><strong>éœ€è¦æŠŠç©ºå¯†ç çš„è´¦å·åˆ é™¤ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹æ‰€æœ‰è´¦æˆ·</strong></font>\n\n<br>\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>**1.å…³é—­mysql**</strong></font>\n\n```bash\nservice mysqld stop\n```\n\n<br>\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>**2.å±è”½æƒé™**</strong></font>\n\n```bash\nmysqld_safe --skip-grant-table\n// å±å¹•å‡ºç°ï¼š Starting demo from .....\n\n```\n\n<br>\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>**3.æ–°å¼€èµ·ä¸€ä¸ªç»ˆç«¯è¾“å…¥**</strong></font>\n\n```bash\nmysql -u root mysql\nmysql> delete from user where USER='';  //åˆ é™¤ç©ºå¯†ç \nmysql> FLUSH PRIVILEGES;//è®°å¾—è¦è¿™å¥è¯ï¼Œå¦åˆ™å¦‚æœå…³é—­å…ˆå‰çš„ç»ˆç«¯ï¼Œåˆä¼šå‡ºç°åŸæ¥çš„é”™è¯¯\nmysql> \\q\n\n// å¤åˆ¶ä»£ç çš„æ—¶å€™è®°å¾—çœ‹ æœ‰äº›æ˜¯æ“ä½œæ ‡è¯†ï¼Œ åˆ«å§   mysql>  è¿™ç§å¤åˆ¶è¿›å»\n```\n\n<br>\n\n<br>\n\n<br>\n\n---\n\n","tags":["æ•°æ®åº“","mysql","é”™è¯¯"],"categories":["_A9-é”™è¯¯è§£å†³","æ•°æ®åº“"]},{"title":"MySql_æ— æ³•è¿œç¨‹rootç™»å½•","url":"/2023/05/18/MySql-æ— æ³•è¿œç¨‹rootç™»å½•/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>MySql_æ— æ³•è¿œç¨‹rootç™»å½•ï¼š</strong></font>\n\n<!--more-->\n\n- <font color=#f26522 size=4 face=å®‹ä½“><strong>è¿œç¨‹å·¥å…·è¿æ¥åˆ°æ•°æ®åº“ï¼Œéœ€è¦å¼€å¯rootè¿œç¨‹ç™»é™†</strong></font>\n\n<br>\n\n- <font color=#b0171f size=3 face=å®‹ä½“><strong>**1. ç™»å½•mysql**</strong></font>\n\n```shell\n[root@htuidc ~]# mysql -u root -p\nEnter password:    # è¾“å…¥å¯†ç \n```\n\n<br>\n\n- <font color=#b0171f size=3 face=å®‹ä½“><strong>**2. å¼€å¯è¿œç¨‹è¿æ¥**</strong></font>\n\n```shell\n[root@htuidc ~]# GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY '' WITH GRANT OPTION;\n\n## å°†   æ›¿æ¢æˆä½ è‡ªå·±çš„å¯†ç \n\n## rootä¸ºmysqlç”¨æˆ·ï¼Œä¸ºç”¨æˆ·å¯†ç \n```\n\n<br>\n\n- <font color=#b0171f size=3 face=å®‹ä½“><strong>**3. åˆ·æ–°æƒé™**</strong></font>\n\n```shell\n[root@htuidc ~]# FLUSH PRIVILEGES; \n```\n\n<br>\n\n- <font color=#b0171f size=4 face=å®‹ä½“><strong>**4. å®‰è£…iptables**</strong></font>\n\n```shell\n[root@htuidc ~]# yum install -y iptables\n```\n\n<br>\n\n- <font color=#b0171f size=4 face=å®‹ä½“><strong>**5. ç¼–è¾‘å¼€æ”¾ç«¯å£åˆ—è¡¨ï¼Œå¢åŠ 3306ç«¯å£ï¼Œé‡å¯é˜²ç«å¢™å³å¯ã€‚**</strong></font>\n\n```shell\n[root@htuidc ~]# firewall-cmd --permanent --zone=public --add-port=8080/tcp\n[root@htuidc ~]# firewall-cmd --reload\n## å¼€æ”¾3306åˆ°é˜²ç«å¢™ï¼Œå¹¶ç«‹å³ç”Ÿæ•ˆ\n```\n\n<br>\n\n<br>\n\n<br>\n\n---\n\n","tags":["æ•°æ®åº“","mysql"],"categories":["_A9-é”™è¯¯è§£å†³","æ•°æ®åº“"]},{"title":"MySqlæ•°æ®åº“ æ“ä½œæŒ‡å—","url":"/2023/05/18/MySqlæ•°æ®åº“-æ“ä½œæŒ‡å—/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>MySqlæ•°æ®åº“ æ“ä½œæŒ‡å—ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>åˆ›å»ºæ•°æ®è¡¨ï¼š</strong></font>\n\n```mysql\nuse text_ceshi;   # è¿›å…¥æ•°æ®åº“\ncreate table articles(id int null, nav_id varchar(256) null, ) default charset=utf8;\n\n```\n\n---\n\n<br>\n\n<br>\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>å¢åˆ æ”¹æŸ¥ï¼š</strong></font>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>æ–°å¢æ•°æ®</strong></font>\n\n```mysql\ninsert into è¡¨å (åˆ—å,åˆ—å,åˆ—å) values (å¯¹åº”çš„å€¼,å¯¹åº”çš„å€¼,å¯¹åº”çš„å€¼)\n\ninsert into tb1(name,password) values('å´ä½©çª','123123')\n\n```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>åˆ é™¤æ•°æ®</strong></font>\n\n```mysql\ndelete from è¡¨å        åˆ é™¤æ•´ä¸ªè¡¨\ndelete from è¡¨å where æ¡ä»¶           \n    ä¾‹å¦‚    delete from tb1 where name=\"å´ä½©çª\" and password=\"123\"\n```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>ä¿®æ”¹æ•°æ®åº“</strong></font>\n\n```mysql\nupdate è¡¨å set åˆ—å=å€¼\nupdate è¡¨å set åˆ—å=å€¼ where æ¡ä»¶;\n   ä¾‹å¦‚ï¼š update users set name=concat(name,\"123\") where id=2;                     \n   concat()   æ˜¯mysqlå†…éƒ¨çš„ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥æ‹¼æ¥å­—ç¬¦ä¸²\n```\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>æŸ¥è¯¢æ•°æ®</strong></font>\n\n```mysql\nselect * from è¡¨å    æŸ¥è¯¢æ•´å¼ è¡¨çš„æ•°æ®\nselect åˆ—å,åˆ—å,åˆ—å from è¡¨å;     æŸ¥è¯¢ä¸‰ä¸ªåˆ—çš„å€¼\nselect åˆ—å,åˆ—å as åˆ—å,åˆ—å from è¡¨å\nselect  *  from  è¡¨å  where  æ¡ä»¶;\n\n```\n\n---\n\n<br>\n\n<br><font color=#00b2c2 size=5 face=å®‹ä½“><strong>å¼€æ”¾é˜²ç«å¢™ï¼Œå¹¶ç«‹å³ç”Ÿæ•ˆï¼š</strong></font>\n\n```shell\n[root@htuidc ~]# firewall-cmd --permanent --zone=public --add-port=8080/tcp2[root@htuidc ~]# firewall-cmd --reload3## å¼€æ”¾3306åˆ°é˜²ç«å¢™ï¼Œå¹¶ç«‹å³ç”Ÿæ•ˆshell\n\n```\n\n<br>\n\n<br>\n\n<br>\n\n---\n","tags":["æ•°æ®åº“","mysql"],"categories":["_9-æ•°æ®åº“","mysql"]},{"title":"Navicat_æ¿€æ´»æ•™ç¨‹2021(Linux)","url":"/2023/05/18/Navicat-æ¿€æ´»æ•™ç¨‹2021-Linux/","content":"# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>Navicat_æ¿€æ´»æ•™ç¨‹2021(Linux)</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä¸€ä¸ªå¼ºå¤§çš„æ•°æ®åº“ç®¡ç†è½¯ä»¶ Navicat æ¿€æ´»æ•™ç¨‹2021ï¼ˆLinuxï¼‰</strong></font>\n\nNavicat æ˜¯é¦™æ¸¯å“è½¯æ•°å­—ç§‘æŠ€æœ‰é™å…¬å¸ç”Ÿäº§çš„ä¸€ç³»åˆ— MySQLã€MariaDBã€MongoDBã€Oracleã€SQLiteã€PostgreSQL åŠ Microsoft SQL Server çš„å›¾å½¢åŒ–æ•°æ®åº“ç®¡ç†åŠå‘å±•è½¯ä»¶ã€‚å®ƒæœ‰ä¸€ä¸ªç±»ä¼¼æµè§ˆå™¨çš„å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼Œæ”¯æŒå¤šé‡è¿çº¿åˆ°æœ¬åœ°å’Œè¿œç¨‹æ•°æ®åº“ã€‚å®ƒçš„è®¾è®¡åˆä¹å„ç§ç”¨æˆ·çš„éœ€æ±‚ï¼Œä»æ•°æ®åº“ç®¡ç†å‘˜å’Œç¨‹åºå‘˜ï¼Œåˆ°å„ç§ä¸ºå®¢æˆ·æœåŠ¡å¹¶ä¸åˆä½œä¼™ä¼´å…±äº«ä¿¡æ¯çš„ä¸åŒä¼ä¸šæˆ–å…¬å¸ã€‚ â€“Wikipedia\n\n---\n\n<br>\n\n<font color=#00b2c2 size=4 face=å®‹ä½“><strong>ç¯å¢ƒï¼š</strong></font>\n\n---\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>1.ç¯å¢ƒæ¸…å•ï¼š</strong></font>\n\n  + <font color=#b0171f size=3 face=å®‹ä½“><strong>NavicatåŒ…ï¼š[å®˜ç½‘ä¼ é€é˜µ](https://www.navicat.com.cn/download/navicat-premium)</strong></font>\n  + <font color=#b0171f size=3 face=å®‹ä½“><strong>Navicat-Keygenå·¥å…·(ä¾èµ–ä¸‹é¢ä¸‰ä¸ªåº“)</strong></font>\n  + <font color=#b0171f size=3 face=å®‹ä½“><strong>capstone</strong></font>\n  + <font color=#b0171f size=3 face=å®‹ä½“><strong>keystone (éœ€è¦cmake)</strong></font>\n  + <font color=#b0171f size=3 face=å®‹ä½“><strong>rapidjson</strong></font>\n  + <font color=#b0171f size=3 face=å®‹ä½“><strong>AppImageæ‰“åŒ…å·¥å…·</strong></font>\n\n---\n<br>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>2.ç¯å¢ƒå‡†å¤‡ï¼š</strong></font>\n\n  + <font color=#b0171f size=3 face=å®‹ä½“><strong>Navicat åŒ…ä¸‹è½½[BDç›´ä¸‹(navicat premium-15.0.23)](https://bd.bcebos.com/v1/xly-icafe/navicat15-premium-cs-20220217092059-kezae2.appimage)</strong></font>\n\n  + <font color=#b0171f size=3 face=å®‹ä½“><strong>Note: å®˜ç½‘æœ€æ–°ç‰ˆæ¿€æ´»å¤±è´¥ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªæ—§ç‰ˆæœ¬ï¼ˆå°ç¼–æ¿€æ´»å®˜ç½‘æœ€æ–°ç‰ˆçš„æ—¶å€™ï¼Œå¡åœ¨æ¿€æ´»çš„ç¬¬2 æ­¥ï¼‰</strong></font>\n\n  + <font color=#b0171f size=3 face=å®‹ä½“><strong>å‡†å¤‡Navicat-Keygençš„ç¼–è¯‘ç¯å¢ƒ</strong></font>\n\n  + <font color=#b0171f size=3 face=å®‹ä½“><strong>capstone</strong></font>\n\n    ```shell\n    sudo apt install libcapstone-dev\n    ```\n\n---\n<br>\n\n  + <font color=#b0171f size=3 face=å®‹ä½“><strong>keystone</strong></font>\n\n    ```shell\n    # å®‰è£…ç¼–è¯‘å·¥å…·cmake\n    sudo apt install cmake\n    cd ~/ä¸‹è½½  # è·å–keystoneæºç å¹¶ç¼–è¯‘å®‰è£…\n    git clone https://github.com/keystone-engine/keystone.git\n    cd keystone\n    mkdir build  # åˆ›å»ºä¸€ä¸ªbuildç›®å½•ç”¨äºå­˜æ”¾keystoneç¼–è¯‘åçš„åº“æ–‡ä»¶\n    cd build\n    ../make-share.sh\n    sudo make install # å®‰è£…keystoneåŠ¨æ€åº“\n    sudo ldconfig   # æ‰§è¡ŒdconfigåŠ¨æ€é“¾æ¥åº“ä¸ºç³»ç»Ÿæ‰€å…±äº«\n    sudo apt install rapidjson-dev   # å®‰è£… rapidjson  \n    ```\n\n---\n<br>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>3.ç¼–è¯‘å®‰è£…Navicat-Keygenï¼š</strong></font>\n\n```shell\n# ä¸‹è½½\ncd ~/ä¸‹è½½\ngit clone -b linux --single-branch https://github.com/Orginly/navicat-keygen.git\ncd navicat-keygen\nmake all\nsudo chmod a+x bin/*  # æˆæƒnavicat-pacher å’Œnavicat-keygen\n\n```\n\nâ€‹\tNote: å¦‚æœmake all çš„æ—¶å€™ï¼Œæç¤ºfatal error: openssl/opensslv.h: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•ï¼Œæ­¤æ—¶è¯·æ‰§è¡Œ<font color=#00b2c2 size=3 face=å®‹ä½“><strong>**sudo apt-get install libssl-dev**</strong></font>å°±å¯ä»¥äº†\n\n\n---\n<br>\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>4.ä¸‹è½½AppImageæ‰“åŒ…å·¥å…·å¹¶æˆæƒï¼š</strong></font>\n\n```bash\ncd ~/ä¸‹è½½  # ä¸‹è½½\nwget 'https://github.com/AppImage/AppImageKit/releases/download/continuous/appimagetool-x86_64.AppImage'\nsudo chmod a+x appimagetool-x86_64.AppImage # æˆæƒ\n```\n\n<br>\n\n<br>\n\n<font color=red size=7 face=å®‹ä½“><strong>**æ¿€æ´»ï¼š**</strong></font>\n\n---\n<br>\n\n+ <font color=#00b2c2 size=4 face=å®‹ä½“><strong>**1. æå–AppImageæ–‡ä»¶:**</strong></font>\n\n```shell\n# å°†navicat15-premium-cs.AppImage ç§»åŠ¨åˆ° /home/ç›®å½•ä¸‹,è¿›å…¥AppImageç›®å½•ä¸‹ï¼Œæ‰“å¼€ç»ˆç«¯å¹¶æ‰§è¡Œ\nwget https://bd.bcebos.com/v1/xly-icafe/navicat15-premium-cs-20220217092059-kezae2.appimage\nmv navicat15-premium-cs-20220217092059-kezae2.appimage ~/ä¸‹è½½/navicat15-premium-cs.AppImage\ncd ~/ä¸‹è½½\nmkdir navicat15-premium-cs\nsudo mount -o loop navicat15-premium-cs.AppImage navicat15-premium-cs\nsudo cp -r navicat15-premium-cs navicat15\nsudo umount navicat15-premium-cs\nrm -rf navicat15-premium-cs\n```\n\n---\n<br>\n+ <font color=#00b2c2 size=4 face=å®‹ä½“><strong>**2. navicat-patcher æ›¿æ¢å®˜æ–¹å…¬é’¥:**</strong></font>\n\n```\n# è¿›å…¥navicat-keygen/bin/ç›®å½•\ncd ~/ä¸‹è½½/navicat-keygen/bin/\nsudo ./navicat-patcher ~/ä¸‹è½½/navicat15  # æ‰§è¡Œ\n```\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>æ ·å¼è¾“å‡º</strong></font>\n\n```bash\n**********************************************************\n\\*       Navicat Patcher (Linux) by @DoubleLabyrinth      *\n\\*                  Version: 1.0                          *\n\\**********************************************************\n\nPress ENTER to continue or Ctrl + C to abort.\n\n[+] Try to open libcc.so ... Ok!\n\n[+] PatchSolution0 ...... Ready to apply\n   RefSegment      =  1\n   MachineCodeRva  =  0x0000000001377200\n   PatchMarkOffset = +0x000000000292c840\n\n[*] Generating new RSA private key, it may take a long time...\n[*] Your RSA private key:\n    -----BEGIN RSA PRIVATE KEY-----\n    MIIEowIBAAKCAQEAta5uHinxzLei/iSOBu/Nf8y3X/BuGpmFcxacQIKb60amSHL4\n    vg0RaoWs3f04PapKSX+uGeWjhOzWX9UxRXj2xi1FeNgIKDa9+1cLKIvrOVlTlrpx\n    irXbOvGkF+uOd2mbEd11LgLwbnTKNoqWZuPHPh3hgUWF+fZ6/7rLuWrh+8K/OlHU\n    hOjgKZWoGxO7dXQhDav+iDxW7ab/s5B5/OJcwv+IvI3ZakL12C2fNKYcLtkonCTl\n\n...\n...\n...\n\n\n[*] New RSA-2048 private key has been saved to\n    /home/navicat-keygen/bin/RegPrivateKey.pem\n\n*******************************************************\n\\ *           PATCH HAS BEEN DONE SUCCESSFULLY!         *\n\\*                  HAVE FUN AND ENJOY~                *\n*******************************************************\n```\n\n---\n<br>\n\n<font color=#00b2c2 size=4 face=å®‹ä½“><strong>**3. å°†navicat15 æ‰“åŒ…:**</strong></font>\n\n```shell\ncd ~/ä¸‹è½½\n./appimagetool-x86_64.AppImage navicat15 navicat15.AppImage\n```\n\n---\n<br>\n\n<font color=#00b2c2 size=4 face=å®‹ä½“><strong>**4. è¿è¡Œåˆšæ‰“åŒ…çš„navicat15.AppImage:**</strong></font>\n\n```shell\n./navicat15.AppImage\n```\n\n---\n<br>\n\n<font color=#00b2c2 size=4 face=å®‹ä½“><strong>**5. ä½¿ç”¨ navicat-keygen æ¥ç”Ÿæˆ åºåˆ—å· å’Œ æ¿€æ´»ç :**</strong></font>\n\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>1. æ‰§è¡Œnavicat-keygen</strong></font>\n\n\n  ```shell\n  cd ~/ä¸‹è½½/navicat-keygen/bin/\n  ./navicat-keygen --text ./RegPrivateKey.pem\n  ```\n\n\n- <font color=#b0171f size=2 face=å®‹ä½“><strong>ä½ ä¼šè¢«è¦æ±‚é€‰æ‹©Navicatäº§å“ç±»åˆ«ã€Navicatè¯­è¨€ç‰ˆæœ¬å’Œå¡«å†™ä¸»ç‰ˆæœ¬å·ã€‚ä¹‹åä¸€ä¸ªéšæœºç”Ÿæˆçš„ åºåˆ—å· å°†ä¼šç»™å‡º</strong></font>\n\n  ![](https://s2.loli.net/2022/06/09/xNzVRSmrDHsq78b.png)\n\n\n---\n\n<br>\n\n<font color=red size=3 face=å®‹ä½“><strong>ä½¿ç”¨è¿™ä¸ª åºåˆ—å·(Serial number) æ¥æš‚æ—¶æ¿€æ´»Navicatã€‚</strong></font>\n\n<font color=red size=3 face=å®‹ä½“><strong>ä¹‹åä½ ä¼šè¢«è¦æ±‚å¡«å†™ ç”¨æˆ·å å’Œ ç»„ç»‡å, ä½ å¯ä»¥éšæ„å¡«å†™ï¼Œä½†åˆ«å¤ªé•¿ã€‚</strong></font>\n\n```shell\n[*] Your name: LIBRA\n[*] Your organization: ROOKIE\n```\n\n---\n\n<br>\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>ä¹‹åä½ ä¼šè¢«è¦æ±‚å¡«å†™è¯·æ±‚ç ã€‚æ³¨æ„ä¸è¦å…³é—­keygenã€‚</strong></font>\n<font color=#00b2c2 size=3 face=å®‹ä½“><strong>**æ–­å¼€ç½‘ç»œ. æ‰¾åˆ°navicatæ³¨å†Œçª—å£ï¼Œå¡«å†™keygenç»™ä½ çš„ åºåˆ—å·ï¼Œç„¶åç‚¹å‡» æ¿€æ´»ï¼Œå†ç‚¹å‡» æ‰‹åŠ¨æ¿€æ´»ã€‚(é€šå¸¸åœ¨çº¿æ¿€æ´»ä¼šå¤±è´¥ï¼Œæ‰€ä»¥åœ¨å¼¹å‡ºçš„æç¤ºä¸­é€‰æ‹©æ‰‹åŠ¨æ¿€æ´»)**</strong></font>\n\n<font color=red size=3 face=å®‹ä½“><strong>å¤åˆ¶ è¯·æ±‚ç  åˆ°keygenï¼Œè¿æŒ‰ä¸¤æ¬¡å›è½¦ç»“æŸã€‚</strong></font>\n\n![è¿”å›çš„æ¿€æ´»ç ](https://s2.loli.net/2022/06/09/baoMzyGq4xS2L3f.png)\n\n<br>\n\n<br>\n\n<br>\n\n---\n","tags":["ç ´è§£","è½¯ä»¶"],"categories":["_A5-å®‰è£…æ•™ç¨‹","Navicat"]},{"title":"python PyQt5_æŸ¥çœ‹æ‰€æœ‰åŸºç±»","url":"/2023/05/18/python-PyQt5-æŸ¥çœ‹æ‰€æœ‰åŸºç±»/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>PyQt5_æŸ¥çœ‹æ‰€æœ‰åŸºç±»ï¼š</strong></font>\n\n<!--more-->\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>å»ºè®®ç›´æ¥å»å®˜ç½‘æŸ¥çœ‹åŸºç±»ï¼š</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>QtWidgetsæ‰€æœ‰åŸºç±»ï¼š</strong></font>[<font color=#b0171f size=2 face=å®‹ä½“><strong>**ç‚¹å‡»è¿›å…¥**</strong></font>](https://www.riverbankcomputing.com/static/Docs/PyQt5/api/qtwidgets/qtwidgets-module.html)\n\n---\n\n<br><font color=red size=4 face=å®‹ä½“><strong>å®Œæ•´ä»£ç ï¼š</strong></font>\n\n```python\nfrom PyQt5.QtWidgets import *\nimport sys\n\nclass any_parent(QWidget):\n    def __init__(self):\n        super().__init__()\n        print(QWidget.__subclasses__())\n\nif __name__ == '__main__':\n    app = QApplication(sys.argv)\n    window = any_parent()\n    window.show()\n    sys.exit(app.exec_())\n\n```\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**å‰–æä»£ç ï¼š**</strong></font>\n\n```python\n# ä½¿ç”¨__subclasses__()æ–¹æ³•ï¼Œå¯æŸ¥çœ‹åŸºäºæŸä¸ªç±»çš„æ‰€æœ‰åŸºç±»\nQWidget.__subclasses__() # æŸ¥çœ‹QWidgetçš„æ‰€æœ‰åŸºç±»\nprint(QWidget.__subclasses__())\n\n# æŸ¥çœ‹QObectçš„æ‰€æœ‰åŸºç±»\nfrom PyQt5.Qt import *\nprint(QObject.__subclasses__())\n\n```\n\n<br>\n\n<br><font color=red size=5 face=å®‹ä½“><strong>QWidget.subclasses()æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</strong></font>\n\n```python\n[<class 'PyQt5.QtWidgets.QAbstractButton'>, <class 'PyQt5.QtWidgets.QFrame'>, <class 'PyQt5.QtWidgets.QAbstractSlider'>, <class 'PyQt5.QtWidgets.QAbstractSpinBox'>, <class 'PyQt5.QtWidgets.QCalendarWidget'>, <class 'PyQt5.QtWidgets.QDialog'>, <class 'PyQt5.QtWidgets.QComboBox'>, <class 'PyQt5.QtWidgets.QDesktopWidget'>, <class 'PyQt5.QtWidgets.QDialogButtonBox'>, <class 'PyQt5.QtWidgets.QDockWidget'>, <class 'PyQt5.QtWidgets.QFocusFrame'>, <class 'PyQt5.QtWidgets.QGroupBox'>, <class 'PyQt5.QtWidgets.QKeySequenceEdit'>, <class 'PyQt5.QtWidgets.QLineEdit'>, <class 'PyQt5.QtWidgets.QMainWindow'>, <class 'PyQt5.QtWidgets.QMdiSubWindow'>, <class 'PyQt5.QtWidgets.QMenu'>, <class 'PyQt5.QtWidgets.QMenuBar'>, <class 'PyQt5.QtWidgets.QOpenGLWidget'>, <class 'PyQt5.QtWidgets.QProgressBar'>, <class 'PyQt5.QtWidgets.QRubberBand'>, <class 'PyQt5.QtWidgets.QSizeGrip'>, <class 'PyQt5.QtWidgets.QSplashScreen'>, <class 'PyQt5.QtWidgets.QSplitterHandle'>, <class 'PyQt5.QtWidgets.QStatusBar'>, <class 'PyQt5.QtWidgets.QTabBar'>, <class 'PyQt5.QtWidgets.QTabWidget'>, <class 'PyQt5.QtWidgets.QToolBar'>, <class 'PyQt5.QtWidgets.QWizardPage'>, <class '__main__.any_parent'>]\n```\n\n","tags":["python","PyQt5"],"categories":["Python","PyQt5"]},{"title":"python PyQt5_ä»£ç ç»“æ„","url":"/2023/05/17/python-PyQt5-ä»£ç ç»“æ„/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>PyQt5_ä»£ç ç»“æ„ï¼š</strong></font>\n\n<!--more-->\n\n```python\n# 0. å¯¼å…¥éœ€è¦çš„åŒ…å’Œæ¨¡å—\nfrom PyQt5.Qt import *  # ä¸»è¦åŒ…å«äº†æˆ‘ä»¬å¸¸ç”¨çš„ä¸€äº›ç±», æ±‡æ€»åˆ°äº†ä¸€å—\nimport sys\n\n# åˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºå¯¹è±¡\napp = QApplication(sys.argv)\n# print(app.arguments())\n# print(qApp.arguments())\n\n# æ§ä»¶çš„æ“ä½œ\n# åˆ›å»ºæ§ä»¶,è®¾ç½®æ§ä»¶(å¤§å°,ä½ç½®,æ ·å¼...),äº‹ä»¶,ä¿¡å·çš„å¤„ç†\n# 2.1 åˆ›å»ºæ§ä»¶\n# å½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ§ä»¶ä¹‹å, å¦‚æœè¯´,è¿™ä¸ªæ§ä»¶æ²¡æœ‰çˆ¶æ§ä»¶, åˆ™æŠŠå®ƒå½“åšé¡¶å±‚æ§ä»¶(çª—å£)\n# ç³»ç»Ÿä¼šè‡ªåŠ¨çš„ç»™çª—å£æ·»åŠ ä¸€äº›è£…é¥°(æ ‡é¢˜æ ), çª—å£æ§ä»¶å…·å¤‡ä¸€äº›ç‰¹æ€§(è®¾ç½®æ ‡é¢˜,å›¾æ ‡)\nwindow = QWidget()\n# window = QPushButton()\n# window = QLabel()\n# 2.2 è®¾ç½®æ§ä»¶\n# window.setText(\"hello sz\")\nwindow.setWindowTitle(\"è›‹å›å¨æ­¦ï¼Œéœ¸æ°”ï¼å°±æ˜¯å¿’ç‰¹å¨˜çš„æ€‚äº†\")\nwindow.resize(400, 400)\n\n# æ§ä»¶ä¹Ÿå¯ä»¥ä½œä¸ºä¸€ä¸ªå®¹å™¨(æ‰¿è½½å…¶ä»–çš„æ§ä»¶)\nlabel = QLabel(window)\nlabel.setText(\"xxx\")\nlabel.setWindowTitle(\"xxxxxxx\")\nlabel.move(100, 50)\n# label.show()\n\n# 2.3 å±•ç¤ºæ§ä»¶\n# åˆšåˆ›å»ºå¥½ä¸€ä¸ªæ§ä»¶ä¹‹å,(è¿™ä¸ªæ§ä»¶æ²¡æœ‰ä»€ä¹ˆçˆ¶æ§ä»¶), é»˜è®¤æƒ…å†µä¸‹ä¸ä¼šè¢«å±•ç¤º,åªæœ‰æ‰‹åŠ¨çš„è°ƒç”¨show()æ‰å¯ä»¥\n# å¦‚æœè¯´è¿™ä¸ªæ§ä»¶, æœ‰çˆ¶æ§ä»¶çš„,é‚£ä¹ˆä¸€èˆ¬æƒ…å†µä¸‹, çˆ¶æ§ä»¶å±•ç¤ºä¹‹å, å­æ§ä»¶ä¼šè‡ªåŠ¨å±•ç¤º\nwindow.show()\n\n# åº”ç”¨ç¨‹åºçš„æ‰§è¡Œ, è¿›å…¥åˆ°æ¶ˆæ¯å¾ªç¯\n# è®©æ•´ä¸ªç¨‹åºå¼€å§‹æ‰§è¡Œ,å¹¶ä¸”è¿›å…¥åˆ°æ¶ˆæ¯å¾ªç¯(æ— é™å¾ªç¯)\n# æ£€æµ‹æ•´ä¸ªç¨‹åºæ‰€æ¥æ”¶åˆ°çš„ç”¨æˆ·çš„äº¤äº’ä¿¡æ¯\nsys.exit(app.exec_())\n\n# æˆ‘ä»¬çš„ä»£ç , åˆ°æ—¶å€™çš„æ‰§è¡Œæ–¹å¼, å³å‡», æ‰§è¡Œ   2, å‘½ä»¤è¡Œ python ä»£ç åç§°\n# å½“åˆ«äººé€šè¿‡å‘½ä»¤è¡Œå¯åŠ¨è¿™ä¸ªç¨‹åºçš„æ—¶å€™,å¯ä»¥è®¾å®šä¸€ç§åŠŸèƒ½(æ¥æ”¶å‘½ä»¤è¡Œä¼ é€’çš„å‚æ•°, æ¥æ‰§è¡Œä¸åŒçš„ä¸šåŠ¡é€»è¾‘\n# args = sys.argv\n# print(args)\n# if args[1] == '1':\n#     print(\"xxx\")\n# else:\n#     print(\"ooo\")\n\n# sys.exit()\n\n```\n\n","tags":["python","PyQt5"],"categories":["Python","PyQt5"]},{"title":"python PyQt5_åˆ¤å®šAPI","url":"/2023/05/17/python-PyQt5-åˆ¤å®šAPI/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>PyQt5_åˆ¤å®šAPIï¼š</strong></font>\n\n<!--more-->\n\n```python\nobjs = [obj, w, btn, label]\nfor o in objs:\n    print(o.isWidgetType()) # å¯ä»¥éå†æ‰€æœ‰çš„apiæ˜¯å¦ä¸ºä¸€ä¸ªæ§ä»¶\n    print(o.inherits('QLabel')) # éå†æ‰€æœ‰APIæ˜¯å¦ç»§æ‰¿è‡ªQLabel\n```\n\n","tags":["python","PyQt5"],"categories":["Python","PyQt5"]},{"title":"python PyQt5_ä¿¡å·ä¸æ§½çš„å»ºç«‹ä¸åŸºæœ¬ä½¿ç”¨","url":"/2023/05/17/python-PyQt5-ä¿¡å·ä¸æ§½çš„å»ºç«‹ä¸åŸºæœ¬ä½¿ç”¨/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>PyQt5_ä¿¡å·ä¸æ§½çš„å»ºç«‹ä¸åŸºæœ¬ä½¿ç”¨ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä¿¡å·ä¸æ§½çš„å»ºç«‹ä¸åŸºæœ¬ä½¿ç”¨ï¼š</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>ä¿¡å·ä¸æ§½çš„ä½¿ç”¨åœ¨PyQt5ä¸­ååˆ†é‡è¦ï¼Œåœ¨GUIç¼–ç¨‹ä¸­å°¤ä¸ºé‡è¦ï¼</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>å…¶åŸºæœ¬åŸç†å°±æ˜¯ï¼Œç¨‹åºç”±ç”¨æˆ·ã€æˆ–è€…ç¨‹åºå†…éƒ¨ > è§¦å‘ä¿¡å· > æ‰§è¡Œå‡½æ•°(è¿™ä¸ªå‡½æ•°å°±æ˜¯æ§½å‡½æ•°ï¼Œä½ ä¹Ÿå¯ä»¥ç†è§£ä¸ºå®ƒå…¶å®å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°)ã€‚é‚£ä¹ˆè¯¥å‡½æ•°ä¼šéšä¹‹è€Œè¿è¡Œï¼ŒåŒä¸€ä¸ªä¿¡å·å¯ä»¥ä¸ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ§½è¿æ¥ã€‚</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>ä¸»è¦åº”ç”¨åœºæ™¯æ˜¯ï¼š</strong></font>\n  + <font color=#00b2c2 size=2 face=å®‹ä½“><strong>ç›‘å¬ä¿¡å·ï¼Œå…ˆç”¨ç”¨æˆ·è¡Œä¸ºã€‚</strong></font>\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ç›¸å…³APIï¼š</strong></font>\n\n```python\nwidget.ä¿¡å·.connect(æ§½) # å»ºç«‹ä¿¡å·ä¸æ§½ä¹‹é—´çš„è”ç³»ï¼\n<å¯¹è±¡>.objectNameChanged.disconnect() # å–æ¶ˆ<å¯¹è±¡>çš„ä¿¡å·è¿æ¥\n<å¯¹è±¡>.blockSignals() # æš‚åœã€è¿è¡Œï¼Œä¿¡å·æ§½ blockSignals() æ‰€ä¼ é€’çš„å‚æ•°ä¸ºå¸ƒå°”å€¼\n\nobjectNameChanged(objectName) # å¯¹è±¡åç§°å‘ç”Ÿæ”¹å˜æ—¶å‘å°„æ­¤ä¿¡å·\ndestroyed(obj) # å¯¹è±¡é”€æ¯çš„æ—¶å€™ï¼Œå‘å‡ºä¿¡å·\nself.obj.seceivers(self.obj.objectNameChanged)  # æŸ¥çœ‹ä¿¡å· self.obj.objectNameChanged ä¸‹é“¾æ¥çš„æ§½.seceivers æ–¹æ³•\n```\n\n","tags":["python","PyQt5"],"categories":["Python","PyQt5"]},{"title":"python PyQt5_æ§ä»¶å­¦ä¹ ","url":"/2023/05/17/python-PyQt5-æ§ä»¶å­¦ä¹ /","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>æ§ä»¶å­¦ä¹ ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>1. åŸºç¡€æ§ä»¶ï¼š</strong></font>\n\n---\n\n<br><font color=#b0171f size=2 face=å®‹ä½“><strong>**1.1. æŒ‰é’®ï¼š**</strong></font>\n\n```python\nQPushButton # æŒ‰é’®ï¼Œå¯ä»¥åŒå‡»ï¼Œå¯ä»¥å•å‡»ï¼Œå¯ä»¥å³å‡»...\nQCommandLinkButton # å¯ä»¥åŠ linkæ ‡ç­¾\nQRadioButton # å•é€‰ æŒ‰é’®\nQCheckBox # å¤é€‰æŒ‰é’®\n```\n\n---\n\n<br><font color=#b0171f size=2 face=å®‹ä½“><strong>**1.2. è¾“å…¥æ§ä»¶ï¼š**</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>çº¯é”®ç›˜è¾“å…¥ï¼š</strong></font>\n\n```python\nQLineEdit    # å•è¡Œè¾“å…¥æ¡†\nQTextEdit    # å¤šè¡Œæ–‡æœ¬â€”â€”å¯ä»¥æ˜¯å¯Œæ–‡æœ¬ã€è¶…é“¾æ¥ã€å›¾ç‰‡ï¼Œå¹¶ä¸å±€é™äºæ™®é€šæ–‡æœ¬\nQPlainTextEdit   #  æ™®é€šæ–‡æœ¬  åªèƒ½ä½¿ç”¨æ™®é€šæ–‡æœ¬\nQKeySequenceEdit   # é‡‡é›†ç”¨æˆ·è¾“å…¥å¿«æ·é”®\n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>**æ­¥é•¿è°ƒèŠ‚ï¼ˆQAbstractSpinBoxï¼‰ï¼ˆé”®ç›˜+é¼ æ ‡ï¼‰ï¼š**</strong></font>\n\n```python\nQDateTimeEdit   # é‡‡é›†æ—¶é—´ï¼Œå¯ç‚¹é€‰ä¸Šä¸‹è°ƒèŠ‚ï¼Œä¹Ÿå¯é”®ç›˜è¾“å…¥  # QDateEditå•ç‹¬æ—¥æœŸ   # QDateTime  å•ç‹¬æ—¶é—´\nQSpinBox    # ç®€å•çš„æ•°å­—æ­¥é•¿è°ƒèŠ‚(æ•´æ•°)\nQDoubleSpinBox   #   æµ®ç‚¹æ•°è°ƒèŠ‚\n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>**ç»„åˆæ¡†ï¼ˆä¸‹æ‹‰é€‰æ‹©è¾“å…¥ï¼‰ï¼š**</strong></font>\n\n```python\nQComboBox    # ç»„åˆæ¡†ï¼Œä½¿ç”¨æ–¹å¼ï¼šä¸»è¦æ˜¯åœ°å€ç‚¹é€‰\nQFontComboBox  # å­—ä½“é€‰æ‹©\n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>**æ»‘å—ï¼ˆQAbstractSliderï¼‰ï¼ˆé¼ æ ‡ï¼‰ï¼š**</strong></font>\n\n```python\nQDial   # æ—‹é’®æ»‘å—\nQSlider   # æ»‘å—  å¯åšéŸ³é‡è°ƒèŠ‚\nQScrollBar   # æ»šåŠ¨æ¡ï¼Œå¯åšé•¿ç¯‡å‰¯æ–‡æœ¬ï¼Œå›¾ç‰‡ç­‰çª—å£å±•ç¤ºä¸å‡ºæ¥æ—¶å¯ç”¨\n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>**æ©¡çš®ç­‹é€‰ä¸­ï¼š**</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>**å¯¹è¯æ¡†ï¼ˆQDialogï¼‰ï¼š**</strong></font>\n\n```python\nQColorDialog   # é¢œè‰²å¯¹è¯æ¡†   é€‰æ‹©é¢œè‰²\nQFileDialog    # æ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†ï¼Œ  ä¸»è¦åœºæ™¯æ˜¯ä¸Šä¼ æ–‡ä»¶ç”¨çš„\nQFontDialog   # å­—ä½“é€‰æ‹©ã€å°ºå¯¸ç­‰ç­‰ å¯¹è¯æ¡†\nQInputDialog   # è¾“å…¥å¯¹è¯æ¡†  æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„ï¼Œä¾‹å¦‚è¦æ±‚ç”¨æˆ·è¾“å…¥éªŒè¯ç ï¼Œæˆ–è€…æ³¨å†Œåå­—çš„æ—¶å€™å¼¹çª—\n```\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>**æ—¥æœŸï¼š**</strong></font>\n\n```python\nQCalendarWidget   # æ—¥æœŸå¯¹è¯æ¡†ï¼Œä¾‹å¦‚ç«è½¦ç¥¨æ—¥æœŸé€‰æ‹©\n```\n\n","tags":["python","PyQt5"],"categories":["Python","PyQt5"]},{"title":"python PyQt5_Object çˆ¶å­å…³ç³»è®¾ç½®ä¸æ„é€ ","url":"/2023/05/17/python-PyQt5-Object-çˆ¶å­å…³ç³»è®¾ç½®ä¸æ„é€ /","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>python PyQt5_Object çˆ¶å­å…³ç³»è®¾ç½®ä¸æ„é€ ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ç»§æ‰¿ç›¸å…³ï¼š</strong></font>\n\n```python\n#å‡å¦‚obj1ä»£è¡¨ä¸€ä¸ªå¯¹è±¡\nobj1.setParent(obj0) # è®©obj1ç»§æ‰¿obj0\nobj1.parent() # è·å–obj1çš„çˆ¶ç±»\nobj1.children() # è·å–obj1çš„æ‰€æœ‰ç›´æ¥å­å¯¹è±¡ï¼Œå¹¶ä¸ä¼šè·å–é—´æ¥å­å¯¹è±¡\n\nobj1.findChild(å‚æ•°1, å‚æ•°2, å‚æ•°3)\n\nobj1.findChildren(å‚æ•°1, å‚æ•°2, å‚æ•°3)\n\n```\n\n---\n\n<br><font color=#f26522 size=4 face=å®‹ä½“><strong>**ç¤ºä¾‹ï¼š**</strong></font>\n\n```python\nobj0 = QObject()\nobj1 = QObject()\nprint('obj0', obj0)\nprint('obj1', obj1)\n\n# è®©obj1ç»§æ‰¿obj0\nobj1.setParent(obj0)\n\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**è¾“å‡ºï¼š**</strong></font>\n\n```\n# è¾“å‡ºå¦‚ä¸‹\nobj0 \nobj1 \n\n# ç»§æ‰¿ä¹‹åï¼Œåœ°å€å¦‚ä¸‹\nobj1 \n\n```\n\n<font color=red size=4 face=å®‹ä½“><strong>é‡ç‚¹ï¼š</strong></font><font color=#b0171f size=3 face=å®‹ä½“><strong>çˆ¶ç±»ç»§æ‰¿ï¼Œåªèƒ½ç»§æ‰¿ä¸€ä¸ªï¼Œåæ‰§è¡Œçš„ç»§æ‰¿ï¼Œä¼šè¦†ç›–æ‰å…ˆç»§æ‰¿çš„çˆ¶ç±»</strong></font>\n","tags":["python","PyQt5"],"categories":["Python","PyQt5"]},{"title":"python websocketså…¨åŒå·¥é€šä¿¡","url":"/2023/05/17/python-websocketså…¨åŒå·¥é€šä¿¡/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>python websocketså…¨åŒå·¥é€šä¿¡ï¼š</strong></font>\n\n<!--more-->\n\n<font color=red size=4 face=å®‹ä½“><strong>æœ¬æ–‡æ¬è¿è‡ªï¼š</strong></font>https://blog.csdn.net/qq_42195302/article/details/120150438\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>åŠŸèƒ½æè¿°ï¼š</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½å¯å‘é€æˆ–æ¥æ”¶æ•°æ®ã€‚å‘é€å’Œæ¥æ”¶ç›¸äº’ç‹¬ç«‹ï¼Œå¼‚æ­¥å¹¶å‘ã€‚</strong></font>\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>è¿è¡Œç¯å¢ƒï¼š</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>python3.6.8</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>websockets9.1</strong></font>\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>æœåŠ¡ç«¯ï¼š</strong></font>\n\n```python\nimport asyncio\nimport websockets\n\nasync def send(websocket):\n    while True:\n        await asyncio.sleep(1)\n        #æ­¤åç¨‹æŒ‚èµ·1sï¼Œä»¥åˆ‡æ¢åˆ°å…¶ä»–åç¨‹ã€‚ä¸åŠ æ­¤è¡Œä¸ä¼šåˆ‡æ¢åˆ°å¦ä¸€ä¸ªåç¨‹ã€‚æ­¤å¤„ç”¨time.sleep()ä¸èƒ½èµ·åˆ°è¿™ä¸ªä½œç”¨ã€‚\n\t    #å¯ä»¥åœ¨æ­¤äº§ç”Ÿæ•°æ®ç„¶åsendå‡ºå»ã€‚\t\n        await websocket.send(\"hello\")\n        #æ­£å¸¸åœ°å‘é€ï¼Œä¸ä¼šåˆ‡æ¢åˆ°receive()\n        print(\"send hello\")\n\n\nasync def receive(websocket):\n    while True:\n        await asyncio.sleep(1)\n        #æ­¤åç¨‹æŒ‚èµ·1sï¼Œä»¥åˆ‡æ¢åˆ°å…¶ä»–åç¨‹ã€‚ä¸åŠ æ­¤è¡Œä¸ä¼šåˆ‡æ¢åˆ°å¦ä¸€ä¸ªåç¨‹ã€‚æ­¤å¤„ç”¨time.sleep()ä¸èƒ½èµ·åˆ°è¿™ä¸ªä½œç”¨ã€‚\n        greeting = await websocket.recv()\n        #æ­£å¸¸åœ°æ¥æ”¶ï¼Œä¸ä¼šåˆ‡æ¢åˆ°send()\n        print(\"receive \"+greeting)\n\n\nasync def hello(websocket, path):\n        a = asyncio.get_event_loop().create_task(send(websocket))\n        b = asyncio.get_event_loop().create_task(receive(websocket))\n        #ä½¿ç”¨create_task()åˆ›å»ºtask\n\n        await a\n        await b\n        # abå¹¶å‘\n        # abå¹¶å‘ï¼Œä¸‹é¢è¿™è¡Œä»£ç ä¸ä¼šæ‰§è¡Œ\n        print(\"wait\")\n        #print(\"wait\")ä¸ä¼šæ‰§è¡Œ\n\nstart_server = websockets.serve(hello, \"localhost\", 8766)\n\nasyncio.get_event_loop().run_until_complete(start_server)\nasyncio.get_event_loop().run_forever()\n\n```\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å®¢æˆ·ç«¯ï¼š</strong></font>\n\n```python\nimport asyncio\nimport websockets\n\nasync def send(websocket):\n    while True:\n        await asyncio.sleep(1)\n        #æ­¤åç¨‹æŒ‚èµ·1sï¼Œä»¥åˆ‡æ¢åˆ°å…¶ä»–åç¨‹ã€‚ä¸åŠ æ­¤è¡Œä¸ä¼šåˆ‡æ¢åˆ°å¦ä¸€ä¸ªåç¨‹ã€‚æ­¤å¤„ç”¨time.sleep()ä¸èƒ½èµ·åˆ°è¿™ä¸ªä½œç”¨ã€‚\n\n        await websocket.send(\"hello\")\n        #æ­£å¸¸åœ°å‘é€ï¼Œä¸ä¼šåˆ‡æ¢åˆ°receive()\n\n        print(\"send hello\")\n\n\nasync def receive(websocket):\n    while True:\n        await asyncio.sleep(1)\n        #æ­¤åç¨‹æŒ‚èµ·1sï¼Œä»¥åˆ‡æ¢åˆ°å…¶ä»–åç¨‹ã€‚ä¸åŠ æ­¤è¡Œä¸ä¼šåˆ‡æ¢åˆ°å¦ä¸€ä¸ªåç¨‹ã€‚æ­¤å¤„ç”¨time.sleep()ä¸èƒ½èµ·åˆ°è¿™ä¸ªä½œç”¨ã€‚\n\n        greeting = await websocket.recv()\n        #æ­£å¸¸åœ°æ¥æ”¶ï¼Œä¸ä¼šåˆ‡æ¢åˆ°send()\n        print(\"receive\"+greeting)\n\n\nasync def hello():\n    uri = \"ws://localhost:8766\"\n    async with websockets.connect(uri) as websocket:\n        a = asyncio.get_event_loop().create_task(send(websocket))\n        b = asyncio.get_event_loop().create_task(receive(websocket))\n        await a\n        await b\n        # abå¹¶å‘ï¼Œä¸‹é¢è¿™è¡Œä»£ç ä¸ä¼šæ‰§è¡Œ\n        print(\"wait\")\n        #print(\"wait\")ä¸ä¼šæ‰§è¡Œ\n\nasyncio.get_event_loop().run_until_complete(hello())\n\n```\n\n","tags":["python","å¼‚æ­¥ã€åç¨‹"],"categories":["Python","Socket"]},{"title":"python PyQt5-pycharmæ¨¡æ¿","url":"/2023/05/17/python-PyQt5-pycharmæ¨¡æ¿/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>python PyQt5-pycharmæ¨¡æ¿ï¼š</strong></font>\n\n<!--more-->\n\n```python\n# å¯¼å…¥éœ€è¦çš„åŒ…å’Œæ¨¡å—\nfrom PyQt5.Qt import *\nimport sys\n\nclass window(QWidget):\n    def __init__(self):\n        super().__init__()\n        self.setWindowTitle(\\$TITLE\\$)\n        self.setFixedSize(500, 200)\n        self.label1()  \n        \n    # label æ ‡ç­¾\n    def label1(self):\n        \\$Label\\$\n\nif __name__ == '__main__':\n    # åˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºå¯¹è±¡\n    app = QApplication(sys.argv)\n    # è°ƒç”¨ç±»ã€å¹¶ä¸”å®ä¾‹åŒ–\n    window = window()\n    # å±•ç¤ºæ§ä»¶\n    window.show()\n    # æ¶ˆæ¯å¾ªç¯\n    sys.exit(app.exec_())\n```\n\n","tags":["python","PyQt5"],"categories":["Python","PyQt5"]},{"title":"python PyQt5åŸºæœ¬ä½¿ç”¨","url":"/2023/05/17/python-PyQt5åŸºæœ¬ä½¿ç”¨/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>PyQt5åŸºæœ¬ä½¿ç”¨ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>1.1. å®‰è£…PyQt5ï¼š</strong></font>\n\n```python\n# è¿™ç©æ„å„¿æ˜¯çœŸçš„æ¶å¿ƒï¼Œä½†ä¹ŸçœŸçš„å¥½ç”¨\n# æ¶å¿ƒçš„æ˜¯PyQt5 è¿™å‡ ä¸ªå­—æ¯ï¼Œä¸€ä¼šå¤§å†™ï¼Œä¸€ä¼šå„¿å°å†™ï¼Œè¿˜ç‰¹å¨˜çš„æœ‰æ•°å­—ï¼Œè¾“å…¥èµ·æ¥æ˜¯çœŸçš„æ¶å¿ƒ\n# ä½†å´ä¹Ÿæ˜¯çœŸçš„ç‰¹å¨˜çš„å¥½ç”¨ï¼ŒåŠŸèƒ½å¿’å¼ºå¤§äº†\npip install PyQt5\n```\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>1.2. PyQt5åŸºæœ¬ä»£ç ç»“æ„ï¼š</strong></font>\n\n```python\nfrom PyQt5.Qt import * # ä¸»è¦åŒ…å«äº†æˆ‘ä»¬å¸¸ç”¨çš„ä¸€äº›ç±», æ±‡æ€»åˆ°äº†ä¸€å—\nimport sys\n# åˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºå¯¹è±¡\n# sys.argv ==> å½“å‰è™šæ‹Ÿç¯å¢ƒç³»ç»Ÿ ä¾‹å¦‚ï¼šåœ¨(pyqt5_venv)kt@debian:~/Pycharm/é¡¹ç›®A å…·ä½“è·¯å¾„ä¸‹æ‰§è¡Œæ“ä½œ\napp = QApplication(sys.argv)\n# ç³»ç»Ÿä¼šè‡ªåŠ¨çš„ç»™çª—å£æ·»åŠ ä¸€äº›è£…é¥°(æ ‡é¢˜æ ), çª—å£æ§ä»¶å…·å¤‡ä¸€äº›ç‰¹æ€§(è®¾ç½®æ ‡é¢˜,å›¾æ ‡)\nwindow = QWidget()\nwindow.setWindowTitle(\"è›‹å›å¨æ­¦ï¼Œéœ¸æ°”ï¼å°±æ˜¯å¿’ç‰¹å¨˜çš„æ€‚äº†\")\nwindow.resize(400, 400)\n\n# å±•ç¤ºæ§ä»¶\nwindow.show()\n# æ£€æµ‹æ•´ä¸ªç¨‹åºæ‰€æ¥æ”¶åˆ°çš„ç”¨æˆ·çš„äº¤äº’ä¿¡æ¯\nsys.exit(app.exec_())\n\n```\n\n---\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>1.3. PyQt5å¸¸ç”¨æ§ä»¶ã€ä»£ç è®°å½•ï¼š</strong></font>\n\n```python\nwindow.setFixedSize(500, 200) # setFixedSize() ==> å®šæ­»çª—å£åªèƒ½ä»¥æŸä¸ªæ•°å€¼å±•ç¤º\n```\n\n","tags":["python","PyQt5"],"categories":["Python","PyQt5"]},{"title":"Python å„ç±»åº“çš„å®‰è£…","url":"/2023/05/17/Python-å„ç±»åº“çš„å®‰è£…/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Python å„ç±»åº“çš„å®‰è£…ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>åœ¨pythonä¸‹ å„ç±»åº“çš„å®‰è£…ï¼Œä¸€èˆ¬æ¥è¯´æ˜¯æ¯”è¾ƒç®€å•çš„ ç›´æ¥pip install * å³å¯</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›åº“æ¯”è¾ƒç‰¹æ®Šï¼Œæœ¬ç¯‡åšå®¢å°†è®°å½•å„ç±»åå­—ä¸ä½¿ç”¨å¹¶ä¸ä¸€è‡´çš„åº“çš„å®‰è£…æ–¹æ³•</strong></font>\n\n<br>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>cv2åº“(ä¸€ä¸ªåŸºäºBSDè®¸å¯çš„è·¨å¹³å°è®¡ç®—æœºè§†è§‰åº“ï¼Œå†…å®¹æ¶µç›–äººä½“äº’åŠ¨â€¦)</strong></font>\n\n```python\n# å®‰è£…å‘½ä»¤\npip install opencv-python\n# å¯¼å…¥å‘½ä»¤\nimport cv2\n\n# ç›®å‰è‡ªå·±é…ç½®çš„åº“èƒ½ç”¨çš„ç‰ˆæœ¬æ˜¯ opencv-python-4.4.0.46\n```\n\n<br>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>PILåº“(å…¨ç§°ï¼šPython Imaging Library ï¼Œpythonä¸‹å›¾åƒå¤„ç†æ ‡å‡†åº“)</strong></font>\n\n```python\n# å®‰è£…å‘½ä»¤\npip3  install pillow\n# å¯¼å…¥å‘½ä»¤\nfrom PIL import *   # from PIL import Image\n```\n\n","tags":["python","åŸºç¡€","åº“"],"categories":["Python","å®‰è£…åº“"]},{"title":"pythonåŸºç¡€ éšæœºæ•°ç”Ÿæˆ","url":"/2023/05/17/pythonåŸºç¡€-éšæœºæ•°ç”Ÿæˆ/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>pythonåŸºç¡€ éšæœºæ•°ç”Ÿæˆï¼š</strong></font>  \n\n<!--more-->\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä½¿ç”¨zfillå¡«å……ç”Ÿæˆï¼š</strong></font>\n\n```python\nstr(random.randint(0,99999999)).zfill(8)\n```\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä½¿ç”¨stringç”Ÿæˆï¼š</strong></font>  \n\n```python\nimport string\n\n\"\".join(map(lambda x:random.choice(string.digits), range(8)))\n```\n\n <br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä½¿ç”¨random sampleï¼š</strong></font>  \n\n```python\nimport random\nrandom.sample([\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"],8)\n\n```\n\n <br>\n\n---\n\n <br><font color=#00b2c2 size=5 face=å®‹ä½“><strong>éšæœºæ•°å­—+å­—æ¯ï¼š</strong></font>  \n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ä½¿ç”¨random sampleï¼š</strong></font>  \n\n```python\nimport random\nrandom.sample(\"\".join(\"0123456789qazwsxedcrfvtgbyhnujmikolpQAZWSXEDCRFVTGBYHNUJIKOLP\"), 8)\n\n```\n\n","tags":["python","åŸºç¡€"],"categories":["Python","çˆ¬è™«"]},{"title":"pythonåŸºç¡€ æ–‡ä»¶æ“ä½œç›¸å…³çš„å‡½æ•°","url":"/2023/05/17/pythonåŸºç¡€-æ–‡ä»¶æ“ä½œç›¸å…³çš„å‡½æ•°/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>pythonåŸºç¡€ æ–‡ä»¶æ“ä½œç›¸å…³çš„å‡½æ•°ï¼š</strong></font>\n\n<!--more-->\n\n```python\n#å¤åˆ¶æ–‡ä»¶ï¼š\nshutil.copyfile(\"oldfile\",\"newfile\") #oldfileå’Œnewfileéƒ½åªèƒ½æ˜¯æ–‡ä»¶\nshutil.copy(\"oldfile\",\"newfile\") #oldfileåªèƒ½æ˜¯æ–‡ä»¶å¤¹ï¼Œnewfileå¯ä»¥æ˜¯æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›®æ ‡ç›®å½•\n\n#å¤åˆ¶æ–‡ä»¶å¤¹ï¼š\nshutil.copytree(\"olddir\",\"newdir\") #olddirå’Œnewdiréƒ½åªèƒ½æ˜¯ç›®å½•ï¼Œä¸”newdirå¿…é¡»ä¸å­˜åœ¨\n\n#é‡å‘½åæ–‡ä»¶ï¼ˆç›®å½•ï¼‰\nos.rename(\"oldname\",\"newname\") #æ–‡ä»¶æˆ–ç›®å½•éƒ½æ˜¯ä½¿ç”¨è¿™æ¡å‘½ä»¤\n\n#ç§»åŠ¨æ–‡ä»¶ï¼ˆç›®å½•ï¼‰\nshutil.move(\"oldpos\",\"newpos\") \nshutil.move(\"D:/çŸ¥ä¹æ—¥æŠ¥/latest/ä¸€å¼ ä¼˜æƒ åˆ¸ï¼Œæ¢ä½ çš„é€šè®¯å½•ä¿¡æ¯ï¼Œä½ æ„¿æ„å—ï¼Ÿ.pdf\", \"D:/çŸ¥ä¹æ—¥æŠ¥/past/\")\n```\n\n---\n\n<br>\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**python å¼‚æ­¥ è¯»å–ã€å†™å…¥ æ–‡ä»¶æ–¹å¼**</strong></font>\n\n```python\nimport aiofiles\n\n# å†™å…¥æ–‡ä»¶\nasync def cpoy_wirte_image(self, path, content):\n    # å¼‚æ­¥æ–¹å¼æ‰§è¡Œwithæ“ä½œ,ä¿®æ”¹ä¸º async with\n    async with aiofiles.open(path, \"wb\") as fp:\n        await fp.write(content)\n        \n# è¯»å–æ–‡ä»¶\nasync def read_img(self, path):\n\tasync with aiofiles.open(path, \"rb\") as fp:\n\t\tcontent = await fp.read()\n\treturn content\n```\n\n","tags":["python","åŸºç¡€"],"categories":["Python","çˆ¬è™«","å¼‚æ­¥"]},{"title":"pythonåŸºç¡€ è¿ç®—ç¬¦çš„ä¼˜å…ˆé¡ºåº","url":"/2023/05/17/pythonåŸºç¡€-è¿ç®—ç¬¦çš„ä¼˜å…ˆé¡ºåº/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>pythonåŸºç¡€ è¿ç®—ç¬¦çš„ä¼˜å…ˆé¡ºåºï¼š</strong></font>\n\n<!--more-->\n\n```javascript\n# æ’åº\n\n**\n~\n+ - (ç¬¦å·è¿ç®—ç¬¦)\n* / // %\n+ - åŠ å‡\n<< >>\n&\n^\n|\n== != > >= < <=\nis is not\nnot\nand\nor\n```\n\n![](https://s2.loli.net/2022/06/09/QERqXFYWu1xfGwo.png)\n","tags":["python","åŸºç¡€"],"categories":["Python","çˆ¬è™«","åŒæ­¥"]},{"title":"python å¼‚æ­¥åç¨‹","url":"/2023/05/17/python-å¼‚æ­¥åç¨‹/","content":"\n**Python_å¼‚æ­¥åç¨‹ï¼š**\n\n<!--more-->\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>Python_å¼‚æ­¥åç¨‹ï¼š</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>åŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼š</strong></font>\n\n```python\nasync def func():\nawait asyncio.sleep(3)        # ç­‰å¾…io\nreturn 'å€¼'\n\nasync def main():\ntask_list = [asyncio.create_task(func())]\ndone, pending = await asyncio.wait(task_list)       # å®šä¹‰å¹¶å‘åç¨‹    è¿”å›å€¼åœ¨doneä¸­\nasyncio.run(main())            æ‰§è¡Œ\n\n```\n\n\n---\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å¼‚æ­¥çˆ¬è™«ï¼š</strong></font>\n\n```python\nimport aiohttp\nimport asyncio\n\n\nasync def func(session, url):\nprint('å‘é€è¯·æ±‚ï¼š', url)\nasync with session.get(url) as response:\ntext = await response.text()\nprint('å¾—åˆ°ç»“æœï¼š', url, len(text))\nprint('-'*100)\n\nasync def main(data):\nasync with aiohttp.ClientSession() as session:\ntasks = [asyncio.create_task(func(session, url)) for url in data]\nawait asyncio.wait(tasks)\n\nif __name__ == '__main__':\na = ['https://www.biqusa.com/143_143300/', 'https://www.biqusa.com/143_143386/',\n'https://www.biqusa.com/143_143694/', 'https://www.biqusa.com/42_42546/',\n'https://www.biqusa.com/143_143728/']\n\nasyncio.run(main(a))\n\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å¼‚æ­¥åç¨‹å’Œä¸æ”¯æŒåç¨‹çš„æ¨¡å— - requestsï¼š</strong></font>\n\n```python\nimport aiohttp\nimport asyncio\n\n\nasync def func(session, url):\nprint('å‘é€è¯·æ±‚ï¼š', url)\nasync with session.get(url) as response:\ntext = await response.text()\nprint('å¾—åˆ°ç»“æœï¼š', url, len(text))\nprint('-'*100)\n\nasync def main(data):\nasync with aiohttp.ClientSession() as session:\ntasks = [asyncio.create_task(func(session, url)) for url in data]\nawait asyncio.wait(tasks)\n\nif __name__ == '__main__':\na = ['https://www.biqusa.com/143_143300/', 'https://www.biqusa.com/143_143386/',\n'https://www.biqusa.com/143_143694/', 'https://www.biqusa.com/42_42546/', 'https://www.biqusa.com/143_143806/',\n'https://www.biqusa.com/143_143728/']\n\nasyncio.run(main(a))\n\n```\n\n","tags":["python","å¼‚æ­¥ã€åç¨‹"],"categories":["Python","çˆ¬è™«","å¼‚æ­¥"]},{"title":"python nohupå‘½ä»¤ åå°è¿è¡Œ","url":"/2023/05/17/python-nohupå‘½ä»¤-åå°è¿è¡Œ/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>python nohupå‘½ä»¤ åå°è¿è¡Œ</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>nohup åå°è¿è¡Œå‘½ä»¤ï¼š</strong></font>\n\n```python\n#ç¤ºä¾‹ï¼š\nnohup python3 manage.py runserver 0.0.0.0:8899 >8899.log 2>&1 &\n\n# è§£æï¼š\n# nohup è¿è¡Œå‘½ä»¤ >æ—¥å¿—æ–‡ä»¶åç§° 2>&1 &\n# ä¾‹å¦‚  nohup python3 Main.py &\n# é»˜è®¤è¾“å…¥ä¸ºnohup.out\n\n```\n\n","tags":["python","è¿ç»´"],"categories":["_A3-linux","å¯åŠ¨"]},{"title":"python3_å®‰è£…CV_2åº“æŠ¥é”™çš„é—®é¢˜","url":"/2023/05/17/python3-å®‰è£…CV-2åº“æŠ¥é”™çš„é—®é¢˜/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>python3_å®‰è£…CV_2åº“æŠ¥é”™çš„é—®é¢˜</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**åœ¨ä½¿ç”¨python CV2 åº“çš„æ—¶å€™ï¼Œä¸€ç›´æ˜¾ç¤ºæŠ¥é”™ï¼ŒæŠ¥é”™ä¿¡æ¯å¦‚ä¸‹**</strong></font>\n\n![](https://s2.loli.net/2022/06/09/WmyjrAQKgw8Be5x.png)\n\n---\n\n\n\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></font><font color=#f26522 size=4 face=å®‹ä½“><strong>æŒ‡å®šå®‰è£…ç‰ˆæœ¬ï¼Œå®‰è£…æ—§ç‰ˆæœ¬æ—¶ï¼Œæˆ‘æ˜¯è¿‡äº†ï¼è¿™é‡Œä½ ä¹Ÿå¯ä»¥å°è¯•ä»¥ä¸‹ã€‚</strong></font>\n\n```shell\npip3 install opencv-python==4.2.0.34\n\n# mac èƒ½åŒ¹é…çš„åº“ ä¸º 4.4.0.46\n# opencv-python-4.4.0.46\n```\n\n","tags":["python","é”™è¯¯","åº“"],"categories":["_A9-é”™è¯¯è§£å†³","python","åº“å®‰è£…é”™è¯¯"]},{"title":"InsecureRequestWarning: Unverified HTTPS request is being made to host","url":"/2023/05/10/InsecureRequestWarning-Unverified-HTTPS-request-is-being-made-to-host/","content":"\n# å…³äºç†ŠçŒ«ä»£ç† warnings.warn\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>é”™è¯¯æç¤ºï¼š</strong></font>\n\n```javascript\n~/python3.8_/lib/python3.8/site-packages/urllib3/connectionpool.py:1043: InsecureRequestWarning: Unverified HTTPS request is being made to host 'dtbf.xiongmaodaili.com'. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/1.26.x/advanced-usage.html#ssl-warnings\n  warnings.warn(\n```\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong># å¦‚æœè¦ç¦ç”¨æ­¤è­¦å‘Šï¼Œä½†ä¸èƒ½åªå¯ç”¨éªŒè¯ï¼Œè¯·æ·»åŠ æ­¤ä»£ç </strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>åœ¨ py æ–‡ä»¶å¤´éƒ¨ å¯¼å…¥ urllib3  å…³é—­è­¦å‘Šæç¤ºå³å¯</strong></font>\n\n```python\nimport urllib3\nurllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)\n```\n\n","tags":["python3","é”™è¯¯","ä»£ç†"],"categories":["_A9-é”™è¯¯è§£å†³","python"]},{"title":"Django_settings.pyé…ç½®æ•™ç¨‹","url":"/2023/05/10/Django-settings-pyé…ç½®æ•™ç¨‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>settings.pyé…ç½®æ•™ç¨‹</strong></font>\n\n<!--more-->\n\n```python\n# ALLOWED_HOSTSï¼ˆå½“å‰ç½‘ç«™è®¿é—®æƒé™ï¼‰\n    # é…ç½®é‚£äº›è®¡ç®—æœºæœ‰æƒé™è®¿é—®å½“å‰ç½‘ç«™ å…¨éƒ¨ç½‘ç«™ä¸º*\n    # ä¾‹å¦‚ï¼š ALLOWED_HOSTS = [â€œ*â€]\n\n# INSTALLED_APPSï¼ˆåº”ç”¨æ³¨å†Œï¼‰\n\t# ä¾‹å¦‚ï¼šâ€™indexâ€™ æ³¨æ„ï¼šå¿…é¡»æœ‰å¼•å·\n\n# BASE_DIR\n\t# BASE_DIR= â€˜ â€˜ # è¿”å›ä¸€ä¸ªé¡¹ç›®çš„ç»å¯¹è·¯å¾„\n\n# SECRET_KEY\n\tæ•°æ®åŠ å¯†ï¼Œé˜²æ­¢ç½‘ç«™è¢«è·¨åŸŸæ”»å‡»\n\n# DEBUG\n\t# è®©ç½‘ç«™å‡ºäºå¼€å‘æ¨¡å¼ï¼Œå¦‚æœå‡ºé”™ï¼Œä¼šè¿”å›è¯¦ç»†æƒ…å†µï¼Œå¦‚æœå¼€å‘å®Œæˆï¼Œä¸€å®šè¦è°ƒæˆfalse\n\n# MIDDLEWARE\n\t# ä¸­é—´ä»¶\n\n# ROOT_URLCONF\n\t# ç½‘ç«™å…¥å£ï¼Œæ ¹è·¯ç”±é…ç½®\n\n# TEMPLATES\n\t# é…ç½®htmlé™æ€æ–‡ä»¶çš„\n\n# WSGI_APPLICATION\n\t# é…ç½®å¼€å‘æœåŠ¡å™¨çš„\n\n# DATABASES\n\t# é…ç½®æ•°æ®åº“çš„\n\n# AUTH_PASSWORD_VALIDATORS\n\t#é…ç½®ç”¨æˆ·å¯†ç åŠ å¯†çš„\n\n# LANGUAGE_CODE\n\t# ç½‘ç«™é»˜è®¤è¯­è¨€\n    \n# LANGUAGE_CODE\n\t# ç½‘ç«™é»˜è®¤è¯­è¨€\n    \n# ä¿®æ”¹ä¸­æ–‡ è®²en-us  >  zh-hans\n\t# LANGUAGE_CODE = 'zh-hans'\n# TIME_ZONE\n\t# UTC= å›½é™…åŒ–æ—¶é—´  Asia/Shanghai > äºšæ´²ä¸Šæµ·æ—¶é—´\n\t# TIME_ZONE = 'Asia/Shanghai'\n```\n\n","tags":["python","django"],"categories":["Python","Django"]},{"title":"Sublime Text 4 æ¿€æ´»ç äºæ±‰åŒ–æ•™ç¨‹","url":"/2023/03/20/Sublime-Text-4-æ¿€æ´»ç äºæ±‰åŒ–æ•™ç¨‹/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>Sublime Text 4 æ¿€æ´»ç äºæ±‰åŒ–æ•™ç¨‹ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>2021å¹´5æœˆ20æ—¥ Sublime Text 4 ç¨³å®šç‰ˆç»ˆäºæ­£å¼å‘å¸ƒäº†ï¼7æœˆ14æ—¥ Sublime Text 4 åˆæ›´æ–°äº†ä¸€ç‰ˆ</strong></font>\n\n<font color=red size=4 face=å®‹ä½“><strong>**1. å¤§ç‰ˆäº®ç‚¹ï¼š**</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>1ã€è®¸å¯è¯æ›´æ”¹ï¼šSublime Text License å¯†é’¥ï¼ˆæ³¨å†Œç ï¼‰ä¸å†ä¸ç‹¬ç«‹çš„ä¸»è¦ç‰ˆæœ¬ç»‘å®šï¼Œè€Œæ˜¯å¯¹è´­ä¹°å 3 å¹´å†…çš„æ‰€æœ‰æ›´æ–°å‡æœ‰æ•ˆï¼Œä¸è¿‡ä½¿ç”¨æ›´æ–°çš„ç‰ˆæœ¬éœ€è¦å‡çº§ Licenseã€‚</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>2ã€æ”¯æŒå¤š tab é€‰é¡¹å¡ï¼šæ–¹ä¾¿åˆ†å‰²è§†å›¾ï¼Œæ”¯æŒé€šè¿‡ç•Œé¢æˆ–å†…ç½®å‘½ä»¤è¡Œä½¿ç”¨ã€‚</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>3ã€æ”¯æŒ Apple Silicon å’Œ Linux ARM64ï¼šSublime Text for Mac åŒ…å«å¯¹ Apple Silicon å¤„ç†å™¨çš„åŸç”Ÿæ”¯æŒï¼ŒLinux ARM64 builds åœ¨æ ‘è“æ´¾ç­‰è®¾å¤‡ä¸­å¯ç”¨ã€‚\n4ã€å…¨æ–°çš„ UI ç•Œé¢</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>5ã€è¯­å¢ƒæ„ŸçŸ¥è‡ªåŠ¨è¡¥å…¨ï¼šè¯¥ç‰ˆæœ¬é‡å†™äº†è‡ªåŠ¨è¡¥å…¨å¼•æ“ï¼Œä½¿ä¹‹èƒ½å¤ŸåŸºäºé¡¹ç›®ä¸­çš„å·²æœ‰ä»£ç æä¾›æ™ºèƒ½è¡¥å…¨ã€‚</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>6ã€æ”¯æŒ TypeScriptã€JSX å’Œ TSX</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>7ã€è¯­æ³•å®šä¹‰å‡çº§ï¼šè¯­æ³•é«˜äº®å¼•æ“å…¨æ–°å‡çº§ï¼Œèƒ½å¤Ÿå¤„ç†éç¡®å®šæ€§è¯­æ³•ã€å¤šè¡Œè¯­å¥ã€lazy embed å’Œè¯­æ³•ç»§æ‰¿ã€‚æ­¤å¤–ï¼Œå†…å­˜ä½¿ç”¨é™ä½ï¼ŒåŠ è½½é€Ÿåº¦æ›´å¿«ã€‚</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>8ã€GPU æ¸²æŸ“ï¼šSublime Text 4 ç¨³å®šç‰ˆåœ¨æ¸²æŸ“ç•Œé¢æ—¶ï¼Œèƒ½å¤Ÿåœ¨ Linuxã€Mac å’Œ Windows ç³»ç»Ÿä¸­åˆ©ç”¨ GPUï¼Œä»è€Œå¸¦æ¥æµç•…çš„ UI ç•Œé¢ï¼Œåˆ†è¾¨ç‡æœ€é«˜å¯è¾¾ 8Kï¼Œä¸”æ¶ˆè€—çš„èƒ½æºæ›´å°‘ã€‚</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>9ã€Python API å‡çº§ï¼šSublime Text æ–°ç‰ˆæœ¬ API å‡çº§è‡³ Python 3.8ï¼ŒåŒæ—¶å…·å¤‡å¯¹ Sublime Text 3 è½¯ä»¶åŒ…çš„å‘åå…¼å®¹æ€§ã€‚Python API æ–°å¢äº†è®¸å¤šç‰¹æ€§ï¼Œå¦‚å…è®¸ LSP ç­‰æ’ä»¶æ›´å¥½åœ°è¿è¡Œã€‚</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>10ã€å…¼å®¹æ€§ï¼šSublime Text 4 å®Œå…¨å…¼å®¹ Sublime Text 3ï¼Œå¯ä»¥è‡ªåŠ¨æ¥æ”¶æ—§ç‰ˆæœ¬çš„ä¼šè¯å’Œé…ç½®ã€‚Sublime Text è¿˜æ”¯æŒ 3ã€4 ç‰ˆæœ¬çš„åˆ†å¼€è¿è¡Œã€‚</strong></font>\n\n<br>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å®˜ç½‘ä¸‹è½½åœ°å€ï¼š[`ç‚¹å‡»ä¸‹è½½`](https://www.sublimetext.com/download)</strong></font>\n<font color=#f26522 size=4 face=å®‹ä½“><strong>BDyun-ç›´é“¾ä¸‹è½½ï¼š</strong></font>\n<font color=#f26522 size=4 face=å®‹ä½“><strong>ç‰ˆæœ¬ä¿¡æ¯(Sublime Text4)ï¼šBuild 4126</strong></font>\n\n<font color=#00b2c2 size=4 face=å®‹ä½“><strong>Macç‰ˆï¼š[`ç‚¹å‡»ä¸‹è½½`](https://bd.bcebos.com/v1/xly-icafe/sublime_text_build_4126_mac-20220215070420-foetmn.zip)</strong></font>\n\n<font color=#00b2c2 size=4 face=å®‹ä½“><strong>Windosç‰ˆï¼š[`ç‚¹å‡»ä¸‹è½½`](https://bd.bcebos.com/v1/xly-icafe/sublime_text_build_4126_x64_setup-20220215070548-f5atsv.exe)</strong></font>\n\n<font color=#00b2c2 size=4 face=å®‹ä½“><strong>Linuxç‰ˆï¼š[`X86ç‚¹å‡»ä¸‹è½½`](https://bd.bcebos.com/v1/xly-icafe/sublime_text_build_4126_x64.tar-20220215070629-mdmt8r.xz)ã€[`ARM64ç‚¹å‡»ä¸‹è½½`](https://bd.bcebos.com/v1/xly-icafe/sublime_text_build_4126_arm64.tar-20220215070654-dgee3e.xz)</strong></font>\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**è½¯ä»¶æ¿€æ´»ï¼š**</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å®‰è£…å®Œå¦‚æœå¼¹çª—éœ€è¦è¾“å…¥æˆæƒï¼Œç›´æ¥å¤åˆ¶ä¸‹é¢æ³¨å†Œç ç²˜è´´ç‚¹å‡» Use Licenseï¼Œ</strong></font>\n\n<font color=#b0171f size=2 face=å®‹ä½“><strong>å¦‚æœæ²¡æœ‰æœ‰å¼¹çª—ï¼Œç‚¹å‡»èœå•æ çš„ã€Help -> Enter Licenseã€å¼¹å‡ºæ¿€æ´»çª—å£ï¼Œè¾“å…¥ä¸‹é¢çš„æ³¨å†Œç ç„¶åç‚¹å‡»ã€ŒUse Licenseã€</strong></font>\n\n\n\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**1.1. æ³¨å†Œç ï¼ˆå…¨éƒ¨éœ€è¦å¤åˆ¶ç²˜è´´ï¼‰ï¼š**</strong></font>\n\n```shell\nâ€”â€“ BEGIN LICENSE â€”â€“\n\nMifeng User\n\nSingle User License\n\nEA7E-1184812\n\nC0DAA9CD 6BE825B5 FF935692 1750523A\n\nEDF59D3F A3BD6C96 F8D33866 3F1CCCEA\n\n1C25BE4D 25B1C4CC 5110C20E 5246CC42\n\nD232C83B C99CCC42 0E32890C B6CBF018\n\nB1D4C178 2F9DDB16 ABAA74E5 95304BEF\n\n9D0CCFA9 8AF8F8E2 1E0A955E 4771A576\n\n50737C65 325B6C32 817DCB83 A7394DFA\n\n27B7E747 736A1198 B3865734 0B434AA5\n\nâ€”â€” END LICENSE â€”â€”\n```\n\n![æ¿€æ´»ç ](https://s2.loli.net/2022/06/09/x9pVQDIPgUZ5Wtn.jpg)\n\n---\n\n<br>\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**è½¯ä»¶æ±‰åŒ–ï¼š**</strong></font>\n\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>1ã€ç‚¹å‡» Toolsâ€”Install Package Controlï¼Œï¼ˆå®‰è£…åŒ…æ§ä»¶æ¯”è¾ƒæ…¢ï¼Œå¹¶ä¸”æ²¡æœ‰ååº”ï¼Œç­‰å¾…æ•°åˆ†é’Ÿåä¼šæœ‰å¼¹çª—ï¼‰</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>2ã€ç‚¹å‡»ç¡®å®šæŒ‰é’®</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>3ã€èœå•ç‚¹å‡»Preferences â€“ Package Controlï¼Œé€‰æ‹© Install Package</strong></font>\n+ <font color=#b0171f size=2 face=å®‹ä½“><strong>4ã€è¾“å…¥ ChineseLocalzations å¯è§ä¸­æ–‡åŒ…ï¼é€‰ä¸­å³å¯å®‰è£…ï¼</strong></font>\n  ![1630993909-d1be2f8c031ea28](https://s2.loli.net/2022/06/09/M7lZUskgtYI6TQO.jpg)\n","tags":["ç ´è§£","è½¯ä»¶"],"categories":["_A5-å®‰è£…æ•™ç¨‹","Sublime Text 4"]},{"title":"Django_templatesæ¨¡ç‰ˆé…ç½®","url":"/2023/03/20/Django-templatesæ¨¡ç‰ˆé…ç½®/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>Django_templatesæ¨¡ç‰ˆé…ç½®ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#00b2c2 size=4 face=å®‹ä½“><strong>**1. djiangoç¯‡ï¼š**</strong></font>\n\n+ <font color=#f26522 size=3 face=å®‹ä½“><strong>**1. è¿›å…¥è™šæ‹Ÿç¯å¢ƒ**</strong></font>\n\n```shell\nsource /bin/activate\n# ä¾‹å¦‚: source /home/kevin/djiango_venv/bin/activate\n```\n\n- <font color=#f26522 size=3 face=å®‹ä½“><strong>**2.åˆ›å»ºç½‘ç«™é¡¹ç›®å·¥ç¨‹**</strong></font>\n\n```shell\n# django-admin startproject <ç½‘ç«™å·¥ç¨‹å>\n# åˆ›å»ºçš„å·¥ç¨‹åœ¨å½“å‰ç›®å½•ä¸‹ï¼Œè€Œéè™šæ‹Ÿç¯å¢ƒçš„ç›®å½•ä¸‹\n# è™šæ‹Ÿç¯å¢ƒåªæ˜¯ä¸€ä¸ªpython_djiangoçš„é…ç½®ç¯å¢ƒï¼Œä¸æ˜¯æ•´ä¸ªé¡¹ç›®çš„æ–‡ä»¶\ndjango-admin startproject mysite\n```\n\n+ <font color=#f26522 size=3 face=å®‹ä½“><strong>**3.django æ¡†æ¶ä¸­æ·»åŠ å­åº”ç”¨**</strong></font>\n```shell\n# python manage.py startapp <å­åº”ç”¨åç§°>\npython manage.py startapp index  # åˆ›å»ºäº†ä¸€ä¸ªåå« çš„æ–‡ä»¶å¤¹\n```\n<font color=#b0171f size=2 face=å®‹ä½“><strong>**é…ç½®å®Œappç›®å½•åâ€”â€”settings.pyçš„é…ç½®**</strong></font>\n\n\n```python\nALLOWED_HOSTS = [\"*\"]\nINSTALLED_APPS = ['app',]\nLANGUAGE_CODE = 'zh-hans'\nTIME_ZONE = 'Asia/Shanghai'\nUSE_TZ = False\n```\n\n- <font color=#f26522 size=3 face=å®‹ä½“><strong>**4.åˆ›å»ºtemplatesï¼ˆæ¨¡ç‰ˆæ–‡ä»¶ï¼‰**</strong></font>\n\n  - <font color=#b0171f size=2 face=å®‹ä½“><strong>ç›´æ¥ä½¿ç”¨å‘½ä»¤åˆ›å»ºtemplates</strong></font>\n\n  ```shell\n  # éœ€è¦æ³¨æ„è¿™é‡Œçš„templatesæ˜¯è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º\n  # ä¹Ÿå°±æ˜¯åœ¨æ–‡ä»¶å¤¹ä¸‹æœ‰manage.pyçš„æ–‡ä»¶å¤¹åˆ›å»º\n  mkdir templates\n  ```\n\n  \n\n  \n\n  - <font color=#b0171f size=2 face=å®‹ä½“><strong>templatesåˆ›å»ºå®Œæˆåçš„settings.pyçš„é…ç½®</strong></font>\n\n  ```python\n  TEMPLATES = [\n      {\n          'BACKEND': 'django.template.backends.django.DjangoTemplates',\n          'DIRS': [os.path.join(BASE_DIR, 'templates')],\n          'APP_DIRS': True,\n          'OPTIONS': {\n              'context_processors': [\n                  'django.template.context_processors.debug',\n                  'django.template.context_processors.request',\n                  'django.contrib.auth.context_processors.auth',\n                  'django.contrib.messages.context_processors.messages',\n              ],\n          },\n      },\n  ]\n  ```\n\n  \n\n- <font color=#f26522 size=3 face=å®‹ä½“><strong>**5. templatesä¸‹é…ç½®ä¸å…¶ä»–æ¨¡ç‰ˆä¸€æ ·**</strong></font>\n\n  - <font color=#b0171f size=2 face=å®‹ä½“><strong>åªæœ‰åœ¨views.pyä¸‹çš„é…ç½®ä¸ä¸€æ · # ä¸€èˆ¬é…ç½®ä¸ºHttpResponse ï¼Œè€Œâ€¦.è¿”å›çš„æ˜¯render</strong></font>\n\n    ```python\n    class index(View):\n    def get(self, request):\n        # print(request)\n        return render(request, 'index.html')\n    ```\n","tags":["python","django","æ¨¡æ¿"],"categories":["Python","Django"]},{"title":"ThreadPoolExecutorå¤šçº¿ç¨‹è¿”å›å€¼","url":"/2023/03/20/ThreadPoolExecutorå¤šçº¿ç¨‹è¿”å›å€¼/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>ThreadPoolExecutorå¤šçº¿ç¨‹è¿”å›å€¼</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ–¹æ³•ä¸€ï¼šä½¿ç”¨threadingï¼š**</strong></font>\n<font color=#b0171f size=2 face=å®‹ä½“><strong>åœ¨threadingä¸­ï¼Œå¹¶æ²¡æœ‰å®ç°è¿”å›å€¼çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ•°æ®åº“æˆ–è€…æ˜¯å…¨å±€å˜é‡æ¥å®ç°è¿”å›å€¼çš„è·å–ã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯å…¨å±€å˜é‡ã€‚</strong></font>\n\n```python\ndef thread_function(age):\n    for i in age:\n        i += 1\n        q.put(\n            {\n                'age': i\n             }\n        )\ndef run_threading(target, args, count):\n    \"\"\"\n    :param target: ç›®æ ‡å‡½æ•°\n    :param args: å‡½æ•°å‚æ•°\n    :param count: çº¿ç¨‹æ•°é‡\n    \"\"\"\n    ts = []\n    for i in range(count):\n        t = Thread(target=target, args=args)\n        ts.append(t)\n    [i.start() for i in ts]\n    [i.join() for i in ts]\n\nif __name__ == '__main__':\n    ages = [1, 3, 4]\n    # 1111\n    run_threading(thread_function, (ages,), 1)\n    output = []\n    while not q.empty():\n        output.append(q.get())\n    print output\n```\n\n\n\n\n\n<font color=red size=5 face=å®‹ä½“><strong>**è¾“å‡ºï¼š**</strong></font>\n\n```python\n[{'age': 2}, {'age': 4}, {'age': 5}]\n\nProcess finished with exit code 0\n```\n\n\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ–¹æ³•äºŒï¼šä½¿ç”¨ThreadPoolExecutorçš„submitï¼š**</strong></font>\n\n<font color=red size=2 face=å®‹ä½“><strong>ä»3.2å¼€å§‹ï¼Œæ ‡å‡†åº“ä¸ºæˆ‘ä»¬æä¾›äº†`concurrent.futures`æ¨¡å—ï¼Œå®ƒæä¾›äº†`ThreadPoolExecutor`å’Œ`ProcessPoolExecutor`ä¸¤ä¸ªç±»ï¼Œå®ç°äº†å¯¹`threading`å’Œ`multiprocessing`çš„è¿›ä¸€æ­¥æŠ½è±¡ã€‚è¿™é‡Œä¸»è¦å…³æ³¨çº¿ç¨‹æ± ï¼Œä¸ä»…å¯ä»¥å¸®æˆ‘ä»¬è‡ªåŠ¨è°ƒåº¦çº¿ç¨‹ï¼Œè¿˜å¯ä»¥åšåˆ°ï¼š</strong></font>\n\n+ 1. <font color=#b0171f size=2 face=å®‹ä½“><strong>ä¸»çº¿ç¨‹å¯ä»¥è·å–æŸä¸€ä¸ªçº¿ç¨‹ï¼ˆæˆ–è€…ä»»åŠ¡çš„ï¼‰çš„çŠ¶æ€ï¼Œä»¥åŠè¿”å›å€¼ã€‚</strong></font>\n+ 2. <font color=#b0171f size=2 face=å®‹ä½“><strong>å½“ä¸€ä¸ªçº¿ç¨‹å®Œæˆçš„æ—¶å€™ï¼Œä¸»çº¿ç¨‹èƒ½å¤Ÿç«‹å³çŸ¥é“ã€‚</strong></font>\n+ 3. <font color=#b0171f size=2 face=å®‹ä½“><strong>è®©å¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹çš„ç¼–ç æ¥å£ä¸€è‡´ã€‚</strong></font>\n\n```python\ndef thread_function(age):\n    return age+1\n\ndef run_thread_pool_sub(target, args, max_work_count=3):\n    with ThreadPoolExecutor(max_workers=max_work_count) as t:\n        res = [t.submit(target, i) for i in args]\n        return res\nif __name__ == '__main__':\n    ages = [1, 3, 4]\n    res = run_thread_pool_sub(thread_function, ages)\n    for future in as_completed(res):\n        data = future.result()\n        print data\n```\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>`as_completed()`æ–¹æ³•æ˜¯ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œåœ¨æ²¡æœ‰ä»»åŠ¡å®Œæˆçš„æ—¶å€™ï¼Œä¼šé˜»å¡ï¼Œåœ¨æœ‰æŸä¸ªä»»åŠ¡å®Œæˆçš„æ—¶å€™ï¼Œä¼šyieldè¿™ä¸ªä»»åŠ¡ï¼Œå°±èƒ½æ‰§è¡Œforå¾ªç¯ä¸‹é¢çš„è¯­å¥ï¼Œç„¶åç»§ç»­é˜»å¡ä½ï¼Œå¾ªç¯åˆ°æ‰€æœ‰çš„ä»»åŠ¡ç»“æŸã€‚ä»ç»“æœä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œå…ˆå®Œæˆçš„ä»»åŠ¡ä¼šå…ˆé€šçŸ¥ä¸»çº¿ç¨‹</strong></font>\n\n\n\n<font color=red size=5 face=å®‹ä½“><strong>**è¾“å‡ºï¼š**</strong></font>\n\n```python\n4\n2\n5\nProcess finished with exit code 0\n```\n\n\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**è¿™é‡Œå¯ä»¥çœ‹å‡ºsubmitçš„è¿”å›æ˜¯æ— åºçš„**</strong></font>\n<font color=#b0171f size=2 face=å®‹ä½“><strong>**è¿™é‡Œçœ‹ä¸‹æºç ï¼š**</strong></font>\n\n```python\ndef submit(self, fn, *args, **kwargs):\n    with self._shutdown_lock:\n        if self._shutdown:\n            raise RuntimeError('cannot schedule new futures after shutdown')\n        f = _base.Future()\n        w = _WorkItem(f, fn, args, kwargs)\n        self._work_queue.put(w)\n        self._adjust_thread_count()\n        return f\n    submit.__doc__ = _base.Executor.submit.__doc__\n```\n\n\n\n\n\n<font color=red size=2 face=å®‹ä½“><strong>**æ³¨æ„çš„æ˜¯ï¼Œå®ƒå°±æ˜¯æ‰§è¡Œä¸€ä¸ªå•ç‹¬çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›çš„æ˜¯futureå¯¹è±¡(å…·ä½“è¯·çœ‹å®˜æ–¹æ–‡æ¡£)ã€‚**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ThreadPoolExecutorçš„mapï¼š**</strong></font>\n\n```python\ndef thread_function(age):\n    for i in age:\n        yield i+1\n\ndef run_thread_pool(target, args, max_work_count=6):\n    with ThreadPoolExecutor(max_workers=max_work_count) as t:\n        res = t.map(target, args)\n        return res\n\nif __name__ == '__main__':\n    ages = [1, 3, 4]\n    # 2222\n    res = run_thread_pool(target=thread_function, args=(ages,))\n    for j in res:\n        for i in j:\n            print(i)\n```\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**è¾“å‡ºï¼š**</strong></font>\n\n```python\n2\n4\n5\n\nProcess finished with exit code 0\n```\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**è¿™é‡Œçœ‹å‡ºmapçš„è¾“å‡ºæ˜¯æœ‰åºçš„**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**è¿™é‡Œçœ‹ä¸‹mapçš„æºç ï¼š**</strong></font>\n\n```python\ndef map(self, fn, *iterables, **kwargs):\n    \"\"\"Returns an iterator equivalent to map(fn, iter).\n    Args:\n        fn: A callable that will take as many arguments as there are\n            passed iterables.\n        timeout: The maximum number of seconds to wait. If None, then there\n            is no limit on the wait time.\n    Returns:\n        An iterator equivalent to: map(func, *iterables) but the calls may\n            be evaluated out-of-order.\n    Raises:\n        TimeoutError: If the entire result iterator could not be generated\n            before the given timeout.\n        Exception: If fn(*args) raises for any values.\n    \"\"\"\ntimeout = kwargs.get('timeout')\nif timeout is not None:\n    end_time = timeout + time.time()\n    fs = [self.submit(fn, *args) for args in itertools.izip(*iterables)]\n    # Yield must be hidden in closure so that the futures are submitted\n    # before the first iterator value is required.\n    def result_iterator():\n        try:\n            # reverse to keep finishing order\n            fs.reverse()\n            while fs:\n                # Careful not to keep a reference to the popped future\n                if timeout is None:\n                    yield fs.pop().result()\n                else:\n                    yield fs.pop().result(end_time - time.time())\n        finally:\n            for future in fs:\n                future.cancel()\n        return result_iterator()\n```\n\n\n\n<font color=red size=5 face=å®‹ä½“><strong>**å®ƒçš„å‚æ•°æ˜¯ä¸ªiterablesï¼Œæ‰€ä»¥å½“å‚æ•°ä¸ºåˆ—è¡¨å­—å…¸ç­‰æ—¶ï¼Œåªéœ€è¦å†™ä¸€ä¸ªmapå‡½æ•°å°±è¡Œäº†ï¼Œè€Œä¸”å®ƒçš„è¿”å›å€¼ä¹Ÿæ˜¯ä¸ªiterableã€‚**</strong></font>\n","tags":["python","åŸºç¡€"],"categories":["Python","çˆ¬è™«"]},{"title":"xmind_2019ç‰ˆ_ç ´è§£ç‰ˆ","url":"/2023/03/20/xmind-2019ç‰ˆ-ç ´è§£ç‰ˆ/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>xmind_2019ç‰ˆ_ç ´è§£ç‰ˆ</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ€ç»´å¯¼å›¾è½¯ä»¶ä¸‹è½½ï¼š**</strong></font>\n\n- <font color=#00b2c2 size=4 face=å®‹ä½“><strong>**xmind(windos)ï¼š**</strong></font>\n  - <font color=#b0171f size=3 face=å®‹ä½“><strong>**2019ç ´è§£ç‰ˆï¼š**[`ç‚¹å‡»ä¸‹è½½`](https://bd.bcebos.com/v1/xly-icafe/xmind2019æ€ç»´å¯¼å›¾ç ´è§£ç‰ˆ-20211108091111-sjykek.rar)</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**ç ´è§£æ•™ç¨‹ï¼š**</strong></font>\n\n- <font color=red size=2 face=å®‹ä½“><strong>å¦‚å›¾ï¼šä½ çš„ç”µè„‘æ˜¯32ä½çš„ï¼Œå°±é€‰32ä½ç ´è§£ç¨‹åºï¼Œæ˜¯64çš„ å°±é€‰64ä½ç ´è§£ç¨‹åº</strong></font>\n- ![img](https://s2.loli.net/2022/06/09/Vsh12aeIzpyRdHm.png)\n- <font color=red size=2 face=å®‹ä½“><strong>å°†æ–‡ä»¶æ‰“å¼€å¾—åˆ°ä¸¤ä¸ªæ–‡ä»¶ï¼Œå°†è¿™ä¸¤ä¸ªæ–‡ä»¶å¤åˆ¶åˆ°resourcesç›®å½•ä¸‹ï¼Œè¿™ä¸ªç›®å½•æ˜¯ä½ çš„xmindå®‰è£…ç›®å½•ä¸‹çš„ä¸€ä¸ªå­ç›®å½•ã€‚</strong></font>\n- ![img](https://s2.loli.net/2022/06/09/LD5o8z4TQAcuvXU.png)\n- <font color=red size=2 face=å®‹ä½“><strong>å°†æ–‡ä»¶æ‰“å¼€å¾—åˆ°ä¸¤ä¸ªæ–‡ä»¶ï¼Œå°†è¿™ä¸¤ä¸ªæ–‡ä»¶å¤åˆ¶åˆ°</strong></font>\n","tags":["ç ´è§£","è½¯ä»¶"],"categories":["_A8-å·¥å…·","å…¶ä»–å·¥å…·"]},{"title":"windos 11 é•œåƒä¸‹è½½","url":"/2023/03/20/windos-11-é•œåƒä¸‹è½½/","content":"\n# <font color=red size=7 face=å®‹ä½“><strong>windos 11 é•œåƒä¸‹è½½ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**1. Windows 11**</strong></font>\n\n- <font color=#f26522 size=4 face=å®‹ä½“><strong>**Preview**</strong></font>\n  - <font color=#b0171f size=3 face=å®‹ä½“><strong>ç‰ˆæœ¬å·ï¼š22454ï¼ˆå‘å¸ƒæ—¶é—´ï¼š2021-09-11ï¼‰</strong></font>\n    - Windows 11 Insider Preview (Dev Channel) â€“ Build 22454\n      - <font color=#f26522 size=2 face=å®‹ä½“><strong>**ä¸‹è½½é“¾æ¥ï¼š**[`ED2K`](ed2k://|file|Windows11_InsiderPreview_Client_x64_zh-cn_22454.iso|4903213056|A4FD6D7058261FCB31D076BA727FAF77|/)ã€[`BT`](magnet:?xt=urn:btih:72DCA2544C2135412A0725307FB2C7CD97D22261&dn=Windows11_InsiderPreview_Client_x64_zh-cn_22454.iso&xl=4903213056)</strong></font>\n  - <font color=#b0171f size=3 face=å®‹ä½“><strong>ç‰ˆæœ¬å·ï¼š22000.194ï¼ˆå‘å¸ƒæ—¶é—´ï¼š2021-09-23ï¼‰</strong></font>\n    - Windows 11 Insider Preview (Dev Channel) â€“ Build 22454\n      - <font color=#f26522 size=2 face=å®‹ä½“><strong>**ä¸‹è½½é“¾æ¥ï¼š**[`ED2K`](ed2k://|file|Windows11_InsiderPreview_Client_x64_zh-cn__22000.iso|5517273088|DFD1AE88E36516B87382FC3D3D3F46AD|/)ã€[`BT`](magnet:?xt=urn:btih:7E45EBE420A55426FE28933B70227279517A1B11&dn=Windows11_InsiderPreview_Client_x64_zh-cn__22000.iso&xl=5517273088)</strong></font>\n  - <font color=#b0171f size=3 face=å®‹ä½“><strong>ç‰ˆæœ¬å·ï¼š22000.132ï¼ˆå‘å¸ƒæ—¶é—´ï¼š2021-09-11ï¼‰</strong></font>\n    - Windows 11 Insider Preview (Dev Channel) â€“ Build 22454\n      - <font color=#f26522 size=2 face=å®‹ä½“><strong>**ä¸‹è½½é“¾æ¥ï¼š**[`ED2K`](ed2k://|file|Windows11_InsiderPreview_Client_x64_zh-cn_22000.iso|5506693120|0D9E847ABF673C87F60737633AD95675|/)ã€[`BT`](magnet:?xt=urn:btih:575BBD64A372284C92A304A2492D7E2F7DCE3BFE&dn=Windows11_InsiderPreview_Client_x64_zh-cn_22000.iso&xl=5506693120)</strong></font>\n- <font color=#f26522 size=4 face=å®‹ä½“><strong>**21H2**</strong></font>\n  - <font color=#b0171f size=3 face=å®‹ä½“><strong>ç‰ˆæœ¬å·ï¼šUpdated October 2021ï¼ˆå‘å¸ƒæ—¶é—´ï¼š2021-10-19ï¼‰</strong></font>\n    - Windows 11 (business editions), version 21H2 (updated October 2021) (x64) â€“ DVD (Chinese-Simplified)\n      - <font color=#f26522 size=2 face=å®‹ä½“><strong>**ä¸‹è½½é“¾æ¥ï¼š**[`ED2K`](ed2k://|file|zh-cn_windows_11_business_editions_version_21h2_updated_october_2021_x64_dvd_a84e149f.iso|5419143168|B0C4BE7271CD65B2173326239D4F8BA2|/)ã€[`BT`](magnet:?xt=urn:btih:98BB0A1703D5E36ADCE9BAAA1E02D86C29C4DF95&dn=zh-cn_windows_11_business_editions_version_21h2_updated_october_2021_x64_dvd_a84e149f.iso&xl=5419143168)</strong></font>\n    - Windows 11 (consumer editions), version 21H2 (updated October 2021) (x64) â€“ DVD (Chinese-Simplified)\n      - <font color=#f26522 size=2 face=å®‹ä½“><strong>**ä¸‹è½½é“¾æ¥ï¼š**[`ED2K`](ed2k://|file|zh-cn_windows_11_consumer_editions_version_21h2_updated_october_2021_x64_dvd_47addd14.iso|5523668992|64F5B433CC2A9814DC4D04DC265E4D3B|/)ã€[`BT`](magnet:?xt=urn:btih:5B3F3DA450784FB27609212721562869AF226263&dn=zh-cn_windows_11_consumer_editions_version_21h2_updated_october_2021_x64_dvd_47addd14.iso&xl=5523668992)</strong></font>\n  - <font color=#b0171f size=3 face=å®‹ä½“><strong>ç‰ˆæœ¬å·ï¼šReleaseï¼ˆå‘å¸ƒæ—¶é—´ï¼š2021-10-04ï¼‰</strong></font>\n    - Windows 11 (business editions) (x64) â€“ DVD (Chinese-Simplified)\n      - <font color=#f26522 size=2 face=å®‹ä½“><strong>**ä¸‹è½½é“¾æ¥ï¼š**[`ED2K`](ed2k://|file|zh-cn_windows_11_business_editions_x64_dvd_f5f6bcbd.iso|5413181440|88CA1AE28F5F8A238647561B5C00E511|/)ã€[`BT`](magnet:?xt=urn:btih:7D77AF4A99A4C5AEAB1D401755E473BA7EBD7B1C&dn=zh-cn_windows_11_business_editions_x64_dvd_f5f6bcbd.iso&xl=5413181440)</strong></font>\n    - Windows 11 (business editions) (x64) â€“ DVD (Chinese-Simplified)\n      - <font color=#f26522 size=2 face=å®‹ä½“><strong>**ä¸‹è½½é“¾æ¥ï¼š**[`ED2K`](ed2k://|file|zh-cn_windows_11_consumer_editions_x64_dvd_904f13e4.iso|5517273088|DFD1AE88E36516B87382FC3D3D3F46AD|/)ã€[`BT`](magnet:?xt=urn:btih:CF0A537944C001AD86B1CA058E8D877F5F022FC6&dn=zh-cn_windows_11_consumer_editions_x64_dvd_904f13e4.iso&xl=5517273088)</strong></font>\n- <font color=#f26522 size=4 face=å®‹ä½“><strong>**ARM**</strong></font>\n  - <font color=#b0171f size=3 face=å®‹ä½“><strong>ç‰ˆæœ¬å·ï¼šReleaseï¼ˆå‘å¸ƒæ—¶é—´ï¼š2021-10-05ï¼‰</strong></font>\n    - Windows 11, version 21H2 (ARM64) â€“ DVD (Chinese-Simplified)\n      - <font color=#f26522 size=2 face=å®‹ä½“><strong>**ä¸‹è½½é“¾æ¥ï¼š**[`ED2K`](ed2k://|file|SW_DVD9_Win_Pro_11_21H2_64ARM_ChnSimp_Pro_Ent_EDU_N_MLF_-2_X22-82731.ISO|5608900608|5D3A8B542CBAB917C7AE43BCD17AC28E|/)ã€[`BT`](magnet:?xt=urn:btih:0DED4238547697570825E651B4D63849A1FBD4AB&dn=SW_DVD9_Win_Pro_11_21H2_64ARM_ChnSimp_Pro_Ent_EDU_N_MLF_-2_X22-82731.ISO&xl=5608900608)</strong></font>\n","tags":["é•œåƒ","windos11"],"categories":["_S9-æŠ˜è…¾","é•œåƒ"]},{"title":"V2rayå®˜æ–¹ä¸€é”®å®‰è£…è„šæœ¬(2021/10)","url":"/2023/03/20/V2rayå®˜æ–¹ä¸€é”®å®‰è£…è„šæœ¬-2021-10/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>V2rayå®˜æ–¹ä¸€é”®å®‰è£…è„šæœ¬(2021/10)</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**v2rayä¸€é”®å®‰è£…è„šæœ¬ï¼ˆ21/10æ–°ï¼‰ï¼š**</strong></font>\n\n- <font color=#b0171f size=3 face=å®‹ä½“><strong>ä¹‹å‰ä¸€ç›´ç”¨SSRï¼Œä½†æœ€è¿‘ä¸¤å¤©å‘ç°SSRè€æ˜¯è‡ªåŠ¨æ‰ï¼Œç„¶åå°±é‡æ–°åšäº†ä¸ªvmess</strong></font>\n- <font color=#b0171f size=3 face=å®‹ä½“><strong>è®°å½•ä»¥ä¸‹è¿‡ç¨‹ï¼Œä»¥å…ä»¥åè¦ç”¨åˆ°çš„æ—¶å€™æ‰¾ä¸åˆ°äº†</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ‰§è¡Œå®˜æ–¹å®‰è£…è„šæœ¬ï¼š**</strong></font>\n\n```shell\napt-get install -y curl\nbash <(curl -L https://raw.githubusercontent.com/v2fly/fhs-install-v2ray/master/install-release.sh)\n```\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š**</strong></font>\n\n```python\n# è¿™æ˜¯æˆ‘ä½¿ç”¨çš„é…ç½®æ–‡ä»¶ï¼Œä½ å¯ä»¥æ‹¿å»åšæ¨¡æ¿ï¼Œç„¶åè‡ªå·±ä¿®æ”¹\nwget --no-check-certificate https://teadan.com/all_bash/v2_s.json  -O -> /usr/local/etc/v2ray/config.json\n# ä¸‹è½½çš„é…ç½®æ–‡ä»¶æ”¾åœ¨     /usr/local/etc/v2ray/config.json\n# å…¶ä¸­    portï¼šæ˜¯ä½ å®¢æˆ·ç«¯è¿æ¥çš„ç«¯å£\n# idï¼šæ˜¯ä½ å®¢æˆ·ç«¯è¿æ¥æ—¶ç”¨çš„UUIDï¼Œè¿™ä¸ªä½ ç½‘ä¸Šæœä»¥ä¸‹ï¼Œâ€˜â€˜éšæœºç”ŸæˆUUIDâ€™ï¼Œå°±å¯ä»¥ç”Ÿæˆäº†\n```\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**é‡å¯æœåŠ¡ï¼š**</strong></font>\n\n```python\n# è®¾ç½®å¼€æœºè‡ªè‡ªåŠ¨\nsystemctl enable v2ray.service\n# å¦‚æœä½ ä¸æƒ³å¼€æœºè‡ªå¯åŠ¨äº†ï¼Œå¯ä»¥åˆ é™¤\nsystemctl disable v2ray.service\n# é‡å¯v2rayæœåŠ¡\nservice v2ray restart\n\n```\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**å¸¸ç”¨å‘½ä»¤ï¼š**</strong></font>\n\n```python\nservice v2ray restart   # é‡å¯\nservice v2ray force-reload  # å¼ºåˆ¶é‡å¯\nservice v2ray start   # å¯åŠ¨\nservice v2ray stop   # åœæ­¢\nservice v2ray status  # çŠ¶æ€æŸ¥çœ‹\nservice v2ray reload   # é‡è£…\n```\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æµ‹è¯•V2Rayé…ç½®æ–‡ä»¶ï¼š**</strong></font>\n\n```python\n/usr/local/bin/v2ray -test -config /usr/local/etc/v2ray/config.json\n```\n\n\n\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>å®‰è£…æˆåŠŸï¼š</strong></font>\n\n```python\nwarning: The following are the actual parameters for the v2ray service startup.\nwarning: Please make sure the configuration file path is correctly set.\n~~~~~~~~~~~~~~~~\n[Unit]\nDescription=V2Ray Service\nDocumentation=https://www.v2fly.org/\nAfter=network.target nss-lookup.target\n\n[Service]\nUser=nobody\nCapabilityBoundingSet=CAP_NET_ADMIN CAP_NET_BIND_SERVICE\nAmbientCapabilities=CAP_NET_ADMIN CAP_NET_BIND_SERVICE\nNoNewPrivileges=true\nExecStart=/usr/local/bin/v2ray -config /usr/local/etc/v2ray/config.json\nRestart=on-failure\nRestartPreventExitStatus=23\n\n[Install]\nWantedBy=multi-user.target\n# In case you have a good reason to do so, duplicate this file in the same directory and make your customizes there.\n# Or all changes you made will be lost!  # Refer: https://www.freedesktop.org/software/systemd/man/systemd.unit.html\n[Service]\nExecStart=\nExecStart=/usr/local/bin/v2ray -config /usr/local/etc/v2ray/config.json\n~~~~~~~~~~~~~~~~\nwarning: The systemd version on the current operating system is too low.\nwarning: Please consider to upgrade the systemd or the operating system.\n```\n\n\n\n\n\n![å®‰è£…æˆåŠŸç¤ºæ„å›¾](https://s2.loli.net/2022/06/09/1YKf3x6zs9JlaLo.png)\n","tags":["ä»£ç†","æ¢¯å­"],"categories":["_A8-å·¥å…·","æ¢¯å­"]},{"title":"centos7 å®‰è£… MongoDB","url":"/2023/03/20/centos7-å®‰è£…-MongoDB/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>centos7 å®‰è£… MongoDBï¼š</strong></font>\n\n<!--more-->\n\n------\n\n- <font color=#f26522 size=4 face=å®‹ä½“><strong>Linux(centos_7) ä¸‹å®‰è£…</strong></font>\n- [`å®˜ç½‘è‡ªä¸»é€‰æ‹©ä¸‹è½½`](https://www.mongodb.com/try/download/community)\n- [`MongoDBä¸‹è½½åœ°å€`](https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-5.0.3.tgz)\n- [`MongoDB_shellåœ°å€`](https://fastdl.mongodb.org/linux/mongodb-shell-linux-x86_64-rhel70-5.0.3.tgz)\n- <font color=#f26522 size=4 face=å®‹ä½“><strong>Linux å¯ç›´æ¥ç”¨å‘½ä»¤ä¸‹è½½</strong></font>\n\n```python\n # å…ˆè·å–rootæƒé™\nsudo -i # ç„¶åè¾“å…¥å¯†ç \n# ä¸‹è½½mongoDB\nwget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-5.0.3.tgz\n# è§£å‹åˆ°å½“å‰æ–‡ä»¶å¤¹ï¼ˆæœ€å¥½ç”¨wgetçš„æ–¹å¼ä¸‹è½½ï¼Œæˆ‘ç”¨æµè§ˆå™¨çš„æ–¹å¼ä¸‹è½½åï¼Œå‘ç°è§£å‹å‡ºé”™ï¼‰\ntar -xzvf mongodb-linux-x86_64-rhel70-5.0.3.tgz\n# ç§»åŠ¨æ–‡ä»¶åˆ°/usr/local/ ç›®å½•ä¸‹ï¼Œä¸€èˆ¬æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œä¸ç”¨é…ç½®ç¯å¢ƒã€‚\nmv mongodb-linux-x86_64-rhel70-5.0.3 mongodb\nmv mongodb /usr/local/\n```\n\n- <font color=red size=4 face=å®‹ä½“><strong>mongodbé…ç½®</strong></font>\n\n```python\n# åˆ›å»ºæ•°æ®åº“å­˜æ”¾ç›®å½•å’Œæ—¥å¿—å­˜æ”¾ç›®å½•\nmkdir -p /usr/local/mongodb/data /usr/local/mongodb/logs\n# å¯åŠ¨mongodbæœåŠ¡\n/usr/local/mongodb/bin/mongod --dbpath=/usr/local/mongodb/data --logpath=/usr/local/mongodb/logs/mongodb.log --logappend -port=27017 --fork\n# åæœŸå¯ç›´æ¥ç”¨å‘½ä»¤å¼€å¯\n/usr/local/mongodb/bin/mongo\n```\n\n\n\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>ä½¿ç”¨å®˜æ–¹å‘½ä»¤å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼š</strong></font>\n\n[`æ•™ç¨‹åœ°å€`](https://docs.mongodb.com/manual/tutorial/install-mongodb-on-red-hat/)\n\n+ <font color=#f26522 size=4 face=å®‹ä½“><strong>å®‰è£…yumæºæ–‡ä»¶(ä¸€)</strong></font>\n\n```python\nvim /etc/yum.repos.d/mongodb-org-5.0.repo\n#\n#\n[mongodb-org-5.0]\nname=MongoDB Repository\nbaseurl=https://repo.mongodb.org/yum/redhat/$releasever/mongodb-org/5.0/x86_64/\ngpgcheck=1\nenabled=1\ngpgkey=https://www.mongodb.org/static/pgp/server-5.0.asc\n```\n\n\n\n\n\n- <font color=#f26522 size=4 face=å®‹ä½“><strong>å®‰è£…yumæºæ–‡ä»¶(äºŒ)</strong></font>\n\n```python\n# 1ã€å®‰è£…mongodb\nsudo yum install -y mongodb-org\n#\n#\n# 2ã€æˆ–è€…ï¼Œè¦å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„ MongoDBï¼Œè¯·å•ç‹¬æŒ‡å®šæ¯ä¸ªç»„ä»¶åŒ…å¹¶å°†ç‰ˆæœ¬å·é™„åŠ åˆ°åŒ…åç§°ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼ˆå®‰è£…å…¶ä¸­ä¸€ä¸ªï¼‰ï¼š\nsudo yum install -y mongodb-org-5.0.2 mongodb-org-database-5.0.2 mongodb-org-server-5.0.2 mongodb-org-shell-5.0.2 mongodb-org-mongos-5.0.2 mongodb-org-tools-5.0.2\n# 3ã€æ‚¨å¯ä»¥æŒ‡å®šä»»ä½•å¯ç”¨çš„ MongoDB ç‰ˆæœ¬ã€‚ä½†æ˜¯yum ï¼Œå½“æ–°ç‰ˆæœ¬å¯ç”¨æ—¶å‡çº§åŒ…ã€‚ä¸ºé˜²æ­¢æ„å¤–å‡çº§ï¼Œè¯·å›ºå®šå°è£…ã€‚è¦å›ºå®šåŒ…ï¼Œè¯·å°†ä»¥ä¸‹excludeæŒ‡ä»¤æ·»åŠ åˆ°æ‚¨çš„/etc/yum.confæ–‡ä»¶ä¸­\nexclude=mongodb-org,mongodb-org-database,mongodb-org-server,mongodb-org-shell,mongodb-org-mongos,mongodb-org-tools\n```\n\n\n\n\n\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>å®‰è£…å®Œæˆâ€”â€”å‘½ä»¤ç¯‡ï¼š</strong></font>\n\n```python\n# åˆ›å»ºmongoæ—¥å¿—æ–‡ä»¶å¤¹ è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹å¦‚æœä¸å­˜åœ¨  å®˜æ–¹ç‰ˆå®‰è£…ä¼šæ— æ³•å¯åŠ¨ï¼Œå¹¶ä¸”éœ€è¦èµ‹äºˆæƒé™\nmkdir /var/lib/mongo /var/log/mongodb\nsudo chown -R mongod:mongod /var/lib/mongo\nsudo chown -R mongod:mongod /var/log/mongodb\n\n# å¯åŠ¨ MongoDB\nsudo systemctl start mongod\nsudo systemctl daemon-reload\n\n# éªŒè¯ MongoDB æ˜¯å¦å·²æˆåŠŸå¯åŠ¨\nsudo systemctl status mongod\nsudo systemctl enable mongod\n\n# åœæ­¢ MongoDB\nsudo systemctl stop mongod\n\n# é‡å¯MongoDB\nsudo systemctl restart mongod\n\n# å¼€å§‹ä½¿ç”¨ MongoDB\nmongosh\n\n# åœæ­¢ MongoDB\nsudo service mongod stop\n\n# åˆ é™¤åŒ…\nsudo yum erase $(rpm -qa | grep mongodb-org)\n\n# åˆ é™¤æ•°æ®ç›®å½•\nsudo rm -r /var/log/mongodb\nsudo rm -r /var/lib/mongo\n```\n","tags":["linux","mongodb","æ•°æ®åº“"],"categories":["_A5-å®‰è£…æ•™ç¨‹","æ•°æ®åº“"]},{"title":"ubuntu å®‰è£…nodejs-cnpm","url":"/2023/03/20/ubuntu-å®‰è£…nodejs-cnpm/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>å®‰è£…nodejs-cnpmï¼š</strong></font>\n\n<!--more-->\n\n------\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>è¯¦æƒ…ï¼š</strong></font>\n\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>`ç³»ç»Ÿ ï¼š `ubuntu 20.04</strong></font>\n+ <font color=#b0171f size=3 face=å®‹ä½“><strong>`Node ç‰ˆæœ¬ ï¼š `v16.13.0</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**[`nodejså®˜æ–¹ç½‘å€`](https://nodejs.org/)**</strong></font>\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æˆªæ­¢2021/10/28æœ€æ–°ç‰ˆæœ¬nodejsï¼š[`ç‚¹å‡»ä¸‹è½½`](https://nodejs.org/dist/v16.13.0/node-v16.13.0-linux-x64.tar.xz)**</strong></font>\n\n```shell\n# ä¸‹è½½å®Œæˆä¹‹å ä½¿ç”¨ï¼štar -xf <æ–‡ä»¶>  è§£å‹ *.tar.xzæ–‡ä»¶\ntar -xf node-v16.13.0-linux-x64.tar.xz\n\n# å°†æ–‡ä»¶ç§»åŠ¨åˆ°optæ–‡ä»¶å¤¹ä¸‹\nmv node-v16.13.0-linux-x64 /opt\n\n# åˆ›å»ºå…¨å±€å˜é‡ï¼Œä½¿nodeåœ¨ä»»ä½•åœ°æ–¹éƒ½èƒ½ä½¿ç”¨\nsudo ln -s /opt/node-v16.13.0-linux-x64/bin/node /usr/local/bin/node\nsudo ln -s /opt/node-v16.13.0-linux-x64/bin/npm /usr/local/bin/npm\n\n# åˆ°æ­¤ nodeå’Œ npm å°±ç®—å®‰è£…å®Œæˆäº†\nnode -v   # æŸ¥çœ‹nodeç‰ˆæœ¬ä¿¡æ¯\nnpm -v   # æŸ¥çœ‹npmç‰ˆæœ¬ä¿¡æ¯\n\n# æ¥ä¸‹æ¥ï¼Œå¼€å§‹å®‰è£…cnpm\n# cnpmæ˜¯npmçš„å›½å†…æºï¼Œå…¶æœåŠ¡å™¨æ˜¯æ·˜å®çš„ï¼Œæ‰€ä»¥å›½å†…æ¯”è¾ƒå¿«\n# cnpmçš„æ‰§è¡Œè¿‡ç¨‹æ˜¯å…ˆå»æ·˜å®æºä¸‹æ‰¾è½¯ä»¶ï¼Œå½“æ·˜å®æºä¸‹æ²¡æœ‰æ‰€éœ€è¦çš„åŒ…ï¼Œä¼šè‡ªåŠ¨åˆ°npmæœåŠ¡å™¨ä¸‹å¯»æ‰¾åŒ…\nnpm install -g cnpm --registry=https://registry.npm.taobao.org  # å®šä¹‰cnpmæ·˜å®æºç \nsudo ln -s /opt/node-v16.13.0-linux-x64/bin/cnpm /usr/local/bin/cnpm  #   åˆ›å»ºå…¨å±€å˜é‡\n```\n","tags":["ubuntu","linux","nodejs"],"categories":["_A5-å®‰è£…æ•™ç¨‹","ubuntu"]},{"title":"python ä¸»åŠ¨æŠ›å‡ºå¼‚å¸¸","url":"/2023/03/20/python-ä¸»åŠ¨æŠ›å‡ºå¼‚å¸¸/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>python_ä¸»åŠ¨æŠ›å‡ºå¼‚å¸¸ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸»åŠ¨å¼‚å¸¸æ¥æµ‹è¯•ï¼Œæˆ–è€…é‡è¯•ä»£ç </strong></font>\n\n```python\nraise IndexError\n\ntry:\n    raise IndexError\nexcept IndexError:\n    print(f'ä¸»åŠ¨å¼‚å¸¸æŠ›å‡º  IndexError ')\n```\n","tags":["åŸºç¡€","é”™è¯¯"],"categories":["Python","ä¸»åŠ¨å¼‚å¸¸æŠ›å‡º"]},{"title":"python task åˆ—è¡¨è¿”å›å€¼çš„è·å–","url":"/2023/03/20/python-task-åˆ—è¡¨è¿”å›å€¼çš„è·å–/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>python task åˆ—è¡¨è¿”å›å€¼çš„è·å–ï¼ˆå¼‚æ­¥è¿”å›å€¼ï¼‰ï¼š</strong></font>\n\n<!--more-->\n\næŠ€æœ¯è·å–åœ°å€ ï¼šhttps://juejin.cn/s/python%20%E5%8D%8F%E7%A8%8B%E8%BF%94%E5%9B%9E%E5%80%BC\n\n```python\nasync def RunAsync(self, data_list):\n    sem = asyncio.Semaphore(1)\n    async with aiohttp.ClientSession() as session:\n        tasks = [asyncio.create_task(self.get_all_audio(session, sem, data)) for data in data_list]\n        await asyncio.wait(tasks)\n        s_ = [i.result() for i in tasks]\n        print(s_)\n```\n\n![image-20230313165657958](https://s2.loli.net/2023/03/20/AiWjN9ogn28Q1aq.png)\n\n","tags":["åŸºç¡€","å¼‚æ­¥ã€åç¨‹"],"categories":["Python","çˆ¬è™«","å¼‚æ­¥"]},{"title":"HTMLç‰¹æ®Šç¬¦å·æ˜¾ç¤º","url":"/2023/03/20/HTMLç‰¹æ®Šç¬¦å·æ˜¾ç¤º/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**HTMLç‰¹æ®Šç¬¦å·æ˜¾ç¤º**</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æƒ³è¦åœ¨htmlé¡µé¢ä¸­æ˜¾ç¤ºç‰¹æ®Šç¬¦å· éœ€è¦åšè½¬ä¹‰**</strong></font>\n\n![img](https://s2.loli.net/2022/06/19/9cM1HJdy5XQqLfu.png)\n","tags":["html"],"categories":["_A2-å‰ç«¯","html"]},{"title":"pythonä¸­å¤šå±‚Listå±•å¹³ä¸ºä¸€å±‚","url":"/2023/03/20/pythonä¸­å¤šå±‚Listå±•å¹³ä¸ºä¸€å±‚/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**pythonä¸­å¤šå±‚Listå±•å¹³ä¸ºä¸€å±‚ï¼š**</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**ä½¿ç”¨Pythonè„šæœ¬çš„è¿‡ç¨‹ä¸­,å¶å°”éœ€è¦ä½¿ç”¨listå¤šå±‚è½¬ä¸€å±‚,**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**åˆæ€»æ˜¯å¿˜è®°æ€ä¹ˆå†™æœç´¢å…³é”®è¯,æ‰€ä»¥æ€»æ˜¯æ‰¾äº†å¾ˆä¹…,ç°åœ¨æŠŠå„ç§æ–¹æ³•è®°å½•ä¸‹æ¥,æ–¹ä¾¿è‡ªå·±ä¹Ÿæ–¹ä¾¿å¤§å®¶.æ–¹æ³•å¾ˆå¤š,ç°åœ¨å°±ç®€å•å†™8ç§,åé¢å†å¯¹è¿™8ç§æ–¹æ³•åšåŸºå‡†æµ‹è¯•.**</strong></font>\n\n\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>**1.å®šä¹‰å‡å±‚æ–¹æ³•ï¼š**</strong></font>\n\n```python\nimport functools\nimport itertools\nimport numpy\nimport operator\nimport perfplot\nfrom collections import Iterable  # or from collections.abc import Iterable\nfrom iteration_utilities import deepflatten\n\n#ä½¿ç”¨ä¸¤æ¬¡forå¾ªç¯\ndef forfor(a):\n    return [item for sublist in a for item in sublist]\n\n#é€šè¿‡sum\ndef sum_brackets(a):\n    return sum(a, [])\n\n#ä½¿ç”¨functoolså…§å»ºæ¨¡å—\ndef functools_reduce(a):\n    return functools.reduce(operator.concat, a)\n\n#ä½¿ç”¨itertoolså…§å»ºæ¨¡å—(å¹³å¸¸ä¸€èˆ¬ç”¨)\ndef itertools_chain(a):\n    return list(itertools.chain.from_iterable(a))\n\n#ä½¿ç”¨numpy\ndef numpy_flat(a):\n    return list(numpy.array(a).flat)\n\n#ä½¿ç”¨numpy\ndef numpy_concatenate(a):\n    return list(numpy.concatenate(a))\n\n#è‡ªå®šä¹‰å‡½æ•°\ndef flatten(items):\n    \"\"\"Yield items from any nested iterable; see REF.\"\"\"\n    for x in items:\n        if isinstance(x, Iterable) and not isinstance(x, (str, bytes)):\n            yield from flatten(x)\n        else:\n            yield x\n\ndef pylangs_flatten(a):\n    return list(flatten(a))\n\n#ä½¿ç”¨åº“iteration_utilities\ndef iteration_utilities_deepflatten(a):\n    return list(deepflatten(a, depth=1))\n```\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>**2.æµ‹è¯•ï¼š**</strong></font>\n\n```python\na=[[1,2,3],[4,5,6],[7,8,9]]\nprint(a)\n\nprint('--------------------------')\n\nprint(forfor(a))\nprint(sum_brackets(a))\nprint(functools_reduce(a))\nprint(itertools_chain(a))\nprint(numpy_flat(a))\nprint(numpy_concatenate(a))\nprint(pylangs_flatten(a))\nprint(iteration_utilities_deepflatten(a))\n```\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>**è¾“å‡ºï¼š**</strong></font>\n\n```python\n[[1, 2, 3], [4, 5, 6], [7, 8, 9]]\n--------------------------\n[1, 2, 3, 4, 5, 6, 7, 8, 9]\n[1, 2, 3, 4, 5, 6, 7, 8, 9]\n[1, 2, 3, 4, 5, 6, 7, 8, 9]\n[1, 2, 3, 4, 5, 6, 7, 8, 9]\n[1, 2, 3, 4, 5, 6, 7, 8, 9]\n[1, 2, 3, 4, 5, 6, 7, 8, 9]\n[1, 2, 3, 4, 5, 6, 7, 8, 9]\n[1, 2, 3, 4, 5, 6, 7, 8, 9]\n```\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>**2.å„ç§æ–¹æ³•çš„åŸºå‡†æµ‹è¯•(æ¶ˆè€—æ—¶é—´å¯¹æ¯”)ï¼š**</strong></font>\n\n<font color=#f26522 size=2 face=å®‹ä½“><strong>**å„ç§æ–¹æ³•åœ¨å°æ•°æ®ä¸Šæ¶ˆè€—æ—¶é—´å·®åˆ«ä¸å¤§,å¦‚æœæ•°æ®å¾ˆå°,æ²¡å¿…è¦ä¸ºäº†é€‰æ‹©è€Œçƒ¦æ¼,å¦‚æœæ•°æ®å¾ˆå¤§,å¯ä»¥å‚è€ƒä¸‹é¢åŸºå‡†æµ‹è¯•çš„ç»“æœæ¥é€‰æ‹©å‡å±‚æ–¹æ³•.**</strong></font>\n\n```python\nimport matplotlib.pyplot as plt\nfrom simple_benchmark import benchmark\n\n#åŸºå‡†æµ‹è¯•\nb = benchmark(\n    [forfor, sum_brackets, functools_reduce, itertools_chain,numpy_flat, numpy_concatenate, pylangs_flatten,iteration_utilities_deepflatten],\n    arguments={2**i: [[0]*5]*(2**i) for i in range(1, 13)},\n    argument_name='number of inner lists'\n)\n\n#æ˜¾ç¤ºæµ‹è¯•ç»“æœ\nplt.subplots(1,1,figsize=(15,10))\nb.plot()\nplt.legend(loc = 'upper left')\nplt.show()\n```\n\n![img](https://s2.loli.net/2022/06/13/Xek5O3vrpCmqIMN.png)\n","tags":["python","åŸºç¡€"],"categories":["Python","çˆ¬è™«","åŒæ­¥"]},{"title":"jsä¹¦å†™çš„ä¸‰ç§æ–¹å¼","url":"/2023/03/20/jsä¹¦å†™çš„ä¸‰ç§æ–¹å¼/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**jsä¹¦å†™çš„ä¸‰ç§æ–¹å¼:**</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**1.ç›´æ¥æŠŠä»£ç ä¹¦å†™åœ¨æ ‡ç­¾èº«ä¸Š:**</strong></font>\n\n```html\n<!-- aæ ‡ç­¾ -  ä¹¦å†™åœ¨ href çš„å±æ€§ä¸Š -->\n\n<a href=\"javascript: jsä»£ç  ;\"> ç‚¹æˆ‘ä¸€ä¸‹ </a>\n\n<!-- ä¾‹å¦‚ï¼š -->\n<a href=\"javascript: alert('hello world')\"> ç‚¹æˆ‘ä¸€ä¸‹ </a>\n\n<!-- éaæ ‡ç­¾ ä¹¦å†™åœ¨è¡Œä¸ºå±æ€§ä¸Š  -->\n<div jsè¡Œä¸º>ç‚¹æˆ‘ä¸€ä¸‹</div>\n<!-- ä¾‹å¦‚: -->\n<div onclick=\"alert('hello world')\">ç‚¹æˆ‘ä¸€ä¸‹</div>\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**2.å†…åµŒå¼JSä»£ç ï¼š**</strong></font>\n\n```html\n<!-- <script> ä»£ç </script> -->\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>å†…åµŒå¼JSä»£ç </title>\n</head>\n<body>\n    <script>\n        alert('hello word');\n    </script>\n</body>\n</html>\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**3.å¤–é“¾å¼JSä»£ç ï¼š**</strong></font>\n\n```html\n<!-- å¤–é“¾å¼jsä»£ç ï¼Œä¸éœ€è¦ä¾èµ–ä»»ä½•è¡Œä¸ºï¼Œæ‰“å¼€é¡µé¢å°±ä¼šæ‰§è¡Œ -->\n<!-- é€šè¿‡script çš„ srcå±æ€§è°ƒç”¨jsæ–‡ä»¶ -->\n<!-- <script src=\"jsæ–‡ä»¶åœ°å€\"></script> -->\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Title</title>\n</head>\n<body>\n    <!-- åŒä¸€ç›®å½•ä¸‹å­˜åœ¨test.jsæ–‡ä»¶ -->\n    <script src=\"test.js\"></script>\n</body>\n</html>\n```\n","tags":["javascript"],"categories":["_A2-å‰ç«¯","JavaScript"]},{"title":"javascriptè¾“å‡ºå†…å®¹çš„ä¸‰ç§æ–¹å¼","url":"/2023/03/20/javascriptè¾“å‡ºå†…å®¹çš„ä¸‰ç§æ–¹å¼/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**javascriptè¾“å‡ºå†…å®¹çš„ä¸‰ç§æ–¹å¼:**</strong></font>\n\n<!--more-->\n\n```javascript\nvar num=100;\nalert(num)\n// alert ä¼šä»¥å¼¹çª—çš„å½¢å¼è¾“å‡º\nconsole.log(num)\n// console.log ä¼šä»¥æ§åˆ¶å°è¾“å‡ºçš„æ–¹å¼è¾“å‡º\ndocument.write(num)\n//document.write  ä¼šä»¥ç½‘é¡µçš„å½¢å¼è¾“å‡º\n```\n","tags":["javascript"],"categories":["_A2-å‰ç«¯","JavaScript"]},{"title":"javascriptæ³¨é‡Šè§„èŒƒ","url":"/2023/03/20/javascriptæ³¨é‡Šè§„èŒƒ/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**javascriptæ³¨é‡Šè§„èŒƒï¼š**</strong></font>\n\n<!--more-->\n\n```javascript\n// å˜é‡çš„è¿ç”¨\n\n//å•è¡Œæ³¨é‡Š\n/*\nå¤šè¡Œæ³¨é‡Š  å¯ä»¥æ¢è¡Œæ³¨é‡Š\n*/\nalert(\"hello world\")\n```\n","tags":["javascript"],"categories":["_A2-å‰ç«¯","JavaScript"]},{"title":"javascriptæ•°æ®ç±»å‹","url":"/2023/03/20/javascriptæ•°æ®ç±»å‹/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**javascriptæ•°æ®ç±»å‹ï¼š**</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**ä¸€.åŸºæœ¬æ•°æ®ç±»å‹ï¼š**</strong></font>\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>**1.æ•°å€¼ç±»å‹ï¼š**</strong></font>\n\n```javascript\n// è¿”å› number\nvar n1 = 100\nvar n2 = -100\nvar n3 = 100.234\nvar n4 = -100.234\nvar n5 = 2e5   # ç§‘å­¦è®¡æ•°æ³• è¡¨ç¤º2*10çš„5æ¬¡æ–¹\n\nvar n6 = 0x100   è¡¨ç¤ºåå…­è¿›åˆ¶ 100\nvar n7 = 0o100   è¡¨ç¤ºå…«è¿›åˆ¶çš„ 100\nvar n8 = 0b100   è¡¨ç¤ºçš„äºŒè¿›åˆ¶ 100\n```\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>**2.å­—ç¬¦ä¸²ç±»å‹ï¼š**</strong></font>\n\n```javascript\n// è¿”å›string\n// åœ¨javascriptä¸­  ä¸€åˆ‡ä»¥å•å¼•å·  æˆ–è€…åŒå¼•å·åŒ…è£¹èµ·æ¥çš„å˜é‡  éƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹\n// åœ¨JSä¸­  ä¸åŒºåˆ†å•å¼•å·  æˆ–è€… åŒå¼•å·\n\nvar s1 = 'hello world'   \nvar s2 = \"hello world\"\n```\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>**3.å¸ƒå°”ç±»å‹ï¼š**</strong></font>\n\n```javascript\n// è¿”å› boolean\n\nvar b1 = true  çœŸ\nvar b2 = false  å‡\n```\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>**4.ç©ºç±»å‹:**</strong></font>\n\n```javascript\nundefined  ==>  è¿”å›  undefined\nnull ==>  è¿”å› object   æ¯”è¾ƒç‰¹æ®Š\n\n// ç©ºç±»å‹æœ‰ä¸¤ç§:\nUndefined   Null\n\n// null : è¡¨ç¤ºæœ‰å€¼ï¼Œæœ‰ä¸€ä¸ªç©ºå€¼  åªæœ‰åœ¨å˜é‡èµ‹å€¼ä¸ºnull çš„æ—¶å€™  å˜é‡æ‰ä¸ºnull\nvar k1 = null\n\n// undefined: è¡¨ç¤ºæ²¡æœ‰å€¼   å½“å˜é‡å®šä¹‰  ä½†ä¸èµ‹å€¼çš„æ—¶å€™   å˜é‡ä¸ºundefined \nvar k2\n```\n","tags":["javascript"],"categories":["_A2-å‰ç«¯","JavaScript"]},{"title":"javascript æ•°æ®è½¬æ¢","url":"/2023/03/20/javascript-æ•°æ®è½¬æ¢/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**javascript æ•°æ®è½¬æ¢ï¼š**</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**1.Number(); æ–¹æ³•ï¼š**</strong></font>\n\n```javascript\nvar n1 = '100'\nvar n2 = Number(n1);\nç»“æœï¼š n2 = 100\n\nvar n1 = 'abc'\nvar n2 = Number(n1);\nç»“æœï¼š n2 = NaN\n\n/*\nå½“è½¬æ¢ç»“æœä¸ºæ•°å€¼çš„æ—¶å€™ å…¶å€¼ä¸ºnumber  \nå½“è½¬æ¢ç»“æœä¸ä¸ºæ•°å€¼çš„æ—¶å€™   å…¶å€¼ä¸º  NaN\n*/\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**2.parseInt(); æ–¹æ³•ï¼š**</strong></font>\n\n```javascript\nvar n1 = '100'\nvar n2 = parseInt(n1);\nç»“æœï¼š n2 = 100\n\nvar n1 = '100abs'\nvar n2 = parseInt(n1);\nç»“æœï¼š n2 = 100\n\n/*\nå½“è½¬æ¢ç»“æœä¸ºæ•°å€¼çš„æ—¶å€™ ç¬¬ä¸€ä½ä¸ºæ•°å€¼çš„æ—¶å€™ï¼Œ parseIntæ–¹æ³•ç»“æœä¸º æ•°å€¼\nå½“è¦è½¬æ¢çš„å˜é‡  ç¬¬ä¸€ä½ä¸ä¸ºæ•°å€¼çš„æ—¶å€™  parseIntæ–¹æ³•ç»“æœä¸º NaN\n*/\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**3.parseFloat(); æ–¹æ³•ï¼š**</strong></font>\n\n```javascript\nä¸ parseInt ç›¸åŒ  ï¼Œ åŒºåˆ«åœ¨äº   parseIntåªèƒ½è½¬æ¢æ•´å‹å˜é‡   è€ŒparseFloat å¯ä»¥è½¬æ¢ æµ®ç‚¹æ•°å˜é‡\n/*\nå½“è½¬æ¢ç»“æœä¸ºæ•°å€¼çš„æ—¶å€™ ç¬¬ä¸€ä½ä¸ºæ•°å€¼çš„æ—¶å€™ï¼Œ parseIntæ–¹æ³•ç»“æœä¸º æ•°å€¼\nå½“è¦è½¬æ¢çš„å˜é‡  ç¬¬ä¸€ä½ä¸ä¸ºæ•°å€¼çš„æ—¶å€™  parseIntæ–¹æ³•ç»“æœä¸º NaN\n*/\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**4.String(); æ–¹æ³•ï¼š**</strong></font>\n\n```javascript\nè½¬æ¢å­—ç¬¦ä¸² \n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**5.toString(); æ–¹æ³•ï¼š**</strong></font>\n\n```javascript\nå˜é‡.toString()\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**6.Boolean(); æ–¹æ³•ï¼š**</strong></font>\n\n```javascript\nè½¬æ¢æˆå¸ƒå°”å€¼\n\nfalse: 0   NaN '' undefined null     // è¿™äº›æ•°å€¼ä¼šè¢«è½¬æ¢æˆ false\n\ntrue :   é™¤äº†è½¬æ¢æˆfalseçš„å€¼å¤–  æ‰€æœ‰çš„å€¼  éƒ½ä¼šè¢«è½¬æ¢æˆ true\n```\n","tags":["javascript"],"categories":["_A2-å‰ç«¯","JavaScript"]},{"title":"javascript BOM æ“ä½œ","url":"/2023/03/20/javascript-BOM-æ“ä½œ/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**javascript BOM æ“ä½œï¼š**</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**1.è·å–æµè§ˆå™¨çª—å£å°ºå¯¸ï¼š**</strong></font>\n\n```javascript\n// è·å–æµè§ˆå™¨å¯è§†çª—å£çš„å®½åº¦\nvar w = window.innerWidth.toString()\n// è·å–æµè§ˆå™¨å¯è§†çª—å£çš„é«˜åº¦\nvar h = window.innerHeight.toString()\ndocument.write(w, '\\n', h)\n\n1440\n1075\n```\n\n![img](https://s2.loli.net/2022/06/28/pbnrPA142gsm78q.png)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**2.æµè§ˆå™¨çš„å¼¹å‡ºå±‚ï¼š**</strong></font>\n\n```javascript\n// æç¤ºæ¡†ï¼š window.alert('æç¤ºä¿¡æ¯')   æ— è¿”å›å€¼  ç‚¹å‡»åæ¶ˆå¤±ä¸è§\nwindow.alert('æ¬¢è¿å…‰ä¸´')\n\n// è¯¢é—®æ¡†ï¼š window.confirm('æç¤ºä¿¡æ¯')   æœ‰è¿”å›å€¼   ç¡®å®šä¸ºtrue  å–æ¶ˆä¸ºfalse\nvar res = window.confirm('ä½ çˆ±æˆ‘å—ï¼Ÿ')\nconsole.log(res)\n\n// è¾“å…¥æ¡†ï¼š window.prompt('æç¤ºä¿¡æ¯')    æœ‰è¿”å›å€¼   è¿”å›å€¼ä¸ºè¾“å…¥å†…å®¹\nvar res = window.prompt('è¯·è¾“å…¥æ‚¨çš„é“¶è¡Œå¡å¯†ç ')\nconsole.log(res)\n```\n\n![img](https://s2.loli.net/2022/06/28/bxLAk12ORdVqiJl.png)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**3.å¼€å¯å’Œå…³é—­æ ‡ç­¾é¡µï¼š**</strong></font>\n\n```javascript\n// å¯è§†åŒ–çª—å£æ“ä½œ\n// å¼€å¯\n// å…³é—­\n//ç‚¹å‡»å¼€å¯æŒ‰é’®  æ‰“å¼€ç™¾åº¦\n\non.onclick = function () {\n    window.open('https://www.baidu.com')\n}\n//ç‚¹å‡»å…³é—­æŒ‰é’® å…³é—­æµè§ˆå™¨æ ‡ç­¾é¡µ\noff.onclick = function () {\n    window.close()\n}\n```\n\n![img](https://s2.loli.net/2022/06/28/b7eoBJO2LCGTAnH.png)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**4.æµè§ˆå™¨å¸¸è§äº‹ä»¶ï¼š**</strong></font>\n\n```javascript\n// 4.æµè§ˆå™¨å¸¸è§äº‹ä»¶ï¼š\nèµ„æºåŠ è½½å®Œæ¯•ï¼š window.onload = function () {}\nå¯è§†å°ºå¯¸æ”¹å˜ï¼šwindow.onresize = function () {}\næ»šåŠ¨æ¡ä½ç½®æ”¹å˜ï¼šwindow.onscroll = function () {}\n\n//  è¯¥å‡½æ•°ä¼šåœ¨èµ„æºåŠ è½½å®Œæ¯•ä¹‹åæ‰§è¡Œ\nwindow.onload = function () {\n    console.log('èµ„æºåŠ è½½å®Œæ¯•')\n}\n// è¯¥å‡½æ•°ä¼šæ ¹æ®æµè§ˆå™¨æ”¹å˜ è€Œæ”¹å˜\nwindow.onresize = function () {\n    console.log('çª—å£å°ºå¯¸å‘ç”Ÿäº†æ”¹å˜')\n}\n\n//è¯¥å‡½æ•°ä¼šæ ¹æ®æµè§ˆå™¨æ»šåŠ¨æ¡æ”¹å˜ è€Œæ”¹å˜\nwindow.onscroll = function () {\n    console.log('æ»šåŠ¨æ¡ä½ç½®æ”¹å˜')\n}\n```\n\n![img](https://s2.loli.net/2022/06/28/CR8iYETk9Gyv67L.png)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**5.æµè§ˆå™¨çš„å†å²è®°å½•æ“ä½œï¼š**</strong></font>\n\n```javascript\nå›é€€é¡µé¢ï¼šwindow.history.back()\nå‰è¿›é¡µé¢ï¼šwindow.history.forward()\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**6.æµè§ˆå™¨å·å»çš„å°ºå¯¸ï¼š**</strong></font>\n\n```javascript\n// å·å»çš„é«˜åº¦ï¼š\n//å…¼å®¹å†™æ³•:\nwindow.onscroll = function () {\n    var height = document.documentElement.scrollTop || document.body.scrollTop\n    console.log(height)\n}\n\ndocument.documentElement.scrollTop   // å½“htmlæœ‰     ä½¿ç”¨\nå®ä¾‹ï¼š\nwindow.onscroll = function () {\n    console.log(document.documentElement.scrollTop.toString())\n}\n\ndocument.body.scrollTop    // å½“htmlæ²¡æœ‰     ä½¿ç”¨\nwindow.onscroll = function () {\n    console.log(document.body.scrollTop)\n}\n\n//å·å»çš„å®½åº¦ï¼š\n// document.documentElement.scrollLeft   //\n// document.body.scrollLeft\n// window.onscroll = function () {\n//     console.log(document.body.scrollLeft)\n// }\n//å…¼å®¹å†™æ³•:\n// window.onscroll = function () {\n//     var width = document.documentElement.scrollLeft || document.body.scrollLeft\n//     console.log(width)\n// }\n```\n\n![img](https://s2.loli.net/2022/06/28/i6FyYPQId3AxV8G.png)\n\n![img](https://s2.loli.net/2022/06/28/CWQXFMNgkJbewvh.png)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**7.æµè§ˆå™¨æ»šåŠ¨åˆ°ï¼š**</strong></font>\n\n```javascript\næ»šåŠ¨åˆ°: window.scrollTo()\n\nå‚æ•°æ–¹å¼1ï¼š window.scrollTo(left, top)   // è¿™ç§æ–¹å¼åªèƒ½å®šä½åˆ°æŸä¸ªä½ç½®\nå‚æ•°æ–¹å¼2ï¼š window.scrollTo({left:xx, top:xx,})   // è¿™ç§æ–¹å¼å¯ä»¥æ»šåŠ¨åˆ°æŸä¸ªä½ç½®\nwindow.scrollTo({\n    left: xx,  // å®½åº¦\n    top:xx,   //é«˜åº¦\n    behavior: 'smooth'   //å®šä½æ–¹å¼  ç›´  å¹³æ»‘æ»šåŠ¨\n})\n```\n\n![img](https://s2.loli.net/2022/06/28/gUDonWieCpAdjrF.png)\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**æ€»ç»“ï¼š**</strong></font>\n\n![img](https://s2.loli.net/2022/06/28/MmnvaeUDKJEqTko.png)\n\n![img](https://s2.loli.net/2022/06/28/EL9ds8IiQ4lbJyk.png)\n\n![img](https://s2.loli.net/2022/06/28/opL7fH5YEjAKiPa.png)\n\n```javascript\nå¯è§†åŒ–çª—å£æ“ä½œ\n\nbody {\n    width: 3000px;\n    height: 3000px;\n}\n    \n// 1.è·å–æµè§ˆå™¨çª—å£å°ºå¯¸ï¼š\n\n// è·å–æµè§ˆå™¨å¯è§†çª—å£çš„å®½åº¦\nvar w = window.innerWidth.toString()\n// è·å–æµè§ˆå™¨å¯è§†çª—å£çš„é«˜åº¦\nvar h = window.innerHeight.toString()\ndocument.write(w, '\\n', h)\n\n// 2.æµè§ˆå™¨çš„å¼¹å‡ºå±‚\n// æç¤ºæ¡†ï¼š window.alert('æç¤ºä¿¡æ¯')   æ— è¿”å›å€¼  ç‚¹å‡»åæ¶ˆå¤±ä¸è§\n// è¯¢é—®æ¡†ï¼š window.confirm('æç¤ºä¿¡æ¯')   æœ‰è¿”å›å€¼   ç¡®å®šä¸ºtrue  å–æ¶ˆä¸ºfalse\n// è¾“å…¥æ¡†ï¼š window.prompt('æç¤ºä¿¡æ¯')    æœ‰è¿”å›å€¼   è¿”å›å€¼ä¸ºè¾“å…¥å†…å®¹\n\nwindow.alert('æ¬¢è¿å…‰ä¸´')\nvar res = window.confirm('ä½ çˆ±æˆ‘å—ï¼Ÿ')\nconsole.log(res)\n\nvar res = window.prompt('è¯·è¾“å…¥æ‚¨çš„é“¶è¡Œå¡å¯†ç ')\nconsole.log(res)\n\n// 3.å¼€å¯å’Œå…³é—­æ ‡ç­¾é¡µï¼š\non.onclick = function () {\n    window.open('https://www.baidu.com')\n}\noff.onclick = function () {\n    window.close()\n}\n\n//4.æµè§ˆå™¨å¸¸è§äº‹ä»¶ï¼š\nèµ„æºåŠ è½½å®Œæ¯•ï¼š window.onload = function () {}\nå¯è§†å°ºå¯¸æ”¹å˜ï¼šwindow.onresize = function () {}\næ»šåŠ¨æ¡ä½ç½®æ”¹å˜ï¼šwindow.onscroll = function () {}\n\n//  è¯¥å‡½æ•°ä¼šåœ¨èµ„æºåŠ è½½å®Œæ¯•ä¹‹åæ‰§è¡Œ\nwindow.onload = function () {\n    console.log('èµ„æºåŠ è½½å®Œæ¯•')\n}\n\n// è¯¥å‡½æ•°ä¼šæ ¹æ®æµè§ˆå™¨æ”¹å˜ è€Œæ”¹å˜\nwindow.onresize = function () {\n    console.log('çª—å£å°ºå¯¸å‘ç”Ÿäº†æ”¹å˜')\n}\n\n//è¯¥å‡½æ•°ä¼šæ ¹æ®æµè§ˆå™¨æ»šåŠ¨æ¡æ”¹å˜ è€Œæ”¹å˜\nwindow.onscroll = function () {\n    console.log('æ»šåŠ¨æ¡ä½ç½®æ”¹å˜')\n}\n\n// 5.æµè§ˆå™¨çš„å†å²è®°å½•æ“ä½œï¼š\nå›é€€é¡µé¢ï¼šwindow.history.back()\nå‰è¿›é¡µé¢ï¼šwindow.history.forward()\n\n//6.æµè§ˆå™¨å·å»çš„å°ºå¯¸ï¼š\n//å·å»çš„é«˜åº¦ï¼š\ndocument.documentElement.scrollTop   //<!DOCTYPE html>\ndocument.body.scrollTop\nwindow.onscroll = function () {\n    console.log(document.body.scrollTop)\n}\n//å…¼å®¹å†™æ³•:\nwindow.onscroll = function () {\n    var height = document.documentElement.scrollTop || document.body.scrollTop\n    console.log(height)\n}\n//å·å»çš„å®½åº¦ï¼š\ndocument.documentElement.scrollLeft   //<!DOCTYPE html>\ndocument.body.scrollLeft\nwindow.onscroll = function () {\n    console.log(document.body.scrollLeft)\n}\n//å…¼å®¹å†™æ³•:\nwindow.onscroll = function () {\n    var width = document.documentElement.scrollLeft || document.body.scrollLeft\n    console.log(width)\n}\n\nå‚æ•°æ–¹å¼1ï¼š window.scrollTo(left, top)   // è¿™ç§æ–¹å¼åªèƒ½å®šä½åˆ°æŸä¸ªä½ç½®\nå‚æ•°æ–¹å¼2ï¼š window.scrollTo({left:xx, top:xx, behavior: 'smooth'})   // è¿™ç§æ–¹å¼å¯ä»¥æ»šåŠ¨åˆ°æŸä¸ªä½ç½®\n```\n","tags":["javascript"],"categories":["_A2-å‰ç«¯","JavaScript"]},{"title":"javascript_å®šæ—¶å™¨","url":"/2023/03/20/javascript-å®šæ—¶å™¨/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**javascript_å®šæ—¶å™¨ï¼š**</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**å®šæ—¶å™¨åˆ†ä¸¤ç§ï¼š**</strong></font>\n\n![2022-06-29 12-35-07å±å¹•æˆªå›¾](https://s2.loli.net/2022/06/29/Vzv9Y1jMb4qf8G7.png)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**å®šæ—¶å™¨æœ‰è¿”å›å€¼ï¼š**</strong></font>\n\n```javascript\n// å®šæ—¶å™¨ä¸åŒºåˆ†ç§ç±»ï¼Œ åªæ˜¯è¡¨ç¤ºé¡µé¢ä¸Šçš„ç¬¬å‡ ä¸ªå®šæ—¶å™¨\n```\n\n![img](https://s2.loli.net/2022/06/29/NnyGQmuEJ17zqUH.png)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**å…³é—­å®šæ—¶å™¨ï¼š**</strong></font>\n\n![img](https://s2.loli.net/2022/06/29/CWpkM8lbeKmQLYg.png)\n\n![img](https://s2.loli.net/2022/06/29/LjlPuVb2Foemi5X.png)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ€»ç»“ï¼š**</strong></font>\n\n![img](https://s2.loli.net/2022/06/29/3TUx9XkunRowtAr.png)\n","tags":["javascript"],"categories":["_A2-å‰ç«¯","JavaScript"]},{"title":"javascript_DOMåŸºæœ¬æ“ä½œï¼ˆä¸€ï¼‰","url":"/2023/03/20/javascript-DOMåŸºæœ¬æ“ä½œï¼ˆä¸€ï¼‰/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**javascript_DOMåŸºæœ¬æ“ä½œï¼ˆä¸€ï¼‰ï¼š**</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**è·å–å…ƒç´ çš„5ç§æ–¹æ³•ï¼š**</strong></font>\n\n![img](https://s2.loli.net/2022/06/29/U1nvBRatQYMEre8.png)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**1.æ ¹æ® id åç§°è·å–ï¼š**</strong></font>\n\n```javascript\n// è¯­æ³•ï¼š\ndocument.getElementById('idåç§°')\n```\n\n![img](https://s2.loli.net/2022/06/29/SI8bBtUXPWjkh9l.png)\n\n![img](https://s2.loli.net/2022/06/29/WBmeFqYMftHPa8I.png)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**2.æ ¹æ® å…ƒç´  ç±»å è·å–ï¼š****2.æ ¹æ® å…ƒç´  ç±»å è·å–ï¼š**</strong></font>\n\n```javascript\n// è¯­æ³•ï¼š\ndocument.getElementsByClassName('å…ƒç´ ç±»å')\n```\n\n![img](https://s2.loli.net/2022/06/29/R38eT1YVZyzJ27o.png)\n\n![img](https://s2.loli.net/2022/06/29/1VwzI9AdS68lMeT.png)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**3.æ ¹æ® å…ƒç´  æ ‡ç­¾å è·å–ï¼š**</strong></font>\n\n```javascript\n// è¯­æ³•ï¼š\ndocument.getElementsByTagName('æ ‡ç­¾å')\n```\n\n![img](https://s2.loli.net/2022/06/29/q1hg3tmlo42XyGI.png)\n\n![img](https://s2.loli.net/2022/06/29/bdRo57kVCapHlvq.png)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**4.æ ¹æ® é€‰æ‹©å™¨ è·å–ä¸€ä¸ªï¼š**</strong></font>\n\n```javascript\n// è¯­æ³•:\ndocument.querySelector('é€‰æ‹©å™¨')\n// ä¾‹å¦‚:\ndocument.querySelector('div')\ndocument.querySelector('.box')\ndocument.querySelector('#container')\n```\n\n![img](https://s2.loli.net/2022/06/29/Nh7ZqcTew9IW4gM.png)\n\n![img](https://s2.loli.net/2022/06/29/Rr9HVj7OZtznoJg.png)\n\n**5.æ ¹æ® é€‰æ‹©å™¨ è·å–æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„ï¼š**\n\n```\n// è¯­æ³•:\ndocument.querySelectorAll('é€‰æ‹©å™¨')\n// ä¾‹å¦‚:\ndocument.querySelectorAll('div')\ndocument.querySelectorAll('.box')\ndocument.querySelectorAll('#container')\n```\n\n![img](https://s2.loli.net/2022/06/29/Pmbd2ecSfhN5aBr.png)\n\n![img](https://s2.loli.net/2022/06/29/zG32Rg8a9Hmh6NA.png)\n","tags":["javascript"],"categories":["_A2-å‰ç«¯","JavaScript"]},{"title":"javascript_DOMåŸºæœ¬æ“ä½œï¼ˆäºŒï¼‰","url":"/2023/03/20/javascript-DOMåŸºæœ¬æ“ä½œï¼ˆäºŒï¼‰/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**javascript_DOMåŸºæœ¬æ“ä½œï¼ˆäºŒï¼‰ï¼š**</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ“ä½œå…ƒç´ çš„å†…å®¹ï¼š**</strong></font>\n\n```javascript\n// å…ƒç´ .innerText  ä¼šè¦†ç›–å¼çš„ä¿®æ”¹\n// å…ƒç´ .innerHTML  ä¼šè¿æ ‡ç­¾ä¸€èµ·æ¸²æŸ“\n```\n\n![img](https://s2.loli.net/2022/06/29/34RQ28UxDXcroCY.png)\n\n```javascript\n// æ“ä½œå…ƒç´ çš„å†…å®¹\n// æ“ä½œå†…å®¹\n\n// æ–‡æœ¬å†…å®¹\n//è·å–å…ƒç´ \nvar ele = document.querySelector('div')\nvar btn = document.querySelector('button')\n//è·å–å…ƒç´ çš„æ–‡æœ¬å†…å®¹\nconsole.log(ele.innerText)\nbtn.onclick = function () {\n    ele.innerText = 'the fucking new text'\n}\n//è¾“å‡ºä¸€ä¸‹æ–‡æœ¬\nconsole.log(ele.innerHTML)\nbtn.onclick = function () {\n    ele.innerHTML = '<span> the fucking new text </span>'\n}\n\n    \n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ“ä½œå…ƒç´ å±æ€§ï¼š**</strong></font>\n\n![img](https://s2.loli.net/2022/06/29/g1BZXQFzqnIy8Df.png)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**è·å–å…ƒç´ å±æ€§ã€ä¿®æ”¹å±æ€§ï¼ˆåŸç”Ÿå±æ€§ï¼‰ï¼š**</strong></font>\n\n```javascript\n// æ“ä½œå…ƒç´ å±æ€§\n// æ“ä½œå±æ€§\n// div æ ‡ç­¾\n\n//è·å–å…ƒç´ \nvar box = document.querySelector('div')\nvar inp = document.querySelector('input')\nvar btn = document.querySelector('button')\n\n//è·å–å…ƒç´ å±æ€§\nconsole.log(box.id)\nconsole.log(inp.type)\n\n//ç»™æŒ‰é’®ç»‘å®šç‚¹å‡»äº‹ä»¶\nbtn.onclick = function () {\n    //ä¿®æ”¹å±æ€§å€¼\n    box.id = 'content'\n    inp.type = 'checkbox'\n}\n    \n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**è·å–å…ƒç´ å±æ€§ã€ä¿®æ”¹å±æ€§ï¼ˆè‡ªå®šä¹‰å±æ€§ï¼‰ï¼š**</strong></font>\n\n```javascript\n// æ“ä½œå…ƒç´ å±æ€§\n\n// æ“ä½œå±æ€§\n// div æ ‡ç­¾\n    \n//è·å–å…ƒç´ å±æ€§\nvar box = document.querySelector('div')\nvar btn = document.querySelector('button')\n//è·å–è‡ªå®šä¹‰å±æ€§\nvar res = box.getAttribute('hello')\nconsole.log(res)\n\n// ç»™æŒ‰é’®ç»‘å®šç‚¹å‡»äº‹ä»¶\nbtn.onclick = function () {\n    //ä¿®æ”¹è‡ªå®šä¹‰å±æ€§\n    box.setAttribute('hello', 'æ–°æ¥çš„')\n}\n\n// ç»™æŒ‰é’® ç»‘å®šç‚¹å‡»äº‹ä»¶\nbtn.onclick = function () {\n    //ä¿®æ”¹è‡ªå®šä¹‰å±æ€§\n    box.removeAttribute('hello')\n}\n    \n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ“ä½œå…ƒç´ ç±»åï¼š**</strong></font>\n\n![img](https://s2.loli.net/2022/06/29/QxDwsNdifG9gIjZ.png)\n\n```javascript\n// æ“ä½œå…ƒç´ ç±»å\n\n// æ“ä½œç±»å\n// div æ ‡ç­¾\n\n//è·å–è¢æœ¯\nvar box = document.querySelector('div')\nvar btn = document.querySelector('button')\n//è·å–ç±»å\nconsole.log( box.className)\n\n//ç»™æŒ‰é’®ç»‘å®šç‚¹å‡»äº‹ä»¶\nbtn.onclick = function () {\n    box.className = 'è¿™æ˜¯ä¸€ä¸ªæ–°å…ƒç´ '\n}\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ“ä½œå…ƒç´ è¡Œå†…æ ·å¼ï¼š**</strong></font>\n\n![img](https://s2.loli.net/2022/06/29/Ho8Qwreyus6VvIx.png)\n\n```javascript\n// æ“ä½œå…ƒç´ çš„è¡Œå†…æ ·å¼\n\n// æ“ä½œè¡Œå†…æ ·å¼\n// è¿”å›è¡Œå†…æ ·å¼\n// æ–‡æœ¬å†…å®¹\n\n//è·å–å…ƒç´ \nvar box = document.querySelector('div')\nvar btn1 = document.getElementById('btn1')\nvar btn2 = document.getElementById('btn2')\n//è¾“å‡ºè¡Œå†…æ ·å¼\nconsole.log(box.style.width)\nconsole.log(box.style.height)\nconsole.log(box.style.backgroundColor)    //æœ‰ä¸‹åˆ’çº¿çš„æ—¶å€™  éœ€è¦ä½¿ç”¨é©¼å³°å‘½åæ³•\nbtn1.onclick = function () {\n    box.style.width = '200px';\n    box.style.height = '400px';\n    box.style.backgroundColor = 'red'\n}\nbtn2.onclick = function () {\n    box.style.width = '100px';\n    box.style.height = '100px';\n    box.style.backgroundColor = 'pink'\n}\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**è·å–å…ƒç´ éè¡Œå†…æ ·å¼ï¼š**</strong></font>\n\n```javascript\nå‰ç«¯æ˜¯æ²¡æœ‰åŠæ³•æ“ä½œéè¡Œå†…æ ·å¼çš„ï¼Œåªèƒ½è·å–\n```\n\n![img](https://s2.loli.net/2022/06/29/tafyHgjLrwsX6Vv.png)\n\n```javascript\n// æ“ä½œå…ƒç´ çš„è¡Œå†…æ ·å¼\n\ndiv {\n    font-size: 20px;\n}\n    \n\n// æ“ä½œè¡Œå†…æ ·å¼\n// æ–‡æœ¬å†…å®¹\n\nvar box = document.querySelector('div')\nvar btn = document.querySelector('button')\nconsole.log(window.getComputedStyle(box).width)\nconsole.log(window.getComputedStyle(box).height)\nconsole.log(window.getComputedStyle(box).backgroundColor)\nconsole.log(window.getComputedStyle(box).fontSize)\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ€»ç»“ï¼š**</strong></font>\n\n![img](https://s2.loli.net/2022/06/29/tTEYvFSLGWo6Ngi.png)\n\n![img](https://s2.loli.net/2022/06/29/oie6V8hp3ju4UJS.png)\n\n![img](https://s2.loli.net/2022/06/29/32svhlbVPm4pW6r.png)\n","tags":["javascript"],"categories":["_A2-å‰ç«¯","JavaScript"]},{"title":"javascript_if else if è¯­å¥","url":"/2023/03/20/javascript-if-else-if-è¯­å¥/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**javascript_if else if è¯­å¥ï¼š**</strong></font>\n\n<!--more-->\n\n```javascript\nvar money = 3000\n//æ»¡è¶³å“ªä¸€ä¸ªifçš„æ¡ä»¶   å°±æ‰§è¡Œå“ªä¸€ä¸ªæ¡ä»¶åé¢çš„ {}\n//å‰é¢çš„å¦‚æœæ»¡è¶³äº†  å°±ä¸å»è€ƒè™‘åé¢çš„å†…å®¹äº†\nif (money >= 5000) {\n    console.log('åƒç±³å…¶æ—ä¸‰æ˜Ÿ')\n} else if (money >= 500) {\n    console.log('åƒå¿«é¤å§')\n} else (money < 500) {\n    console.log('åƒä¸ªå±ï¼Œä½ è¿500å—éƒ½æ²¡æœ‰')\n}\n```\n\n","tags":["javascript"],"categories":["_A2-å‰ç«¯","JavaScript"]},{"title":"javascript_switchè¯­å¥","url":"/2023/03/20/javascript-switchè¯­å¥/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**javascript_switchè¯­å¥ï¼š**</strong></font>\n\n<!--more-->\n\n```javascript\n//switch ä¼šç©¿é€ä»£ç ï¼Œæ‰§è¡Œæ‰€æœ‰case ä¸­çš„ä»£ç \n    //å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œ å½“åšä¸€ç›´æ¡ä»¶\nvar foot = 37\n// ä½¿ç”¨ switch è¯­å¥è¿›è¡Œé€‰æ‹©\nswitch (foot) {\n    case 37:\n        console.log('ä¹°ä¸€åŒ 37 ç çš„é‹å­')\n        break\n    case 38:\n        console.log('ä¹°ä¸€åŒ 37 ç çš„é‹å­')\n        break\n    // å½“æ‰€æœ‰æ¡ä»¶éƒ½ä¸æ»¡è¶³çš„æ—¶å€™ï¼Œ é»˜è®¤æ‰§è¡Œdefaultè¯­å¥\n    default:\n        console.log('æ²¡æœ‰åˆé€‚çš„é‹å­ï¼Œç®—äº†ï¼ä¸ä¹°äº†')\n}\n```\n\n![img](https://s2.loli.net/2022/06/30/chQOoR7fsAYpUPa.png)\n","tags":["javascript"],"categories":["_A2-å‰ç«¯","JavaScript"]},{"title":"javascript_while å’Œ do whileè¯­å¥","url":"/2023/03/20/javascript-while-å’Œ-do-whileè¯­å¥/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**javascript_while å’Œ do whileè¯­å¥ï¼š**</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**whileå¾ªç¯ï¼š**</strong></font>\n\n```javascript\n//å®šä¹‰åˆå§‹å˜é‡n\nvar n = 0;\nwhile (n < 3) {\n    //ä¸€æ®µé‡å¤çš„ä»£ç \n    console.log('èµ°è¿‡äº†ä¸€ä¸ªçŸ³æ¿')\n    //æ”¹å˜åˆå§‹å€¼\n    n++\n}\n//åç»­ä»£ç \nconsole.log('ç»§ç»­èµ°åé¢çš„è·¯')\n```\n\n![img](https://s2.loli.net/2022/06/30/gd1EQnlbBGu3s2W.png)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ¡ˆä¾‹ç»ƒä¹ ï¼š**</strong></font>\n\n```javascript\n// whileå¾ªç¯æ¡ˆä¾‹\nvar n = 1\nvar total = 1\nwhile (n <= 10) {\n    total *= n\n    console.log('è¿™æ˜¯total x ', n.toString(), 'çš„å€¼ ==> ', total.toString())\n    n ++\n}\n    \n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**do whileå¾ªç¯ï¼š**</strong></font>\n\n```javascript\n//å®šä¹‰åˆå§‹å˜é‡n\nvar n = 0;\ndo {\n    //ä¸€æ®µé‡å¤çš„ä»£ç \n    console.log('èµ°è¿‡äº†ä¸€ä¸ªçŸ³æ¿')\n    //æ”¹å˜åˆå§‹å€¼\n    n++\n} while (n < 3)\n//åç»­ä»£ç \nconsole.log('ç»§ç»­èµ°åé¢çš„è·¯')\n```\n\n![img](https://s2.loli.net/2022/06/30/dTMpEvShkZ5Lqsf.png)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ¡ˆä¾‹ç»ƒä¹ ï¼š**</strong></font>\n\n```javascript\n// do whileå¾ªç¯\n// //åœ¨æµè§ˆå™¨å¼¹å‡ºè¾“å…¥æ¡†\n// var result = prompt('ä½ çˆ±ä¸çˆ±æˆ‘ ï¼Ÿ')\n// console.log(result)\n\n//åœ¨do while ä¸­ä½“ç°   å…ˆæ‰§è¡Œä¸€æ¬¡ï¼Œå½“ç­”æ¡ˆä¸æ­£ç¡®æˆ–è€…ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„  ä¼šå†æ¬¡å¼¹å‡ºè¾“å…¥æ¡†\ndo {\n    var result = prompt('ä½ çˆ±ä¸çˆ±æˆ‘ ï¼Ÿ')\n} while (result !== 'çˆ±')\ndocument.write('æˆ‘ç‰¹ä¹ˆè°¢è°¢ä½  ', result, ' æˆ‘')\n\n//æˆ‘ç‰¹ä¹ˆè°¢è°¢ä½  çˆ± æˆ‘\n```\n","tags":["javascript"],"categories":["_A2-å‰ç«¯","JavaScript"]},{"title":"javascript_for å¾ªç¯è¯­å¥","url":"/2023/03/20/javascript-for-å¾ªç¯è¯­å¥/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**javascript_for å¾ªç¯è¯­å¥ï¼š**</strong></font>\n\n<!--more-->\n\n```javascript\nfor (å®šä¹‰åˆå§‹å˜é‡; æ¡ä»¶åˆ¤æ–­; æ”¹å˜åˆå§‹å˜é‡) {\n    é‡å¤æ‰§è¡Œçš„ä»£ç \n    ....\n}\n        //for å¾ªç¯ç»“æ„è¯­å¥\n        // for (å®šä¹‰åˆå§‹å˜é‡; æ¡ä»¶åˆ¤æ–­; æ”¹å˜åˆå§‹å˜é‡)\n        for (var i=0; i<3; i++) {\n            // é‡å¤æ‰§è¡Œçš„ä»£ç \n            console.log('è¿™æ˜¯ç¬¬', i, 'æ¬¡æ‰§è¡Œ')\n        }\n        //å¾ªç¯è¯­å¥ç»“æŸå  æ‰§è¡Œçš„ä»£ç \n        console.log('ä½ è¿˜è¦ç»§ç»­èµ°æ¥ä¸‹æ¥çš„è·¯')\n```\n\n![img](https://s2.loli.net/2022/06/30/W62su7ViKHAkmwE.png)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ¡ˆä¾‹ç»ƒä¹ ï¼š**</strong></font>\n\n```javascript\n# for å¾ªç¯\nfor (var i=1; i<=100; i++) {\n    if (i % 3 === 0){\n        console.log(i)\n    }\n}\n    \n```\n\n","tags":["javascript"],"categories":["_A2-å‰ç«¯","JavaScript"]},{"title":"javascript_æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•","url":"/2023/03/20/javascript-æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**javascript_æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•ï¼š**</strong></font>\n\n<!--more-->\n\n![img](https://s2.loli.net/2022/06/30/FjRgShmaDV4QMO7.png)\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**1. push()æ–¹æ³•ï¼šå°†æ•°æ®è¿½åŠ åˆ°æ•°ç»„çš„æœ«å°¾ï¼š**</strong></font>\n\n```javascript\n1.push()\n    è¯­æ³•ï¼šæ•°ç»„.push(æ•°æ®)\n    ä½œç”¨ï¼šå°†æ•°æ® <è¿½åŠ > åˆ°æ•°ç»„çš„ <æœ«å°¾>\n    è¿”å›å€¼ï¼šè¿½åŠ æ•°æ®åæ•°ç»„çš„ <æœ€æ–°çš„é•¿åº¦>\n\nä¾‹å¦‚ï¼š\n    var arr = [100, 200, 300, 400]   //å‡†å¤‡ä¸€ä¸ªåŸå§‹æ•°ç»„\n    console.log(arr)   //ç¬¬ä¸€æ¬¡è¾“å‡ºarr \n    res = arr.push('è¿½åŠ çš„')   //ä½¿ç”¨æ–¹æ³•push\n    console.log(arr)   //ç¬¬äºŒæ¬¡è¾“å‡ºarr\n    console.log(res)   //è¾“å‡ºres\n\nè¾“å‡ºç»“æœï¼š\n    ç¬¬ä¸€æ¬¡arr: [100, 200, 300, 400]\n    ç¬¬äºŒæ¬¡arr: [100, 200, 300, 400, 'è¿½åŠ çš„']\n    resè¿”å›å€¼: 5\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**2. pop()æ–¹æ³•ï¼šåˆ é™¤æ•°ç»„çš„æœ€åä¸€ä¸ªæ•°æ®ï¼š**</strong></font>\n\n```javascript\n2.pop()\n    è¯­æ³•ï¼šæ•°ç»„.pop()    //å¯ä»¥ä¸ç”¨ä¼ é€’å‚æ•°\n    ä½œç”¨ï¼šåˆ é™¤æ•°ç»„çš„ <æœ€åä¸€ä¸ª> æ•°æ®\n    è¿”å›å€¼ï¼šè¢«åˆ é™¤çš„æ•°æ®\n\nä¾‹å¦‚ï¼š\n    var arr = [100, 200, 300, 400]     //å‡†å¤‡ä¸€ä¸ªåŸå§‹æ•°ç»„\n    console.log(arr)   //ç¬¬ä¸€æ¬¡è¾“å‡ºarr \n    res = arr.pop()    //ä½¿ç”¨æ–¹æ³•pop\n    console.log(arr)   //ç¬¬äºŒæ¬¡è¾“å‡ºarr\n    console.log(res)    //è¾“å‡ºres\nè¾“å‡ºç»“æœï¼š\n    ç¬¬ä¸€æ¬¡arr: [100, 200, 300, 400]\n    ç¬¬äºŒæ¬¡arr: [100, 200, 300]\n    resè¿”å›å€¼: 400\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**3. unshift()æ–¹æ³•ï¼š å°†æ•°æ®æ·»åŠ åˆ°æ•°ç»„çš„ <æœ€å‰é¢> ï¼š**</strong></font>\n\n```javascript\n3.unshift()\n    è¯­æ³•ï¼šæ•°ç»„.unshift(æ•°æ®)\n    ä½œç”¨ï¼šå°†æ•°æ® <æ·»åŠ > åˆ°æ•°ç»„çš„ <æœ€å‰>\n    è¿”å›å€¼ï¼šæ·»åŠ æ•°æ®åæ•°ç»„çš„  <æœ€æ–°é•¿åº¦>\n\nä¾‹å¦‚ï¼š\n    var arr = [100, 200, 300, 400]     //å‡†å¤‡ä¸€ä¸ªåŸå§‹æ•°ç»„\n    console.log(arr)   //ç¬¬ä¸€æ¬¡è¾“å‡ºarr \n    res = arr.unshift('æ·»åŠ çš„')   //ä½¿ç”¨æ–¹æ³•unshift\n    console.log(arr)   //ç¬¬äºŒæ¬¡è¾“å‡ºarr\n    console.log(res)    //è¾“å‡ºres\n\nè¾“å‡ºç»“æœï¼š\n    ç¬¬ä¸€æ¬¡arr: [100, 200, 300, 400]\n    ç¬¬äºŒæ¬¡arr: ['æ·»åŠ çš„',100, 200, 300, 400]\n    resè¿”å›å€¼: 5\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**4. shift()æ–¹æ³•ï¼š åˆ é™¤æ•°ç»„ <æœ€å‰ä¸€ä¸ª> æ•°æ®ï¼š**</strong></font>\n\n```javascript\n4.shift()\n    è¯­æ³•ï¼šæ•°ç»„.shift()\n    ä½œç”¨: åˆ é™¤æ•°ç»„ æœ€å‰ä¸€ä¸ª æ•°æ®\n    è¿”å›å€¼ ï¼šè¢«åˆ é™¤çš„æ•°æ®\n\n\nä¾‹å¦‚ï¼š\n    var arr = [100, 200, 300, 400]       //å‡†å¤‡ä¸€ä¸ªåŸå§‹æ•°ç»„\n    console.log(arr)     //ç¬¬ä¸€æ¬¡è¾“å‡ºarr \n    res = arr.shift()   //ä½¿ç”¨æ–¹æ³•shift\n    console.log(arr)   //ç¬¬äºŒæ¬¡è¾“å‡ºarr\n    console.log(res)    //è¾“å‡ºres\n\nè¾“å‡ºç»“æœï¼š\n    ç¬¬ä¸€æ¬¡arr: [100, 200, 300, 400]\n    ç¬¬äºŒæ¬¡arr: [200, 300, 400]\n    resè¿”å›å€¼: 100\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**5. reverse()æ–¹æ³•ï¼š åè½¬æ•°ç»„ï¼š**</strong></font>\n\n```javascript\n5.shift()\n    è¯­æ³•ï¼šæ•°ç»„.reverse()\n    ä½œç”¨: å°†æ•°ç»„åè½¬\n    è¿”å›å€¼ ï¼šåè½¬åçš„æ•°ç»„\n\n\nä¾‹å¦‚ï¼š\n    var arr = [100, 200, 300, 400]       //å‡†å¤‡ä¸€ä¸ªåŸå§‹æ•°ç»„\n    console.log(arr)     //ç¬¬ä¸€æ¬¡è¾“å‡ºarr \n    res = arr.reverse()    //ä½¿ç”¨æ–¹æ³•reverse\n    console.log(arr)   //ç¬¬äºŒæ¬¡è¾“å‡ºarr\n    console.log(res)    //è¾“å‡ºres\n\nè¾“å‡ºç»“æœï¼š\n    ç¬¬ä¸€æ¬¡arr: [100, 200, 300, 400]\n    ç¬¬äºŒæ¬¡arr: [400, 300, 200, 100]\n    resè¿”å›å€¼: [400, 300, 200, 100]\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**6. splice()æ–¹æ³•ï¼š åˆ é™¤ æ•°ç»„ä¸­è‹¥å¹²æ•°æ®ï¼Œå¹¶é€‰æ‹©æ˜¯å¦æ’å…¥æ–°çš„æ•°æ®ï¼š**</strong></font>\n\n![img](https://s2.loli.net/2022/06/30/9SMX2eRNO7gsjVU.png)\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**7. sort()æ–¹æ³•ï¼š å¯¹æ•°ç»„æ’åºï¼š**</strong></font>\n\n```javascript\n7.sort()\n    è¯­æ³•ï¼šæ•°ç»„.sort()\n         æ•°ç»„.sort( function (a,b) { return a - b } )  å‡åº\n         æ•°ç»„.sort( function (a,b) { return b - a } )  é™åº\n    ä½œç”¨: å°†æ•°ç»„è¿›è¡Œ æ’åº\n    è¿”å›å€¼ ï¼šæ’åºå¥½çš„ æ–°æ•°ç»„\n\n\nä¾‹å¦‚ï¼š\n    var arr = [11, 1, 22, 13, 45, 32, 2]       //å‡†å¤‡ä¸€ä¸ªåŸå§‹æ•°ç»„\n    console.log(arr)     //ç¬¬ä¸€æ¬¡è¾“å‡ºarr \n    res = arr.sort()    //ä½¿ç”¨æ–¹æ³•reverse\n    console.log(arr)   //ç¬¬äºŒæ¬¡è¾“å‡ºarr\n    console.log(res)    //è¾“å‡ºres\n\nè¾“å‡ºç»“æœï¼š\n    ç¬¬ä¸€æ¬¡arr: [11, 1, 22, 13, 45, 32, 2]\n    ç¬¬äºŒæ¬¡arr: [1, 11, 13, 2, 22, 32, 45]\n    resè¿”å›å€¼: [1, 11, 13, 2, 22, 32, 45]\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**8. join()æ–¹æ³•ï¼š å°†æ•°ç»„é“¾æ¥æˆå­—ç¬¦ä¸²ï¼š**</strong></font>\n\n```javascript\n8.join()\n    è¯­æ³•ï¼šæ•°ç»„.join(è¿æ¥ç¬¦)\n    ä½œç”¨: å°†æ•°ç»„ç”¨ <è¿æ¥ç¬¦>  é“¾æ¥æˆä¸ºä¸€ä¸ª <å­—ç¬¦ä¸²>\n    è¿”å›å€¼ ï¼šé“¾æ¥å¥½çš„ å­—ç¬¦ä¸²\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**9. concat()æ–¹æ³•ï¼š å°†æ•°ç»„é“¾æ¥æˆå­—ç¬¦ä¸²ï¼š**</strong></font>\n\n```javascript\n9.concat()\n    è¯­æ³•ï¼šæ•°ç»„.concat(å…¶ä»–æ•°ç»„)\n    ä½œç”¨: å°†å…¶ä»–æ•°ç»„å’Œæ•°ç»„  <æ‹¼æ¥>  åœ¨ä¸€èµ·  \n    è¿”å›å€¼ ï¼šæ‹¼æ¥å¥½çš„  æ–°æ•°ç»„\n\nä¾‹å¦‚ï¼š\n    var arr = [100, 200, 300, 400]       //å‡†å¤‡ä¸€ä¸ªåŸå§‹æ•°ç»„\n    console.log(arr)     //ç¬¬ä¸€æ¬¡è¾“å‡ºarr \n    var res = arr.concat( [500, 600] )\n    console.log(arr)   //ç¬¬äºŒæ¬¡è¾“å‡ºarr\n    console.log(res)    //è¾“å‡ºres\n\nè¾“å‡ºç»“æœï¼š\n    ç¬¬ä¸€æ¬¡arr: [100, 200, 300, 400]   \n    ç¬¬äºŒæ¬¡arr: [100, 200, 300, 400]   åŸå§‹æ•°æ®ä¸å‘ç”Ÿå˜åŒ–\n    resè¿”å›å€¼: [100, 200, 300, 400, 500, 600]   è¿”å›å€¼  æ–°æ‹¼æ¥å¥½çš„æ•°ç»„\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**10. slice()æ–¹æ³•ï¼š æˆªå–æ•°ç»„ï¼š**</strong></font>\n\n```javascript\n10.slice()\n    è¯­æ³•ï¼šæ•°ç»„.slice(å¼€å§‹ç´¢å¼•, ç»“æŸç´¢å¼•)   //å½“ä¸ä¼ é€’å‚æ•°ï¼Œé»˜è®¤è¿”å›æ‰€æœ‰æ•°æ®   å½“ä¼ é€’ä¸€ä¸ªå‚æ•° é»˜è®¤æ˜¯ä»ç¬¬å‡ ä¸ªæ•°æ®å¼€å§‹æˆªå–\n        å¼€å§‹ç´¢å¼•: é»˜è®¤æ˜¯0,\n        ç»“æŸç´¢å¼•: é»˜è®¤æ˜¯ æ•°ç»„é•¿åº¦\n    ä½œç”¨:  <æˆªå–> æ•°ç»„ä¸­çš„æŸäº›æ•°æ®\n    è¿”å›å€¼ ï¼šä»¥ <æ–°æ•°ç»„> çš„å½¢å¼è¿”å›æˆªå–å‡ºæ¥çš„æ•°æ®\n\nä¾‹å¦‚ï¼š\n    var arr = [100, 200, 300, 400]       //å‡†å¤‡ä¸€ä¸ªåŸå§‹æ•°ç»„\n    console.log(arr)     //ç¬¬ä¸€æ¬¡è¾“å‡ºarr \n    var res = arr.slice( 1, 3)\n    console.log(arr)   //ç¬¬äºŒæ¬¡è¾“å‡ºarr\n    console.log(res)    //è¾“å‡ºres\n\nè¾“å‡ºç»“æœï¼š\n    ç¬¬ä¸€æ¬¡arr: [100, 200, 300, 400]   \n    ç¬¬äºŒæ¬¡arr: [100, 200, 300, 400]   åŸå§‹æ•°æ®ä¸å‘ç”Ÿå˜åŒ–\n    resè¿”å›å€¼: [200, 300]   // è¿”å›å€¼  æˆªå–åçš„æ–°æ•°ç»„  \n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**11. indexOf()æ–¹æ³•ï¼š æŸ¥æ‰¾ <æ•°æ®> åœ¨æ•°æ®ä¸­çš„ç´¢å¼•ä½ç½®ï¼š**</strong></font>\n\n```javascript\n11.indexOf()\n    è¯­æ³•ï¼šæ•°ç»„.indexOF(æ•°æ®)\n    ä½œç”¨: æŸ¥æ‰¾ <æ•°æ®> åœ¨æ•°ç»„ä¸­çš„ <ç´¢å¼•> ä½ç½® \n    è¿”å›å€¼ ï¼š\n        æœ‰è¯¥æ•°æ®ï¼Œ è¿”å› <ç¬¬ä¸€æ¬¡å‡ºç°> çš„ç´¢å¼•ä½ç½®\n        æ²¡æœ‰è¯¥æ•°æ®ï¼Œ è¿”å› -1\n\nä¾‹å¦‚ï¼š\n    var arr = [100, 200, 300, 200]       //å‡†å¤‡ä¸€ä¸ªåŸå§‹æ•°ç»„\n    console.log(arr)     //ç¬¬ä¸€æ¬¡è¾“å‡ºarr \n    var res = arr.indexOf( 200 )\n    console.log(arr)   //ç¬¬äºŒæ¬¡è¾“å‡ºarr\n    console.log(res)    //è¾“å‡ºres\n\nè¾“å‡ºç»“æœï¼š\n    ç¬¬ä¸€æ¬¡arr: [100, 200, 300, 200]   \n    ç¬¬äºŒæ¬¡arr: [100, 200, 300, 200]   åŸå§‹æ•°æ®ä¸å‘ç”Ÿå˜åŒ–\n    resè¿”å›å€¼: 1   è¿”å›å€¼  è¿”å›è¯¥æ•°æ®åœ¨åˆ—è¡¨ä¸­çš„ç´¢å¼•ä½ç½®\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**12. forEach()æ–¹æ³•ï¼š å°†æ•°ç»„é“¾æ¥æˆå­—ç¬¦ä¸²ï¼š**</strong></font>\n\n```javascript\n12.forEach()\n    è¯­æ³•ï¼šæ•°ç»„.forEach( function (item, index, arr) {})\n        æ•°ç»„.forEach( function (æ•°æ®, ç´¢å¼•ï¼Œ æ•°ç»„) {æ‰§è¡Œå†…å®¹})\n    ä½œç”¨: éå†æ•°ç»„\n    è¿”å›å€¼ ï¼šæ²¡æœ‰è¿”å›å€¼\n\nä¾‹å¦‚ï¼š\n    var arr = [100, 200, 300, 400]       //å‡†å¤‡ä¸€ä¸ªåŸå§‹æ•°ç»„\n    console.log(arr)     //ç¬¬ä¸€æ¬¡è¾“å‡ºarr \n    arr.forEach( function (item, index, arr) {\n            console.log(item);  //è¾“å‡ºæ•°æ®\n            console.log(index);  // è¾“å‡ºç´¢å¼•\n            console.log(arr);  //è¾“å‡ºåˆ—è¡¨\n            console.log('------------------------------')\n        })\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**13.map()æ–¹æ³•ï¼š æ˜ å°„æ•°ç»„**</strong></font>\n\n```javascript\n13.map()\n    è¯­æ³•ï¼šæ•°ç»„.map( function (item, index, arr) {})\n    ä½œç”¨: æ˜ å°„æ•°ç»„\n    è¿”å›å€¼ ï¼šæ˜ å°„åçš„ <æ–°æ•°ç»„>\n\nä¾‹å¦‚ï¼š\n    var arr = [100, 200, 300, 400]       //å‡†å¤‡ä¸€ä¸ªåŸå§‹æ•°ç»„\n    console.log(arr)     //ç¬¬ä¸€æ¬¡è¾“å‡ºarr \n    var res = arr.map( function (item, index, arr) {\n            return item*10    //æ¯ä¸€é¡¹éƒ½ ä¹˜ä»¥ 10\n        })\n    console.log(res)\n\nè¾“å‡ºç»“æœï¼š\n    ç¬¬ä¸€æ¬¡arr: [100, 200, 300, 400]   \n\n    resè¿”å›å€¼: [1000, 2000, 3000, 4000]   è¿”å›å€¼  æ–°æ‹¼æ¥å¥½çš„æ•°ç»„\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**14.fileter()æ–¹æ³•ï¼š è¿‡æ»¤ æ•°ç»„ï¼š**</strong></font>\n\n```javascript\n14.fileter()\n    è¯­æ³•ï¼šæ•°ç»„.fileter( function (item, index, arr) {} )\n    ä½œç”¨: è¿‡æ»¤æ•°ç»„\n    è¿”å›å€¼ ï¼šè¿‡æ»¤åçš„ æ–°æ•°ç»„\n\nä¾‹å¦‚ï¼š\n    var arr = [100, 200, 300, 400]       //å‡†å¤‡ä¸€ä¸ªåŸå§‹æ•°ç»„\n    console.log(arr)     //ç¬¬ä¸€æ¬¡è¾“å‡ºarr \n    var res = arr.filter( function (item, index, arr) {\n            return item > 150\n        })\n    console.log(res)\n\nè¾“å‡ºç»“æœï¼š\n    ç¬¬ä¸€æ¬¡arr: [100, 200, 300, 400]   \n    resè¿”å›å€¼: [200, 300, 400]   è¿”å›å€¼  æ‰€æœ‰æ»¡è¶³ å¤§äº150çš„é¡¹ åˆ—è¡¨\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**15. every()æ–¹æ³•ï¼š åˆ¤æ–­æ•°æ˜¯ä¸æ˜¯ æ¯ä¸€é¡¹ éƒ½æ»¡è¶³æ¡ä»¶ï¼š**</strong></font>\n\n```javascript\n15.every()\n    è¯­æ³•ï¼šæ•°ç»„.every( function (item, index, arr) {} )\n    ä½œç”¨: åˆ¤æ–­æ•°æ˜¯ä¸æ˜¯ æ¯ä¸€é¡¹ éƒ½æ»¡è¶³æ¡ä»¶\n    è¿”å›å€¼ ï¼šä¸€ä¸ªå¸ƒå°”å€¼\n\nä¾‹å¦‚ï¼š\n    var arr = [100, 200, 300, 400]       //å‡†å¤‡ä¸€ä¸ªåŸå§‹æ•°ç»„\n    console.log(arr)     //ç¬¬ä¸€æ¬¡è¾“å‡ºarr \n    var res = arr.every( function (item, index, arr) {\n            return item > 150\n        })\n    console.log(res)\n\nè¾“å‡ºç»“æœï¼š\n    ç¬¬ä¸€æ¬¡arr: [100, 200, 300, 400]   \n    resè¿”å›å€¼: false   // è¿”å›å€¼  å¸ƒå°”å€¼   æ•°ç»„é‡Œé¢ä¸æ˜¯æ¯ä¸€é¡¹éƒ½å¤§äº150\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**16. some()æ–¹æ³•ï¼š åˆ¤æ–­æ•°ç»„ä¸­æ˜¯ä¸æ˜¯æœ‰æŸä¸€é¡¹æ»¡è¶³æ¡ä»¶ï¼š**</strong></font>\n\n```javascript\n15.every()\n    è¯­æ³•ï¼šæ•°ç»„.every( function (item, index, arr) {} )\n    ä½œç”¨: åˆ¤æ–­æ•°ç»„ä¸­ æ˜¯ä¸æ˜¯æœ‰ æŸä¸€é¡¹ æ»¡è¶³æ¡ä»¶\n    è¿”å›å€¼ ï¼šä¸€ä¸ªå¸ƒå°”å€¼\n\nä¾‹å¦‚ï¼š\n    var arr = [100, 200, 300, 400]       //å‡†å¤‡ä¸€ä¸ªåŸå§‹æ•°ç»„\n    console.log(arr)     //ç¬¬ä¸€æ¬¡è¾“å‡ºarr \n    var res = arr.some( function (item, index, arr) {\n            return item > 150\n        })\n    console.log(res)\n\nè¾“å‡ºç»“æœï¼š\n    ç¬¬ä¸€æ¬¡arr: [100, 200, 300, 400]   \n    resè¿”å›å€¼: true   // è¿”å›å€¼  å¸ƒå°”å€¼   æ•°ç»„é‡Œé¢ä¸æ˜¯æ¯ä¸€é¡¹éƒ½å¤§äº150\n```\n","tags":["javascript"],"categories":["_A2-å‰ç«¯","JavaScript"]},{"title":"javascript_å­—ç¬¦ä¸²çš„å¸¸ç”¨æ–¹æ³•","url":"/2023/03/20/javascript-å­—ç¬¦ä¸²çš„å¸¸ç”¨æ–¹æ³•/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**javascript_å­—ç¬¦ä¸²çš„å¸¸ç”¨æ–¹æ³•ï¼š**</strong></font>\n\n<!--more-->\n\n```javascript\n1. charAt()\n    è¯­æ³•ï¼šå­—ç¬¦ä¸².charAt(ç´¢å¼•)\n    ä½œç”¨ï¼šè·å–å¯¹åº”ç´¢å¼•ä½ç½®çš„å­—ç¬¦\n    è¿”å›å€¼ï¼š å¯¹åº”ç´¢å¼•ä½ç½®çš„å­—ç¬¦\n\n2.toLowerCase() æ–¹æ³•\n    è¯­æ³•ï¼šå­—ç¬¦ä¸².toLowerCase()\n    ä½œç”¨ï¼šå°†å­—ç¬¦ä¸²å†…çš„å­—æ¯å…¨éƒ¨è½¬æ¢æˆ  å°å†™\n    è¿”å›å€¼ï¼š è½¬æ¢åçš„å­—ç¬¦ä¸²\n\n3.toUpperCase()\n    è¯­æ³•ï¼šå­—ç¬¦ä¸².toUpperCase()\n    ä½œç”¨ï¼šå°†å­—ç¬¦ä¸²å†…çš„å­—æ¯å…¨éƒ¨è½¬æ¢æˆå¤§å†™\n    è¿”å›å€¼ï¼š è½¬æ¢åçš„å­—ç¬¦ä¸²\n\n4.replace()\n    è¯­æ³•ï¼šå­—ç¬¦ä¸².replace(æ›¿æ¢å‰å†…å®¹ï¼Œæ›¿æ¢åå†…å®¹)\n    ä½œç”¨ï¼šå°†å­—ç¬¦ä¸²å†…çš„ ç¬¬ä¸€ä¸ª æ»¡è¶³æ¢ä¸‹å†…å®¹çš„ç‰‡æ®µï¼Œæ›¿æ¢æˆæ¢ä¸Šçš„å†…å®¹\n    è¿”å›å€¼ï¼šæ›¿æ¢åçš„å­—ç¬¦ä¸²\n\n5.trim()\n    è¯­æ³•ï¼šå­—ç¬¦ä¸².trim()   //ä¸éœ€è¦ä¼ é€’å‚æ•°\n    ä½œç”¨ï¼š å»é™¤å­—ç¬¦ä¸² é¦–å°¾ çš„ç©ºæ ¼\n    è¿”å›å€¼ï¼š å»é™¤ç©ºæ ¼åçš„å­—ç¬¦ä¸²\n\n6.split()\n    è¯­æ³•ï¼šå­—ç¬¦ä¸².split(åˆ†éš”ç¬¦)\n    ä½œç”¨ï¼šæŒ‰ç…§åˆ†éš”ç¬¦å°†å­—ç¬¦ä¸²åˆ‡å‰²æˆä¸€ä¸ªæ•°ç»„\n    è¿”å›å€¼ï¼šåˆ‡å‰²åçš„æ•°ç»„\n\n7.substr()ã€substring()ã€slice()\n    è¯­æ³•ï¼šå­—ç¬¦ä¸².substr()ã€å­—ç¬¦ä¸².substring()ã€å­—ç¬¦ä¸².slice()\n    ä½œç”¨ï¼šsubstr: ä»ç´¢å¼•æˆªå–å‡ ä¸ªå†…å®¹ï¼Œ ä¾‹å¦‚ï¼ˆ1ï¼Œ6ï¼‰ ä»ç´¢å¼•1 å¾€åæˆªå–6ä¸ªå†…å®¹\n         substringï¼š ä»ç´¢å¼•æˆªå–åˆ°ç´¢å¼•   ä¾‹å¦‚ï¼ˆ1ï¼Œ6ï¼‰  ä»ç´¢å¼•1 æˆªå–åˆ°ç´¢å¼•6   åŒ…å‰ä¸åŒ…å\n         sliceï¼š ä»ç´¢å¼•æˆªå–åˆ°ç´¢å¼•   ä¾‹å¦‚ï¼ˆ1ï¼Œ6ï¼‰  ä»ç´¢å¼•1 æˆªå–åˆ°ç´¢å¼•6   åŒ…å‰ä¸åŒ…å\n    è¿”å›å€¼ï¼šåˆ‡å‰²åçš„æ•°ç»„\n```\n\n![img](https://s2.loli.net/2022/07/01/WEX5RrqdV32kbJm.png)\n","tags":["javascript"],"categories":["_A2-å‰ç«¯","JavaScript"]},{"title":"å…³äºJet Brainså†å²ç‰ˆæœ¬è·å–","url":"/2023/03/20/å…³äºJet-Brainså†å²ç‰ˆæœ¬è·å–/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**å…³äºJet Brainså†å²ç‰ˆæœ¬è·å–ï¼š**</strong></font>\n\n<!--more-->\n\n<font color=#b0171f size=4 face=å®‹ä½“><strong>**å®˜ç½‘ç»™å‡ºçš„ä¸‹è½½é“¾æ¥æ°¸è¿œæ˜¯æœ€æ–°çš„ï¼Œä½†æ˜¯æœ€æ–°çš„å¾€å¾€æ˜¯éœ€è¦æ”¶è´¹çš„ï¼Œæ‰€ä»¥ä»¥ä¸‹é“¾æ¥å¯ä»¥ç›´æ¥å®šä½åˆ°å®˜ç½‘çš„å†å²ç‰ˆæœ¬ä¸‹è½½åœ°å€ï¼Œç„¶åå°±å¯ä»¥å°½æƒ…çš„å»å—¨çš®äº†ï¼š**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**pycharmå†å²ç‰ˆæœ¬ä¸‹è½½åœ°å€:Â  Â  Â  [ç‚¹å‡»ä¸‹è½½](https://www.jetbrains.com/zh-cn/pycharm/download/other.html)**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**ideaå†å²ç‰ˆæœ¬ä¸‹è½½åœ°å€:Â  Â  Â [ç‚¹å‡»ä¸‹è½½]( https://www.jetbrains.com/zh-cn/idea/download/other.html)**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**WebStormå†å²ç‰ˆæœ¬ä¸‹è½½åœ°å€:Â  Â  Â  [ç‚¹å‡»ä¸‹è½½](https://www.jetbrains.com/zh-cn/webstorm/download/other.html)**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**Pycharmæ¿€æ´»æ•™ç¨‹:      [ç‚¹å‡»è¿›å…¥](https://www.yuque.com/lanchuan-vm6pi/buhvby/irtn6mlnmt1vuzgx?singleDoc)**</strong></font>\n","tags":["ç ´è§£","IDEA"],"categories":["_A5-å®‰è£…æ•™ç¨‹","Jet Brainså†å²ç‰ˆæœ¬"]},{"title":"shellä¸‹é“¾æ¥mongodbåŠ è½½è·Ÿå¤šæ•°æ®","url":"/2023/03/20/shellä¸‹é“¾æ¥mongodbåŠ è½½è·Ÿå¤šæ•°æ®/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**shellä¸‹é“¾æ¥mongodbåŠ è½½è·Ÿå¤šæ•°æ®**</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**mongodb type it for more**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**å½“ä½¿ç”¨mongodb shellçš„æ—¶å€™ ï¼Œéœ€è¦æŸ¥çœ‹æ›´å¤šçš„æ•°æ®æ—¶å€™ï¼Œç³»ç»Ÿæç¤º type it for more**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**å¯ä»¥è®¾ç½®ç³»ç»Ÿå‚æ•° DBQuery.shellBatchSize = 300**</strong></font>\n\n```\n# è¿›å…¥mongodbæ•°æ®åº“å\nDBQuery.shellBatchSize = 300\n# åˆ™å¯ä»¥æŸ¥çœ‹æ›´å¤š300æ¡æ•°æ®çš„æ•°æ®\n```\n","tags":["mongodb","æ•°æ®åº“","é”™è¯¯"],"categories":["_9-æ•°æ®åº“","mongodb"]},{"title":"æ¥è‡ªç¨‹åºå‘˜çš„æƒ…äººèŠ‚ç¤¼ç‰©ï¼","url":"/2023/03/20/æ¥è‡ªç¨‹åºå‘˜çš„æƒ…äººèŠ‚ç¤¼ç‰©ï¼/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**æ¥è‡ªç¨‹åºå‘˜çš„æƒ…äººèŠ‚ç¤¼ç‰©ï¼**</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**Linuxå¤åˆ¶:**</strong></font>\n\n```python\npython3 # ç‚¹å‡»copy  æ‰“å¼€ç»ˆç«¯ ç²˜è´´å‰ªè´´æ¿ å³å¯ï¼8ç§’ä¹‹åè‡ªåŠ¨å…³é—­\nimport time\nimport os\nprint('\\n'.join([''.join([('love'[(x-y) % len('love')] if ((x*0.05)**2+(y*0.1)**2-1)**3-(x*0.05)**2*(y*0.1)**3 <= 0 else ' ')for x in range(-120, 30)])for y in range(30, -30, -1)]))\ntime.sleep(8)\nexit()\nexit\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**Windosä¸‹cmdå¤åˆ¶:**</strong></font>\n\n```python\npython &::ç‚¹å‡»copy  æ‰“å¼€ç»ˆç«¯ ç²˜è´´å‰ªè´´æ¿ å³å¯ï¼8ç§’ä¹‹åè‡ªåŠ¨å…³é—­\nimport time\nimport os\nprint('\\n'.join([''.join([('love'[(x-y) % len('love')] if ((x*0.05)**2+(y*0.1)**2-1)**3-(x*0.05)**2*(y*0.1)**3 <= 0 else ' ')for x in range(-120, 30)])for y in range(30, -30, -1)]))\ntime.sleep(8)\nexit()\nexit\n```\n\n","tags":["ç¤¼ç‰©"],"categories":["_S9-æŠ˜è…¾","ä»£ç è¿è¡Œç¤¼ç‰©"]},{"title":"mongodbéšæœºè¿”å›Næ¡ç»“æœ","url":"/2023/03/20/mongodbéšæœºè¿”å›Næ¡ç»“æœ/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**mongodbéšæœºè¿”å›Næ¡ç»“æœï¼š**</strong></font>\n\n<!--more-->\n\n```python\nç”¨$sample (aggregation)æ–¹æ³•ï¼Œå…·ä½“å‘½ä»¤ä¸ºï¼š\ndb.<æ•°æ®åº“>.aggregate( [ { $sample: { size: N } } ] ) Nä¸ºæ¡æ•°\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**å¼‚æ­¥æºç¨‹æŸ¥è¯¢**</strong></font>\n\n```python\nclass Image_Pust_():\n    ####  æ–‡æ¡£åœ°å€  https://www.cnblogs.com/aduner/p/13532504.html\n    client = motor.motor_asyncio.AsyncIOMotorClient('æ•°æ®åº“é“¾æ¥')  # ä½¿ç”¨é“¾æ¥è®¿é—®\n    sss = client.sss    # client.æ•°æ®åº“é›†åˆ\n    test1 = sss.test1    # æ•°æ®åº“\n\n    async def Rand_find(self, document=None):\n        c = Image_Pust_().sss.test1\n        # async for document in c.find():\n        #     print(document)\n        a = c.aggregate([{\"$sample\": {\"size\": 15}}])   # æŸ¥è¯¢15æ¡æ•°æ®\n        return [i async for i in a]     #  è¿”å›æ•°æ®\n```\n","tags":["mongodb","æ•°æ®åº“"],"categories":["_9-æ•°æ®åº“","mongodb"]},{"title":"æ­£åˆ™è¡¨è¾¾å¼(åŸºç¡€è¯­æ³•)","url":"/2023/03/20/æ­£åˆ™è¡¨è¾¾å¼-åŸºç¡€è¯­æ³•/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**æ­£åˆ™è¡¨è¾¾å¼(åŸºç¡€è¯­æ³•)**</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**Regular Expression,æ­£åˆ™è¡¨è¾¾å¼ï¼Œä¸€ç§ä½¿ç”¨è¡¨è¾¾å¼çš„æ–¹å¼å¯¹å­—ç¬¦ä¸²è¿›è¡ŒåŒ¹é…çš„è¯­æ³•è§„åˆ™**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æˆ‘ä»¬æŠ“å–åˆ°é¡µé¢æºä»£ç æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªè¶…é•¿çš„å­—ç¬¦ä¸²ï¼Œæƒ³ä»é‡Œé¢æå–å†…å®¹ï¼Œç”¨æ­£åˆ™å†åˆé€‚ä¸è¿‡äº†ã€‚**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ­£åˆ™çš„æœ‰ç‚¹ï¼šé€Ÿåº¦å¿«ã€æ•ˆç‡é«˜ã€å‡†ç¡®æ€§é«˜ã€‚**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ­£åˆ™çš„ç¼ºç‚¹ï¼šæ–°æ‰‹ä¸Šæ‰‹éš¾åº¦é«˜**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**ä¸è¿‡åªè¦æŒæ¡äº†æ­£åˆ™ç¼–å†™çš„é€»è¾‘å…³ç³»ï¼Œå†™å‡ºä¸€ä¸ªæå–é¡µé¢å†…å®¹çš„æ­£åˆ™å…¶å®å¹¶ä¸å¤æ‚**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ­£åˆ™çš„è¯­æ³•ï¼šä½¿ç”¨å…ƒå­—ç¬¦è¿›è¡Œæ’åˆ—ç»„åˆç”¨æ¥åŒ¹é…å­—ç¬¦ä¸² åœ¨çº¿æµ‹è¯•æ­£åˆ™è¡¨è¾¾å¼ï¼š[https://tool,oschina.net/regex/](https://tool%2Coschina.net/regex/)**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**å…ƒå­—ç¬¦ï¼šå…·ä½“å›ºå®šæ„ä¹‰çš„ç‰¹æ®Šå­—ç¬¦**</strong></font>\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**å¸¸ç”¨å…ƒå­—ç¬¦ï¼š**</strong></font>\n\n```\n.       åŒ¹é…é™¤ æ¢è¡Œç¬¦ ä»¥å¤–çš„ ä»»æ„å­—ç¬¦\n\\w     åŒ¹é… å­—æ¯ æˆ– æ•°å­— æˆ– ä¸‹åˆ’çº¿\n\\s      åŒ¹é…ä»»æ„çš„ç©ºç™½ç¬¦\n\\d     åŒ¹é…æ•°å­—\n\\n      åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦\n\\t     åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦\n\n^       åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹\n$      åŒ¹é…å­—ç¬¦ä¸²çš„ç»“å°¾\n\n\\W      åŒ¹é… éå­—æ¯ æˆ– æ•°å­— æˆ– ä¸‹åˆ’çº¿\n\\D     åŒ¹é…éæ•°å­—\n\\S      åŒ¹é…éç©ºç™½å­—ç¬¦\na|b    åŒ¹é… å­—ç¬¦a æˆ– å­—ç¬¦b  # ä¼˜å…ˆå‰é¢çš„\n()      åŒ¹é…æ‹¬å·å†…çš„è¡¨è¾¾å¼ï¼Œä¹Ÿè¡¨ç¤ºä¸€ä¸ªç»„\n[...]  åŒ¹é…å­—ç¬¦ç»„ä¸­çš„å­—ç¬¦    #ä¾‹å¦‚   [a-zA-Z0-9]\n[^...]  åŒ¹é…é™¤äº†å­—ç¬¦ç»„ä¸­çš„æ‰€æœ‰å­—ç¬¦\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**é‡è¯ï¼šæ§åˆ¶å‰é¢çš„å…ƒå­—ç¬¦å‡ºç°çš„æ¬¡æ•°**</strong></font>\n\n```\n*  é‡å¤0æ¬¡ æˆ– å¤šæ¬¡\n+  è‡³å°‘é‡å¤ä¸€æ¬¡ æˆ– å¤šæ¬¡\n?  é‡å¤0æ¬¡  æˆ– å¤šæ¬¡\n{n}  é‡å¤ n æ¬¡\n{n,}  é‡å¤næ¬¡ æˆ–æ›´å¤šæ¬¡\n{n,m}   é‡å¤nåˆ°mæ¬¡\n```\n","tags":["python","æ­£åˆ™"],"categories":["Python","çˆ¬è™«","åŒæ­¥"]},{"title":"python_Reæ¨¡å—çš„ä½¿ç”¨","url":"/2023/03/20/python-Reæ¨¡å—çš„ä½¿ç”¨/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**python_Reæ¨¡å—çš„ä½¿ç”¨ï¼š**</strong></font>\n\n<!--more-->\n\n```python\n# findall: åŒ¹é…å­—ç¬¦ä¸²ä¸­æ‰€æœ‰çš„ç¬¦åˆæ­£åˆ™çš„å†…å®¹  è¿”å›ä¸€ä¸ªåˆ—è¡¨\nlst = re.findall(r\"\\d+\", \"æˆ‘çš„ç”µè¯æ˜¯ï¼š10086ï¼Œä½ å¦ˆå¦ˆçš„ç”µè¯æ˜¯ï¼š10010\")\nprind(lst)\n\n#  ç»“æœ ['10086', '10010']\n\n\n# finditer: åŒ¹é…å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å†…å®¹ (è¿”å›ä¸€ä¸ªè¿­ä»£å™¨)   ä»è¿­ä»£å™¨ä¸­æ‹¿åˆ°å†…å®¹  éœ€è¦.group()\nit = re.finditer(r\"\\d+\", \"æˆ‘çš„ç”µè¯æ˜¯ï¼š10086ï¼Œä½ å¦ˆå¦ˆçš„ç”µè¯æ˜¯ï¼š10010\")\nfor i in it:\n    print(i.group())    # ä»è¿­ä»£å™¨ä¸­æ‹¿æ•°æ®\n\n\n# search: å…¨æ–‡åŒ¹é…æ­£åˆ™æ•°æ®ï¼Œè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…åˆ°çš„æ•°æ®   ï¼ˆè¿”å›å¯¹è±¡matchï¼‰ æ‹¿æ•°æ®  éœ€è¦.group()\nsea = re.search(r\"\\d+\", \"æˆ‘çš„ç”µè¯æ˜¯ï¼š10086ï¼Œä½ å¦ˆå¦ˆçš„ç”µè¯æ˜¯ï¼š10010\")\nsea.group()\n#  ç»“æœ '10086'\n\n\n# match: ä»å¼€å§‹åŒ¹é…æ•°æ®   ï¼ˆè¿”å›å¯¹è±¡matchï¼‰ æ‹¿æ•°æ®  éœ€è¦.group()\nsea = re.match(r\"\\d+\", \"æˆ‘çš„ç”µè¯æ˜¯ï¼š10086ï¼Œä½ å¦ˆå¦ˆçš„ç”µè¯æ˜¯ï¼š10010\")\nsea.group()\n#  ç»“æœ  æ— æ³•åŒ¹é…åˆ°\n\nsea = re.search(r\"(?P<call>\\d+)\", \"æˆ‘çš„ç”µè¯æ˜¯ï¼š10086ï¼Œä½ å¦ˆå¦ˆçš„ç”µè¯æ˜¯ï¼š10010\")\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**é¢„åŠ è½½æ­£åˆ™è¡¨è¾¾å¼ï¼š**</strong></font>\n\n```python\nobj = re.compile(r\"\\d+\")\nres = obj.findall(\"æˆ‘çš„ç”µè¯æ˜¯ï¼š10086ï¼Œä½ å¦ˆå¦ˆçš„ç”µè¯æ˜¯ï¼š10010\")\n# ç»“æœ: ['10086','']\n```\n\n![img](https://s2.loli.net/2022/07/13/vZBRxOeAcM34u1k.png)\n","tags":["python","æ­£åˆ™"],"categories":["Python","çˆ¬è™«"]},{"title":"Nginxè·¨åŸŸè§£å†³æ–¹æ¡ˆ","url":"/2023/03/20/Nginxè·¨åŸŸè§£å†³æ–¹æ¡ˆ/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**Nginxè·¨åŸŸè§£å†³æ–¹æ¡ˆï¼š**</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**Access-Control-Allow-Origin è½»æ¾è§£å†³å®å¡” Nginx è·¨åŸŸé—®é¢˜**</strong></font>\n\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**æ¦‚è¿°ï¼š**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**å‡ºäºæµè§ˆå™¨çš„åŒæºç­–ç•¥é™åˆ¶ã€‚åŒæºç­–ç•¥ï¼ˆSameoriginpolicyï¼‰æ˜¯ä¸€ç§çº¦å®šï¼Œå®ƒæ˜¯æµè§ˆå™¨æœ€æ ¸å¿ƒä¹Ÿæœ€åŸºæœ¬çš„å®‰å…¨åŠŸèƒ½ï¼Œå¦‚æœç¼ºå°‘äº†åŒæºç­–ç•¥ï¼Œåˆ™æµè§ˆå™¨çš„æ­£å¸¸åŠŸèƒ½å¯èƒ½éƒ½ä¼šå—åˆ°å½±å“ã€‚å¯ä»¥è¯´ Web æ˜¯æ„å»ºåœ¨åŒæºç­–ç•¥åŸºç¡€ä¹‹ä¸Šçš„ï¼Œæµè§ˆå™¨åªæ˜¯é’ˆå¯¹åŒæºç­–ç•¥çš„ä¸€ç§å®ç°ã€‚åŒæºç­–ç•¥ä¼šé˜»æ­¢ä¸€ä¸ªåŸŸçš„ javascript è„šæœ¬å’Œå¦å¤–ä¸€ä¸ªåŸŸçš„å†…å®¹è¿›è¡Œäº¤äº’ã€‚æ‰€è°“åŒæºï¼ˆå³æŒ‡åœ¨åŒä¸€ä¸ªåŸŸï¼‰å°±æ˜¯ä¸¤ä¸ªé¡µé¢å…·æœ‰ç›¸åŒçš„åè®®ï¼ˆprotocolï¼‰ï¼Œä¸»æœºï¼ˆhostï¼‰å’Œç«¯å£å·ï¼ˆportï¼‰ã€‚**</strong></font>\n\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**ç–‘é—®ï¼š**</strong></font>\n\n- <font color=#f26522 size=4 face=å®‹ä½“><strong>**æé—® 1ï¼šä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿ**</strong></font>\n- <font color=#f26522 size=4 face=å®‹ä½“><strong>**æé—® 2ï¼šå¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜ï¼Ÿ**</strong></font>\n\n\n\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**è§£ç­”ï¼š**</strong></font>\n\n- <font color=#f26522 size=4 face=å®‹ä½“><strong>**å›ç­” 1ï¼ša é¡µé¢æƒ³è·å– b é¡µé¢çš„èµ„æºï¼Œå¦‚æœ aã€b é¡µé¢çš„åè®®ã€åŸŸåã€ç«¯å£ã€å­åŸŸåä¸åŒï¼Œæ‰€è¿›è¡Œçš„è®¿é—®è¡ŒåŠ¨éƒ½æ˜¯è·¨åŸŸçš„ï¼Œè€Œæµè§ˆå™¨ä¸ºäº†å®‰å…¨é—®é¢˜ä¸€èˆ¬éƒ½é™åˆ¶äº†è·¨åŸŸè®¿é—®ï¼Œä¹Ÿå°±æ˜¯ä¸å…è®¸è·¨åŸŸè¯·æ±‚èµ„æºã€‚æ¯”å¦‚æˆ‘ä»¬åœ¨ä½¿ç”¨ CDN æ—¶å°±ç»å¸¸ä¼šé‡åˆ°è·¨åŸŸé—®é¢˜ã€‚**</strong></font>\n- <font color=#f26522 size=4 face=å®‹ä½“><strong>**å›ç­” 2ï¼šä»¥å®å¡” Nginx ç¯å¢ƒæ¥è¯´ï¼Œæˆ‘ä»¬åªè¦æŠŠä¸‹é¢çš„ Header å¤´æŒ‡ä»¤æ·»åŠ åˆ°ç½‘ç«™ b å®å¡”é¢æ¿ã€Œç½‘ç«™ã€==>ã€Œè®¾ç½®ã€==>ã€Œé…ç½®æ–‡ä»¶ã€==>ã€Œå€’æ•°ç¬¬ä¸‰è¡Œã€å½“ä¸­ä¿å­˜å¹¶é‡è½½ Nginx é…ç½®å³å¯ã€‚**</strong></font>\n\n```\nadd_header Access-Control-Allow-Origin *;\nadd_header Access-Control-Allow-Headers \"Origin, X-Requested-With, Content-Type, Accept\";\nadd_header Access-Control-Allow-Methods \"GET, POST, OPTIONS\";\n```\n\n![img](https://s2.loli.net/2022/07/27/4hyM7asOkUq8CDE.png)\n\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**éªŒè¯ï¼š**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**å¦‚æœä½ å·²ç»æŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•åœ¨ b ç½‘ç«™å®å¡”é¢æ¿ Nginx é…ç½®æ–‡ä»¶ä¸­æ·»åŠ äº† Header å¤´æŒ‡ä»¤ ï¼Œé‚£ä¹ˆç°åœ¨ä½ å¯ä»¥è®¿é—® a ç½‘ç«™æŒ‰F12 æŸ¥çœ‹å…ƒç´ æ£€æŸ¥æ˜¯å¦è¿˜å­˜åœ¨è·¨åŸŸé”™è¯¯æç¤ºã€‚**</strong></font>\n\n## <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**æœ€åï¼š**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ³¨æ„ï¼šåœ¨å®é™…ä¸­ Access-Control-Allow-Origin å°½é‡ä¸è¦æŒ‡å®šä¸º * ï¼Œæœ€å¥½è®¾ç½®ä¸ºå…è®¸è®¿é—®çš„åŸŸåï¼Œæ¯”å¦‚ï¼šhttps://www.a.com ã€‚**</strong></font>\n","tags":["linux","è¿ç»´","nginx","è·¨åŸŸ"],"categories":["_A3-linux","Nginx"]},{"title":"åœ¨CentOS7ä¸‹å®‰è£…éƒ¨ç½²ffmpeg","url":"/2023/03/20/åœ¨CentOS7ä¸‹å®‰è£…éƒ¨ç½²ffmpeg/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**åœ¨CentOS7ä¸‹å®‰è£…éƒ¨ç½²ffmpegï¼š**</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**[FFmpeg](https://so.csdn.net/so/search?q=FFmpeg&spm=1001.2101.3001.7020)æ˜¯ä¸€ä¸ªå¼€æºå…è´¹çš„å¤šåª’è®°å½•ã€è½¬æ¢æ•°å­—éŸ³é¢‘ã€è§†é¢‘ï¼Œå¹¶èƒ½å°†flvã€movç­‰ã€‚**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æˆ‘ä»¬çš„å¼€å‘äººå‘˜åœ¨åˆ†æè§†é¢‘æµæ•°æ®æ—¶ï¼Œä¹Ÿä¼šç»å¸¸ç”¨åˆ°è¿™æ¬¾å·¥å…·ã€‚æ¯”å¦‚ï¼š**</strong></font>\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>**å½•åˆ¶ï¼šé‡‡é›†â€“>ç¼–ç â€“>å°è£…â€”>ç”Ÿæˆæ–‡ä»¶**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ®µè½å¼•ç”¨è§†é¢‘è£å‰ªï¼šè¾“å…¥éŸ³è§†é¢‘æ–‡ä»¶â€”>è§£å¤ç”¨å¾—åˆ°è§†é¢‘æµâ€”>è§†é¢‘æµè§£ç â€“>è§†é¢‘å¸§ç”»é¢â€“>å›¾åƒå¸§è£å‰ªâ€“>ç¼–ç â€”>å°è£…â€“>ç”Ÿæˆæ–‡ä»¶**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ®µè½å¼•ç”¨åˆ†è¾¨ç‡ä¿®æ”¹ï¼šè¾“å…¥éŸ³è§†é¢‘æ–‡ä»¶â€”>è§£å¤ç”¨å¾—åˆ°è§†é¢‘æµâ€”>è§†é¢‘æµè§£ç â€“>è§†é¢‘å¸§ç”»é¢â€“>å›¾åƒå¸§ä¿®æ”¹åˆ†è¾¨ç‡â€“>ç¼–ç â€”>å°è£…â€“>ç”Ÿæˆæ–‡ä»¶**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ®µè½å¼•ç”¨æ–‡ä»¶æ ¼å¼è½¬ç ï¼šè¾“å…¥MP4æ–‡ä»¶â€“>è§£å¤ç”¨å°è£…å¾—åˆ°è§£ç æ•°æ®åŒ…â€“>å¤ç”¨å°è£…æ ¼å¼æˆFLVâ€”>è¾“å‡ºæ–‡ä»¶**</strong></font>\n![img](https://s2.loli.net/2022/07/27/CuVJHTw6dLsmUfv.jpg)\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**ä»Šå¤©å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹å¦‚ä½•åœ¨CentOS7ä¸‹å®‰è£…éƒ¨ç½²ffmpegã€‚**</strong></font>\n\n```python\n# å®‰è£…epel-releaseï¼Œå› ä¸ºå®‰è£…éœ€è¦ä½¿ç”¨å…¶ä»–çš„repoæºï¼Œæ‰€ä»¥éœ€è¦epelæ”¯æŒï¼š\nyum install -y epel-release rpm\n\n# å®‰è£…Nux-Dextopæºï¼š\nrpm --import http://li.nux.ro/download/nux/RPM-GPG-KEY-nux.ro\nrpm -Uvh http://li.nux.ro/download/nux/dextop/el7/x86_64/nux-dextop-release-0-1.el7.nux.noarch.rpm\nyum repolist\n\n# å¼€å§‹å®‰è£…\nyum install -y ffmpeg\n```\n\n<font color=red size=5 face=å®‹ä½“><strong>**è¿™æ ·ffmpegå°±æ­£å¸¸å®‰è£…å®Œæˆäº†ã€‚**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**FFmpegå…·æœ‰éå¸¸å¼ºå¤§çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬è§†é¢‘é‡‡é›†ã€è§†é¢‘æ ¼å¼è½¬æ¢ã€è§†é¢‘æŠ“å›¾ã€ç»™è§†é¢‘åŠ æ°´å°ç­‰ï¼ŒåŒæ—¶è¿˜èƒ½å…¼å®¹è¡Œè½¬æ¢ï¼Œå¹¶ä½¿ç”¨é«˜è´¨é‡çš„å¤šç›¸æ»¤æ³¢å™¨åŠ¨æ€è°ƒæ•´è§†é¢‘å¤§å°ã€‚**</strong></font>\n","tags":["centos7","ffmpeg"],"categories":["_A5-å®‰è£…æ•™ç¨‹","FFmpeg"]},{"title":"Makoæ¨¡æ¿åˆ›å»ºæµç¨‹","url":"/2023/03/20/Makoæ¨¡æ¿åˆ›å»ºæµç¨‹/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**Makoæ¨¡æ¿åˆ›å»ºæµç¨‹ï¼š**</strong></font>\n\n<!--more-->\n\n<font color=red size=3 face=å®‹ä½“><strong>å®˜æ–¹æ–‡æ¡£åœ°å€ ï¼š https://docs.makotemplates.org/en/latest/</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**1.å®‰è£…DjangoåŒ…ï¼š**</strong></font>\n\n```python\n# å®‰è£…djangoé¡¹ç›®\n\npip3 install virtualenv   # å®‰è£…virtualenv\npython3 -m venv django_venv   # åˆ›å»ºvenvè™šæ‹Ÿç¯å¢ƒ\nsource ./django_venv/bin/activate    # è¿›å…¥è™šæ‹Ÿç¯å¢ƒ\n\n# ä¸‹è½½django\npip3 install django  # ç›´æ¥å®‰è£…\npip3 install django==2.2 -i https://pypi.douban.com/simple    # æŒ‡å®šå®‰è£…ç‰ˆæœ¬ å’Œå®‰è£…æº\n\n# åˆ›å»ºå·¥ç¨‹  \ndjango-admin startproject mysite    #  åˆ›å»ºä¸€ä¸ªåå«mysiteçš„djangoå·¥ç¨‹\npython manage.py startapp app     # åˆ›å»ºä¸€ä¸ªåå«appçš„å­åº”ç”¨\n\n# è¿è¡Œå‘½ä»¤ \npython3 manage.py runserver 0.0.0.0:8000   # æŒ‡å®šè¿è¡Œåˆ° 8000 ç«¯å£\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**2.é…ç½®settingsï¼š**</strong></font>\n\n```python\n# pip install mako    åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…mako åŒ…\nALLOWED_HOSTS = [\"*\"]    # å…è®¸æ‰€æœ‰ipè®¿é—®\n\nINSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'app',          # ä»¥ä¸Šæ˜¯é»˜è®¤ç³»ç»Ÿç”Ÿæˆï¼Œ æ­¤å¤„æ·»åŠ å­åº”ç”¨åç§°ï¼Œåœ¨è¿™é‡Œæ·»åŠ äº†æ‰å¯ä»¥ä½¿ç”¨\n]\n\nTEMPLATES = [    # temolates æ¨¡æ¿é…ç½®\n\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(BASE_DIR, 'templates')],     #  è‡ªåŠ¨ç”Ÿæˆä¿®æ”¹\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n\n\n#  å›ºå®šå†™æ³•\nLANGUAGE_CODE = 'zh-hans'\nTIME_ZONE = 'Asia/Shanghai'\nUSE_I18N = True\nUSE_I10N = True\nUSE_TZ = True\n\nSTATIC_URL = '/static/'\nSTATICFILES_DIRS = [\n    os.path.join(BASE_DIR, 'static')\n]\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**3.é…ç½®ä¸»è·¯ç”±urlså†…å®¹ï¼š**</strong></font>\n\n```python\nfrom django.contrib import admin\nfrom django.urls import path, include    # å¯¼å…¥includeåŒ…\n\nurlpatterns = [\n    path('admin/', admin.site.urls),    # å›ºå®šå†™æ³• ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆ\n    path('', include('app.urls'))     # æ·»åŠ å­è·¯ç”±\n]\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**4.é…ç½®å­è·¯ç”±urlså†…å®¹ï¼ˆmakoæ¨¡æ¿ç‰ˆæœ¬ï¼‰ï¼š**</strong></font>\n\n```python\nfrom django.urls import path\nfrom .views import mako   # å¯¼å…¥makoåŒ…\n\nurlpatterns = [\n    path('', mako.as_view())     # æŒ‡å‘makoæ¨¡æ¿\n]\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**5.åˆ›å»ºmakoæ¨¡æ¿pyï¼ˆapp > base_render.pyï¼‰æ–‡ä»¶ï¼š**</strong></font>\n\n```python\nfrom mako.lookup import TemplateLookup\nfrom django.template import RequestContext\nfrom django.conf import settings\nfrom django.template.context import Context\nfrom django.http import HttpResponse\n\ndef render_to_response(request, template, data=None):\n    context_instance = RequestContext(request)   #  å®ä¾‹åŒ–æ–¹æ³•\n    path = settings.TEMPLATES[0]['DIRS'][0]     # å»settingsä¸­å– templateè·¯å¾„\n    lookup = TemplateLookup(                    # makoåŒ…ä¸­çš„æ–¹æ³• å®ä¾‹åŒ–  å¹¶æŒ‡å®šè¾“å…¥  è¾“å‡º ç¼–ç ä¸º  \"utf-8\"\n        directories=[path],                     # é»˜è®¤çš„æ¨¡æ¿è·¯å¾„ æ›¿æ¢æˆmakoè·¯å¾„\n        output_encoding='utf-8',\n        input_encoding='utf-8',\n    )\n\n    mako_template = lookup.get_template(template)       # lookupä¸‹çš„æ–¹æ³•get_template ä¼ å…¥ä¸»å‡½æ•°å¯¼å…¥è¿›æ¥çš„ template\n\n    if not data:    # åˆ¤æ–­ä¼ è¿‡æ¥çš„dataæ˜¯å¦æœ‰å€¼   å¦‚æœæ²¡æœ‰å€¼  å°±ç»™ä¸€ä¸ªé»˜è®¤çš„ç©ºå­—å…¸\n        data = {}\n    if context_instance:\n        context_instance.update(data)\n    else:\n        context_instance = Context(data)\n    result = {}\n    for d in context_instance:\n        result.update(d)\n    result['csrf_token'] = ''.format(request.META.get('CSRF_COOKIE', ''))   # å›ºå®šå†™æ³• csrf_token éªŒè¯\n    return HttpResponse(mako_template.render(**result))   # è¿”å›HttpResponse mako_templateä¸‹çš„renderæ–¹æ³•    å› ä¸ºresult æ˜¯å­—å…¸ æ‰€æœ‰éœ€è¦åŠ ä¸¤ä¸ª*\n    # return HttpResponse(content, content_type='text/csv')  # å¯ä»¥æŒ‡å®š content_typeç±»å‹\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**6.é…ç½®views.pyï¼š**</strong></font>\n\n```python\nfrom .base_render import render_to_response\nfrom django.views.generic import View\n# Create your views here.\nfrom django.shortcuts import render\nfrom django.http import HttpResponse\nimport requests\n\n\nclass mako(View):\n    def get(self, request):\n        data = {'name': 'coocoo', 'age': 20}\n        return render_to_response(request, 'index.html', data=data)\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**7.åˆ›å»º templates > index.htmlï¼š**</strong></font>\n\n```python\n//è¯¥å†…å®¹æ˜¯makoæ¨¡æ¿ä¸‹çš„html\n\n\n\n    \n    Title\n\n\n    {name}{age}\n    <%!\n        from django.conf import settings\n        import requests\n        res_a = requests.get('https://www.baidu.com')\n        res_a.encoding = 'utf-8'\n    %>\n{#    {settings.TEMPLATES[0]['DIRS'][0]}#}{res_a.text}\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**8.MakoåŸºæœ¬è¯­æ³•**</strong></font>\n\n```python\n${name}   # æ‹¿å–å˜é‡ name    æ–¹å¼ä¸º ${}\n<%! import requests %>    # æ‰§è¡Œpythonä»£ç  ä»£ç å†…å®¹ç”¨ <%! å¼€å§‹  %>ç»“å°¾\n```\n","tags":["python","Mako"],"categories":["Python","Djangp"]},{"title":"Jinja2æ¨¡æ¿åˆ›å»ºæµç¨‹","url":"/2023/03/20/Jinja2æ¨¡æ¿åˆ›å»ºæµç¨‹/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**Jinja2æ¨¡æ¿åˆ›å»ºæµç¨‹ï¼š**</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**1.å®‰è£…DjangoåŒ…ï¼š**</strong></font>\n\n```python\n# å®‰è£…djangoé¡¹ç›®\n\npip3 install virtualenv   # å®‰è£…virtualenv\npython3 -m venv django_venv   # åˆ›å»ºvenvè™šæ‹Ÿç¯å¢ƒ\nsource ./django_venv/bin/activate    # è¿›å…¥è™šæ‹Ÿç¯å¢ƒ\n\n# ä¸‹è½½django\npip3 install django  # ç›´æ¥å®‰è£…\npip3 install django==2.2 -i https://pypi.douban.com/simple    # æŒ‡å®šå®‰è£…ç‰ˆæœ¬ å’Œå®‰è£…æº\n\n# åˆ›å»ºå·¥ç¨‹  \ndjango-admin startproject mysite    #  åˆ›å»ºä¸€ä¸ªåå«mysiteçš„djangoå·¥ç¨‹\npython manage.py startapp app     # åˆ›å»ºä¸€ä¸ªåå«appçš„å­åº”ç”¨\n\n# è¿è¡Œå‘½ä»¤ \npython3 manage.py runserver 0.0.0.0:8000   # æŒ‡å®šè¿è¡Œåˆ° 8000 ç«¯å£\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**2.é…ç½®settingsï¼š**</strong></font>\n\n```python\n# pip install jinja2    åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…mako åŒ…\nALLOWED_HOSTS = [\"*\"]    # å…è®¸æ‰€æœ‰ipè®¿é—®\n\nINSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'app',          # ä»¥ä¸Šæ˜¯é»˜è®¤ç³»ç»Ÿç”Ÿæˆï¼Œ æ­¤å¤„æ·»åŠ å­åº”ç”¨åç§°ï¼Œåœ¨è¿™é‡Œæ·»åŠ äº†æ‰å¯ä»¥ä½¿ç”¨\n]\n\nTEMPLATES = [    # temolates æ¨¡æ¿é…ç½®\n\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(BASE_DIR, 'templates')],     #  è‡ªåŠ¨ç”Ÿæˆä¿®æ”¹\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n\n\n#  å›ºå®šå†™æ³•\nLANGUAGE_CODE = 'zh-hans'\nTIME_ZONE = 'Asia/Shanghai'\nUSE_I18N = True\nUSE_I10N = True\nUSE_TZ = True\n\nSTATIC_URL = '/static/'\nSTATICFILES_DIRS = [\n    os.path.join(BASE_DIR, 'static')\n]\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**3.é…ç½®ä¸»è·¯ç”±urlså†…å®¹ï¼š**</strong></font>\n\n```python\nfrom django.contrib import admin\nfrom django.urls import path, include    # å¯¼å…¥includeåŒ…\n\nurlpatterns = [\n    path('admin/', admin.site.urls),    # å›ºå®šå†™æ³• ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆ\n    path('', include('app.urls'))     # æ·»åŠ å­è·¯ç”±\n]\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**4.é…ç½®å­è·¯ç”±urlså†…å®¹ï¼ˆmakoæ¨¡æ¿ç‰ˆæœ¬ï¼‰ï¼š**</strong></font>\n\n```python\nfrom django.urls import path\nfrom .views import mako   # å¯¼å…¥makoåŒ…\n\nurlpatterns = [\n    path('', mako.as_view())     # æŒ‡å‘makoæ¨¡æ¿\n]\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**5.åˆ›å»ºjinja2æ¨¡æ¿pyï¼ˆapp > base_jinja2.pyï¼‰æ–‡ä»¶ï¼š**</strong></font>\n\n```python\nfrom jinja2 import Environment\nfrom django.contrib.staticfiles.storage import staticfiles_storage\nfrom django.urls import reverse\n\ndef environment(**options):\n    env = Environment(**options)\n    env.globals.update({\n        'static': staticfiles_storage.url,\n        'url': reverse\n    })\n    return env\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**6.é…ç½®views.pyï¼š**</strong></font>\n\n```python\nfrom .base_render import render_to_response\nfrom django.views.generic import View\n# Create your views here.\nfrom django.shortcuts import render\nfrom django.http import HttpResponse\nimport requests\n\n\nclass mako(View):\n    def get(self, request):\n        data = {'name': 'coocoo', 'age': 20}\n        return render(request, 'index.html', data=data)\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**7.åˆ›å»º templates > index.htmlï¼š**</strong></font>\n\n```python\n//è¯¥å†…å®¹æ˜¯makoæ¨¡æ¿ä¸‹çš„html\n    \n    Title\n\n\n    {name}{age}\n    <%!\n        from django.conf import settings\n        import requests\n        res_a = requests.get('https://www.baidu.com')\n        res_a.encoding = 'utf-8'\n    %>\n{#    {settings.TEMPLATES[0]['DIRS'][0]}#}{res_a.text}\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**8.MakoåŸºæœ¬è¯­æ³•ï¼š**</strong></font>\n\n```python\nå˜é‡è¢« {{ å’Œ }} åŒ…å›´ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nMy first name is {{ first_name }}. My last name is {{ last_name }}.\n\n\nå­—å…¸æŸ¥æ‰¾ï¼Œå±æ€§æŸ¥æ‰¾å’Œåˆ—è¡¨ç´¢å¼•æŸ¥æ‰¾å‡ä»¥ç‚¹ç¬¦å·å®ç°ï¼š\n{{ my_dict.key }}\n{{ my_object.attribute }}\n{{ my_list.0 }}\n\n\næ ‡ç­¾åœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­æä¾›äº†ä»»æ„é€»è¾‘ã€‚\nè¿™ä¸ªå®šä¹‰æ˜¯æ•…æ„å«ç³Šçš„ã€‚ä¾‹å¦‚ï¼Œæ ‡ç­¾å¯ä»¥è¾“å‡ºå†…å®¹ï¼Œæˆ–ç”¨ä½œæ§åˆ¶ç»“æ„å¦‚ â€œifâ€ è¯­å¥å’Œ â€œforâ€ å¾ªç¯ï¼Œæˆ–ä»æ•°æ®åº“ä¸­æŠ“å–å†…å®¹ï¼Œç”šè‡³å¯ä»¥è®¿é—®å…¶ä»–æ¨¡æ¿æ ‡ç­¾ã€‚\næ ‡ç­¾è¢« {% å’Œ %} åŒ…å›´ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n\næ ‡ç­¾è¢« {% å’Œ %} åŒ…å›´ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n{% csrf_token %}\n\nå¤§å¤šæ•°æ ‡ç­¾éƒ½æ¥å—å‚æ•°ï¼š\n{% cycle 'odd' 'even' %}\n\nä¸€äº›æ ‡ç­¾éœ€è¦å¼€å§‹å’Œç»“æŸæ ‡ç­¾ï¼š\n{% if user.is_authenticated %}Hello, {{ user.username }}.{% endif %}\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**9ã€jinja2åŸºæœ¬è¯­æ³•ï¼š**</strong></font>\n\n![img](https://s2.loli.net/2022/06/21/VmLFau3lHsfKrYp.png)\n\n","tags":["python","jinja2"],"categories":["Python","Django"]},{"title":"Linuxä¸‹Djangoå…³äºå®‰è£…mysqlclientæŠ¥é”™çš„é—®é¢˜","url":"/2023/03/20/Linuxä¸‹Djangoå…³äºå®‰è£…mysqlclientæŠ¥é”™çš„é—®é¢˜/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**Linuxä¸‹Djangoå…³äºå®‰è£…mysqlclientæŠ¥é”™çš„é—®é¢˜ï¼š**</strong></font>\n\n<!--more-->\n\n---\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**é”™è¯¯æç¤ºï¼š**</strong></font>\n\n```\nERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**è§£å†³åŠæ³•ï¼š**</strong></font>\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>**æˆ‘è¿™è¾¹æ˜¯å› ä¸ºç¼ºå°‘åº“å¯¼è‡´çš„å®‰è£…å¤±è´¥ï¼ˆPYTHON=3.81ï¼ŒDJANGO=4.0.6ï¼‰**</strong></font>\n\n```shell\nsudo apt-get install libmysqlclient-dev\npip3 install wheel\n```\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>**æœ€ååœ¨æ‰§è¡Œmysqlclientçš„å®‰è£…**</strong></font>\n\n```shell\npip3 install mysqlclient\n```\n\n","tags":["linux","python","django","æ•°æ®åº“"],"categories":["_A9-é”™è¯¯è§£å†³","python","django"]},{"title":"opencv-python Could not build wheels for opencv-python which use PEP 517 and cannot be installed","url":"/2023/03/20/opencv-python-Could-not-build-wheels-for-opencv-python-which-use-PEP-517-and-cannot-be-installed/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**èƒŒæ™¯ï¼š**</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**åœ¨nvidia ngcå¹³å°ä¸‹è½½docker imageï¼Œæ ¹æ®å®éªŒè¦æ±‚åœ¨ç¯å¢ƒé‡Œå®‰è£…opencvã€‚å› ä¸ºå½“å‰å®éªŒtensorflowè¦æ±‚ä»£ç ï¼Œè¿˜æ˜¯ä½¿ç”¨å°½å¯èƒ½æ–°çš„ç¯å¢ƒï¼Œåˆ™å¯ä»¥é¿å…å¤§éƒ¨åˆ†ç¯å¢ƒé—®é¢˜ã€‚**</strong></font>\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**é—®é¢˜ï¼š**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**é€šè¿‡pipå®‰è£…opencvï¼ŒæŒ‡ä»¤å¦‚ä¸‹ï¼š**</strong></font>\n\n```python\npip install opencv-python\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**å®‰è£…è¿‡ç¨‹çš„è¾“å‡ºï¼š**</strong></font>\n\n```shell\nCollecting opencv-python\n  Downloading https://files.pythonhosted.org/packages/77/f5/49f034f8d109efcf9b7e98fbc051878b83b2f02a1c73f92bbd37f317288e/opencv-python-4.4.0.42.tar.gz (88.9MB)\n    100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 88.9MB 919kB/s\n  Installing build dependencies ... done\n  Getting requirements to build wheel ... done\n    Preparing wheel metadata ... done\nRequirement already satisfied: numpy>=1.13.1 in /usr/local/lib/python3.5/dist-packages (from opencv-python) (1.14.5)\nBuilding wheels for collected packages: opencv-python\n  Building wheel for opencv-python (PEP 517) ...\n```\n\n<font color=red size=4 face=å®‹ä½“><strong>**PEP 517ä¿¡æ¯å‡ºç°åï¼Œè¿‡äº†å¾ˆé•¿æ—¶é—´ï¼Œå‡ºç°æŠ¥é”™ä¿¡æ¯ï¼š**</strong></font>\n\n```shell\nConfiguring Project\n    Working directory:\n      /tmp/pip-install-zujf20md/opencv-python/_skbuild/linux-x86_64-3.6/cmake-build\n    Command:\n      cmake /tmp/pip-install-zujf20md/opencv-python/opencv -G 'Unix Makefiles' -DCMAKE_INSTALL_PREFIX:PATH=/tmp/pip-install-zujf20md/opencv-python/_skbuild/linux-x86_64-3.6/cmake-install -DPYTHON_EXECUTABLE:FILEPATH=/usr/bin/python -DPYTHON_VERSION_STRING:STRING=3.6.8 -DPYTHON_INCLUDE_DIR:PATH=/usr/include/python3.6m -DPYTHON_LIBRARY:FILEPATH=/usr/lib/x86_64-linux-gnu/libpython3.6m.so -DSKBUILD:INTERNAL=TRUE -DCMAKE_MODULE_PATH:PATH=/tmp/pip-build-env-tr73ewqw/overlay/lib/python3.6/site-packages/skbuild/resources/cmake -DPYTHON3_EXECUTABLE=/usr/bin/python -DPYTHON3_INCLUDE_DIR=/usr/include/python3.6m -DPYTHON3_LIBRARY=/usr/lib/x86_64-linux-gnu/libpython3.6m.so -DBUILD_opencv_python3=ON -DBUILD_opencv_python2=OFF -DBUILD_opencv_java=OFF -DOPENCV_PYTHON3_INSTALL_PATH=python -DINSTALL_CREATE_DISTRIB=ON -DBUILD_opencv_apps=OFF -DBUILD_opencv_freetype=OFF -DBUILD_SHARED_LIBS=OFF -DBUILD_TESTS=OFF -DBUILD_PERF_TESTS=OFF -DBUILD_DOCS=OFF -DCMAKE_BUILD_TYPE:STRING=Release\n\n  Copying files from CMake output\n  Traceback (most recent call last):\n    File \"/usr/local/lib/python3.6/dist-packages/pip/_vendor/pep517/_in_process.py\", line 207, in \n      main()\n    File \"/usr/local/lib/python3.6/dist-packages/pip/_vendor/pep517/_in_process.py\", line 197, in main\n      json_out['return_val'] = hook(**hook_input['kwargs'])\n    File \"/usr/local/lib/python3.6/dist-packages/pip/_vendor/pep517/_in_process.py\", line 141, in build_wheel\n      metadata_directory)\n    File \"/usr/local/lib/python3.6/dist-packages/setuptools/build_meta.py\", line 209, in build_wheel\n      wheel_directory, config_settings)\n    File \"/usr/local/lib/python3.6/dist-packages/setuptools/build_meta.py\", line 194, in _build_with_temp_dir\n      self.run_setup()\n    File \"/usr/local/lib/python3.6/dist-packages/setuptools/build_meta.py\", line 237, in run_setup\n      self).run_setup(setup_script=setup_script)\n    File \"/usr/local/lib/python3.6/dist-packages/setuptools/build_meta.py\", line 142, in run_setup\n      exec(compile(code, __file__, 'exec'), locals())\n    File \"setup.py\", line 496, in \n      main()\n    File \"setup.py\", line 289, in main\n      cmake_source_dir=cmake_source_dir,\n    File \"/tmp/pip-build-env-tr73ewqw/overlay/lib/python3.6/site-packages/skbuild/setuptools_wrap.py\", line 629, in setup\n      cmake_source_dir, skbuild_kw['cmake_install_dir'])\n    File \"setup.py\", line 381, in _classify_installed_files_override\n      with open('scripts/__init__.py', 'r') as custom_init:\n  FileNotFoundError: [Errno 2] No such file or directory: 'scripts/__init__.py'\n  ----------------------------------------\n  ERROR: Failed building wheel for opencv-python\n  Running setup.py clean for opencv-python\nFailed to build opencv-python\nERROR: Could not build wheels for opencv-python which use PEP 517 and cannot be installed directly\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**è§£å†³æ–¹æ¡ˆï¼š**</strong></font>\n\n```python\npip install --upgrade pip setuptools wheel\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**é‡è¯•å®‰è£…ï¼š**</strong></font>\n\n```python\npip install opencv-python\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**é—®é¢˜è§£å†³å•¦~ï¼**</strong></font>\n","tags":["é”™è¯¯","opencv"],"categories":["_A9-é”™è¯¯è§£å†³","python"]},{"title":"djangoè®¾ç½®debugè®¾ä¸ºFalse,å‰ç«¯æ ·å¼å‡ºç°é”™ä¹±æˆ–é™æ€æ–‡ä»¶404é—®é¢˜ã€‚","url":"/2023/03/20/djangoè®¾ç½®debugè®¾ä¸ºFalse-å‰ç«¯æ ·å¼å‡ºç°é”™ä¹±æˆ–é™æ€æ–‡ä»¶404é—®é¢˜ã€‚/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**djangoè®¾ç½®debugè®¾ä¸ºFalse,å‰ç«¯æ ·å¼å‡ºç°é”™ä¹±æˆ–é™æ€æ–‡ä»¶404é—®é¢˜ã€‚**</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**djangoéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒä¸­é‡åˆ°çš„å‘å¤§éƒ¨åˆ†éƒ½æ˜¯å¼•ç”¨é™æ€æ–‡ä»¶å¸¦æ¥çš„ï¼Œ**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**settingè®¾ç½®é‡Œé¢debugè®¾ä¸ºFalseï¼Œ**</strong></font>\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>**éœ€è¦é…ç½®å¦‚ä¸‹:**</strong></font>\n\n```python\nALLOWED_HOSTS=[\"æœåŠ¡å™¨ip\"]\nSTATIC_ROOT = os.path.join(BASE_DIR, 'static')\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**ç„¶åæ‰§è¡Œpython manage.py collectstaticå°†é™æ€æ–‡ä»¶å…¨éƒ¨å¤åˆ¶åˆ°æ ¹ç›®å½•ä¸‹staticé‡Œã€‚**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**è¿™æ—¶å€™åœ¨å¼€å‘ç¯å¢ƒä¸‹æ˜¯ä¸èƒ½å¤„ç†ä¸€äº›é™æ€æ–‡ä»¶äº†ï¼Œéœ€è¦åœ¨è¿è¡Œæ—¶å¼ºåˆ¶Djangoå¤„ç†é™æ€æ–‡ä»¶ï¼š**</strong></font>\n\n```python\npython manage.py runserver 0.0.0.0:8000 --insecure\n```\n\n","tags":["python","django","é”™è¯¯"],"categories":["_A9-é”™è¯¯è§£å†³","python","django"]},{"title":"python_åç¨‹çš„åŸºç¡€ç”¨æ³•","url":"/2023/03/20/python-åç¨‹çš„åŸºç¡€ç”¨æ³•/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**python_åç¨‹çš„åŸºç¡€ç”¨æ³•ï¼š**</strong></font>\n\n<!--more-->\n\n```python\nimport aiohttp   # pip3 install aiohttp   # æ”¯æŒå¼‚æ­¥æ¨¡å¼çš„ç½‘ç»œè¯·æ±‚æ¨¡å—\nimport asyncio\nimport time\n\nasync def fetch(session, url):\n    a_ = time.time()\n    print(f\"å‘é€è¯·æ±‚ï¼š {a_}   {url}\")\n    async with session.get(url, verify_ssl=False) as response:\n        content = await response.content.read()\n        file_name = url.rsplit('_')[-1]\n        with open(f\"/home/x1/å›¾ç‰‡/{file_name}\", 'wb') as file_obj:\n            file_obj.write(content)\n        print(f\"ä¸‹è½½å®Œæˆäº†ï¼š {int(time.time() - a_)}   {url}\")\n\nasync def main():\n    async with aiohttp.ClientSession() as session:\n        url_list = [\n            'https://xxx1.jpg',\n            'https://xxx2.jpg',\n            'https://xxx3.jpg']\n        tasks = [asyncio.create_task(fetch(session, url)) for url in url_list]\n        await asyncio.wait(tasks)\n\nif __name__ == '__main__':\n    asyncio.run(main())\n```\n\n","tags":["python","å¼‚æ­¥ã€åç¨‹"],"categories":["Python","çˆ¬è™«","å¼‚æ­¥"]},{"title":"ubuntu å®‰è£… æˆªå›¾å·¥å…·","url":"/2023/03/20/ubuntu-å®‰è£…-æˆªå›¾å·¥å…·/","content":"\n<font color=#f26522 size=5 face=å®‹ä½“><strong>**ubuntu å®‰è£… æˆªå›¾å·¥å…·ï¼š**</strong></font>\n\n<!--more-->\n\n```shell\n# å®‰è£…ç«ç„°æˆªå›¾å·¥å…·\nsudo apt-get install flameshot\n\n# æ·»åŠ å¿«æ·é”®å‘½ä»¤\nflameshot gui   # ç«ç„°æˆªå›¾\ngnome-screenshot -a   # ubuntuæœ¬èº«ç³»ç»Ÿæˆªå›¾å‘½ä»¤\n```\n","tags":["å·¥å…·","ç³»ç»Ÿ"],"categories":["_A5-å®‰è£…æ•™ç¨‹","ubuntu"]},{"title":"LinuxæŸ¥çœ‹ç¡¬ä»¶ä¿¡æ¯","url":"/2023/03/20/LinuxæŸ¥çœ‹ç¡¬ä»¶ä¿¡æ¯/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**LinuxæŸ¥çœ‹ç¡¬ä»¶ä¿¡æ¯ï¼š**</strong></font>\n\n<!--more-->\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**ç³»ç»Ÿï¼š**</strong></font>\n\n```\n# uname -a               # æŸ¥çœ‹å†…æ ¸/æ“ä½œç³»ç»Ÿ/CPUä¿¡æ¯\n# head -n 1 /etc/issue   # æŸ¥çœ‹æ“ä½œç³»ç»Ÿç‰ˆæœ¬\n# cat /proc/cpuinfo      # æŸ¥çœ‹CPUä¿¡æ¯\n# hostname               # æŸ¥çœ‹è®¡ç®—æœºå\n# lspci -tv              # åˆ—å‡ºæ‰€æœ‰PCIè®¾å¤‡ï¼ˆyum install pciutilsï¼‰\n# lsusb -tv              # åˆ—å‡ºæ‰€æœ‰USBè®¾å¤‡\n# lsmod                  # åˆ—å‡ºåŠ è½½çš„å†…æ ¸æ¨¡å—\n# env                    # æŸ¥çœ‹ç¯å¢ƒå˜é‡\n```\n\n------\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**èµ„æºï¼š**</strong></font>\n\n```\n# free -m                # æŸ¥çœ‹å†…å­˜ä½¿ç”¨é‡å’Œäº¤æ¢åŒºä½¿ç”¨é‡\n# df -h                  # æŸ¥çœ‹å„åˆ†åŒºä½¿ç”¨æƒ…å†µ\n# du -sh <ç›®å½•å>        # æŸ¥çœ‹æŒ‡å®šç›®å½•çš„å¤§å°\n# grep MemTotal /proc/meminfo   # æŸ¥çœ‹å†…å­˜æ€»é‡\n# grep MemFree /proc/meminfo    # æŸ¥çœ‹ç©ºé—²å†…å­˜é‡\n# uptime                 # æŸ¥çœ‹ç³»ç»Ÿè¿è¡Œæ—¶é—´ã€ç”¨æˆ·æ•°ã€è´Ÿè½½\n# cat /proc/loadavg      # æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½\n```\n\n------\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**ç£ç›˜å’Œåˆ†åŒºï¼š**</strong></font>\n\n```\n# mount | column -t      # æŸ¥çœ‹æŒ‚æ¥çš„åˆ†åŒºçŠ¶æ€\n# fdisk -l               # æŸ¥çœ‹æ‰€æœ‰åˆ†åŒº\n# swapon -s              # æŸ¥çœ‹æ‰€æœ‰äº¤æ¢åˆ†åŒº\n# hdparm -i /dev/hda     # æŸ¥çœ‹ç£ç›˜å‚æ•°(ä»…é€‚ç”¨äºIDEè®¾å¤‡)\n# dmesg | grep IDE       # æŸ¥çœ‹å¯åŠ¨æ—¶IDEè®¾å¤‡æ£€æµ‹çŠ¶å†µ\n```\n\n------\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**ç½‘ç»œï¼š**</strong></font>\n\n```\n# ifconfig               # æŸ¥çœ‹æ‰€æœ‰ç½‘ç»œæ¥å£çš„å±æ€§\n# iptables -L            # æŸ¥çœ‹é˜²ç«å¢™è®¾ç½®\n# route -n               # æŸ¥çœ‹è·¯ç”±è¡¨\n# netstat -lntp          # æŸ¥çœ‹æ‰€æœ‰ç›‘å¬ç«¯å£\n# netstat -antp          # æŸ¥çœ‹æ‰€æœ‰å·²ç»å»ºç«‹çš„è¿æ¥\n# netstat -s             # æŸ¥çœ‹ç½‘ç»œç»Ÿè®¡ä¿¡æ¯\n```\n\n------\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**è¿›ç¨‹ï¼š**</strong></font>\n\n```\n# ps -ef                 # æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹\n# top                    # å®æ—¶æ˜¾ç¤ºè¿›ç¨‹çŠ¶æ€\n```\n\n------\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**ç”¨æˆ·ï¼š**</strong></font>\n\n```\n# w                      # æŸ¥çœ‹æ´»åŠ¨ç”¨æˆ·\n# id <ç”¨æˆ·å>            # æŸ¥çœ‹æŒ‡å®šç”¨æˆ·ä¿¡æ¯\n# last                   # æŸ¥çœ‹ç”¨æˆ·ç™»å½•æ—¥å¿—\n# cut -d: -f1 /etc/passwd   # æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·\n# cut -d: -f1 /etc/group    # æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰ç»„\n# crontab -l             # æŸ¥çœ‹å½“å‰ç”¨æˆ·çš„è®¡åˆ’ä»»åŠ¡\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æœåŠ¡ï¼š**</strong></font>\n\n```\n# chkconfig --list       # åˆ—å‡ºæ‰€æœ‰ç³»ç»ŸæœåŠ¡\n# chkconfig --list | grep on    # åˆ—å‡ºæ‰€æœ‰å¯åŠ¨çš„ç³»ç»ŸæœåŠ¡\n```\n\n------\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**ç¨‹åºï¼š**</strong></font>\n\n```\n# rpm -qa                # æŸ¥çœ‹æ‰€æœ‰å®‰è£…çš„è½¯ä»¶åŒ…\n```\n\n------\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æŸ¥çœ‹ç½‘å¡å‹å·ï¼š**</strong></font>\n\n```\n# lspci | grep Ethernet\n```\n\n------\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æŸ¥çœ‹å†…å­˜å’Œcpuæœ€ç›´æ¥æœ€å¸¸ç”¨çš„å‘½ä»¤ï¼š**</strong></font>\n\n```\n# free\n# cat /proc/cpuinfo\n```\n\n------\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æŸ¥çœ‹ç¡¬ç›˜ä¿¡æ¯ï¼ˆæŸ¥çœ‹ç¡¬ç›˜å‹å·å’Œç¡¬ç›˜åºåˆ—å·ï¼‰ï¼š**</strong></font>\n\n```\n# df -h\n```\n","tags":["linux","ç³»ç»Ÿ","å‘½ä»¤"],"categories":["_A3-linux","å‘½ä»¤"]},{"title":"m3u8ä¸‹è½½åè®®ä¸åœ¨ç™½åå•","url":"/2023/03/20/m3u8ä¸‹è½½åè®®ä¸åœ¨ç™½åå•/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>m3u8ä¸‹è½½åè®®ä¸åœ¨ç™½åå•ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**Protocol â€˜httpsâ€˜ not on whitelist â€˜file,cryptoâ€˜ â€”â€”m3u8ä¸‹è½½åè®®ä¸åœ¨ç™½åå•ï¼Œm3u8ä¸‹è½½å™¨æ¨è**</strong></font>\n\n```python\nffmpeg -allowed_extensions ALL -protocol_whitelist concat,file,http,https,tcp,tls,crypto -t 80 -i s_3.m3u8 -c copy ../v2.mp4\n```\n","tags":["ffmpeg","é”™è¯¯"],"categories":["_A9-é”™è¯¯è§£å†³","FFmpeg"]},{"title":"MTproxy_ä»£ç†æ­å»º","url":"/2023/03/20/MTproxy-ä»£ç†æ­å»º/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**1ã€MTproxy_ä»£ç†æ­å»º:**</strong></font>\n\n<!--more-->\n\n```shell\n# è‡ªå»ºè„šæœ¬æ“ä½œ\n# 1ã€åˆ›å»ºè„šæœ¬è·¯å¾„\nmkdir /root/mtproxy\n\n# 2ã€è¿›å…¥è„šæœ¬æ–‡ä»¶å¤¹\ncd /root/mtproxy\n\n# 3ã€å¼€å§‹æ‰§è¡Œå®‰è£…ç¨‹åº\nwget -N --no-check-certificate http://teadan.com/all_bash/mtproxy.sh && chmod +x mtproxy.sh && bash mtproxy.sh\n\n\n# å¤‡ç”¨é€šé“ä¸è‡ªå»ºè„šæœ¬è‡ªç”±ç¬¬ 3 æ­¥éª¤ä¸åŒï¼Œè¯·æ›¿æ¢ä¸ºä»¥ä¸‹è„šæœ¬\nwget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubiBackup/doubi/master/mtproxy.sh && chmod +x mtproxy.sh && bash mtproxy.sh\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**2ã€å®‰è£…å®Œæˆåç»­æ“ä½œ**</strong></font>\n\n```python\n# åˆ›å»ºè½¯è¿æ¥ï¼Œä»¥åå¯åŠ¨è¯¥è„šæœ¬å°±å¯ä»¥ç›´æ¥ mt å‘¼å‡ºè„šæœ¬ç•Œé¢äº†\nln -s /root/mtproxy/mtproxy.sh /usr/local/bin/mt\n```\n","tags":["ä»£ç†"],"categories":["_A8-å·¥å…·","æ¢¯å­"]},{"title":"selenium æ— å¤´æ¨¡å¼ ä½¿ç”¨æ–¹æ³•ï¼š","url":"/2023/03/20/selenium-æ— å¤´æ¨¡å¼-ä½¿ç”¨æ–¹æ³•ï¼š/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**selenium æ— å¤´æ¨¡å¼ ä½¿ç”¨æ–¹æ³•ï¼š**</strong></font>\n\n<!--more-->\n\n```python\nfrom selenium import webdriver   # å¯¼å…¥seleniumåŒ…\nfrom selenium.webdriver.chrome.service import Service    # æ— å¤´æ¨¡å¼\n\n\ndef get_ck():\n    chromeOptions = webdriver.ChromeOptions()   # å®ä¾‹åŒ–\n    chromeOptions.add_argument('--user-agent=Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36')   # æ·»åŠ headerså¤´æ–‡ä»¶\n    chromeOptions.add_argument('--headless')\n    chromeOptions.add_argument('--no-sandbox')\n    chromeOptions.add_argument('--disable-gpu')\n    driver = webdriver.Chrome(service=Service(\"/usr/bin/chromedriver\"), options=chromeOptions)      # è®¾ç½®æ–‡ä»¶è·¯å¾„\n\n    # è¯·æ±‚æ–¹å¼\n    drive.get(\"https://www.baidu.com\")\n\n    # ç­‰å¾…seleniumåŠ è½½å®Œæˆjså†…å®¹\n    driver.implicitly_wait(3)\n\n    # è·å–textæ–‡æœ¬æ ¼å¼å†…å®¹\n    driver.page_source\n\n    # å®Œæˆä¹‹å é€€å‡ºchrome\n    driver.close()\n    driver.quit()\n```\n\n","tags":["selenium"],"categories":["_A7-é€†å‘","selenium"]},{"title":"requestsæ¨¡å— å¤±è´¥é‡è¯• æ–¹æ³•è®°å½•","url":"/2023/03/20/requestsæ¨¡å—-å¤±è´¥é‡è¯•-æ–¹æ³•è®°å½•/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**requestsæ¨¡å— å¤±è´¥é‡è¯• æ–¹æ³•è®°å½•**</strong></font>\n\n<!--more-->\n\n```python\nimport requests   # pip install requests\nfrom requests.adapters import HTTPAdapter\n\n\ndef session():\n    session = requests.Session()   # å®ä¾‹åŒ–\n    session.mount('http://', HTTPAdapter(max_retries=5))   # httpé‡è¯•æœ€å¤§5æ¬¡\n    session.mount('https://', HTTPAdapter(max_retries=5))    # https é‡è¯•æœ€å¤§5æ¬¡\n    session.headers = {\n        'User-Agent': \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.0.0 Safari/537.36\",\n        # 'User-Agent': 'PostmanRuntime/7.28.4',\n    }\n    return session\n```\n","tags":["requests"],"categories":["Python","çˆ¬è™«","åŒæ­¥"]},{"title":"å¤©è™¹å°ä¸»æœº z3735fåŸè£…windos8.1 ä¿®æ”¹è£…ubuntu","url":"/2023/03/20/å¤©è™¹å°ä¸»æœº-z3735fåŸè£…windos8-1-ä¿®æ”¹è£…ubuntu/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**å¤©è™¹å°ä¸»æœº z3735fåŸè£…windos8.1 ä¿®æ”¹è£…ubuntu**</strong></font>\n\n<!--more-->\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**ä½†å¦‚æ­¤ä½çš„é…ç½®ï¼Œå®åœ¨æ˜¯â€¦. ä¸€è¨€éš¾å°½ï¼**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**é…ç½®å¦‚ä¸‹ï¼š**</strong></font>\n\n```\n- 2G å†…å­˜ ã€32Gç¡¬ç›˜\n- å› ç‰¹å°”å››æ ¸ Z3735\n- è¿™ç§é…ç½®.....å®ƒè£…ä¸ªlinux ç³»ç»Ÿ   å®ƒä¸é¦™ä¹ˆï¼Ÿ  ä¸ºä»€ä¹ˆéè¦ä¸Šwindosï¼Ÿ\n- äºæ˜¯. . . . æœ‰äº†ä¸‹é¢ä¸€å‡ºï¼\n```\n\n------\n\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**æŠ˜è…¾å¼€å§‹!**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**ç›’å­åˆ°æ‰‹ï¼Œå¼€æœºï¼Œæœªæ¿€æ´»çš„Win8.1ï¼Œç„äº†ä¸€çœ¼å®¹é‡ï¼Œè¯•äº†è¯•æµè§ˆå™¨å¼€ä¸ªç½‘é¡µï¼Œæ„Ÿè§‰æ¯”æ ‘è“æ´¾å¼ºå¥½å¤šã€‚**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**äºæ˜¯æ‰¾å‡ºäº†ç¡¬ç›˜é‡Œç§¯å‹å¤šå¹´çš„ubuntu16.04 server x64ï¼Œå¼€å§‹äº†è£…æœºã€‚**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**åŠåˆ†é’Ÿåï¼Œå®ƒæ„‰å¿«çš„æ»šè¿›äº†Win8.1ã€‚**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ²¡äº‹çœ‹æ¥æ˜¯biosæ²¡æ¢ï¼Œäºæ˜¯è¿›Biosï¼Œé€‰MASS Stronger é—ªé€€ã€‚**</strong></font>\n\n------\n\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**ç„¶å. . . .è¿›å…¥æ­£é¢˜ï¼š**</strong></font>\n\n- é¦–å…ˆå‡†å¤‡ä¸€ä¸ªå·²ç»åˆ¶ä½œå®Œæˆçš„ubuntu Uç›˜ï¼Œå…¶ä»–å‘è¡Œç‰ˆçš„ä¹Ÿè¡Œï¼ˆä½†Linuxçš„å†…æ ¸ç‰ˆæœ¬æœ€å¥½4.00ä»¥ä¸Šï¼‰ã€‚\n- æ‹·è´[jfwells/linux-asus-t100ta](https://github.com/jfwells/linux-asus-t100ta/blob/master/boot/bootia32.efi) => **[ç‚¹å‡»ä¸‹è½½](https://github.com/jfwells/linux-asus-t100ta/raw/master/boot/bootia32.efi)** è¿™ä¸ªæ–‡ä»¶åˆ°Uç›˜EFI/BOOTç›®å½•\n  - è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼Œå› ä¸ºubuntuå†™å…¥uç›˜çš„æ—¶å€™ï¼Œæ˜¯æ²¡æœ‰åŠæ³•æ›´æ”¹ç©ºé—´å¤§å°çš„ï¼Œæ‰€ä»¥æˆ‘æŠŠä¸»æ„æ‰“åˆ°äº†isoé•œåƒæ–‡ä»¶ä¸Šã€‚\n  - é¦–å…ˆç”¨UltraISOçš„è¯»å–ç„¶åæŠŠefiæ–‡ä»¶æ‹–å…¥ EFI/BOOT ç”¨ UltraISO ä¿å­˜ ç„¶ååœ¨å†™å…¥uç›˜ ç„¶åï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨å°ä¸»æœºå®‰è£…ubuntuç³»ç»Ÿäº†\n- <font color=#b0171f size=3 face=å®‹ä½“><strong>æ¥ä¸‹æ¥æ’å…¥ï¼Œå°±èƒ½å¼•å¯¼è¿›å…¥grubå¼•å¯¼é¡µï¼Œå®Œæˆæ­£å¸¸å®‰è£…æ­¥éª¤</strong></font>\n- <font color=#b0171f size=3 face=å®‹ä½“><strong>å®‰è£…å®Œåä¸è¦æ‹”æ‰Uç›˜ï¼Œç¬¬äºŒæ¬¡ç»§ç»­å¼•å¯¼Uç›˜ï¼Œå¯¹ç¬¬ä¸€é¡¹æŒ‰ä¸€ä¸‹Cé”®</strong></font>\n- <font color=#b0171f size=3 face=å®‹ä½“><strong>å°†é‡Œé¢çš„å†…å®¹ä¿®æ”¹ä¸ºï¼ˆä»¥ä½ è‡ªå·±åˆ†åŒºä¸ºå‡†ï¼Œå–„ç”¨TABé”®è‡ªåŠ¨è¡¥å…¨ï¼‰ï¼Œä¸‹é¢æ˜¯æˆ‘çš„ç»“æœ</strong></font>\n\n```\nlinux (hd1,gpt2)/boot/vmlinuz-4.15.0-45-generic root=/dev/mmcblk1p2\ninitrd (hd1,gpt2)/boot/initrd.img-4.15.0-45-generic\n```\n\n- <font color=red size=3 face=å®‹ä½“><strong>è¿™æ—¶å°±å¯ä»¥è¿›å…¥åˆšåˆšå®‰è£…å¥½çš„ç³»ç»Ÿï¼Œç›´æ¥sudo suè¿›è¶…çº§ç”¨æˆ·</strong></font>\n- æ‰§è¡Œä¸‹åˆ—å‘½ä»¤\n\n```shell\napt update\napt-get install grub-efi-ia32-bin\ngrub-install --target=i386-efi --efi-directory=/boot/efi\nupdate-grub\n```\n\n- <font color=#00b2c2 size=3 face=å®‹ä½“><strong>æœ€åé‡å¯ï¼Œå°±å¯ä»¥æ„‰å¿«çš„ä½¿ç”¨äº†</strong></font>\n","tags":["ubuntu","ç³»ç»Ÿ","DIY"],"categories":["_S9-æŠ˜è…¾","DIY"]},{"title":"ubuntu å®‰è£…ssh è¿œç¨‹ç™»å½•","url":"/2023/03/20/ubuntu-å®‰è£…ssh-è¿œç¨‹ç™»å½•/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**ubuntu å®‰è£…ssh è¿œç¨‹ç™»å½•**</strong></font>\n\n<!--more-->\n\n```shell\nsudo apt-get update\nsudo apt-get install openssh-server\nsudo ps -e |grep ssh\nsudo ifconfig\n```\n","tags":["ç³»ç»Ÿ","è¿ç»´"],"categories":["_A5-å®‰è£…æ•™ç¨‹","ubuntu"]},{"title":"python_å¼‚æ­¥aiomysqlæ•°æ®åº“æ“ä½œæŒ‡å—","url":"/2023/03/20/python-å¼‚æ­¥aiomysqlæ•°æ®åº“æ“ä½œæŒ‡å—/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**python_å¼‚æ­¥aiomysqlæ•°æ®åº“æ“ä½œæŒ‡å—**</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**å…¶å®ä¸€èˆ¬æ•°æ®åº“ ä½¿ç”¨pymysqlæ“ä½œæ•°æ®åº“å°±è¡Œï¼Œä½†æ˜¯é‚£ç§è¶…å¤§å‹çš„æ•°æ®åº“æ‰§è¡Œæ“ä½œï¼Œpymysqlå°±æ˜¾å¾—æœ‰ç‚¹åŠ›ä¸ä»å¿ƒäº†ã€‚**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¯ä»¥å¼‚æ­¥æ“ä½œmysqlæ•°æ®åº“çš„æ¨¡å—ï¼Œç‰¹æ­¤è®°å½•ä¸€ä¸‹ å¼‚æ­¥mysqlæ•°æ®åº“æ“ä½œ**</strong></font>\n\n```python\nimport asyncio\nimport aiomysql\n\nclass MySql:\n    async def select(self, loop, sql, pool):\n        async with pool.acquire() as conn:\n            async with conn.cursor() as cur:\n                await cur.execute(sql)\n                # r = await cur.fetchone()\n                # print(r)\n                try:\n                    res = cur.description\n                    columns_name = [i[0] for i in res]\n                    # print(columns_name)  # ['city', 'prcp']\n                    res = await cur.fetchall()\n                    res_dict = [dict(zip(columns_name, row_value)) for row_value in res]\n                    return res_dict\n                except:\n                    r = await cur.fetchone()\n                    return r\n\n    async def insert(self, loop, sql, pool):\n        async with pool.acquire() as conn:\n            async with conn.cursor() as cur:\n                await cur.execute(sql)\n                await conn.commit()\n\n    async def main(self, loop, sql_str, key_s='find'):\n        pool = await aiomysql.create_pool(\n            host='192.168.700.200',\n            port=3306,\n            user='cores',\n            password='hJ3TsdrA',\n            db='cores',\n            autocommit=True,\n            loop=loop)\n        if key_s == 'find':\n            c1 = MySql().select(loop=loop, sql=sql_str, pool=pool)\n        # c2 = MySql().insert(loop=loop, sql=\"insert into minifw (name) values ('hello')\", pool=pool)\n        # c2 = MySql().select(loop=loop, sql=f\"select * from web_comic where title='å…ˆäº¤å¾€åæ‹çˆ±'\", pool=pool)\n            tasks = [asyncio.ensure_future(c1)]\n            return await asyncio.gather(*tasks)\n        if key_s == 'insert':\n            c2 = MySql().insert(loop=loop, sql=sql_str, pool=pool)\n            tasks = [asyncio.ensure_future(c2)]\n            return await asyncio.gather(*tasks)\n\n    def run_loop(self, sql_str, key_s='find'):    # find == æŸ¥è¯¢æ“ä½œ     â€œinsertâ€ == å†™å…¥æ“ä½œ\n        cur_loop = asyncio.get_event_loop()\n        azz = cur_loop.run_until_complete(MySql().main(cur_loop, sql_str, key_s=key_s))\n        if azz == None:\n            return ''\n        else:\n            return azz[0]\n\nif __name__ == '__main__':\n    man_status = MySql().run_loop(f\"select * from wemic where title='æµ‹è¯•æ•°æ®'\")   # æ‰§è¡ŒæŸ¥è¯¢æ“ä½œ\n```\n","tags":["python","æ•°æ®åº“","mysql"],"categories":["Python","å¼‚æ­¥_æ•°æ®åº“"]},{"title":"å®‰è£…chrome_ ä½¿ç”¨selenium","url":"/2023/03/20/å®‰è£…chrome-ä½¿ç”¨selenium/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**å®‰è£…chrome_ ä½¿ç”¨selenium**</strong></font>\n\n<!--more-->\n\n# <font color=#f26522 size=4 face=å®‹ä½“><strong>**1ã€æŸ¥çœ‹ chrome ç‰ˆæœ¬**</strong></font>\n\n+ chrome_å†å²ç‰ˆæœ¬ä¸‹è½½ => [é€‚ç”¨äº Linux çš„æœ€æ–°ç‰ˆæœ¬ (cypress.io)](https://chromium.cypress.io/linux/)\n+ [CentOS7å®‰è£…chromeå’Œchromedriver_centos chromedriver-CSDNåšå®¢](https://blog.csdn.net/China_hdy/article/details/126739461)\n\n```shell\ngoogle-chrome --version\n\n# centos7  selenium ç‰ˆæœ¬æ›´æ–°\n# æ‰§è¡Œ wget https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpmä¸‹è½½æœ€æ–°Linuxçš„chrome\nwget https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm\n\n# ä¸‹è½½ä¹‹åæ‰§è¡Œsudo yum localinstall google-chrome-stable_current_x86_64.rpmå®‰è£…æœ¬åœ°çš„rpmåŒ…åˆ™ä¼šæ›¿æ¢ä¹‹å‰ç‰ˆæœ¬çš„chrome\nsudo yum localinstall google-chrome-stable_current_x86_64.rpm\n```\n\n------\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**2ã€æ›´æ–° || ç¦æ­¢è‡ªåŠ¨æ›´æ–°chrome**</strong></font>\n\n```shell\n# ç¦æ­¢è‡ªåŠ¨æ›´æ–°\necho 'exclude=google-chrome-stable' >> /etc/yum.conf\n\n# æ›´æ–° chrome\nsudo yum update google-chrome-stable\n```\n\n\n\n---\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**3ã€å®‰è£…chrome**</strong></font>\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>é¦–å…ˆå®‰è£…googleçš„epelæº</strong></font>\n\n```python\nvi /etc/yum.repos.d/google.repo\n\n[google]\nname=Google-x86_64\nbaseurl=http://dl.google.com/linux/rpm/stable/x86_64\nenabled=1\ngpgcheck=0\ngpgkey=https://dl-ssl.google.com/linux/linux_signing_key.pub \n\n\nyum update  # æ›´æ–°\nyum install google-chrome-stable  # å®‰è£…\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**4ã€chromedriverä¸‹è½½**</strong></font>\n\n[æ·˜å®æº ä¸‹è½½](https://npm.taobao.org/mirrors/chromedriver/)\n[å®˜æ–¹æº ä¸‹è½½](http://chromedriver.storage.googleapis.com/index.html)\n\n[chromedriveræ–°ç‰ˆæœ¬(116+)](https://googlechromelabs.github.io/chrome-for-testing/)\n\næ‰¾åˆ°chromeå¯¹åº”çš„chromedriver ç‰ˆæœ¬ï¼Œå¹¶ä¸‹è½½\n\n```shell\nwget https://chromedriver.storage.googleapis.com/74.0.3729.6/chromedriver_linux64.zip\n```\n\nå°†ä¸‹è½½çš„chromedriver æ”¾åˆ°è„šæœ¬åŒçº§ç›®å½•è°ƒç”¨\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**5 ã€ä¸ºchromedriveræˆæƒ**</strong></font>\n\n```shell\nchmod 755 chromedriver\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**6ã€æµ‹è¯•ä»£ç  ts.py**</strong></font>\n\n```python\nfrom selenium import webdriver\nfrom selenium.webdriver.chrome.options import Options\n\nchrome_options = Options()\nchrome_options.add_argument(\"--headless\")\nchrome_options.add_argument('--disable-gpu')\nchrome_options.add_argument('--no-sandbox')    # ç¦æ­¢æ²™ç®±æ¨¡å¼ï¼Œå¦åˆ™è‚¯èƒ½ä¼šæŠ¥é”™é‡åˆ°chromeå¼‚å¸¸\nurl=\"https://www.west.cn/login.asp\"\nbrower=webdriver.Chrome(executable_path=\"./chromedriver\", chrome_options=chrome_options)\nbrower.get(url)\nprint(brower.current_url)\nbrower.get(\"https://www.west.cn/Manager/\")\nprint(brower.current_url)\nbrower.quit()\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**7ã€æµ‹è¯•ç»“æœ**</strong></font>\n\n![img](https://s2.loli.net/2022/10/23/gGApHus5ODlxSTi.png)\n","tags":["åçˆ¬"],"categories":["_A7-é€†å‘","selenium"]},{"title":"python base64å›¾ç‰‡ ç¼–ç ã€è§£ç ","url":"/2023/03/20/python-base64å›¾ç‰‡-ç¼–ç ã€è§£ç /","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**Python data image/png;base64å›¾ç‰‡ç¼–ç è§£ç ï¼š**</strong></font>\n\n<!--more-->\n\n<font color=red size=5 face=å®‹ä½“><strong>**ç‰¹æ­¤å£°æ˜:**</strong></font>\n\n### æœ¬æ–‡è½¬è½½è‡ª https://blog.51cto.com/mouday/3040437\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**ç¼–ç åçš„å†…å®¹ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­ç›´æ¥æ‰“å¼€ï¼Œæç¤ºï¼šå…ˆå»æ‰å›è½¦**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**dataç±»å‹çš„Urlå¤§è‡´æœ‰ä¸‹é¢å‡ ç§å½¢å¼**</strong></font>\n\n```\ndata:,<æ–‡æœ¬æ•°æ®>\ndata:text/plain,<æ–‡æœ¬æ•°æ®>\ndata:text/html,<HTMLä»£ç >\ndata:text/html;base64,<base64ç¼–ç çš„HTMLä»£ç >\ndata:text/css,<CSSä»£ç >\ndata:text/css;base64,<base64ç¼–ç çš„CSSä»£ç >\ndata:text/javascript,<Javascriptä»£ç >\ndata:text/javascript;base64,<base64ç¼–ç çš„Javascriptä»£ç >\ndata:image/gif;base64,base64ç¼–ç çš„gifå›¾ç‰‡æ•°æ®\ndata:image/png;base64,base64ç¼–ç çš„pngå›¾ç‰‡æ•°æ®\ndata:image/jpeg;base64,base64ç¼–ç çš„jpegå›¾ç‰‡æ•°æ®\ndata:image/x-icon;base64,base64ç¼–ç çš„iconå›¾ç‰‡æ•°æ®\n```\n\n<font color=red size=4 face=å®‹ä½“><strong>**Python3ä»£ç ï¼š**</strong></font>\n\n```python\n# -*- coding: utf-8 -*-\n\nimport base64\nimport re\nimport uuid\n\n\ndef decode_image(src):\n    \"\"\"\n    è§£ç å›¾ç‰‡\n    :param src: å›¾ç‰‡ç¼–ç \n        eg:\n            src=\"data:image/gif;base64,R0lGODlhMwAxAIAAAAAAAP///\n                yH5BAAAAAAALAAAAAAzADEAAAK8jI+pBr0PowytzotTtbm/DTqQ6C3hGX\n                ElcraA9jIr66ozVpM3nseUvYP1UEHF0FUUHkNJxhLZfEJNvol06tzwrgd\n                LbXsFZYmSMPnHLB+zNJFbq15+SOf50+6rG7lKOjwV1ibGdhHYRVYVJ9Wn\n                k2HWtLdIWMSH9lfyODZoZTb4xdnpxQSEF9oyOWIqp6gaI9pI1Qo7BijbF\n                ZkoaAtEeiiLeKn72xM7vMZofJy8zJys2UxsCT3kO229LH1tXAAAOw==\"\n\n    :return: str ä¿å­˜åˆ°æœ¬åœ°çš„æ–‡ä»¶å\n    \"\"\"\n    # 1ã€ä¿¡æ¯æå–\n    result = re.search(\"data:image/(?P<ext>.*?);base64,(?P<data>.*)\", src, re.DOTALL)\n    if result:\n        ext = result.groupdict().get(\"ext\")\n        data = result.groupdict().get(\"data\")\n\n    else:\n        raise Exception(\"Do not parse!\")\n\n    # 2ã€base64è§£ç \n    img = base64.urlsafe_b64decode(data)\n\n    # 3ã€äºŒè¿›åˆ¶æ–‡ä»¶ä¿å­˜\n    filename = \"{}.{}\".format(uuid.uuid4(), ext)\n    with open(filename, \"wb\") as f:\n        f.write(img)\n\n    return filename\n\n\ndef encode_image(filename):\n    \"\"\"\n    ç¼–ç å›¾ç‰‡\n    :param filename: str æœ¬åœ°å›¾ç‰‡æ–‡ä»¶å\n    :return: str ç¼–ç åçš„å­—ç¬¦ä¸²\n        eg:\n        src=\"data:image/gif;base64,R0lGODlhMwAxAIAAAAAAAP///\n            yH5BAAAAAAALAAAAAAzADEAAAK8jI+pBr0PowytzotTtbm/DTqQ6C3hGX\n            ElcraA9jIr66ozVpM3nseUvYP1UEHF0FUUHkNJxhLZfEJNvol06tzwrgd\n            LbXsFZYmSMPnHLB+zNJFbq15+SOf50+6rG7lKOjwV1ibGdhHYRVYVJ9Wn\n            k2HWtLdIWMSH9lfyODZoZTb4xdnpxQSEF9oyOWIqp6gaI9pI1Qo7BijbF\n            ZkoaAtEeiiLeKn72xM7vMZofJy8zJys2UxsCT3kO229LH1tXAAAOw==\"\n\n    \"\"\"\n    # 1ã€æ–‡ä»¶è¯»å–\n    ext = filename.split(\".\")[-1]\n\n    with open(filename, \"rb\") as f:\n        img = f.read()\n\n    # 2ã€base64ç¼–ç \n    data = base64.b64encode(img).decode()\n\n    # 3ã€å›¾ç‰‡ç¼–ç å­—ç¬¦ä¸²æ‹¼æ¥\n    src = \"data:image/{ext};base64,{data}\".format(ext=ext, data=data)\n    return src\n\n\nif __name__ == '__main__':\n    # ä¸‹è½½ç™¾åº¦é¦–é¡µlogoä¿å­˜åˆ°æœ¬åœ° baidu.png\n    # https://www.baidu.com/img/bd_logo1.png\n\n    # ç¼–ç æµ‹è¯•\n    print(encode_image(\"baidu.png\"))\n    # src = \"data:image/png;base64,iVBORw0KGgoAAAA...\"\n\n    # è§£ç æµ‹è¯•\n    # print(decode_image(src))\n```\n","tags":["python","ç¼–ç ã€è§£ç ","base64","å›¾ç‰‡è½¬ç "],"categories":["Python","ç¼–ç ã€è§£ç "]},{"title":"ffmpeg å‚æ•°è¯´æ˜","url":"/2023/03/20/ffmpeg-å‚æ•°è¯´æ˜/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**ffmpeg å‚æ•°è¯´æ˜ï¼š**</strong></font>\n\n<!--more-->\n\n------\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**è§†é¢‘æ¯”ç‰¹ç‡ è½¬æ¢**</strong></font>\n\n```python\n-b:v 1500k   # å°†è§†é¢‘æ¯”ç‰¹ç‡ è½¬æ¢è‡³ 1500kbps\n\n# ç¤ºä¾‹ï¼š\n# ffmpeg -i <è¾“å…¥è§†é¢‘> -b:v 1500k <è¾“å‡ºè§†é¢‘>\nffmpeg -i input.mp4 -b:v 1500k output.mp4\n```\n\n------\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**éŸ³é¢‘æ¯”ç‰¹ç‡ è½¬æ¢**</strong></font>\n\n```python\n-b:a 1500k   # å°†è§†é¢‘æ¯”ç‰¹ç‡ è½¬æ¢è‡³ 128kbps\n\n# ç¤ºä¾‹ï¼š\n# ffmpeg -i <è¾“å…¥éŸ³é¢‘> -b:v 1500k <è¾“å‡ºéŸ³é¢‘>   # å¯ä»¥æ˜¯éŸ³è§†é¢‘\nffmpeg -i input.mp4 -b:a 128k output.mp4\n```\n\n------\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**è§†é¢‘å¸§ç‡ è½¬æ¢**</strong></font>\n\n```python\n-r 30   # å°†è§†é¢‘å¸§ç‡ è½¬æ¢è‡³ 30å¸§/s\n\n# ç¤ºä¾‹ï¼š\n# ffmpeg -i <è¾“å…¥è§†é¢‘> -r 30 <è¾“å‡ºè§†é¢‘> \nffmpeg -i a.mp4 -r 30 b.mp4\n```\n\n------\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**éŸ³é¢‘é‡‡æ ·ç‡ è½¬æ¢**</strong></font>\n\n```python\n-ar 44100   # å°†éŸ³é¢‘é‡‡æ ·ç‡ è½¬æ¢è‡³ 44100HZ\n\n# ç¤ºä¾‹ï¼š\n# ffmpeg -i <è¾“å…¥éŸ³é¢‘> -ar 44100 <è¾“å‡ºéŸ³é¢‘>   # å¯ä»¥æ˜¯éŸ³è§†é¢‘\nffmpeg -i input.mp4 -ar 44100 output.mp4\n```\n\n------\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**éŸ³é¢‘å£°é“ è½¬æ¢**</strong></font>\n\n```python\n-ac 1   # å°†è§†é¢‘å£°é“ è½¬æ¢è‡³ 1é€šé“\n\n# ç¤ºä¾‹ï¼š\n# ffmpeg -i <è¾“å…¥éŸ³é¢‘> -ac 1 <è¾“å‡ºéŸ³é¢‘>   # å¯ä»¥æ˜¯éŸ³è§†é¢‘\nffmpeg -i input.mp4 -ac 1 output.mp4\n```\n\n------\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**æˆªå–æ—¶é•¿**</strong></font>\n\n```python\nffmpeg  -i input.mp4 -vcodec copy -acodec copy -ss 00:00:00 -to 00:15:00 input2.mp4 -y   # æˆªå–è§†é¢‘\n```\n\n------\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**Telegramç›´æµæ’­æ”¾æ”¯æŒç ç‡**</strong></font>\n\n```python\nffmpeg -i input.mp4 -r 25 -c:v libx264 -profile:v baseline -level 3.0 -b:v 800k  -b:a 128k -ac 1 -ar 44100 æ–°3_è½¬25å¸§.mp4\n```\n\n------\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**FFmpeg_ä»è§†é¢‘æˆªå–å›¾ç‰‡**</strong></font>\n\n```python\nffmpeg -ss <æˆªå–æ—¶é—´> -i <è¾“å…¥è§†é¢‘> -y -f image2 -vframes 1 <è¾“å‡ºå›¾ç‰‡>\n\nä¾‹å¦‚ï¼šffmpeg -ss 00:00:01 -i a.mp4 -y -f image2 -vframes 1 b.jpg\n```\n\n------\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**FFmpeg_æ·»åŠ å­—å¹•**</strong></font>\n\n```python\nffmpeg -i <è¾“å…¥è§†é¢‘> -i <è¾“å…¥å­—å¹•> -map 0:0 -map 0:1 -map 1 -c:a copy -c:v copy -c:s copy <è¾“å‡ºè§†é¢‘>\n\n# ä¾‹å¦‚: ffmpeg -i a.mp4 -i b.acc -map 0:0 -map 0:1 -map 1 -c:a copy -c:v copy -c:s copy c.mp4\n```\n\n------\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**FFmpeg_åˆå¹¶éŸ³é¢‘ã€è§†é¢‘**</strong></font>\n\n```python\nffmpeg -i <è¾“å…¥è§†é¢‘> -i <è¾“å…¥éŸ³é¢‘> -vcodec copy -acodec copy <åˆå¹¶åçš„è§†é¢‘>\n\n# ä¾‹å¦‚ï¼šffmpeg -i a.mp4 -i b.mav -vcodec copy -acodec copy c.mp4\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**FFmpeg_è§†é¢‘é¦–å¸§æ·»åŠ å°é¢å›¾ç‰‡**</strong></font>\n\n```python\nffmpeg -i <è¾“å…¥è§†é¢‘> -i <è¾“å…¥å›¾ç‰‡> -map 0 -map 1 -c copy -c:v:1 png -disposition:v:1 attached_pic <è¾“å‡ºè§†é¢‘>\n\n# ä¾‹å¦‚ï¼š ffmpeg -i a.mp4 -i b.png -map 0 -map 1 -c copy -c:v:1 png -disposition:v:1 attached_pic c.mp4\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**FFmpeg_è§†é¢‘æ·»åŠ æ°´å°**</strong></font>\n\n```python\nffmpeg -i v2.mp4 -i s_logo.png -filter_complex \"[1:v][0:v]scale2ref=iw*0.1:-1[logo1][base]; [base][logo1]overlay=W-(w+20):20[v]\" -map [v] -map 0:a -y -profile high -level 4.1 v3.mp4\n```\n\n------\n\n\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**FFmpegæˆªå–mp3æŒ‡å®šæ—¶é—´çš„å†…å®¹**</strong></font>\n\n```python\nffmpeg -i input.mp3 -ss hh:mm:ss -t hh:mm:ss -acodec copy output.mp3\n# å‚æ•°è¯´æ˜ï¼š\n# -ss : æŒ‡å®šä»é‚£è£¡å¼€å§‹\n# -t : æŒ‡å®šåˆ°é‚£è£¡ç»“æŸ\n# -acodec copy : ç¼–ç æ ¼å¼å’Œæ¥æºæ¡£æ¡‰ç›¸åŒï¼ˆå°±æ˜¯mp3ï¼‰\n\n# ä»¥ä¸‹ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘æƒ³æŠŠaa.mp3ä¸­çš„1åˆ†12ç§’åˆ°1åˆ†42ç§’çš„åœ°æ–¹åˆ‡å‡ºæ¥ï¼Œç„¶åå­˜æˆbb.mp3ï¼ŒæŒ‡ä»¤å¦‚ä¸‹\nffmpeg -i aa.mp3 -ss 00:01:12 -t 00:01:42 -acodec copy bb.mp3\n```\n","tags":["ffmpeg"],"categories":["_A4-FFmpeg","å‚æ•°è¯¦è§£"]},{"title":"selenium ç ´è§£ cloudflare 5ç§’éªŒè¯","url":"/2023/03/20/selenium-ç ´è§£-cloudflare-5ç§’éªŒè¯/","content":"\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**selenium ç ´è§£ cloudflare 5ç§’éªŒè¯**</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**cloudflare 5ç§’éªŒè¯ç ´è§£**</strong></font>\n\n##### <font color=#f26522 size=4 face=å®‹ä½“><strong>**1ã€åœ¨è¢«cloudflareä¿æŠ¤çš„ç½‘ç«™çˆ¬å–æ•°æ®çš„æ—¶å€™ï¼Œé¦–æ¬¡è¯·æ±‚ä¼šå‡ºç°503**</strong></font>\n\n<font color=red size=3 face=å®‹ä½“><strong>**ä¸æºå¸¦COOKIE å³å‡ºç°503**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**2ã€cookie å…·æœ‰æ—¶æ•ˆ(å…·ä½“æ—¶æ•ˆæœªæ›¾æµ‹è¯•)**</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**3ã€selenium æ— å¤´æ¨¡å¼è¢« cloudflare æ‹¿æäº†ï¼Œ**</strong></font>\n\n### æ ¹æ® https://zhuanlan.zhihu.com/p/542766089 åšæ–‡æŠ€æœ¯è®²è§£ï¼Œæ–¹æ³•æµ‹è¯•å¦‚ä¸‹\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**Undetected-chromedriver è¿‡ 5séªŒè¯**</strong></font>\n\n```\nimport undetected_chromedriver as uc\ndriver = uc.Chrome()\ndriver.get('https://nowsecure.nl')\n```\n\n### <font color=red size=4 face=å®‹ä½“><strong>**å®é™…æƒ…å†µï¼Œæˆ‘å‘ç°åœ¨é¦–æ¬¡ç™»å½•ä¹‹åï¼Œå–å¾— cookie å†æ¬¡ä½¿ç”¨ requests è®¿é—®æ—¶ï¼Œå³å¯æ­£å¸¸è·å–åˆ°æ•°æ®**</strong></font>\n\n##### ä½†æ˜¯ é‡ç‚¹æ¥äº† ï¼ï¼ï¼\n\n##### æˆ‘ä»¬å¹³å¸¸éƒ½æ˜¯åœ¨æœåŠ¡å™¨ä¸Šè·‘ python ä»£ç ï¼Œè€ŒæœåŠ¡å™¨ å½“ç„¶ç»å¤§å¤šæ•°æ˜¯ä¸ä¼šä½¿ç”¨æ˜¾ç¤ºå™¨çš„ï¼Œ è€Œ cloudflare å´åœ¨ JS ä¸­æ·»åŠ äº†æ£€æµ‹æ˜¾ç¤ºå™¨çš„ä»£ç ã€‚\n\n##### ç„¶åâ€¦. æ˜¯ä¸æ˜¯æœ‰ä¸€ç§ä¸œè¥¿ å¯ä»¥è®© python æš‚æ—¶ä½¿ç”¨ ä¸€ä¸ªä¼ªé€ çš„ æ˜¾ç¤ºå™¨ç¯å¢ƒï¼Ÿ\n\n<font color=red size=5 face=å®‹ä½“><strong>**è¿˜çœŸæœ‰ï¼ï¼ï¼**</strong></font>\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**`centos7`å®‰è£… è™šæ‹Ÿæ˜¾ç¤ºå™¨ç¯å¢ƒ Xvfb**</strong></font>\n\n```shell\nyum update\nyum install Xvfb\nyum install libXfont\nyum install xorg-x11-fonts*\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**æ­£å¸¸ä½¿ç”¨ä»£ç **</strong></font>\n\n```python\nimport time\nimport undetected_chromedriver as uc   # pip3 install undetected_chromedriver\nfrom pyvirtualdisplay import Display   # pip3 install pyvirtualdisplay\n\n\n# è™šæ‹Ÿæ˜¾ç¤ºå™¨è®¾ç½®\ndisplay = Display(visible=0, size=(1024, 768))\ndisplay.start()\n\n# # æ— å¤´æ¨¡å¼\n# chrome_options = uc.ChromeOptions()\n# chrome_options.add_argument(\"--no-sandbox\")\n# chrome_options.add_argument(\"--disable-dev-shm-usage\")\n# chrome_options.add_argument(\"--start-maximized\")\n# chrome_options.add_argument('--disable-popup-blocking')\n# chrome_options.add_argument('--headless')\n# chrome_options.add_argument('--no-sandbox')\n# chrome_options.add_argument('--disable-gpu')\n# driver = uc.Chrome(options=chrome_options)\n\n# æœ‰å¤´æ¨¡å¼\ndriver = uc.Chrome()\ndriver.get('è¯·æ±‚ç½‘å€')\ntime.sleep(5)\n\n# æ‰“å°ç½‘é¡µæºä»£ç \nprint(driver.page_source)\n\n# æ‰“å°cookies\nprint(driver.get_cookies())\n\n# é€€å‡ºæµè§ˆå™¨\ndriver.close()\ndriver.quit()\n\n# åœæ­¢è™šæ‹Ÿæ˜¾ç¤ºå™¨\ndisplay.stop()\n```\n","tags":["python","selenium","cloudflare 5ç§’ç›¾"],"categories":["_A7-é€†å‘","selenium"]},{"title":"Centos7ç³»ç»Ÿæ›´æ¢yumæºé•œåƒä¸ºé˜¿é‡Œäº‘é•œåƒï¼ˆä½¿ç”¨wgetï¼‰","url":"/2023/03/20/Centos7ç³»ç»Ÿæ›´æ¢yumæºé•œåƒä¸ºé˜¿é‡Œäº‘é•œåƒï¼ˆä½¿ç”¨wgetï¼‰/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**Centos7ç³»ç»Ÿæ›´æ¢yumæºé•œåƒä¸ºé˜¿é‡Œäº‘é•œåƒï¼ˆä½¿ç”¨wgetï¼‰**</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**1ã€å®‰è£…wget**</strong></font>\n\n```\nyum install -y wget\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**2ã€å¤‡ä»½æœåŠ¡å™¨åŸæœ‰çš„yumæºæ–‡ä»¶**</strong></font>\n\n```\nmv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**3ã€ä¸‹è½½é˜¿é‡Œäº‘é•œåƒæ–‡ä»¶**</strong></font>\n\n```\nwget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**4ã€æ¸…ç†ç¼“å­˜**</strong></font>\n\n```\nyum clean all\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**5ã€ç”Ÿæˆç¼“å­˜**</strong></font>\n\n```\nyum makecache\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>**6ã€æ›´æ–°æœ€æ–°æºè®¾ç½®**</strong></font>\n\n```\nyum update -y\n```\n","tags":["ç³»ç»Ÿ","è¿ç»´"],"categories":["_A3-linux","æº"]},{"title":"éå¸¸ä¸é”™çš„ 404 Error æºç ","url":"/2023/03/20/éå¸¸ä¸é”™çš„-404-Error-æºç /","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**éå¸¸ä¸é”™çš„ 404 Error æºç **</strong></font>\n\n<!--more-->\n\n```html\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n<head>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\n<title>404-å¯¹ä¸èµ·ï¼æ‚¨è®¿é—®çš„é¡µé¢ä¸å­˜åœ¨</title>\n<style type=\"text/css\">\n.head404{ width:580px; height:234px; margin:50px auto 0 auto; background:url(https://www.daixiaorui.com/Public/images/head404.png) no-repeat; }\n.txtbg404{ width:499px; height:169px; margin:10px auto 0 auto; background:url(https://www.daixiaorui.com/Public/images/txtbg404.png) no-repeat;}\n.txtbg404 .txtbox{ width:390px; position:relative; top:30px; left:60px;color:#eee; font-size:13px;}\n.txtbg404 .txtbox p {margin:5px 0; line-height:18px;}\n.txtbg404 .txtbox .paddingbox { padding-top:15px;}\n.txtbg404 .txtbox p a { color:#eee; text-decoration:none;}\n.txtbg404 .txtbox p a:hover { color:#FC9D1D; text-decoration:underline;}\n</style>\n</head>\n\n<body bgcolor=\"#494949\">\n    <div class=\"head404\"></div>\n    <div class=\"txtbg404\">\n  <div class=\"txtbox\">\n      <p>å¯¹ä¸èµ·ï¼Œæ‚¨è¯·æ±‚çš„é¡µé¢ä¸å­˜åœ¨ã€æˆ–å·²è¢«åˆ é™¤ã€æˆ–æš‚æ—¶ä¸å¯ç”¨</p>\n      <p class=\"paddingbox\">è¯·ç‚¹å‡»ä»¥ä¸‹é“¾æ¥ç»§ç»­æµè§ˆç½‘é¡µ</p>\n      <p>ã€‹<a style=\"cursor:pointer\" onclick=\"history.back()\">è¿”å›ä¸Šä¸€é¡µé¢</a></p>\n      <p>ã€‹<a href=\"https://www.daixiaorui.com\">è¿”å›ç½‘ç«™é¦–é¡µ</a></p>\n    </div>\n  </div>\n</body>\n</html>\n```\n\n![image-20230215210409562](https://s2.loli.net/2023/02/15/fYTaDKZgrhQsvjz.png)\n","tags":["html","æºç "],"categories":["_A2-å‰ç«¯","html"]},{"title":"å®‰è£…opencv-pythonæŠ¥é”™æˆ–è€…å¡ä½è§£å†³","url":"/2023/03/20/å®‰è£…opencv-pythonæŠ¥é”™æˆ–è€…å¡ä½è§£å†³/","content":"\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>å®‰è£…opencv-pythonæŠ¥é”™æˆ–è€…å¡ä½è§£å†³ï¼š</strong></font>\n\n<!--more-->\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>é”™è¯¯æç¤º:</strong></font>\n\n```shell\nPackage | è§£å†³ Could not build wheels for opencv-python which use PEP 517 and cannot be installed\n```\n\n\n\n#### <font color=#f26522 size=4 face=å®‹ä½“><strong>èƒŒæ™¯ï¼š</strong></font>\n\n<font color=#b0171f size=3 face=å®‹ä½“><strong>åœ¨nvidia ngcå¹³å°ä¸‹è½½docker imageï¼Œæ ¹æ®å®éªŒè¦æ±‚åœ¨ç¯å¢ƒé‡Œå®‰è£…opencvã€‚å› ä¸ºå½“å‰å®éªŒtensorflowè¦æ±‚ç‰ˆæœ¬è¾ƒä½ï¼Œæˆ‘ä¸‹è½½äº†æ¯”è¾ƒä¹…è¿œçš„ç‰ˆæœ¬é•œ</strong></font>\n\n#### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>é—®é¢˜ï¼š</strong></font>\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>é€šè¿‡pipå®‰è£…opencvï¼ŒæŒ‡ä»¤å¦‚ä¸‹ï¼š</strong></font>\n\n```\npip install opencv-python\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>å®‰è£…è¿‡ç¨‹çš„è¾“å‡ºï¼š</strong></font>\n\n```\nCollecting opencv-python\n  Downloading https://files.pythonhosted.org/packages/77/f5/49f034f8d109efcf9b7e98fbc051878b83b2f02a1c73f92bbd37f317288e/opencv-python-4.4.0.42.tar.gz (88.9MB)\n    100% |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 88.9MB 919kB/s\n  Installing build dependencies ... done\n  Getting requirements to build wheel ... done\n    Preparing wheel metadata ... done\nRequirement already satisfied: numpy>=1.13.1 in /usr/local/lib/python3.5/dist-packages (from opencv-python) (1.14.5)\nBuilding wheels for collected packages: opencv-python\n  Building wheel for opencv-python (PEP 517) ...\n```\n\n<font color=red size=4 face=å®‹ä½“><strong>PEP 517ä¿¡æ¯å‡ºç°åï¼Œè¿‡äº†å¾ˆé•¿æ—¶é—´ï¼Œå‡ºç°æŠ¥é”™ä¿¡æ¯ï¼š</strong></font>\n\n```\nConfiguring Project\n    Working directory:\n      /tmp/pip-install-zujf20md/opencv-python/_skbuild/linux-x86_64-3.6/cmake-build\n    Command:\n      cmake /tmp/pip-install-zujf20md/opencv-python/opencv -G 'Unix Makefiles' -DCMAKE_INSTALL_PREFIX:PATH=/tmp/pip-install-zujf20md/opencv-python/_skbuild/linux-x86_64-3.6/cmake-install -DPYTHON_EXECUTABLE:FILEPATH=/usr/bin/python -DPYTHON_VERSION_STRING:STRING=3.6.8 -DPYTHON_INCLUDE_DIR:PATH=/usr/include/python3.6m -DPYTHON_LIBRARY:FILEPATH=/usr/lib/x86_64-linux-gnu/libpython3.6m.so -DSKBUILD:INTERNAL=TRUE -DCMAKE_MODULE_PATH:PATH=/tmp/pip-build-env-tr73ewqw/overlay/lib/python3.6/site-packages/skbuild/resources/cmake -DPYTHON3_EXECUTABLE=/usr/bin/python -DPYTHON3_INCLUDE_DIR=/usr/include/python3.6m -DPYTHON3_LIBRARY=/usr/lib/x86_64-linux-gnu/libpython3.6m.so -DBUILD_opencv_python3=ON -DBUILD_opencv_python2=OFF -DBUILD_opencv_java=OFF -DOPENCV_PYTHON3_INSTALL_PATH=python -DINSTALL_CREATE_DISTRIB=ON -DBUILD_opencv_apps=OFF -DBUILD_opencv_freetype=OFF -DBUILD_SHARED_LIBS=OFF -DBUILD_TESTS=OFF -DBUILD_PERF_TESTS=OFF -DBUILD_DOCS=OFF -DCMAKE_BUILD_TYPE:STRING=Release\n\n  Copying files from CMake output\n  Traceback (most recent call last):\n    File \"/usr/local/lib/python3.6/dist-packages/pip/_vendor/pep517/_in_process.py\", line 207, in <module>\n      main()\n    File \"/usr/local/lib/python3.6/dist-packages/pip/_vendor/pep517/_in_process.py\", line 197, in main\n      json_out['return_val'] = hook(**hook_input['kwargs'])\n    File \"/usr/local/lib/python3.6/dist-packages/pip/_vendor/pep517/_in_process.py\", line 141, in build_wheel\n      metadata_directory)\n    File \"/usr/local/lib/python3.6/dist-packages/setuptools/build_meta.py\", line 209, in build_wheel\n      wheel_directory, config_settings)\n    File \"/usr/local/lib/python3.6/dist-packages/setuptools/build_meta.py\", line 194, in _build_with_temp_dir\n      self.run_setup()\n    File \"/usr/local/lib/python3.6/dist-packages/setuptools/build_meta.py\", line 237, in run_setup\n      self).run_setup(setup_script=setup_script)\n    File \"/usr/local/lib/python3.6/dist-packages/setuptools/build_meta.py\", line 142, in run_setup\n      exec(compile(code, __file__, 'exec'), locals())\n    File \"setup.py\", line 496, in <module>\n      main()\n    File \"setup.py\", line 289, in main\n      cmake_source_dir=cmake_source_dir,\n    File \"/tmp/pip-build-env-tr73ewqw/overlay/lib/python3.6/site-packages/skbuild/setuptools_wrap.py\", line 629, in setup\n      cmake_source_dir, skbuild_kw['cmake_install_dir'])\n    File \"setup.py\", line 381, in _classify_installed_files_override\n      with open('scripts/__init__.py', 'r') as custom_init:\n  FileNotFoundError: [Errno 2] No such file or directory: 'scripts/__init__.py'\n  ----------------------------------------\n  ERROR: Failed building wheel for opencv-python\n  Running setup.py clean for opencv-python\nFailed to build opencv-python\nERROR: Could not build wheels for opencv-python which use PEP 517 and cannot be installed directly\n```\n\n# <font color=#00b2c2 size=5 face=å®‹ä½“><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></font>\n\n```shell\npip install --upgrade pip setuptools wheel\n```\n\n<font color=#f26522 size=4 face=å®‹ä½“><strong>é‡è¯•å®‰è£…ï¼š</strong></font>\n\n```shell\npip install opencv-python\n```\n","tags":["é”™è¯¯","åº“"],"categories":["_A9-é”™è¯¯è§£å†³","python","pip install é”™è¯¯"]},{"title":"ubuntuæ­å»ºhexoåšå®¢æ•™ç¨‹(giteeç‰ˆæœ¬)","url":"/2023/03/19/ubuntuæ­å»ºhexoåšå®¢æ•™ç¨‹-giteeç‰ˆæœ¬/","content":"\n#### <font color=#00b2c2 size=5 face=å®‹ä½“><strong>**ç³»ç»Ÿ:ubuntu 20.04ï¼š**</strong></font>\n\n<!--more-->\n\n```\n# å®‰è£…nodejs npm\nsudo apt update\nsudo apt install nodejs npm\n\n# æŸ¥çœ‹ç‰ˆæœ¬\nnodejs --version\n```\n\n![](https://s2.loli.net/2023/02/14/SZ1iWgvyFUYn9t2.png)\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**1ã€æˆ‘ä»¬å°†ä¼šå®‰è£… Node.js ç‰ˆæœ¬ 14.x:**</strong></font>\n\n<font color=#f26522 size=3 face=å®‹ä½“><strong>**1ï¼‰ä»¥ sudo ç”¨æˆ·èº«ä»½è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œä¸‹è½½å¹¶æ‰§è¡Œ NodeSource å®‰è£…è„šæœ¬ï¼š**</strong></font>\n\n```\ncurl -sL https://deb.nodesource.com/setup_14.x | sudo -E bash -\n```\n\n<font color=#f26522 size=3 face=å®‹ä½“><strong>**è¿™ä¸ªè„šæœ¬å°†ä¼šæ·»åŠ  NodeSource çš„ç­¾å key åˆ°ä½ çš„ç³»ç»Ÿï¼Œåˆ›å»ºä¸€ä¸ª apt æºæ–‡ä»¶ï¼Œå®‰è£…å¿…å¤‡çš„è½¯ä»¶åŒ…ï¼Œå¹¶ä¸”åˆ·æ–° apt ç¼“å­˜ã€‚**</strong></font>\n\n<font color=#f26522 size=3 face=å®‹ä½“><strong>**å¦‚æœä½ éœ€è¦å¦å¤–çš„ Node.js ç‰ˆæœ¬ï¼Œä¾‹å¦‚`12.x`ï¼Œå°†`setup_14.x`ä¿®æ”¹ä¸º`setup_12.x`**</strong></font>\n\n<font color=#f26522 size=3 face=å®‹ä½“><strong>**2ï¼‰NodeSource æºå¯ç”¨æˆåŠŸåï¼Œå®‰è£… Node.js å’Œ npm:**</strong></font>\n\n```\nsudo apt install nodejs\n```\n\n<font color=#f26522 size=3 face=å®‹ä½“><strong>**nodejs è½¯ä»¶åŒ…åŒæ—¶åŒ…å«`node`å’Œ`npm`äºŒè¿›åˆ¶åŒ…ã€‚**</strong></font>\n\n<font color=#f26522 size=3 face=å®‹ä½“><strong>**3ï¼‰éªŒè¯ Node.js å’Œ npm æ˜¯å¦æ­£ç¡®å®‰è£…ã€‚æ‰“å°å®ƒä»¬çš„ç‰ˆæœ¬å·ï¼š**</strong></font>\n\n```\nnode --version\n```\n\n![image-20230214204628631](https://s2.loli.net/2023/02/14/WEa4s2cqZ8PVyBu.png)\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**2ã€è¿è¡Œ Git Bash å¹¶åˆ‡æ¢æ·˜å®é•œåƒã€‚**</strong></font>\n\n<font color=#f26522 size=3 face=å®‹ä½“><strong>**å¦‚æœä¸éœ€è¦åˆ‡æ¢æºï¼Œåˆ™å¯è·³è¿‡æ­¤æ­¥éª¤ï¼š**</strong></font>\n\n```\n# å…¨å±€åˆ‡æ¢å‘½ä»¤ï¼š\nnpm config set registry http://registry.npm.taobao.org/\n\n# æŸ¥çœ‹ç‰ˆæœ¬å‘½ä»¤ï¼š\nnpm get registry\n\n# åˆ‡å›å®˜æ–¹é•œåƒï¼š\nnpm config set registry http://www.npmjs.org\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**3ã€å®‰è£…HEXOç¨‹åº**</strong></font>\n\n```\nnpm install -g hexo\n\n# æŸ¥çœ‹ç‰ˆæœ¬ï¼š\nhexo v\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**4ã€åˆ›å»º hexo æ–‡ä»¶å¤¹**</strong></font>\n\n<font color=#f26522 size=3 face=å®‹ä½“><strong>**hexo æ–‡ä»¶å¤¹ï¼Œæ˜¯æœªæ¥åšå®¢è¿è½¬çš„ç›®æ ‡æ–‡ä»¶å¤¹ï¼Œå†™æ–‡ã€ä¸»é¢˜å®‰è£…ç­‰ç­‰éƒ½åœ¨è¿™é‡Œå®Œæˆã€‚**</strong></font>\n\n<font color=#f26522 size=3 face=å®‹ä½“><strong>**è¯·åœ¨æŒ‡å®šè·¯å¾„æ–°å»ºæ–‡ä»¶å¤¹ï¼ˆè‹±æ–‡åï¼‰ï¼Œå³é”®ç©ºç™½å¤„ï¼Œé€‰æ‹© Git Bash hereï¼Œè¾“å…¥æŒ‡ä»¤ï¼š**</strong></font>\n\n```\nhexo init\n```\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**5ã€å®‰è£…ä¸»é¢˜**</strong></font>\n\n<font color=#f26522 size=3 face=å®‹ä½“><strong>**ç°åœ¨è¿™ä¸ªæ˜¯å¿…é¡»è¿‡ç¨‹äº†ï¼Œåæ­£è‡ªå¸¦çš„ä¸»é¢˜ä¹Ÿæ²¡äººç”¨ä¸æ˜¯ä¹ˆï¼Ÿ**</strong></font>\n\n<font color=#f26522 size=3 face=å®‹ä½“><strong>**6.1 åœ¨ theme æ–‡ä»¶å¤¹ä¸‹ï¼Œå»ºç«‹ä½ è¦ä½¿ç”¨çš„ä¸»é¢˜çš„åŒåæ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚ theme/next**</strong></font>\n\n<font color=#f26522 size=3 face=å®‹ä½“><strong>**6.2 cd åˆ° theme æ–‡ä»¶å¤¹ï¼Œæˆ–è€…ç›´æ¥åœ¨ theme æ–‡ä»¶å¤¹é‡Œå³é”®è¿è¡Œ Git Bashã€‚**</strong></font>\n\n<font color=#f26522 size=3 face=å®‹ä½“><strong>**6.3 è¾“å…¥è·å–ä¸»é¢˜çš„å‘½ä»¤ï¼š**</strong></font>\n\n```\ngit clone -b theme https://github.com/niemingzhao/niemingzhao.github.io.git themes/default\n```\n\n![img](https://s2.loli.net/2023/02/14/vC7O9xZuoVTRJht.png)\n\n<font color=red size=4 face=å®‹ä½“><strong>**æ³¨æ„ï¼šåœ¨ä¿®æ”¹æ¨¡æ¿çš„æ—¶å€™ï¼Œé™¤äº†éœ€è¦åˆ°ä¸»é…ç½®ä¸‹æ·»åŠ æ¨¡æ¿åä»¥å¤–ï¼Œè¿˜éœ€è¦å°†ä¸»é¢˜ä¸‹çš„é…ç½®æ–‡ä»¶ä¿®æ”¹ä¸º _config.yml**</strong></font>\n\n<font color=#00b2c2 size=5 face=å®‹ä½“><strong>**6ã€Hexo ä¸»è¦å‘½ä»¤**</strong></font>\n\n```\nhexo cleanï¼šæ¸…é™¤ public é™æ€ç›®å½•\nhexo sï¼šæœ¬åœ°å¯åŠ¨é»˜è®¤æŒ‡å®š 4000 ç«¯å£é¢„è§ˆ (s æ˜¯ server æ˜¯ç¼©å†™ ä¹Ÿå°±æ˜¯å¯åŠ¨ hexo æœåŠ¡)\nhexo gï¼šç”Ÿæˆ public é™æ€ç›®å½•\nhexo dï¼š éƒ¨ç½²\n```\n\n<font color=#00b2c2 size=5 face=\"å®‹ä½“\"><strong>**7ã€Hexo æ’ä»¶å®‰è£…**</strong></font>\n\n```bash\nnpm install hexo-generator-search --save\n# è¯„è®ºæ’ä»¶\nnpm i --save gitalk\n\n# RSSæ’ä»¶\nnpm install --save hexo-generator-feed\n\n# å®‰è£… æ–‡ç« è½¬æ¢äºŒç»´ç æ’ä»¶\nnpm install --save hexo-helper-qrcode\n\n# giteeç‰ˆæœ¬æ’ä»¶å®‰è£…\nnpm install --save gitment\n```\n\n8ã€å…³äº\n\n![image-20230320031831877](https://s2.loli.net/2023/03/20/KEzIYXph6gvs1iN.png)\n","tags":["æ•™ç¨‹","git","Hexo"],"categories":["_A8-å·¥å…·","Hexo"]},{"title":"Git åŸºç¡€æ“ä½œæ‰‹å†Œ","url":"/2023/03/19/Git-åŸºç¡€æ“ä½œæ‰‹å†Œ/","content":"\n\n### git åŸºç¡€æ“ä½œæ‰‹å†Œ\n<!--more-->\n```shell\n# ç”¨æˆ·ä¿¡æ¯\ngit config --global user.name \"tttvin\"\ngit config --global user.email \"xxxxxx@qq.com\"\n\n# gitee\ngit config --global user.name \"tttvin\"\ngit config --global user.email \"tttvin@qq.com\"\n\n# åˆ›å»ºæœ¬åœ°ssh key\nssh-keygen -t rsa -C \"tttvin@qq.com\"\n\n# åˆå§‹åŒ–ä»“åº“\ngit init \n\n# æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº\ngit add . \n\n# å°†æš‚å­˜åŒºå†…å®¹æ·»åŠ åˆ°ä»“åº“ä¸­ã€‚\ngit commit\ngit commit -m fix\ngit commit -m \"init\"\n\n\n# å…³äºæ¯æ¬¡push éƒ½éœ€è¦è¾“å…¥å¯†ç çš„é—®é¢˜\ngit config --global credential.helper store\ngit pull /git push (è¿™é‡Œéœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œä»¥åå°±ä¸ç”¨å•¦)\n```\n\néƒ¨ç½²sshå…¬é’¥\n\n```shell\nssh-keygen -t ed25519 -C \"xxxxxxxx@qq.com\"\n\ncat ~/.ssh/id_ed25519.pub\n```\n\n","tags":["æ•™ç¨‹"],"categories":["Git"]}]